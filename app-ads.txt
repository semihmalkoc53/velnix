window.__require = function t(e, n, o) {
    function i(a, s) {
        if (!n[a]) {
            if (!e[a]) {
                var c = a.split("/");
                if (c = c[c.length - 1], !e[c]) {
                    var l = "function" == typeof __require && __require;
                    if (!s && l)
                        return l(c, !0);
                    if (r)
                        return r(c, !0);
                    throw new Error("Cannot find module '" + a + "'")
                }
            }
            var u = n[a] = {
                exports: {}
            };
            e[a][0].call(u.exports, function (t) {
                return i(e[a][1][t] || t)
            }, u, u.exports, t, e, n, o)
        }
        return n[a].exports
    }
    for (var r = "function" == typeof __require && __require, a = 0; a < o.length; a++)
        i(o[a]);
    return i
}
({
    AStarGrid: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "08e39yuR7dK4JowCQ81ZpMn", "AStarGrid"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("./AStarNode"),
            i = function () {
                function t(t, e) {
                    this._height = e,
                    this._width = t,
                    this._nodes = [];
                    for (var n = 0; n < e; n++) {
                        this._nodes[n] = [];
                        for (var i = 0; i < t; i++)
                            this._nodes[n][i] = new o.default(i, n)
                    }
                }
                return t.prototype.getNode = function (t, e) {
                    return this._nodes[e][t]
                },
                t.prototype.setEndNode = function (t, e) {
                    this._endNode = this._nodes[e][t]
                },
                t.prototype.setStartNode = function (t, e) {
                    this._startNode = this._nodes[e][t]
                },
                t.prototype.setWalkable = function (t, e, n) {
                    this._nodes[e][t].walkable = n
                },
                t.prototype.isWalkable = function (t, e) {
                    return this._nodes[e][t].walkable
                },
                Object.defineProperty(t.prototype, "endNode", {
                    get: function () {
                        return this._endNode
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "height", {
                    get: function () {
                        return this._height
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "width", {
                    get: function () {
                        return this._width
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "startNode", {
                    get: function () {
                        return this._startNode
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                t
            }
            ();
            n.default = i,
            cc._RF.pop()
        }, {
            "./AStarNode": "AStarNode"
        }
    ],
    AStarNode: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "b2a08HIujZF3YLOVoTJx9ZK", "AStarNode"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = function () {
                return function (t, e) {
                    this.walkable = !0,
                    this.costMultiplier = 1,
                    this.x = t,
                    this.y = e
                }
            }
            ();
            n.default = o,
            cc._RF.pop()
        }, {}
    ],
    AStar: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "1fa07sPzzdNLLi6fdzfoiaM", "AStar"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = function () {
                function t(t, e) {
                    void 0 === e && (e = !1),
                    this._grid = null,
                    this._straightCost = 1,
                    this._diagCost = Math.SQRT2,
                    this._diagEnabled = !1,
                    this._grid = t,
                    this._diagEnabled = e,
                    this._heuristic = this.diagonal
                }
                return t.prototype.setGrid = function (t) {
                    this._grid = t
                },
                t.prototype.searchPath = function (t, e) {
                    var n = this._grid;
                    return !!n && (n.setStartNode(t.x, t.y), n.setEndNode(e.x, e.y), this.search())
                },
                t.prototype.search = function () {
                    if (null == this._grid)
                        return !1;
                    this._open = [],
                    this._closed = [];
                    var t = this._grid.startNode;
                    t.g = 0,
                    t.h = this._heuristic(t),
                    t.f = t.g + t.h;
                    for (var e = this._grid.endNode, n = t; n != e; ) {
                        for (var o = Math.max(0, n.y - 1), i = Math.min(this._grid.height - 1, n.y + 1), r = Math.max(0, n.x - 1), a = Math.min(this._grid.width - 1, n.x + 1), s = o; s <= i; s++)
                            for (var c = r; c <= a; c++) {
                                var l;
                                if (this._diagEnabled) {
                                    if ((l = this._grid.getNode(c, s)) == n || !l.walkable)
                                        continue
                                } else {
                                    if (c != n.x && s != n.y)
                                        continue;
                                    if ((l = this._grid.getNode(c, s)) == n || !l.walkable || !this._grid.getNode(l.x, n.y).walkable || !this._grid.getNode(n.x, l.y).walkable)
                                        continue
                                }
                                var u = this._straightCost;
                                n.x != l.x && n.y != l.y && (u = this._diagCost);
                                var d = n.g + u * l.costMultiplier,
                                p = this._heuristic(l),
                                h = d + p;
                                this.isOpen(l) || this.isClosed(l) ? l.f > h && (l.f = h, l.g = d, l.h = p, l.parent = n) : (l.f = h, l.g = d, l.h = p, l.parent = n, this._open.push(l))
                            }
                        if (this._closed.push(n), 0 == this._open.length)
                            return !1;
                        for (var f = this._open.length, _ = 0; _ < f; _++)
                            for (var m = _ + 1; m < f; m++)
                                if (this._open[_].f > this._open[m].f) {
                                    var g = this._open[_];
                                    this._open[_] = this._open[m],
                                    this._open[m] = g
                                }
                        n = this._open.shift()
                    }
                    return this.buildPath(),
                    !0
                },
                t.prototype.buildPath = function () {
                    for (var t = 1, e = this._grid, n = e.endNode; n != e.startNode; )
                        n = n.parent, t++;
                    var o = new Array(t);
                    for (n = e.endNode, o[--t] = n; n != e.startNode; )
                        n = n.parent, o[--t] = n;
                    this._path = o
                },
                Object.defineProperty(t.prototype, "path", {
                    get: function () {
                        return this._path
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                t.prototype.isOpen = function (t) {
                    for (var e = 0; e < this._open.length; e++)
                        if (this._open[e] == t)
                            return !0;
                    return !1
                },
                t.prototype.isClosed = function (t) {
                    for (var e = 0; e < this._closed.length; e++)
                        if (this._closed[e] == t)
                            return !0;
                    return !1
                },
                t.prototype.manhattan = function (t) {
                    return Math.abs(t.x - this._grid.endNode.x) * this._straightCost + Math.abs(t.y + this._grid.endNode.y) * this._straightCost
                },
                t.prototype.euclidian = function (t) {
                    var e = t.x - this._grid.endNode.x,
                    n = t.y - this._grid.endNode.y;
                    return Math.sqrt(e * e + n * n) * this._straightCost
                },
                t.prototype.diagonal = function (t) {
                    var e = Math.abs(t.x - this._grid.endNode.x),
                    n = Math.abs(t.y - this._grid.endNode.y),
                    o = Math.min(e, n),
                    i = e + n;
                    return this._diagCost * o + this._straightCost * (i - 2 * o)
                },
                Object.defineProperty(t.prototype, "visited", {
                    get: function () {
                        return this._closed.concat(this._open)
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                t
            }
            ();
            n.default = o,
            cc._RF.pop()
        }, {}
    ],
    ActionExt: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "9922aWM67NDmqzuVIbTUmu2", "ActionExt");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("./utils/Mathf"),
            r = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.update = function (t) {
                    this.getTarget().active = !1
                },
                e.prototype.reverse = function () {
                    return new a
                },
                e.prototype.clone = function () {
                    return new e
                },
                e
            }
            (cc.ActionInstant);
            n.NodeHide = r;
            var a = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.update = function (t) {
                    this.getTarget().active = !1
                },
                e.prototype.reverse = function () {
                    return new r
                },
                e.prototype.clone = function () {
                    return new e
                },
                e
            }
            (cc.ActionInstant);
            n.NodeShow = a;
            var s = function (t) {
                return Math.round(t).toString()
            },
            c = function (t) {
                function e(e, n, o, i) {
                    var r = t.call(this) || this;
                    return r.m_from = n,
                    r.m_to = o,
                    r.m_formater = i || s,
                    r.initWithDuration(e),
                    r
                }
                return o(e, t),
                e.prototype.initWithDuration = function (e) {
                    return !!t.prototype.initWithDuration.call(this, e)
                },
                e.prototype.startWithTarget = function (e) {
                    t.prototype.startWithTarget.call(this, e),
                    this.m_label || (this.m_label = e.getComponent(cc.Label))
                },
                e.prototype.update = function (t) {
                    if (this.m_label) {
                        t = this._computeEaseTime(t);
                        var e = i.default.Lerp(this.m_from, this.m_to, t);
                        this.m_label.string = this.m_formater(e)
                    }
                },
                e
            }
            (cc.ActionInterval);
            n.NumberTo = c;
            var l = function (t) {
                function e(e, n) {
                    var o = t.call(this) || this;
                    return o.m_str = n,
                    o.initWithDuration(e),
                    o
                }
                return o(e, t),
                e.prototype.initWithDuration = function (e) {
                    return !!t.prototype.initWithDuration.call(this, e)
                },
                e.prototype.startWithTarget = function (e) {
                    t.prototype.startWithTarget.call(this, e),
                    this.m_label || (this.m_label = e.getComponent(cc.Label))
                },
                e.prototype.update = function (t) {
                    if (this.m_label) {
                        t = this._computeEaseTime(t);
                        var e = Math.round(t * this.m_str.length);
                        this.m_label.string = this.m_str.substr(0, e)
                    }
                },
                e
            }
            (cc.ActionInterval);
            n.StringOneByOne = l;
            var u = function (t) {
                function e(e, n, o) {
                    var i = t.call(this) || this;
                    return i.m_from = n,
                    i.m_to = o,
                    i.initWithDuration(e),
                    i
                }
                return o(e, t),
                e.prototype.initWithDuration = function (e) {
                    return !!t.prototype.initWithDuration.call(this, e)
                },
                e.prototype.startWithTarget = function (e) {
                    t.prototype.startWithTarget.call(this, e),
                    this.m_sprite || (this.m_sprite = e.getComponent(cc.Sprite))
                },
                e.prototype.update = function (t) {
                    this.m_sprite && (t = this._computeEaseTime(t), this.m_sprite.fillRange = i.default.Lerp(this.m_from, this.m_to, t))
                },
                e
            }
            (cc.ActionInterval);
            n.FillRangeTo = u;
            var d = function (t) {
                function e(e, n, o) {
                    var i = t.call(this) || this;
                    return i.m_value = cc.Vec2.ZERO,
                    i.m_from = n,
                    i.m_to = o,
                    i.initWithDuration(e),
                    i
                }
                return o(e, t),
                e.prototype.initWithDuration = function (e) {
                    return !!t.prototype.initWithDuration.call(this, e)
                },
                e.prototype.startWithTarget = function (e) {
                    t.prototype.startWithTarget.call(this, e)
                },
                e.prototype.update = function (t) {
                    var e = this.getTarget();
                    e && (t = this._computeEaseTime(t), this.m_from.lerp(this.m_to, t, this.m_value), e.setContentSize(this.m_value.x, this.m_value.y))
                },
                e
            }
            (cc.ActionInterval);
            n.SizeTo = d;
            var p = function (t) {
                function e(e, n, o) {
                    var i = t.call(this) || this;
                    return i.m_from = n,
                    i.m_to = o,
                    i.initWithDuration(e),
                    i
                }
                return o(e, t),
                e.prototype.initWithDuration = function (e) {
                    return !!t.prototype.initWithDuration.call(this, e)
                },
                e.prototype.startWithTarget = function (e) {
                    t.prototype.startWithTarget.call(this, e),
                    this.m_camera || (this.m_camera = e.getComponent(cc.Camera))
                },
                e.prototype.update = function (t) {
                    this.m_camera && (t = this._computeEaseTime(t), this.m_camera.zoomRatio = i.default.Lerp(this.m_from, this.m_to, t))
                },
                e
            }
            (cc.ActionInterval);
            n.ZoomRatioTo = p;
            var h = function (t) {
                function e(e, n, o, i, r) {
                    var a = t.call(this) || this;
                    return a.m_type = e,
                    a.m_fieldName = n,
                    a.m_from = i,
                    a.m_to = r,
                    a.initWithDuration(o),
                    a
                }
                return o(e, t),
                e.prototype.initWithDuration = function (e) {
                    return !!t.prototype.initWithDuration.call(this, e)
                },
                e.prototype.startWithTarget = function (e) {
                    t.prototype.startWithTarget.call(this, e),
                    this.m_component || (this.m_component = e.getComponent(this.m_type), null == this.m_component[this.m_fieldName] && (this.m_component = null))
                },
                e.prototype.update = function (t) {
                    this.m_component && (t = this._computeEaseTime(t), this.m_component[this.m_fieldName] = i.default.Lerp(this.m_from, this.m_to, t))
                },
                e
            }
            (cc.ActionInterval);
            n.PropertyTo = h,
            cc._RF.pop()
        }, {
            "./utils/Mathf": "Mathf"
        }
    ],
    AdvInstOrBanner: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "69e68DcJT5HIZ8C8gO9SJvw", "AdvInstOrBanner");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/mgr/mgrAdv"),
            r = t("../extensions/MsgHandler"),
            a = t("../extensions/BaseConst"),
            s = t("../GameConfig"),
            c = function (t) {
                function e(e, n) {
                    var o,
                    i = t.call(this) || this;
                    return i._bBanner = !1,
                    i._bFocus = !0,
                    i._bFirst = !0,
                    i._instAdvName = e,
                    i._bannerAdvName = n,
                    i.registerListeners(((o = {})[a.BASE_MSG.ADV_SHOW_FAIL] = i.onMsgAdvShowFail.bind(i), o)),
                    i.startProcMsg(),
                    i
                }
                return o(e, t),
                e.prototype.onMsgAdvShowFail = function (t) {
                    t.advName == this._instAdvName && (this._bBanner = !0, this._bFocus && i.default.dispatchAdv(this._bannerAdvName))
                },
                e.prototype.onFocus = function (t) {
                    this._bFocus = t,
                    this._bFirst ? (this._bFirst = !1, i.default.dispatchAdv(this._instAdvName) && !s.default.gray_mode || (this.stopProcMsg(), this._bBanner = !0, i.default.dispatchAdv(this._bannerAdvName))) : this._bBanner && (t ? i.default.dispatchAdv(this._bannerAdvName) : i.default.closeAdv(this._bannerAdvName))
                },
                e.prototype.dispose = function () {
                    this.stopProcMsg()
                },
                e
            }
            (r.default);
            n.default = c,
            cc._RF.pop()
        }, {
            "../GameConfig": "GameConfig",
            "../extensions/BaseConst": "BaseConst",
            "../extensions/MsgHandler": "MsgHandler",
            "../extensions/mgr/mgrAdv": "mgrAdv"
        }
    ],
    AdvMode: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "c3e494P9XlIY56vzYmfbxJ+", "AdvMode");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/widget/SSprite"),
            r = t("../extensions/widget/SLabel"),
            a = function (t) {
                function e(e, n, o) {
                    var a = t.call(this, "advToggle") || this;
                    a.setContentSize(220, 30);
                    var s = new i.default("Bg", "texture/icon/gou_off", cc.Sprite.SizeMode.TRIMMED);
                    s.setParent(a),
                    s.x = -86;
                    var c = new i.default("mark", "texture/icon/gou_on", cc.Sprite.SizeMode.TRIMMED);
                    c.setParent(a),
                    c.x = -86;
                    var l = new r.default("label", 22, null, 32);
                    l.setParent(a),
                    l.x = -64,
                    l.setAnchorPoint(0, .5),
                    l.string = o,
                    l.opacity = 150;
                    var u = a.addComponent(cc.Toggle);
                    return u.transition = cc.Button.Transition.NONE,
                    u.checkMark = c.sprite,
                    e.node.active = !1,
                    a.on("toggle", function () {
                        var t = u.isChecked;
                        e.node.active = !t,
                        n.node.active = t
                    }),
                    a
                }
                return o(e, t),
                e.prototype.dispose = function () {
                    this.destroy()
                },
                e
            }
            (cc.Node);
            n.default = a,
            cc._RF.pop()
        }, {
            "../extensions/widget/SLabel": "SLabel",
            "../extensions/widget/SSprite": "SSprite"
        }
    ],
    AdvOrShare: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "95940bWxhBO4KxrPBrMybxs", "AdvOrShare");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/MsgHandler"),
            r = t("../extensions/mgr/mgrAdv"),
            a = t("../extensions/mgr/mgrSdk"),
            s = t("../extensions/utils/Mathf"),
            c = t("../extensions/sdk/GameStatistics"),
            l = t("../manager/mgrAlert"),
            u = t("../extensions/BaseConst"),
            d = 0,
            p = function (t) {
                function e(e, n, o) {
                    var i,
                    r = t.call(this) || this;
                    return r._advName = e,
                    r._onSuccess = n,
                    r._privateId = (d++).toString(),
                    r.registerListeners(((i = {})[u.BASE_MSG.ADV_SHOW_SUC] = r.onMsgAdvShowSuc.bind(r), i[u.BASE_MSG.SDK_SHARE_SUC] = r.onMsgShareSuc.bind(r), i)),
                    r.startProcMsg(),
                    r.isAdv = !(s.default.randomEnable(a.default.COP.share_rate) && a.default.isShareEnabled),
                    r.isAdv || o.switchSprite(1),
                    r
                }
                return o(e, t),
                e.prototype.dispose = function () {
                    this.stopProcMsg()
                },
                e.prototype.onMsgAdvShowSuc = function (t) {
                    t.advName == this._advName && (this.stopProcMsg(), this._onSuccess())
                },
                e.prototype.onMsgShareSuc = function (t) {
                    if (t == this._privateId) {
                        this.stopProcMsg(),
                        this._onSuccess();
                        var e = r.default.getAdvDb(this._advName);
                        e.statistics && c.default.onCommonEventTwo("shared successfully", e.statistics)
                    }
                },
                e.prototype.request = function () {
                    if (this.isAdv)
                        r.default.dispatchAdv(this._advName) || l.default.alertText("ad play failed, try again later.");
                    else if (a.default.isShareEnabled) {
                        a.default.share(this._privateId);
                        var t = r.default.getAdvDb(this._advName);
                        t.statistics && c.default.onCommonEventTwo("share", t.statistics)
                    }
                },
                e
            }
            (i.default);
            n.default = p,
            cc._RF.pop()
        }, {
            "../extensions/BaseConst": "BaseConst",
            "../extensions/MsgHandler": "MsgHandler",
            "../extensions/mgr/mgrAdv": "mgrAdv",
            "../extensions/mgr/mgrSdk": "mgrSdk",
            "../extensions/sdk/GameStatistics": "GameStatistics",
            "../extensions/utils/Mathf": "Mathf",
            "../manager/mgrAlert": "mgrAlert"
        }
    ],
    Animation: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "0036c+TJu1JMqSu0hEUQvJz", "Animation");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__decorate || function (t, e, n, o) {
                var i,
                r = arguments.length,
                a = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(t, e, n, o);
                else
                    for (var s = t.length - 1; s >= 0; s--)
                        (i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, n, a) : i(e, n)) || a);
                return r > 3 && a && Object.defineProperty(e, n, a),
                a
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r = t("./ViewBase"),
            a = t("../AsyncObject"),
            s = t("../mgr/mgrPanel"),
            c = t("../_G"),
            l = function (t) {
                function e(e) {
                    var n = t.call(this) || this;
                    return n.resourceName = null,
                    n.resourceName = e,
                    n
                }
                return o(e, t),
                e.prototype.onCreateComplete = function () {
                    if (this.m_anim = this.resNode.getComponent(cc.Animation) || this.resNode.getComponentInChildren(cc.Animation), this.m_anim) {
                        var t = this.m_anim.getClips();
                        t && t.length > 0 && (this.m_anim._defaultClip = t[0])
                    } else
                        cc.error("cannot find animation!" + this.resourceName)
                },
                e.prototype.reuse = function () {
                    this.tryCreate(),
                    this.show()
                },
                e.prototype.unuse = function () {
                    this.removeFromParent(),
                    this.hide(),
                    this.clearDelayCalls(),
                    this.m_anim && this.m_anim.stop()
                },
                e.prototype.play = function (t, e, n, o) {
                    if (void 0 === o && (o = s.PANEL_LAYER.TIP), this.m_anim.play(), t) {
                        var i = s.default.getLayerNode(o);
                        this.setParent(i),
                        this.setPosition(i.convertToNodeSpaceAR(t))
                    }
                    e && this.m_anim.scheduleOnce(this.stopAndPutback.bind(this, n), e)
                },
                e.prototype.stopAndPutback = function (t) {
                    t ? this.m_anim.scheduleOnce(this.putBack.bind(this), t) : this.putBack()
                },
                e.prototype.stop = function () {
                    this.m_anim.stop()
                },
                e.prototype.putBack = function () {
                    c.default.poolManager.put(this)
                },
                i([a.default.WaitForLoaded(4)], e.prototype, "play", null),
                i([a.default.WaitForLoaded(1)], e.prototype, "stopAndPutback", null),
                i([a.default.WaitForLoaded(0)], e.prototype, "stop", null),
                e
            }
            (r.default);
            n.default = l,
            cc._RF.pop()
        }, {
            "../AsyncObject": "AsyncObject",
            "../_G": "_G",
            "../mgr/mgrPanel": "mgrPanel",
            "./ViewBase": "ViewBase"
        }
    ],
    AsyncObject: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "ed6865h7IRMgIaH7RxQd65O", "AsyncObject");
            var o = this && this.__awaiter || function (t, e, n, o) {
                return new(n || (n = Promise))(function (i, r) {
                    function a(t) {
                        try {
                            c(o.next(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function s(t) {
                        try {
                            c(o.throw(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function c(t) {
                        t.done ? i(t.value) : new n(function (e) {
                            e(t.value)
                        }).then(a, s)
                    }
                    c((o = o.apply(t, e || [])).next())
                })
            },
            i = this && this.__generator || function (t, e) {
                var n,
                o,
                i,
                r,
                a = {
                    label: 0,
                    sent: function () {
                        if (1 & i[0])
                            throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw : s(1),
                    return : s(2)
                },
                "function" == typeof Symbol && (r[Symbol.iterator] = function () {
                    return this
                }),
                r;
                function s(t) {
                    return function (e) {
                        return c([t, e])
                    }
                }
                function c(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done)
                                return i;
                            switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                o = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1],
                                    i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2],
                                    a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            o = 0
                        }
                    finally {
                        n = i = 0
                    }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r = t("./mgr/mgrRes"),
            a = function () {
                function t(t) {
                    this.delayCalls = [],
                    this.context = null,
                    this.context = t,
                    this._isDisposed = !1,
                    this._isLoaded = !1,
                    this._isLoading = !1
                }
                return Object.defineProperty(t.prototype, "isDisposed", {
                    get: function () {
                        return this._isDisposed
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "isLoaded", {
                    get: function () {
                        return this._isLoaded
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "isLoading", {
                    get: function () {
                        return this._isLoading
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                t.prototype.setContext = function (t) {
                    this.context = t
                },
                t.prototype.create = function (t) {
                    return void 0 === t && (t = !1),
                    o(this, void 0, void 0, function () {
                        var e,
                        n = this;
                        return i(this, function (o) {
                            if (this._isLoaded)
                                return [2];
                            if (this._isLoading)
                                return [2];
                            if (!this.resourceName) {
                                if (cc.error("AsyncObject.create: can't find resourceName."), t)
                                    throw "resourceName is empty.";
                                return [2]
                            }
                            return this._isLoading = !0,
                            (e = r.default.tryLoadRes(this.resourceName, this.resourceType)) ? this.onResLoaded(e) : r.default.loadRes(this.resourceName, this.resourceType, function (e, o) {
                                if (o)
                                    n.onResLoaded(o);
                                else if (n._isLoading = !1, n.onResourceLoadedFail(), t)
                                    throw "load [" + n.resourceName + "] fail."
                            }),
                            [2]
                        })
                    })
                },
                t.prototype.onResLoaded = function (t) {
                    this._isLoading = !1,
                    this._isDisposed || (this._isLoaded = !0, this.onResourceLoaded(t), this._isDisposed || this.processDelayCalls())
                },
                t.prototype.tryCreate = function () {
                    this._isDisposed || this._isLoaded || this._isLoading || this.create()
                },
                t.prototype.onResourceLoadedFail = function () {},
                t.prototype.pushDelayCall = function (t, e) {
                    this.delayCalls.push({
                        methodName: t,
                        params: e
                    })
                },
                t.prototype.callIfLoaded = function (t) {
                    this.isDisposed || (this.isLoaded ? this.callDelayFunc(t) : this.pushDelayCall("callDelayFunc", [t]))
                },
                t.prototype.callDelayFunc = function (t) {
                    t && t()
                },
                t.prototype.processDelayCalls = function () {
                    var t = this.delayCalls.length;
                    if (t > 0) {
                        for (var e = 0; e < t; e++) {
                            var n = this.delayCalls[e];
                            this[n.methodName].apply(this, n.params)
                        }
                        this.delayCalls = []
                    }
                },
                t.prototype.clearDelayCalls = function () {
                    this.delayCalls.length > 0 && (this.delayCalls = [])
                },
                t.prototype.dispose = function () {
                    this._isDisposed ? cc.warn("AsyncObject has already disposed. resourceName:", this.resourceName) : (this._isDisposed = !0, this._isLoaded = !1, this.delayCalls = null)
                },
                t.WaitForLoaded = function (t, e) {
                    return void 0 === t && (t = -1),
                    void 0 === e && (e = !1),
                    function (n, o, i) {
                        var r = i.value,
                        a = function (t, n) {
                            e ? cc.warn("wait the object load finish before call " + o) : t.pushDelayCall(o, n)
                        };
                        switch (t) {
                        case 0:
                            i.value = function () {
                                if (!this.isDisposed)
                                    return this.isLoaded ? r.apply(this) : void a(this, [])
                            };
                            break;
                        case 1:
                            i.value = function (t) {
                                if (!this.isDisposed)
                                    return this.isLoaded ? r.call(this, t) : void a(this, [t])
                            };
                            break;
                        case 2:
                            i.value = function (t, e) {
                                if (!this.isDisposed)
                                    return this.isLoaded ? r.call(this, t, e) : void a(this, [t, e])
                            };
                            break;
                        case 3:
                            i.value = function (t, e, n) {
                                if (!this.isDisposed)
                                    return this.isLoaded ? r.call(this, t, e, n) : void a(this, [t, e, n])
                            };
                            break;
                        default:
                            i.value = function () {
                                for (var t = [], e = 0; e < arguments.length; e++)
                                    t[e] = arguments[e];
                                if (!this.isDisposed)
                                    return this.isLoaded ? r.call.apply(r, [this].concat(t)) : void a(this, t)
                            }
                        }
                    }
                },
                t
            }
            ();
            n.default = a,
            cc._RF.pop()
        }, {
            "./mgr/mgrRes": "mgrRes"
        }
    ],
    Attribute: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "22940pvGM9IAJasndRPLDff", "Attribute"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o,
            i = t("../extensions/module/BaseFacade"),
            r = t("../generate/db");
            (function (t) {
                t[t.NUMBER = 0] = "NUMBER",
                t[t.RATE = 1] = "RATE"
            })(o = n.ATTR_TYPE || (n.ATTR_TYPE = {}));
            var a = function () {
                function t(t) {
                    this.type = r.default.get_item_db(t).gid,
                    this.itemId = t
                }
                return Object.defineProperty(t.prototype, "rawValue", {
                    get: function () {
                        return i.default.mItem.getItemCount(this.itemId)
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "value", {
                    get: function () {
                        return this.type == o.NUMBER ? this.rawValue : this.rawValue / 100
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                t
            }
            ();
            n.default = a,
            cc._RF.pop()
        }, {
            "../extensions/module/BaseFacade": "BaseFacade",
            "../generate/db": "db"
        }
    ],
    Base64: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "54d97zzyk9O/q8a02quHKKF", "Base64"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = function () {
                function t() {}
                return Object.defineProperty(t, "nativeBase64", {
                    get: function () {
                        return !1
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                t.decode = function (t) {
                    if (t = t.replace(/[^A-Za-z0-9\+\/\=]/g, ""), this.nativeBase64)
                        return window.atob(t);
                    for (var e, n, o, i, r, a, s = [], c = 0; c < t.length; )
                        e = this._keyStr.indexOf(t.charAt(c++)) << 2 | (i = this._keyStr.indexOf(t.charAt(c++))) >> 4, n = (15 & i) << 4 | (r = this._keyStr.indexOf(t.charAt(c++))) >> 2, o = (3 & r) << 6 | (a = this._keyStr.indexOf(t.charAt(c++))), s.push(String.fromCharCode(e)), 64 !== r && s.push(String.fromCharCode(n)), 64 !== a && s.push(String.fromCharCode(o));
                    return s = s.join(""),
                    this._utf8_decode(s)
                },
                t.encode = function (t) {
                    if (t = this._utf8_encode(t), !this.nativeBase64) {
                        for (var e, n, o, i, r, a, s, c = [], l = 0; l < t.length; )
                            i = (e = t.charCodeAt(l++)) >> 2, r = (3 & e) << 4 | (n = t.charCodeAt(l++)) >> 4, a = (15 & n) << 2 | (o = t.charCodeAt(l++)) >> 6, s = 63 & o, isNaN(n) ? a = s = 64 : isNaN(o) && (s = 64), c.push(this._keyStr.charAt(i)), c.push(this._keyStr.charAt(r)), c.push(this._keyStr.charAt(a)), c.push(this._keyStr.charAt(s));
                        return c = c.join("")
                    }
                    window.btoa(t)
                },
                t.decodeToUnit32Array = function (e, n) {
                    n = n || 1;
                    var o,
                    i,
                    r,
                    a = t.decode(e),
                    s = new Uint32Array(a.length / n);
                    for (o = 0, r = a.length / n; o < r; o++)
                        for (s[o] = 0, i = n - 1; i >= 0; --i)
                            s[o] += a.charCodeAt(o * n + i) << (i << 3);
                    return s
                },
                t.removePaddingChars = function (t) {
                    return 64 == this._keyStr.indexOf(t.charAt(t.length - 1)) ? t.substring(0, t.length - 1) : t
                },
                t.decodeToUnit8Array = function (t, e) {
                    t = this.removePaddingChars(t),
                    t = this.removePaddingChars(t);
                    var n,
                    o,
                    i,
                    r,
                    a,
                    s,
                    c,
                    l = Math.floor(t.length / 4 * 3),
                    u = 0,
                    d = 0;
                    for (n = e ? new Uint8Array(e) : new Uint8Array(l), t = t.replace(/[^A-Za-z0-9\+\/\=]/g, ""), u = 0; u < l; u += 3)
                        o = this._keyStr.indexOf(t.charAt(d++)) << 2 | (a = this._keyStr.indexOf(t.charAt(d++))) >> 4, i = (15 & a) << 4 | (s = this._keyStr.indexOf(t.charAt(d++))) >> 2, r = (3 & s) << 6 | (c = this._keyStr.indexOf(t.charAt(d++))), n[u] = o, 64 != s && (n[u + 1] = i), 64 != c && (n[u + 2] = r);
                    return n
                },
                t.decodeToArrayBuffer = function (t) {
                    var e = Math.floor(t.length / 4 * 3),
                    n = new ArrayBuffer(e);
                    return this.decodeToUnit8Array(t, n),
                    n
                },
                t.decodeCSV = function (t) {
                    for (var e = t.replace("\n", "").trim().split(","), n = [], o = 0; o < e.length; o++)
                        n.push(+e[o]);
                    return n
                },
                t._utf8_encode = function (t) {
                    t = t.replace(/\r\n/g, "\n");
                    for (var e = "", n = 0; n < t.length; n++) {
                        var o = t.charCodeAt(n);
                        o < 128 ? e += String.fromCharCode(o) : o > 127 && o < 2048 ? (e += String.fromCharCode(o >> 6 | 192), e += String.fromCharCode(63 & o | 128)) : (e += String.fromCharCode(o >> 12 | 224), e += String.fromCharCode(o >> 6 & 63 | 128), e += String.fromCharCode(63 & o | 128))
                    }
                    return e
                },
                t._utf8_decode = function (t) {
                    for (var e = "", n = 0, o = 0, i = 0, r = 0; n < t.length; )
                        (o = t.charCodeAt(n)) < 128 ? (e += String.fromCharCode(o), n++) : o > 191 && o < 224 ? (i = t.charCodeAt(n + 1), e += String.fromCharCode((31 & o) << 6 | 63 & i), n += 2) : (i = t.charCodeAt(n + 1), r = t.charCodeAt(n + 2), e += String.fromCharCode((15 & o) << 12 | (63 & i) << 6 | 63 & r), n += 3);
                    return e
                },
                t._keyStr = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
                t
            }
            ();
            n.default = o,
            cc._RF.pop()
        }, {}
    ],
    BaseConst: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "d9873Q3ndtC7Yf1dKr19/ak", "BaseConst"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            }),
            function (t) {
                t.VIEW_RESIZE = "VIEW_RESIZE",
                t.SYS_SHOW = "SYS_SHOW",
                t.SYS_HIDE = "SYS_HIDE",
                t.SYS_KEY_DOWN = "SYS_KEY_DOWN",
                t.RES_LOAD_START = "RES_LOAD_START",
                t.RES_LOAD_PROGRESS = "RES_LOAD_PROGRESS",
                t.RES_LOAD_END = "RES_LOAD_END",
                t.CFG_LOAD_FINISH = "CFG_LOAD_FINISH",
                t.UI_SHOW_TIP = "UI_SHOW_TIP",
                t.UI_SHOW_ITEMS = "UI_SHOW_ITEMS",
                t.SDK_ADV_VISIBLE = "SDK_ADV_VISIBLE",
                t.SDK_SHARE_SUC = "SDK_SHARE_SUC",
                t.SDK_SHARE_FAIL = "SDK_SHARE_FAIL",
                t.SDK_LOGIN_STATE = "SDK_LOGIN_STATE",
                t.SDK_LOGIN_RESULT = "SDK_LOGIN_RESULT",
                t.SDK_INSTALL_SHORTCUT_SUC = "SDK_INSTALL_SHORTCUT_SUC",
                t.SDK_COP_CHANGED = "SDK_COP_CHANGED",
                t.SDK_VIDEO_SHARE_SUC = "SDK_VIDEO_SHARE_SUC",
                t.ADV_SHOW_SUC = "ADV_SHOW_SUC",
                t.ADV_SHOW_FAIL = "ADV_SHOW_FAIL",
                t.ADV_CLICK_SUC = "ADV_CLICK_SUC",
                t.NATIVE_ADV_LOADED = "NATIVE_ADV_LOADED",
                t.ADV_CLOSE_NATIVE_BANNER = "ADV_CLOSE_NATIVE_BANNER",
                t.UI_PANEL_CLOSED = "UI_PANEL_CLOSED",
                t.ITEM_CHANGE = "ITEM_CHANGE",
                t.ITEM_USE = "ITEM_USE",
                t.GOAL_STATE_CHANGE = "GOAL_STATE_CHANGE",
                t.DAILY_SWITCH_ACTIVE = "DAILY_SWITCH_ACTIVE",
                t.QUEST_STATE_CHANGE = "QUEST_STATE_CHANGE",
                t.UP_STATE_CHANGE = "UP_STATE_CHANGE",
                t.SDK_EXIT_GAME = "SDK_EXIT_GAME"
            }
            (n.BASE_MSG || (n.BASE_MSG = {})),
            function (t) {
                t[t.MAIN = 0] = "MAIN",
                t[t.DAILY = 1] = "DAILY",
                t[t.CD = 2] = "CD",
                t[t.ACHIEVEMENT = 3] = "ACHIEVEMENT",
                t[t.DAILY_COMPLETION = 4] = "DAILY_COMPLETION",
                t[t.CD_COMPLETION = 5] = "CD_COMPLETION",
                t[t.ACH_COMPLETION = 6] = "ACH_COMPLETION",
                t[t.DAILY_ACH = 7] = "DAILY_ACH",
                t[t._COUNT = 8] = "_COUNT"
            }
            (n.QUEST_TYPE || (n.QUEST_TYPE = {})),
            function (t) {
                t.QUEST = "QUEST",
                t.SWITCH = "SWITCH"
            }
            (n.GOAL_TYPE || (n.GOAL_TYPE = {})),
            n.BASE_ACTION_ID = {
                ITEM_GET: "ITEM_GET",
                ITEM_USE: "ITEM_USE",
                PAY_SUC: "PAY_SUC",
                SHARE: "SHARE",
                LEVEL_UP: "LEVEL_UP",
                LEVEL_UP_KEY: "LEVEL_UP_KEY",
                LEVEL_UP_KEY_MAX: "LEVEL_UP_KEY_MAX",
                QUEST_FINISH: "QUEST_FINISH",
                QUEST_FINISH_COUNT: "QUEST_FINISH_COUNT",
                ADV_SHOW_SUC: "ADV_SHOW_SUC"
            },
            function (t) {
                t[t.RMB = 0] = "RMB",
                t[t.CURRENCY = 1] = "CURRENCY",
                t[t.GOODS = 2] = "GOODS",
                t[t.DROP = 3] = "DROP",
                t[t.UP = 4] = "UP",
                t[t.SPE = 5] = "SPE"
            }
            (n.ITEM_TYPE || (n.ITEM_TYPE = {})),
            n.BASE_SWITCH_ID = {
                DAILY: "1",
                WEEKLY: "2"
            },
            n.UpAttrName = {
                Base: "baseUp",
                CustSuan: "p0",
                CustTian: "p1",
                CustXian: "p2",
                CustLa: "p3",
                CustFeeling: "p4"
            },
            cc._RF.pop()
        }, {}
    ],
    BaseFacade: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "fa225ViECZPV4a8f55hpOPk", "BaseFacade"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("./mUp"),
            i = t("./mItem"),
            r = t("./mAutoIncreaseItem"),
            a = t("./mDrop"),
            s = t("./mSwitch"),
            c = t("./mGoal"),
            l = t("./mQuest"),
            u = t("./mPay"),
            d = t("../MsgHandler"),
            p = t("../../generate/db"),
            h = t("../../common/Const"),
            f = function () {
                function t() {}
                return t.onLoad = function () {
                    this.mGoal = this.createMgr(c.default),
                    this.mUp = this.createMgr(o.default),
                    this.mItem = this.createMgr(i.default),
                    this.mAutoIncreaseItem = this.createMgr(r.default),
                    this.mDrop = this.createMgr(a.default),
                    this.mSwitch = this.createMgr(s.default),
                    this.mQuest = this.createMgr(l.default),
                    this.mPay = this.createMgr(u.default),
                    this.mUp.initDbGetter(function (t, e) {
                        var n = t[e];
                        switch (t.subType) {
                        case h.UP_ITEM_TYPE.ROLE:
                            return p.default.get_role_up_db_map()[n];
                        case h.UP_ITEM_TYPE.ATTR:
                        case h.UP_ITEM_TYPE.OTHER:
                            return p.default.get_attr_up_db_map()[n]
                        }
                    }),
                    this.initAll()
                },
                t.createMgr = function (t) {
                    var e = new t(this.getMsgHandler());
                    return this._mgrs.push(e),
                    e
                },
                t.getMsgHandler = function () {
                    return new d.default
                },
                t.initAll = function () {
                    for (var t = 0; t < this._mgrs.length; t++)
                        this._mgrs[t].onload();
                    for (t = 0; t < this._mgrs.length; t++)
                        this._mgrs[t].start()
                },
                t._mgrs = [],
                t
            }
            ();
            n.default = f,
            cc._RF.pop()
        }, {
            "../../common/Const": "Const",
            "../../generate/db": "db",
            "../MsgHandler": "MsgHandler",
            "./mAutoIncreaseItem": "mAutoIncreaseItem",
            "./mDrop": "mDrop",
            "./mGoal": "mGoal",
            "./mItem": "mItem",
            "./mPay": "mPay",
            "./mQuest": "mQuest",
            "./mSwitch": "mSwitch",
            "./mUp": "mUp"
        }
    ],
    Boss: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "ded15044BxHCIFaCk2DCvFN", "Boss");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("./MonsterPath"),
            r = t("../../extensions/ui/Spine"),
            a = t("./Role"),
            s = t("../../extensions/utils/Timer"),
            c = t("./Unit"),
            l = t("../../manager/mgrGuide"),
            u = t("../../common/Const"),
            d = t("../state/SMonsterState"),
            p = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e._curHitAnimTime = 0,
                    e
                }
                return o(e, t),
                e.prototype.initState = function () {
                    t.prototype.initState.call(this),
                    this.removeState(c.UnitState.Move),
                    this.registerState(c.UnitState.Move, new d.SBossMove)
                },
                e.prototype.initStaticAttr = function () {
                    t.prototype.initStaticAttr.call(this),
                    this.view instanceof r.default && this.view.setCompleteListener(this.onSpineComplte.bind(this))
                },
                e.prototype.initDynamicAttr = function () {
                    t.prototype.initDynamicAttr.call(this),
                    this._curHitAnimTime = 0,
                    u.GuideInfo.bGuideMode && s.default.callLater(.1, function () {
                        l.default.dispatchGuide("GUD_START_BOSS")
                    })
                },
                e.prototype.onSpineComplte = function (t) {
                    t.animation.name == a.RoleAnim.Hit && this._curHitAnimTime <= s.default.time && (this.playAnim(a.RoleAnim.Move), this._curHitAnimTime = 0)
                },
                e.prototype.hitSkill = function (e) {
                    t.prototype.hitSkill.call(this, e),
                    this.playHitAnim()
                },
                e.prototype.hitDamage = function (e, n, o, i) {
                    t.prototype.hitDamage.call(this, e, n, !1, i)
                },
                e.prototype.playHitAnim = function () {
                    this.bDead || (0 == this._curHitAnimTime && this.playAnim(a.RoleAnim.Hit), this._curHitAnimTime = s.default.time + .3)
                },
                e
            }
            (i.default);
            n.default = p,
            cc._RF.pop()
        }, {
            "../../common/Const": "Const",
            "../../extensions/ui/Spine": "Spine",
            "../../extensions/utils/Timer": "Timer",
            "../../manager/mgrGuide": "mgrGuide",
            "../state/SMonsterState": "SMonsterState",
            "./MonsterPath": "MonsterPath",
            "./Role": "Role",
            "./Unit": "Unit"
        }
    ],
    Box: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "bdaf2yq9HZKx7PaJx18o5o1", "Box");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("./Unit"),
            r = t("../state/SRoleState"),
            a = t("../../common/DbExt"),
            s = t("../../GameConfig"),
            c = t("../../extensions/component/UIDrag"),
            l = t("../World"),
            u = t("./Role"),
            d = t("../../manager/mgrGame"),
            p = t("../../extensions/mgr/mgrPanel"),
            h = t("../../extensions/module/BaseFacade"),
            f = t("../../common/Const"),
            _ = t("../../extensions/mgr/mgrAudio"),
            m = t("../../ui/PanelBox"),
            g = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.initState = function () {
                    this.registerState(u.RoleState.Idle, new r.SRoleIdle)
                },
                e.prototype.initStaticAttr = function () {
                    t.prototype.initStaticAttr.call(this),
                    this.faction = i.Faction.Else,
                    this.levelLabel && (this.levelLabel.destroy(), this.levelLabel = null),
                    this.levelBg && (this.levelBg.destroy(), this.levelBg = null),
                    this.node.getComponent(c.default).movable = !1,
                    this.initSpriteView(a.default.get_card_view(this.unitDb)),
                    this.node.setContentSize(s.default.cardTileW, s.default.cardTileH)
                },
                e.prototype.onTouchStart = function (t, e, n) {
                    switch (this.removeDirectly(), l.default.instance.setRole(this.index, null), this.unitDb.gid) {
                    case 0:
                        l.default.factoryUnit.createRole(d.default.cardLowQuality, this.index);
                        break;
                    case 1:
                        p.default.openPanelWithFadeIn(m.default)
                    }
                    return _.default.playSound("box"),
                    h.default.mGoal.commit(f.ACTION_ID.OPEN_BOX, 1, this.unitDb.gid),
                    !1
                },
                e.prototype.updateIndex = function (t) {
                    this.index = t,
                    t < 4 ? cc.error("cannot put box on the tower") : (this.setPosition(l.default.instance.map.convertToWorldPos(t)), this.changeToCard(), this.setNextState(u.RoleState.Idle))
                },
                e
            }
            (u.default);
            n.default = g,
            cc._RF.pop()
        }, {
            "../../GameConfig": "GameConfig",
            "../../common/Const": "Const",
            "../../common/DbExt": "DbExt",
            "../../extensions/component/UIDrag": "UIDrag",
            "../../extensions/mgr/mgrAudio": "mgrAudio",
            "../../extensions/mgr/mgrPanel": "mgrPanel",
            "../../extensions/module/BaseFacade": "BaseFacade",
            "../../manager/mgrGame": "mgrGame",
            "../../ui/PanelBox": "PanelBox",
            "../World": "World",
            "../state/SRoleState": "SRoleState",
            "./Role": "Role",
            "./Unit": "Unit"
        }
    ],
    BuffElc: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "d4984yQqUhAQKr99CjJoEFC", "BuffElc");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../impl/IBuff"),
            r = t("../unit/Unit"),
            a = t("../../manager/mgrAlert"),
            s = t("../../extensions/_G"),
            c = t("../World"),
            l = t("../GameUtility"),
            u = t("../../common/Const"),
            d = cc.Vec2.ZERO,
            p = function (t) {
                function e() {
                    var e = t.call(this, u.BUFF_TYPE.ELC) || this;
                    return e.elcCount = 1,
                    e
                }
                return o(e, t),
                e.prototype.onStart = function () {
                    if (this._effectHit1 = a.default.playAnimationEffect("2d/anim_node/68_zhujue04_dianhit/68_zhujue04_dianhit"), this._effectHit1.setParent(this.red.node), this._effectHit2 = a.default.playAnimationEffect("2d/anim_node/68_zhujue04_dianhit/68_zhujue04_dianhit"), this._effectHit2.setParent(this.nextTarget.node), this._effectLine = a.default.playAnimationEffect("2d/anim_node/68_zhujue04_dian/68_zhujue04_dian"), this._effectLine.setParent(c.default.instance.heroLayer), this._effectLine.setScale(0), this.hitMap || (this.hitMap = Object.create(null)), !this.hitMap[this.nextTarget.fsmObjectId]) {
                        this.hitMap[this.nextTarget.fsmObjectId] = !0;
                        var t = this.blue.getSkill(0);
                        if (t) {
                            var e = .8 * t.getDamage();
                            e > 0 && this.nextTarget.hitDamage(e)
                        }
                    }
                    this.bStopEffect = !1,
                    this.setTime(.5, 1),
                    this.updateEffect()
                },
                e.prototype.onStop = function () {
                    this._effectHit1 && (s.default.poolManager.put(this._effectHit1), this._effectHit1 = null),
                    this._effectHit2 && (s.default.poolManager.put(this._effectHit2), this._effectHit2 = null),
                    this._effectLine && (s.default.poolManager.put(this._effectLine), this._effectHit1 = null),
                    this.elcCount = 0,
                    this.bStopEffect = !0,
                    this.hitMap = null,
                    this.nextTarget = null
                },
                e.prototype.setNextTarget = function (t) {
                    this.nextTarget = t
                },
                e.prototype.addExcludeUnit = function (t) {
                    this.hitMap || (this.hitMap = Object.create(null)),
                    this.hitMap[t.fsmObjectId] = !0
                },
                e.prototype.onUpdate = function (e) {
                    t.prototype.onUpdate.call(this, e),
                    this.bStart && !this.bStopEffect && this.updateEffect()
                },
                e.prototype.updateEffect = function () {
                    if (this.red.bDead || this.nextTarget.bDead)
                        this.bStopEffect = !0, this.elcCount = 0;
                    else {
                        var t = this._effectLine;
                        this.red.position.add(this.nextTarget.position, d).mulSelf(.5),
                        t.setPosition(d);
                        var e = this.red.position.sub(this.nextTarget.position, d).mag() / 249;
                        t.setScale(e, 1),
                        t.setRotation(l.default.convertDir2Rot(d) + 90)
                    }
                },
                e.prototype.onTick = function () {
                    var t = this;
                    if (this.nextTarget.hasBuff(u.BUFF_TYPE.ELC))
                        this.elcCount = 0;
                    else if (this.elcCount--, this.elcCount > 0) {
                        var n = this.hitMap;
                        c.default.instance.foreach(function (o) {
                            if (!o.bDead && o.faction == r.Faction.Red && !o.hasBuff(u.BUFF_TYPE.ELC) && !n[o.fsmObjectId]) {
                                var i = s.default.poolManager.get(e);
                                return i.hitMap = n,
                                i.elcCount = t.elcCount,
                                i.setNextTarget(o),
                                t.nextTarget.addBuff(t.blue, i),
                                !0
                            }
                        }, !0)
                    }
                },
                e
            }
            (i.default);
            n.default = p,
            cc._RF.pop()
        }, {
            "../../common/Const": "Const",
            "../../extensions/_G": "_G",
            "../../manager/mgrAlert": "mgrAlert",
            "../GameUtility": "GameUtility",
            "../World": "World",
            "../impl/IBuff": "IBuff",
            "../unit/Unit": "Unit"
        }
    ],
    BuffFire: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "e7baaNMCphO74WAcrAkQIsB", "BuffFire");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../impl/IBuff"),
            r = t("../../manager/mgrAlert"),
            a = t("../../extensions/_G"),
            s = t("../../common/Const"),
            c = function (t) {
                function e() {
                    return t.call(this, s.BUFF_TYPE.FIRE) || this
                }
                return o(e, t),
                e.prototype.onStart = function () {
                    this._effect ? cc.error("relaunch buff") : (this._effect = r.default.playAnimationEffect("2d/anim_node/68_zhujue03_huo/68_zhujue03_huo"), this._effect && (this._effect.setParent(this.red.viewNode), this._effect.setRotation(0), this._effect.setSiblingIndex(1))),
                    this.setTime(.5, 6)
                },
                e.prototype.onStop = function () {
                    this._effect && (a.default.poolManager.put(this._effect), this._effect = null)
                },
                e.prototype.onTick = function () {
                    var t = this.blue.getSkill(0);
                    if (t) {
                        var e = t.getDamage() * t.attrSpe.value;
                        e > 0 && this.red.hitDamage(e)
                    }
                },
                e
            }
            (i.default);
            n.default = c,
            cc._RF.pop()
        }, {
            "../../common/Const": "Const",
            "../../extensions/_G": "_G",
            "../../manager/mgrAlert": "mgrAlert",
            "../impl/IBuff": "IBuff"
        }
    ],
    BuffIce: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "6f261AYJIJFXZEaiQLwzMem", "BuffIce");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../impl/IBuff"),
            r = t("../../common/Const"),
            a = t("../../extensions/widget/SSprite"),
            s = function (t) {
                function e() {
                    var e = t.call(this, r.BUFF_TYPE.ICE) || this;
                    return e.speedRate = 1,
                    e
                }
                return o(e, t),
                e.prototype.onCreate = function () {
                    this._effect = new a.default("ice", "texture/ice", cc.Sprite.SizeMode.TRIMMED),
                    this._effect.setScale(.9)
                },
                e.prototype.onDesotry = function () {
                    this._effect && (this._effect.dispose(), this._effect = null)
                },
                e.prototype.setSpeedRate = function (t) {
                    this.speedRate = t,
                    this.updateSpeedRate(t)
                },
                e.prototype.updateSpeedRate = function (t) {
                    this.red && (this.red.speedRate = t, this.red.forceUpdateSpeed())
                },
                e.prototype.onStart = function () {
                    this._effect && (this._effect.setParent(this.red.viewNode), this._effect.setPosition(0, -3), this._effect.setSiblingIndex(1), this._effect.show()),
                    this.updateSpeedRate(this.speedRate),
                    this.setTime(1, 1)
                },
                e.prototype.onStop = function () {
                    this._effect && (this._effect.removeFromParent(), this._effect.hide()),
                    this.updateSpeedRate(1)
                },
                e.prototype.onTick = function () {},
                e
            }
            (i.default);
            n.default = s,
            cc._RF.pop()
        }, {
            "../../common/Const": "Const",
            "../../extensions/widget/SSprite": "SSprite",
            "../impl/IBuff": "IBuff"
        }
    ],
    BulletRay: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "f000cE9RmtMh7E+Qv30YNdt", "BulletRay");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("./Bullet"),
            r = t("./Unit"),
            a = t("../GameUtility"),
            s = t("../state/SBullet"),
            c = cc.Vec2.ZERO,
            l = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.initState = function () {
                    t.prototype.initState.call(this),
                    this.removeState(r.UnitState.Move),
                    this.registerState(r.UnitState.Move, new s.SBulletRay)
                },
                e.prototype.followTarget = function (t) {
                    return !0
                },
                e.prototype.simpleMove = function (t) {
                    return !0
                },
                e.prototype.setTarget = function (e, n) {
                    t.prototype.setTarget.call(this, e, n),
                    n.position.sub(this.position, c);
                    var o = a.default.convertDir2Rot(c) - 90;
                    this.setRotation(o)
                },
                e
            }
            (i.default);
            n.default = l,
            cc._RF.pop()
        }, {
            "../GameUtility": "GameUtility",
            "../state/SBullet": "SBullet",
            "./Bullet": "Bullet",
            "./Unit": "Unit"
        }
    ],
    Bullet: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "46459vFW9dFfKm/+pDwyppB", "Bullet");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("./Unit"),
            r = t("../state/SBullet"),
            a = t("../../common/DbExt"),
            s = t("../../extensions/ui/Particle"),
            c = t("../../extensions/ui/Effect"),
            l = t("../GameUtility"),
            u = t("../../extensions/ui/Animation"),
            d = cc.Vec2.ZERO,
            p = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.damage = 0,
                    e.destPos = cc.Vec2.ZERO,
                    e
                }
                return o(e, t),
                e.prototype.initState = function () {
                    this.registerState(i.UnitState.Move, new r.SBulletMove),
                    this.registerState(i.UnitState.Dead, new r.SBulletDead)
                },
                e.prototype.initStaticAttr = function () {
                    t.prototype.initStaticAttr.call(this),
                    this.speed = a.default.get_unit_speed(this.unitDb),
                    this.faction = i.Faction.Else,
                    this.bRotatabel = !0
                },
                e.prototype.reuse = function () {
                    t.prototype.reuse.call(this);
                    var e = this.bulletEffect;
                    e && (e.head && (e.head.active = !0), e.effect.play())
                },
                e.prototype.stopView = function () {
                    var t = this.bulletEffect;
                    t && (t.head && (t.head.active = !1), t.effect.stop())
                },
                e.prototype.setHp = function () {},
                e.prototype.followTarget = function (t) {
                    return this.destPos.set(this.monster.position),
                    this.simpleMove(t)
                },
                e.prototype.simpleMove = function (t) {
                    return this.destPos.sub(this.position, d),
                    d.magSqr() > 200 && (d.normalizeSelf().mulSelf(this.speed * t), this.transform(d), this.setRotation(l.default.convertDir2Rot(d)), !0)
                },
                e.prototype.setTarget = function (t, e) {
                    if (this.tower = t, this.monster = e, this.setPosition(t.position.x, t.position.y + 40), this.setNextState(i.UnitState.Move), this.index != t.index && (this.index = t.index, this.initEffectView(this.unitDb.st[t.index]), this.view instanceof s.default || this.view instanceof c.default || this.view instanceof u.default)) {
                        var n = this.view,
                        o = {
                            effect: n,
                            head: null
                        };
                        this.view.callIfLoaded(function () {
                            o.head = n.getChild("zidan")
                        }),
                        this.bulletEffect = o,
                        n.play()
                    }
                },
                e
            }
            (i.default);
            n.default = p,
            cc._RF.pop()
        }, {
            "../../common/DbExt": "DbExt",
            "../../extensions/ui/Animation": "Animation",
            "../../extensions/ui/Effect": "Effect",
            "../../extensions/ui/Particle": "Particle",
            "../GameUtility": "GameUtility",
            "../state/SBullet": "SBullet",
            "./Unit": "Unit"
        }
    ],
    CameraEffect: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "5b98aw7r5pF3KiCc8xJIojn", "CameraEffect");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__decorate || function (t, e, n, o) {
                var i,
                r = arguments.length,
                a = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(t, e, n, o);
                else
                    for (var s = t.length - 1; s >= 0; s--)
                        (i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, n, a) : i(e, n)) || a);
                return r > 3 && a && Object.defineProperty(e, n, a),
                a
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r = t("../ActionExt"),
            a = cc._decorator,
            s = a.ccclass,
            c = (a.property, a.requireComponent),
            l = cc.Vec2.ZERO,
            u = (cc.Vec2.ZERO, function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.onLoad = function () {
                    t.prototype.onLoad && t.prototype.onLoad.call(this),
                    this.m_Camera = this.getComponent(cc.Camera)
                },
                e.prototype.onDestroy = function () {
                    t.prototype.onDestroy && t.prototype.onDestroy.call(this)
                },
                e.prototype.playShake = function () {},
                e.prototype.playScale = function (t, e, n) {
                    var o = this.node.getPosition();
                    this.m_Camera.getCameraToWorldPoint(t, l),
                    this.node.parent.convertToNodeSpaceAR(l),
                    this.node.runAction(cc.sequence(cc.spawn(cc.moveTo(n, l).easing(cc.easeOut(2)), new r.ZoomRatioTo(n, 1, e).easing(cc.easeOut(2))), cc.spawn(cc.moveTo(n, o).easing(cc.easeIn(2)), new r.ZoomRatioTo(n, e, 1).easing(cc.easeIn(2)))))
                },
                e = i([s, c(cc.Camera)], e)
            }
                (cc.Component));
            n.default = u,
            cc._RF.pop()
        }, {
            "../ActionExt": "ActionExt"
        }
    ],
    CfgLoader: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "3737aPUA1VBq5oTlYHegi27", "CfgLoader");
            var o = this && this.__awaiter || function (t, e, n, o) {
                return new(n || (n = Promise))(function (i, r) {
                    function a(t) {
                        try {
                            c(o.next(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function s(t) {
                        try {
                            c(o.throw(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function c(t) {
                        t.done ? i(t.value) : new n(function (e) {
                            e(t.value)
                        }).then(a, s)
                    }
                    c((o = o.apply(t, e || [])).next())
                })
            },
            i = this && this.__generator || function (t, e) {
                var n,
                o,
                i,
                r,
                a = {
                    label: 0,
                    sent: function () {
                        if (1 & i[0])
                            throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw : s(1),
                    return : s(2)
                },
                "function" == typeof Symbol && (r[Symbol.iterator] = function () {
                    return this
                }),
                r;
                function s(t) {
                    return function (e) {
                        return c([t, e])
                    }
                }
                function c(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done)
                                return i;
                            switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                o = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1],
                                    i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2],
                                    a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            o = 0
                        }
                    finally {
                        n = i = 0
                    }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r = t("../mgr/mgrRes"),
            a = t("./Tools"),
            s = t("../_G"),
            c = t("../BaseConst"),
            l = function () {
                function t() {}
                return t.init = function () {
                    return o(this, void 0, void 0, function () {
                        var t,
                        e,
                        n;
                        return i(this, function (o) {
                            switch (o.label) {
                            case 0:
                                return this.loaded ? [2] : [4, this.loadFromText()];
                            case 1:
                                return o.sent(),
                                [3, 4];
                            case 2:
                                return [4, this.loadFromJson()];
                            case 3:
                                o.sent(),
                                o.label = 4;
                            case 4:
                                return [3, 10];
                            case 5:
                                return [4, r.default.promiseLoadAsset("cfg/CfgFiles", cc.JsonAsset)];
                            case 6:
                                if (!(t = o.sent()) || !t.loaded)
                                    return cc.error("can't find CfgFiles."), [2];
                                e = this.getLoadHandlers(t.json),
                                n = 0,
                                o.label = 7;
                            case 7:
                                return n < e.length ? [4, (0, e[n])()] : [3, 10];
                            case 8:
                                o.sent(),
                                o.label = 9;
                            case 9:
                                return n++,
                                [3, 7];
                            case 10:
                                return this.loaded = !0,
                                s.default.sendMsg(c.BASE_MSG.CFG_LOAD_FINISH),
                                [2]
                            }
                        })
                    })
                },
                t.loadFromJson = function () {
                    return o(this, void 0, void 0, function () {
                        var t,
                        e;
                        return i(this, function (n) {
                            switch (n.label) {
                            case 0:
                                return [4, r.default.promiseLoadAsset("cfg/allCfgDb", cc.JsonAsset)];
                            case 1:
                                return (t = n.sent()) && t.loaded ? (e = t.json, this.initCfg(e), [2]) : (cc.error("can't find allCfgDb."), [2])
                            }
                        })
                    })
                },
                t.loadFromText = function () {
                    return o(this, void 0, void 0, function () {
                        var t,
                        e,
                        n;
                        return i(this, function (o) {
                            switch (o.label) {
                            case 0:
                                return [4, r.default.promiseLoadAsset("cfg/allCfgDb", cc.TextAsset)];
                                case 1:
                                // ghb: 在这个地方拿到了各种配置数据。配置数据是一大坨json经过了gzip压缩然后base64编码得到。后面会进行逆操作。
                                    // 数据是在o.sent()调用中得到的
                                return (t = o.sent()) && t.loaded ? (e = a.default.decompressFromBase64(t.text), n = JSON.parse(e), this.initCfg(n), [2]) : (cc.error("can't find allCfgDb."), [2])
                            }
                        })
                    })
                },
                t.initCfg = function (t) {
                    var e = this;
                    a.default.forEachMap(t, function (t, n) {
                        // ghb：这个地方初始化各种数据表
                        // ghb：这里将爆裂飞车的名字改成英文
                        // window.tsLog("db-name: " + t);
                        // for(var key in n) {
                        //     window.tsLog("name: " + n[key].name + ", desc: " + n[key].desc + ", desc1: " + n[key].desc1 + ", desc2: " + n[key].desc2);
                        // }

                        if(t === "item_db") {
                            for(var key in n) {
                                var name = n[key].name;
                                if(name === "暴雷钢甲") {
                                    n[key].name = "Thunder Armor";
                                } else if(name === "漩涡邪凰") {
                                    n[key].name = "Swirling Phoenix";
                                } else if(name === "巨岩摩羯") {
                                    n[key].name = "Capricorn’s Rock";
                                } else if(name === "暴风猎鹰") {
                                    n[key].name = "Storming Falcon";
                                } else if(name === "烈火赤龙") {
                                    n[key].name = "Blazing Dragon";
                                } else if(name === "猩红列娜") {
                                    n[key].name = "Scarlet Lena";
                                } else if(name === "北极啸狼") {
                                    n[key].name = "Arctic Wolf";
                                } else if(name === "大脚战熊") {
                                    n[key].name = "Bigfoot Bear";
                                } else if(name === "迅捷飞狮") {
                                    n[key].name = "Flying Lion";
                                } else if(name === "爆旋猎兵") {
                                    n[key].name = "Blast Hunter";
                                } else if(name === "风暴圣骑") {
                                    n[key].name = "Storming Rider";
                                } else if(name === "赤角火羚") {
                                    n[key].name = "Red Horn Antelope";
                                } else if(name === "梦幻双星") {
                                    n[key].name = "Fantasy Star";
                                } else if(name === "烈焰雄狮") {
                                    n[key].name = "Flaming Lion";
                                } else if(name === "狂暴野马") {
                                    n[key].name = "Flaming Lion";
                                } else if(name === "轰天暴龙") {
                                    n[key].name = "Tyrannosaurus";
                                } else if(name === "苍穹爆王") {
                                    n[key].name = "Firmament King";
                                } else if(name === "怒炎魔狼") {
                                    n[key].name = "Fury Wolf";
                                } else if(name === "巨臂战螳") {
                                    n[key].name = "Giant Mantis";
                                } else if(name === "撼地神牛") {
                                    n[key].name = "Ground Bull";
                                } else if(name === "钢翼战龙") {
                                    n[key].name = "Steel-Wing Dragon";
                                } else if(name === "迅捷飞狮2") {
                                    n[key].name = "Flying Lion Ⅱ";
                                } else if(name === "原始猛犸") {
                                    n[key].name = "Primitive Mammoth";
                                } else if(name === "金刚冥猩") {
                                    n[key].name = "Iron Gorilla";
                                } else if(name === "收益翻倍") {
                                    n[key].name = "";
                                } else if(name === "金箱子") {
                                    n[key].name = "";
                                } else if(name === "双倍火力") {
                                    n[key].name = "";
                                } else if(name === "金币") {
                                    n[key].name = "";
                                } else if(name === "钻石") {
                                    n[key].name = "";
                                } else if(name === "全体减速") {
                                    n[key].name = "";
                                } else if(name === "冰塔位") {
                                    n[key].name = "Ice";
                                    n[key].desc = n[key].desc.replace("燃烧伤害", "Burn ").replace("攻击力", "Attack ").replace("致命一击几率", "Critical ").replace("子弹数", "Bullets ")
                                        .replace("掉落钻石几率", "Diamonds ").replace("攻击速度", "Speed ").replace("金币收益", "Coins ");
                                } else if(name === "火塔位") {
                                    n[key].name = "Fire";
                                    n[key].desc = n[key].desc.replace("燃烧伤害", "Burn ").replace("攻击力", "Attack ").replace("致命一击几率", "Critical ").replace("子弹数", "Bullets ")
                                        .replace("掉落钻石几率", "Diamonds ").replace("攻击速度", "Speed ").replace("金币收益", "Coins ");
                                } else if(name === "电塔位") {
                                    n[key].name = "Thunder";
                                    n[key].desc = n[key].desc.replace("燃烧伤害", "Burn ").replace("攻击力", "Attack ").replace("致命一击几率", "Critical ").replace("子弹数", "Bullets ")
                                        .replace("掉落钻石几率", "Diamonds ").replace("攻击速度", "Speed ").replace("金币收益", "Coins ").replace("连锁数量", "Chains ");
                                } else if(name === "普通塔位") {
                                    n[key].name = "Normal";
                                    n[key].desc = n[key].desc.replace("燃烧伤害", "Burn ").replace("攻击力", "Attack ").replace("致命一击几率", "Critical ").replace("子弹数", "Bullets ")
                                        .replace("掉落钻石几率", "Diamonds ").replace("攻击速度", "Speed ").replace("金币收益", "Coins ").replace("暴击率", "Critical");
                                } else if(n[key].desc ) {
                                    if(n[key].desc.indexOf("银箱子生成速度") != -1) {
                                        n[key].desc = n[key].desc.replace("银箱子生成速度", "Armor production speed ")
                                    } else if(n[key].desc.indexOf("每隔20秒获得") != -1) {
                                        // n[key].desc = "每隔20秒获得<color=#0fffff>+?个</color>金箱子";
                                        n[key].desc = n[key].desc.replace("每隔20秒获得", "").replace("个", "").replace("金箱子", "") + " goldon boxes every 20 seconds";
                                    } else if(n[key].desc.indexOf("召唤费用降低") != -1) {
                                        n[key].desc = "Summon cost reduced" + n[key].desc.replace("召唤费用降低", "");
                                    } else if(n[key].desc.indexOf("金币收益提高") != -1) {
                                        n[key].desc = "Coins reward increase" + n[key].desc.replace("金币收益提高", "");
                                    } else if(n[key].desc.indexOf("所有飞车火力提升") != -1) {
                                        n[key].desc = "All armors Attack increase" + n[key].desc.replace("所有飞车火力提升", "");
                                    } else if(n[key].desc.indexOf("离线收益提高") != -1) {
                                        n[key].desc = "Offline reward increase" + n[key].desc.replace("离线收益提高", "");
                                    }

                                }
                            }
                        } else if(t === "quest_db") {
                            for(var key in n) {
                                var name = n[key].name;
                                if(name === "通过第5关") {
                                    n[key].name = "Stage 5 cleared";
                                } else if(name === "解锁3级爆裂飞车") {
                                    n[key].name = "Level 3 armor unlocked";
                                } else if(name === "合成100次飞车") {
                                    n[key].name = "100 times merging";
                                } else if(name === "召唤爆裂飞车100次") {
                                    n[key].name = "summon armor 100 times";
                                } else if(name === "启用自动合成1次") {
                                    n[key].name = "auto-merged once";
                                } else if(name === "完成探险5次") {
                                    n[key].name = "adventure 5 times";
                                } else if(name === "完成签到1次") {
                                    n[key].name = "sign in once";
                                } else if(name === "通过第10关") {
                                    n[key].name = "Stage 10 cleared";
                                } else if(name === "解锁5级爆裂飞车") {
                                    n[key].name = "Level 5 armor unlocked";
                                } else if(name === "合成200次飞车") {
                                    n[key].name = "200 times merging";
                                } else if(name === "召唤爆裂飞车200次") {
                                    n[key].name = "summon armor 200 times";
                                } else if(name === "启用自动合成5次") {
                                    n[key].name = "auto-merged once";
                                } else if(name === "完成探险15次") {
                                    n[key].name = "adventure 15 times";
                                } else if(name === "完成签到2次") {
                                    n[key].name = "sign in twice";
                                } else if(name === "通过第20关") {
                                    n[key].name = "Stage 20 cleared";
                                } else if(name === "解锁7级爆裂飞车") {
                                    n[key].name = "Level 7 armor unlocked";
                                } else if(name === "合成300次飞车") {
                                    n[key].name = "300 times merging";
                                } else if(name === "召唤爆裂飞车300次") {
                                    n[key].name = "summon armor 300 times";
                                } else if(name === "启用自动合成9次") {
                                    n[key].name = "auto-merging 9 times";
                                } else if(name === "完成探险25次") {
                                    n[key].name = "adventure 25 times";
                                } else if(name === "完成签到3次") {
                                    n[key].name = "sign in 3 times";
                                } else if(name === "通过第30关") {
                                    n[key].name = "Stage 30 cleared";
                                } else if(name === "解锁9级爆裂飞车") {
                                    n[key].name = "Level 9 armor unlocked";
                                } else if(name === "合成400次飞车") {
                                    n[key].name = "300 times merging";
                                } else if(name === "召唤爆裂飞车400次") {
                                    n[key].name = "summon armor 400 times";
                                } else if(name === "启用自动合成13次") {
                                    n[key].name = "auto-merging 13 times";
                                } else if(name === "完成探险35次") {
                                    n[key].name = "adventure 35 times";
                                } else if(name === "完成签到4次") {
                                    n[key].name = "sign in 3 times";
                                } else if(name === "通过第40关") {
                                    n[key].name = "Stage 40 cleared";
                                } else if(name === "解锁10级爆裂飞车") {
                                    n[key].name = "Level 10 armor unlocked";
                                } else if(name === "合成500次飞车") {
                                    n[key].name = "500 times merging";
                                } else if(name === "召唤爆裂飞车500次") {
                                    n[key].name = "summon armor 500 times";
                                } else if(name === "启用自动合成17次") {
                                    n[key].name = "auto-merging 17 times";
                                } else if(name === "完成探险45次") {
                                    n[key].name = "adventure 45 times";
                                } else if(name === "完成签到5次") {
                                    n[key].name = "sign in 5 times";
                                } else if(name === "通过第50关") {
                                    n[key].name = "Stage 50 cleared";
                                } else if(name === "解锁11级爆裂飞车") {
                                    n[key].name = "Level 11 armor unlocked";
                                } else if(name === "合成600次飞车") {
                                    n[key].name = "600 times merging";
                                } else if(name === "召唤爆裂飞车600次") {
                                    n[key].name = "summon armor 600 times";
                                } else if(name === "启用自动合成21次") {
                                    n[key].name = "auto-merging 21 times";
                                } else if(name === "完成探险55次") {
                                    n[key].name = "adventure 55 times";
                                } else if(name === "完成签到6次") {
                                    n[key].name = "sign in 6 times";
                                } else if(name === "通过第60关") {
                                    n[key].name = "Stage 60 cleared";
                                } else if(name === "解锁12级爆裂飞车") {
                                    n[key].name = "Level 12 armor unlocked";
                                } else if(name === "合成700次飞车") {
                                    n[key].name = "700 times merging";
                                } else if(name === "召唤爆裂飞车700次") {
                                    n[key].name = "summon armor 700 times";
                                } else if(name === "启用自动合成25次") {
                                    n[key].name = "auto-merging 25 times";
                                } else if(name === "完成探险65次") {
                                    n[key].name = "adventure 65 times";
                                } else if(name === "完成签到7次") {
                                    n[key].name = "sign in 6 times";
                                } else if(name === "通过第70关") {
                                    n[key].name = "Stage 70 cleared";
                                } else if(name === "解锁13级爆裂飞车") {
                                    n[key].name = "Level 13 armor unlocked";
                                } else if(name === "合成800次飞车") {
                                    n[key].name = "800 times merging";
                                } else if(name === "召唤爆裂飞车800次") {
                                    n[key].name = "summon armor 800 times";
                                } else if(name === "启用自动合成29次") {
                                    n[key].name = "auto-merging 29 times";
                                } else if(name === "完成探险75次") {
                                    n[key].name = "adventure 75 times";
                                } else if(name === "通过第80关") {
                                    n[key].name = "Stage 80 cleared";
                                } else if(name === "解锁14级爆裂飞车") {
                                    n[key].name = "Level 14 armor unlocked";
                                } else if(name === "合成900次飞车") {
                                    n[key].name = "800 times merging";
                                } else if(name === "召唤爆裂飞车900次") {
                                    n[key].name = "summon armor 900 times";
                                } else if(name === "启用自动合成33次") {
                                    n[key].name = "auto-merging 33 times";
                                } else if(name === "完成探险85次") {
                                    n[key].name = "adventure 85 times";
                                } else if(name === "通过第90关") {
                                    n[key].name = "Stage 90 cleared";
                                } else if(name === "解锁15级爆裂飞车") {
                                    n[key].name = "Level 15 armor unlocked";
                                } else if(name === "合成1000次飞车") {
                                    n[key].name = "1000 times merging";
                                } else if(name === "召唤爆裂飞车1000次") {
                                    n[key].name = "summon armor 1000 times";
                                } else if(name === "启用自动合成37次") {
                                    n[key].name = "auto-merging 37 times";
                                } else if(name === "完成探险95次") {
                                    n[key].name = "adventure 95 times";
                                } else if(name === "通过第100关") {
                                    n[key].name = "Stage 100 cleared";
                                } else if(name === "解锁16级爆裂飞车") {
                                    n[key].name = "Level 16 armor unlocked";
                                } else if(name === "合成1100次飞车") {
                                    n[key].name = "1100 times merging";
                                } else if(name === "召唤爆裂飞车1100次") {
                                    n[key].name = "summon armor 1100 times";
                                } else if(name === "启用自动合成41次") {
                                    n[key].name = "auto-merging 41 times";
                                } else if(name === "完成探险105次") {
                                    n[key].name = "adventure 105 times";
                                } else if(name === "通过第120关") {
                                    n[key].name = "Stage 120 cleared";
                                } else if(name === "解锁17级爆裂飞车") {
                                    n[key].name = "Level 17 armor unlocked";
                                } else if(name === "合成1200次飞车") {
                                    n[key].name = "1100 times merging";
                                } else if(name === "召唤爆裂飞车1200次") {
                                    n[key].name = "summon armor 1200 times";
                                } else if(name === "启用自动合成45次") {
                                    n[key].name = "auto-merging 45 times";
                                } else if(name === "完成探险115次") {
                                    n[key].name = "adventure 115 times";
                                } else if(name === "通过第140关") {
                                    n[key].name = "Stage 140 cleared";
                                } else if(name === "解锁18级爆裂飞车") {
                                    n[key].name = "Level 18 armor unlocked";
                                } else if(name === "合成1300次飞车") {
                                    n[key].name = "1300 times merging";
                                } else if(name === "召唤爆裂飞车1300次") {
                                    n[key].name = "summon armor 1300 times";
                                } else if(name === "启用自动合成49次") {
                                    n[key].name = "auto-merging 49 times";
                                } else if(name === "完成探险125次") {
                                    n[key].name = "adventure 125 times";
                                } else if(name === "通过第160关") {
                                    n[key].name = "Stage 160 cleared";
                                } else if(name === "解锁19级爆裂飞车") {
                                    n[key].name = "Level 19 armor unlocked";
                                } else if(name === "合成1400次飞车") {
                                    n[key].name = "1400 times merging";
                                } else if(name === "召唤爆裂飞车1400次") {
                                    n[key].name = "summon armor 1400 times";
                                } else if(name === "启用自动合成53次") {
                                    n[key].name = "auto-merging 49 times";
                                }
                            }
                        } else if(t === "pay_db") {
                            for(var key in n) {
                                var name = n[key].name;
                                switch(name) {
                                    case "射手座-飞伦":
                                        n[key].name = "Sagittarius - Felon";
                                        break;
                                    case "巨蟹座-擎锋":
                                        n[key].name = "Cancer - Aaron";
                                        break;
                                    case "白羊座-阳烈":
                                        n[key].name = "Aries - Abner"
                                        break;
                                    case "双鱼座-洛晴":
                                        n[key].name = "Pisces - Annie";
                                        break;
                                    case "天蝎座-易霖":
                                        n[key].name = "Scorpio - Hamlin";
                                        break;
                                    case "天秤座-逐峰":
                                        n[key].name = "Libra - ZhuFeng";
                                        break;
                                    case "摩羯座-天劲":
                                        n[key].name = "Capricorn - Palmer";
                                        break;
                                    case "双子座-映月/映雪":
                                        n[key].name = "Gemini - Moon/Snow";
                                        break;
                                    case "狮子座-炽勇":
                                        n[key].name = "Leo - Louis";
                                        break;
                                    case "水瓶座-丁易":
                                        n[key].name = "Aquarius - Robbert";
                                        break;
                                    case "古磊-处女座":
                                        n[key].name = "Virgo - Luther";
                                        break;
                                    case "狂耀-金牛座":
                                        n[key].name = "Taurus - Carron";
                                        break;
                                }

                                if(n[key].desc1) {
                                    switch(n[key].desc1) {
                                        case "全体减速":
                                            n[key].desc1 = "Enemies slow down";
                                            break;
                                        case "火力翻倍":
                                            n[key].desc1 = "Attack x2";
                                            break;
                                        case "双倍金币":
                                            n[key].desc1 = "Coins x2";
                                            break;
                                        case "金币补给":
                                            n[key].desc1 = "Coins supply";
                                            break;
                                        case "自动合成":
                                            n[key].desc1 = "auto-merge";
                                            break;
                                        case "少量钻石":
                                            n[key].desc1 = "a few diamonds";
                                            break;
                                        case "大量钻石":
                                            n[key].desc1 = "lots of diamonds";
                                            break;
                                    }
                                }
                            }
                        }

                        e.allDbs[t] = n
                    })
                },
                t.getLoadHandlers = function (t) {
                    for (var e = this, n = t, a = 0; a < n.length; a++)
                        n[a];
                    var s = [],
                    c = function (t) {
                        var a = n[t];
                        s.push(function () {
                            return o(e, void 0, void 0, function () {
                                var t;
                                return i(this, function (e) {
                                    switch (e.label) {
                                    case 0:
                                        return [4, r.default.promiseLoadAsset("cfg/" + a, cc.JsonAsset)];
                                    case 1:
                                        return (t = e.sent()) && t.loaded ? this.allDbs[a] = t.json : cc.warn("warning] failed to load config!", a),
                                        [2]
                                    }
                                })
                            })
                        })
                    };
                    for (a = 0; a < n.length; a++)
                        c(a);
                    var l = [],
                    u = function (t) {
                        var n = l[t];
                        s.push(function () {
                            return o(e, void 0, void 0, function () {
                                return i(this, function (t) {
                                    switch (t.label) {
                                    case 0:
                                        return [4, n()];
                                    case 1:
                                        return t.sent(),
                                        [2]
                                    }
                                })
                            })
                        })
                    };
                    for (a = 0; a < l.length; a++)
                        u(a);
                    return s
                },
                t.getDb = function (t) {
                    var e = this.allDbs[t];
                    return e || cc.error("[warning] mgrCfg.getDb db not found! dbName=[" + t + "]"),
                    e
                },
                t.loaded = !1,
                t.allDbs = {},
                t
            }
            ();
            n.default = l,
            cc._RF.pop()
        }, {
            "../BaseConst": "BaseConst",
            "../_G": "_G",
            "../mgr/mgrRes": "mgrRes",
            "./Tools": "Tools"
        }
    ],
    CloneList: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "16d770vEYtGc7jc25Qg0oye", "CloneList"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = function () {
                return function () {}
            }
            ();
            n.CloneItem = o;
            var i = function () {
                function t(t, e, n) {
                    this.m_items = [],
                    this.m_itemTemplate = t,
                    this.m_itemClass = e,
                    null == n && (n = t.parent),
                    this.m_itemParent = n
                }
                return t.prototype.dispose = function () {
                    this.m_itemTemplate = null,
                    this.m_itemClass = null,
                    this.m_itemParent = null,
                    this.m_items = null
                },
                t.prototype.get = function (t) {
                    var e = this.m_items[t];
                    if (!e) {
                        var n = cc.instantiate(this.m_itemTemplate);
                        e = new this.m_itemClass(n),
                        n.setParent(this.m_itemParent),
                        this.m_items.push(e)
                    }
                    return e.show(),
                    e
                },
                t.prototype.hide = function (t) {
                    var e = this.m_items[t];
                    e && e.hide()
                },
                t.prototype.hideLeft = function (t) {
                    for (var e = this.m_items.length, n = this.m_items, o = t; o < e; o++)
                        n[o].hide()
                },
                t
            }
            ();
            n.default = i,
            cc._RF.pop()
        }, {}
    ],
    CocosEx: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "a423c3wfiNMIb9VZ/UBVBe+", "CocosEx"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("../mgr/mgrRes"),
            i = t("../utils/Tools");
            cc.Sprite.prototype.loadSpriteFrame = function (t, e) {
                var n = this,
                o = cc.loader.getRes(t, cc.SpriteFrame);
                o ? this.spriteFrame = o : cc.loader.loadRes(t, cc.SpriteFrame, function (o, r) {
                        o ? (cc.error("load sprite[" + t + "] err:", i.default.formatError(o)), e && e(t)) : cc.isValid(n) && (n.spriteFrame = r)
                    })
            },
            cc.Sprite.prototype.loadWebImage = function (t) {
                var e = this;
                o.default.loadImageFromWeb(t, function (t) {
                    t && cc.isValid(e) && (e.spriteFrame = new cc.SpriteFrame(t))
                })
            },
            cc.Label.prototype.loadFont = function (t, e) {
                var n = this,
                o = cc.loader.getRes(t, e);
                o ? this.font = o : cc.loader.loadRes(t, e, function (e, o) {
                        e ? cc.error("loadFont[" + t + "] err:", i.default.formatError(e)) : cc.isValid(n) && (n.font = o)
                    })
            },
            cc.Node.prototype.convertToWorldSpaceOut = function (t) {
                return this._updateWorldMatrix(),
                t.transformMat4(this._worldMatrix, t),
                t
            };
            var r = cc.renderer.renderEngine.math,
            a = r.mat4.create();
            function s(t) {
                if ("function" == typeof t || "object" == typeof t)
                    var e = ("" + t).match(/function\s*([\w\$]*)\s*\(/);
                return e && e[1]
            }
            cc.Node.prototype.convertToNodeSpaceOut = function (t) {
                return this._updateWorldMatrix(),
                r.mat4.invert(a, this._worldMatrix),
                t.transformMat4(a, t)
            },
            cc.Node.prototype.getChildComponent = function (t, e) {
                if (t && "" != t) {
                    var n = cc.find(t, this);
                    return n ? n.getComponent(e) : null
                }
                return this.getComponent(e)
            },
            cc.Node.prototype.getChildLabel = function (t) {
                return this.getChildComponent(t, cc.Label)
            },
            cc.Node.prototype.getChildSprite = function (t) {
                return this.getChildComponent(t, cc.Sprite)
            },
            window.UL_DEBUG = !1,
            "console" in window || (window.console = {}),
            console.trace || (console.trace = function () {
                for (var t = [], e = arguments.callee.caller; e; )
                    t.unshift(s(e)), e = e && e.caller;
                cc.log("functions on stack:\n" + t.join("\n"))
            }),
            cc._RF.pop()
        }, {
            "../mgr/mgrRes": "mgrRes",
            "../utils/Tools": "Tools"
        }
    ],
    Const: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "e29f1Urqa1Gw7pjt2dlor5d", "Const"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            }),
            function (t) {
                t.LOADING_COMPLETED = "LOADING_COMPLETED",
                t.UI_CLOSE_DIALOG = "UI_CLOSE_DIALOG",
                t.RECEIVE_RANK_DATA = "RECEIVE_RANK_DATA",
                t.RECEIVE_SELF_RANK_DATA = "RECEIVE_SELF_RANK_DATA",
                t.GUIDE_COMPLETE_KEY = "GUD_COMPLETE_KEY",
                t.NO_ADS = "NO_ADS",
                t.UI_CLICK_SINGLE_ITEM_ADV = "UI_CLICK_SINGLE_ITEM_ADV",
                t.UI_CLICK_USER_INFO = "UI_CLICK_USER_INFO",
                t.UI_UPDATE_TIP_STATE = "UI_UPDATE_TIP_STATE",
                t.UI_GAME_MENU_VISIBLE = "UI_GAME_MENU_VISIBLE",
                t.UI_USER_INFO_SHOW = "UI_USER_INFO_SHOW",
                t.UI_MASK_ENABLE = "UI_MASK_ENABLE",
                t.DUMMY_ITEM_CHANGE = "UI_DUMMY_ITEM_CHANGE",
                t.UI_PLAY_FLY_COIN_DIR = "UI_PLAY_FLY_COIN_DIR",
                t.GAME_START_BOSS = "GAME_START_BOSS",
                t.UI_UPDATE_LEVEL = "UI_UPDATE_LEVEL",
                t.UI_UPDATE_TOWER_STATE = "UI_UPDATE_TOWER_STATE",
                t.UI_SHOW_BOSS_FINGER = "UI_SHOW_BOSS_FINGER",
                t.UI_SHOW_DEBUG_INFO = "UI_SHOW_DEBUG_INFO",
                t.UI_SHOW_CARD_FOCUS = "UI_SHOW_CARD_FOCUS",
                t.UI_LEFT_MENU_VISIBLE = "UI_LEFT_MENU_VISIBLE",
                t.UI_CALL_WHEN_ENTER = "UI_CALL_WHEN_ENTER",
                t.CARD_MAX_LEVEL_CHANGE = "CARD_MAX_LEVEL_CHANGE",
                t.CARD_REVIVE = "CARD_REVIVE",
                t.GAME_START = "GAME_START",
                t.GAME_END = "GAME_END"
            }
            (n.MSG || (n.MSG = {})),
            function (t) {
                t.DIAMOND = "1000",
                t.COIN = "1001",
                t.VIT = "1002",
                t.RMB = "1003",
                t.FREE_ADV = "1004",
                t.STAR = "1005",
                t.CD_QUEST_ACC = "taskt",
                t.CD_QUEST_COUNT = "5000",
                t.SPEED_SCALE = "1100",
                t.DB_ATK = "1110",
                t.DB_COIN = "1120",
                t.BOX0 = "1200",
                t.BOX1 = "1201",
                t.AUTO_MERGE = "1130",
                t.START = "start",
                t.END = "end",
                t.EMPTY = "empty",
                t.SLIDE_ATK = "slide_atk",
                t.EASY = "easy",
                t.HARD = "hard"
            }
            (n.ITEM_ID || (n.ITEM_ID = {})),
            function (t) {
                t.LEVEL = "LEVEL",
                t.CARD_MAX = "CARD_MAX",
                t.MERGE_CARD = "MERGE_CARD",
                t.OPEN_BOX = "OPEN_BOX",
                t.MAKE_CARD = "MAKE_CARD",
                t.PLAY_CARD_GAME = "PLAY_CARD_GAME",
                t.OPEN_GIFT = "OPEN_GIFT",
                t.SIGN = "SIGN"
            }
            (n.ACTION_ID || (n.ACTION_ID = {})),
            function (t) {
                t.SPEED_SCALE = "100",
                t.DB_ATK = "101",
                t.DB_COIN = "102",
                t.FREE_COIN = "103",
                t.AUTO_MERGE = "104",
                t.DIAMOND1 = "105",
                t.DIAMOND2 = "106",
                t.LOTTERY = "107"
            }
            (n.PAY_ID || (n.PAY_ID = {})),
            function (t) {
                t.CD_QUEST_FINISH = "10"
            }
            (n.GOAL_ID || (n.GOAL_ID = {})),
            function (t) {
                t.DAILY_RANK = "4",
                t.WEEKLY_RANK = "5"
            }
            (n.SWITCH_ID || (n.SWITCH_ID = {})),
            function (t) {
                t.SIGN = "1",
                t.CARD = "fd001",
                t.LOTTERY = "2",
                t.BOX = "drop_1"
            }
            (n.DROP_ID || (n.DROP_ID = {})),
            function (t) {
                t[t.MATERIAL = 0] = "MATERIAL",
                t[t.FRAGMENT = 1] = "FRAGMENT",
                t[t.GIFT = 2] = "GIFT",
                t[t.PROP = 3] = "PROP",
                t[t.SPE = 4] = "SPE"
            }
            (n.GOODS_ITEM_TYPE || (n.GOODS_ITEM_TYPE = {})),
            n.ITEM_CHANGE_REASON = {
                QUEST_COMMIT: "commit task",
                AUTO_INCREASE: "auto increase",
                SELL: "Sell",
                AUTO_SELL: "Auto-Sell",
                LEVEL_UP: "Upgrade",
                USE: "Use ",
                PAY: "Items ",
                BEFORE_PAY: "Resume Purchase",
                SYS: "SYS",
                GM: "GM",
                CDKEY: "CDKEY",
                SIGN: "SIGN",
                SHARE: "SHARE",
                LOTTERY: "LOTTERY",
                OFF_LINE: "OFFLINE REWARDS",
                ADV_ITEM: "SUPPLY",
                LEVEL: "Level Reward",
                EXCHANGE: "EXCHANGE",
                FREE_LVUP: "FREE LEVEL UP",
                AUTO_MERGE: "AUTO MERGE",
                MERGE: "MERGE",
                CARD: "adventure",
                AD_GIFT: "GIFT",
                DB_AWARD: "DOUBLE REWARD",
                NEW_BOX: "New Armor Box"
            },
            function (t) {
                t[t.ROLE = 0] = "ROLE",
                t[t.ATTR = 1] = "ATTR",
                t[t.OTHER = 2] = "OTHER"
            }
            (n.UP_ITEM_TYPE || (n.UP_ITEM_TYPE = {})),
            function (t) {
                t[t.NORMAL = 0] = "NORMAL",
                t[t.CARD = 1] = "CARD",
                t[t.BULLET = 2] = "BULLET",
                t[t.TOWER = 3] = "TOWER",
                t[t.BOX = 4] = "BOX"
            }
            (n.PROP_TYPE || (n.PROP_TYPE = {})),
            function (t) {
                t[t.HERO = 0] = "HERO",
                t[t.MONSTER = 1] = "MONSTER",
                t[t.BULLET = 2] = "BULLET"
            }
            (n.UNIT_TYPE || (n.UNIT_TYPE = {})),
            function (t) {
                t[t.FIRE = 0] = "FIRE",
                t[t.ELC = 1] = "ELC",
                t[t.ACC = 2] = "ACC",
                t[t.INVINCIBLE = 3] = "INVINCIBLE",
                t[t.ICE = 4] = "ICE"
            }
            (n.BUFF_TYPE || (n.BUFF_TYPE = {})),
            function (t) {
                t[t.NONE = 0] = "NONE",
                t[t.PROP = 1] = "PROP",
                t[t.VIP = 2] = "VIP"
            }
            (n.PAY_GID || (n.PAY_GID = {})),
            function (t) {
                t[t.Default = 0] = "Default",
                t[t.Ground = 1] = "Ground",
                t[t.Object = 2] = "Object",
                t[t.Effect = 3] = "Effect"
            }
            (n.LayerMask || (n.LayerMask = {})),
            function (t) {
                t.EnterMain = "EnterMain"
            }
            (n.GuideEvent || (n.GuideEvent = {})),
            function (t) {
                t.MAIN_FOCUS_OFF = "MAIN_FOCUS_OFF",
                t.MERGE_CARD = "MERGE_CARD",
                t.ADD_TOWER = "ADD_TOWER",
                t.ENTER_MAIN = "ENTER_MAIN",
                t.START_BOSS = "START_BOSS",
                t.HIT_BOSS = "HIT_BOSS",
                t.ENTER_LEVEL = "ENTER_LEVEL",
                t.ENTER_CARD = "ENTER_CARD",
                t.MOVE_CARD = "MOVE_CARD",
                t.CLOSE_HELP = "CLOSE_HELP",
                t.CLOSE_CARD = "CLOSE_CARD",
                t.ENTER_BOSS_UP = "ENTER_BOSS_UP",
                t.ENTER_PROP = "ENTER_PROP",
                t.ENTER_AUTO = "ENTER_AUTO",
                t.EnterQuest = "EnterQuest",
                t.EnterUpKnife = "EnterUpKnife",
                t.EnterUpSkill = "EnterUpSkill"
            }
            (n.GUIDE_MSG || (n.GUIDE_MSG = {})),
            function (t) {
                t[t.CALLBACK = 0] = "CALLBACK",
                t[t.UNLOCK_MD = 1] = "UNLOCK_MD",
                t[t.REST_UP = 2] = "REST_UP",
                t[t.SHOW_ITEMS = 3] = "SHOW_ITEMS"
            }
            (n.PANEL_PRIORITY || (n.PANEL_PRIORITY = {})),
            function (t) {
                t[t.ATK = 0] = "ATK",
                t[t.ATK_ACC = 1] = "ATK_ACC",
                t[t.SPE = 2] = "SPE",
                t[t.BULLET_COUNT = 3] = "BULLET_COUNT",
                t[t.COIN_GAIN = 4] = "COIN_GAIN",
                t[t.DIAMOND_RATE = 5] = "DIAMOND_RATE",
                t[t.KILL_RATE = 6] = "KILL_RATE"
            }
            (n.ATTR_INDEX || (n.ATTR_INDEX = {})),
            n.GuideInfo = {
                bGuideMode: !1,
                _guideCreate: 0,
                buyFree: !1,
                buyQuality: 16,
                destIndex: 1e3
            },
            cc._RF.pop()
        }, {}
    ],
    CrashReporter: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "daff6+FubBGBoRVxXfO68Sj", "CrashReporter"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("../_G"),
            i = function () {
                function t() {
                    this.reportedLog = {},
                    this.registerOnErrorCallback()
                }
                return t.getInstance = function () {
                    return this.reporter ? this.reporter : (this.reporter = new t, this.reporter)
                },
                t.prototype.setReportUrl = function (t) {
                    this.reportUrl = t
                },
                t.prototype.setReportTypeId = function (t) {
                    this.reportTypeId = t
                },
                t.prototype.setDataHook = function (t) {
                    this.hookCallback = t
                },
                t.prototype.registerOnErrorCallback = function () {
                    var t,
                    e,
                    n = this;
                    cc.sys.isNative && (window.__errorHandler && (t = window.__errorHandler), window.__errorHandler = function (e, o, i, r) {
                        setTimeout(function () {
                            n._native_onerror(e, o, i, r)
                        }, 0),
                        t instanceof Function && t(e, o, i, r)
                    });
                    cc.sys.isBrowser && (window.onerror && (e = window.onerror), window.onerror = function (t, o, i, r, a) {
                        setTimeout(function () {
                            n._browser_onerror(t, o, i, r, a)
                        }, 0),
                        e instanceof Function && e(t, o, i, r, a)
                    })
                },
                t.prototype._browser_onerror = function (t, e, n, o, i) {
                    o = o || window.event && window.event.errorCharacter || 0;
                    var r = {
                        message: t.toString(),
                        stack: "",
                        location: e || "",
                        line: n || 0,
                        col: o || 0
                    };
                    if (i && i.stack)
                        r.stack = i.stack.toString();
                    else if (window.arguments && window.arguments.callee) {
                        for (var a = [], s = window.arguments.callee.caller, c = 3; s && --c > 0 && (a.push(s.toString()), s !== s.caller); )
                            s = s.caller;
                        r.stack = a.join(",")
                    }
                    try {
                        this.onError(r)
                    } catch (i) {
                        console.error("CrashReporter.onError has exception:", i)
                    }
                },
                t.prototype._native_onerror = function (t, e, n, o) {
                    var i = {
                        message: n || "",
                        stack: o || "",
                        location: t || "",
                        line: e || 0,
                        col: 0
                    };
                    try {
                        this.onError(i)
                    } catch (t) {
                        console.error("CrashReporter.onError has exception:", t)
                    }
                },
                t.prototype.manualReport = function (t, e, n) {
                    this.onError({
                        message: e || "",
                        stack: n || "",
                        location: t || "ulframework/utils/CrashReport.manualReport",
                        line: 0,
                        col: 0
                    })
                },
                t.prototype.onError = function (t) {
                    var e = "",
                    n = "",
                    i = cc.size(0, 0);
                    if (this.hookCallback instanceof Function) {
                        var r = this.hookCallback();
                        e = r.uid || "",
                        n = r.channelName || "",
                        i = r.viewSize || cc.size(0, 0)
                    }
                    var a = o.default.GAME_VERSION.toString(),
                    s = t.message.toString(),
                    c = t.stack.toString();
                    c.length > 1024 && (c = c.substr(0, 1024));
                    var l = t.location.toString(),
                    u = t.line.toString(),
                    d = t.col.toString(),
                    p = cc.sys.os.toString() || "",
                    h = cc.sys.osVersion.toString() || "",
                    f = cc.view.getFrameSize().width + ", " + cc.view.getFrameSize().height,
                    _ = i.width + ", " + i.height,
                    m = cc.sys.language.toString() || "";
                    console.log("CrashReport.onError:"),
                    console.log("  uid", e),
                    console.log("  channelName", n),
                    console.log("  gameVersion", a),
                    console.log("  message", s),
                    console.log("  stack", c),
                    console.log("  location", l),
                    console.log("  line", u),
                    console.log("  col", d),
                    console.log("  os", p),
                    console.log("  osVersion", h),
                    console.log("  deviceSize", f),
                    console.log("  viewSizeStr", _),
                    console.log("  language", m),
                    console.log("  gitHash", "LOCAL_PATCH_GIT_HASH");
                    var g = [e, n, a, s, c, l, u, d, p, h, f, _, m, "LOCAL_PATCH_GIT_HASH"],
                    y = t.message + t.location + t.message;
                    this.reportedLog[y] ? console.log("crash info reported!") : (this.uploadCrashInfo(g), this.reportedLog[y] = !0)
                },
                t.prototype.uploadCrashInfo = function (t) {
                    this.reportUrl ? this.reportTypeId ? console.error("no need to report under debug mode.") : console.error("CrashInfo.uploadCrashInfo reportTypeId not found!") : console.error("CrashInfo.uploadCrashInfo reportUrl not found!")
                },
                t
            }
            ();
            n.CrashReporter = i,
            cc._RF.pop()
        }, {
            "../_G": "_G"
        }
    ],
    1: [function (t, e, n) {
            "use strict";
            n.byteLength = function (t) {
                var e = l(t),
                n = e[0],
                o = e[1];
                return 3 * (n + o) / 4 - o
            },
            n.toByteArray = function (t) {
                for (var e, n = l(t), o = n[0], a = n[1], s = new r(u(t, o, a)), c = 0, d = a > 0 ? o - 4 : o, p = 0; p < d; p += 4)
                    e = i[t.charCodeAt(p)] << 18 | i[t.charCodeAt(p + 1)] << 12 | i[t.charCodeAt(p + 2)] << 6 | i[t.charCodeAt(p + 3)], s[c++] = e >> 16 & 255, s[c++] = e >> 8 & 255, s[c++] = 255 & e;
                2 === a && (e = i[t.charCodeAt(p)] << 2 | i[t.charCodeAt(p + 1)] >> 4, s[c++] = 255 & e);
                1 === a && (e = i[t.charCodeAt(p)] << 10 | i[t.charCodeAt(p + 1)] << 4 | i[t.charCodeAt(p + 2)] >> 2, s[c++] = e >> 8 & 255, s[c++] = 255 & e);
                return s
            },
            n.fromByteArray = function (t) {
                for (var e, n = t.length, i = n % 3, r = [], a = 0, s = n - i; a < s; a += 16383)
                    r.push(p(t, a, a + 16383 > s ? s : a + 16383));
                1 === i ? (e = t[n - 1], r.push(o[e >> 2] + o[e << 4 & 63] + "==")) : 2 === i && (e = (t[n - 2] << 8) + t[n - 1], r.push(o[e >> 10] + o[e >> 4 & 63] + o[e << 2 & 63] + "="));
                return r.join("")
            };
            for (var o = [], i = [], r = "undefined" != typeof Uint8Array ? Uint8Array : Array, a = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", s = 0, c = a.length; s < c; ++s)
                o[s] = a[s], i[a.charCodeAt(s)] = s;
            function l(t) {
                var e = t.length;
                if (e % 4 > 0)
                    throw new Error("Invalid string. Length must be a multiple of 4");
                var n = t.indexOf("=");
                return -1 === n && (n = e),
                [n, n === e ? 0 : 4 - n % 4]
            }
            function u(t, e, n) {
                return 3 * (e + n) / 4 - n
            }
            function d(t) {
                return o[t >> 18 & 63] + o[t >> 12 & 63] + o[t >> 6 & 63] + o[63 & t]
            }
            function p(t, e, n) {
                for (var o, i = [], r = e; r < n; r += 3)
                    o = (t[r] << 16 & 16711680) + (t[r + 1] << 8 & 65280) + (255 & t[r + 2]), i.push(d(o));
                return i.join("")
            }
            i["-".charCodeAt(0)] = 62,
            i["_".charCodeAt(0)] = 63
        }, {}
    ],
    2: [function (t, e, n) {
            (function (e) {
                "use strict";
                var o = t("base64-js"),
                i = t("ieee754"),
                r = t("isarray");
                function a() {
                    return c.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823
                }
                function s(t, e) {
                    if (a() < e)
                        throw new RangeError("Invalid typed array length");
                    return c.TYPED_ARRAY_SUPPORT ? (t = new Uint8Array(e)).__proto__ = c.prototype : (null === t && (t = new c(e)), t.length = e),
                    t
                }
                function c(t, e, n) {
                    if (!(c.TYPED_ARRAY_SUPPORT || this instanceof c))
                        return new c(t, e, n);
                    if ("number" == typeof t) {
                        if ("string" == typeof e)
                            throw new Error("If encoding is specified then the first argument must be a string");
                        return p(this, t)
                    }
                    return l(this, t, e, n)
                }
                function l(t, e, n, o) {
                    if ("number" == typeof e)
                        throw new TypeError('"value" argument must not be a number');
                    return "undefined" != typeof ArrayBuffer && e instanceof ArrayBuffer ? _(t, e, n, o) : "string" == typeof e ? h(t, e, n) : m(t, e)
                }
                function u(t) {
                    if ("number" != typeof t)
                        throw new TypeError('"size" argument must be a number');
                    if (t < 0)
                        throw new RangeError('"size" argument must not be negative')
                }
                function d(t, e, n, o) {
                    return u(e),
                    e <= 0 ? s(t, e) : void 0 !== n ? "string" == typeof o ? s(t, e).fill(n, o) : s(t, e).fill(n) : s(t, e)
                }
                function p(t, e) {
                    if (u(e), t = s(t, e < 0 ? 0 : 0 | g(e)), !c.TYPED_ARRAY_SUPPORT)
                        for (var n = 0; n < e; ++n)
                            t[n] = 0;
                    return t
                }
                function h(t, e, n) {
                    if ("string" == typeof n && "" !== n || (n = "utf8"), !c.isEncoding(n))
                        throw new TypeError('"encoding" must be a valid string encoding');
                    var o = 0 | y(e, n),
                    i = (t = s(t, o)).write(e, n);
                    return i !== o && (t = t.slice(0, i)),
                    t
                }
                function f(t, e) {
                    var n = e.length < 0 ? 0 : 0 | g(e.length);
                    t = s(t, n);
                    for (var o = 0; o < n; o += 1)
                        t[o] = 255 & e[o];
                    return t
                }
                function _(t, e, n, o) {
                    if (e.byteLength, n < 0 || e.byteLength < n)
                        throw new RangeError("'offset' is out of bounds");
                    if (e.byteLength < n + (o || 0))
                        throw new RangeError("'length' is out of bounds");
                    return e = void 0 === n && void 0 === o ? new Uint8Array(e) : void 0 === o ? new Uint8Array(e, n) : new Uint8Array(e, n, o),
                    c.TYPED_ARRAY_SUPPORT ? (t = e).__proto__ = c.prototype : t = f(t, e),
                    t
                }
                function m(t, e) {
                    if (c.isBuffer(e)) {
                        var n = 0 | g(e.length);
                        return 0 === (t = s(t, n)).length ? t : (e.copy(t, 0, 0, n), t)
                    }
                    if (e) {
                        if ("undefined" != typeof ArrayBuffer && e.buffer instanceof ArrayBuffer || "length" in e)
                            return "number" != typeof e.length || $(e.length) ? s(t, 0) : f(t, e);
                        if ("Buffer" === e.type && r(e.data))
                            return f(t, e.data)
                    }
                    throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")
                }
                function g(t) {
                    if (t >= a())
                        throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + a().toString(16) + " bytes");
                    return 0 | t
                }
                function y(t, e) {
                    if (c.isBuffer(t))
                        return t.length;
                    if ("undefined" != typeof ArrayBuffer && "function" == typeof ArrayBuffer.isView && (ArrayBuffer.isView(t) || t instanceof ArrayBuffer))
                        return t.byteLength;
                    "string" != typeof t && (t = "" + t);
                    var n = t.length;
                    if (0 === n)
                        return 0;
                    for (var o = !1; ; )
                        switch (e) {
                        case "ascii":
                        case "latin1":
                        case "binary":
                            return n;
                        case "utf8":
                        case "utf-8":
                        case void 0:
                            return q(t).length;
                        case "ucs2":
                        case "ucs-2":
                        case "utf16le":
                        case "utf-16le":
                            return 2 * n;
                        case "hex":
                            return n >>> 1;
                        case "base64":
                            return J(t).length;
                        default:
                            if (o)
                                return q(t).length;
                            e = ("" + e).toLowerCase(),
                            o = !0
                        }
                }
                function v(t, e, n) {
                    var o = !1;
                    if ((void 0 === e || e < 0) && (e = 0), e > this.length)
                        return "";
                    if ((void 0 === n || n > this.length) && (n = this.length), n <= 0)
                        return "";
                    if ((n >>>= 0) <= (e >>>= 0))
                        return "";
                    for (t || (t = "utf8"); ; )
                        switch (t) {
                        case "hex":
                            return N(this, e, n);
                        case "utf8":
                        case "utf-8":
                            return D(this, e, n);
                        case "ascii":
                            return R(this, e, n);
                        case "latin1":
                        case "binary":
                            return L(this, e, n);
                        case "base64":
                            return M(this, e, n);
                        case "ucs2":
                        case "ucs-2":
                        case "utf16le":
                        case "utf-16le":
                            return k(this, e, n);
                        default:
                            if (o)
                                throw new TypeError("Unknown encoding: " + t);
                            t = (t + "").toLowerCase(),
                            o = !0
                        }
                }
                function b(t, e, n) {
                    var o = t[e];
                    t[e] = t[n],
                    t[n] = o
                }
                function S(t, e, n, o, i) {
                    if (0 === t.length)
                        return -1;
                    if ("string" == typeof n ? (o = n, n = 0) : n > 2147483647 ? n = 2147483647 : n < -2147483648 && (n = -2147483648), n = +n, isNaN(n) && (n = i ? 0 : t.length - 1), n < 0 && (n = t.length + n), n >= t.length) {
                        if (i)
                            return -1;
                        n = t.length - 1
                    } else if (n < 0) {
                        if (!i)
                            return -1;
                        n = 0
                    }
                    if ("string" == typeof e && (e = c.from(e, o)), c.isBuffer(e))
                        return 0 === e.length ? -1 : A(t, e, n, o, i);
                    if ("number" == typeof e)
                        return e &= 255, c.TYPED_ARRAY_SUPPORT && "function" == typeof Uint8Array.prototype.indexOf ? i ? Uint8Array.prototype.indexOf.call(t, e, n) : Uint8Array.prototype.lastIndexOf.call(t, e, n) : A(t, [e], n, o, i);
                    throw new TypeError("val must be string, number or Buffer")
                }
                function A(t, e, n, o, i) {
                    var r,
                    a = 1,
                    s = t.length,
                    c = e.length;
                    if (void 0 !== o && ("ucs2" === (o = String(o).toLowerCase()) || "ucs-2" === o || "utf16le" === o || "utf-16le" === o)) {
                        if (t.length < 2 || e.length < 2)
                            return -1;
                        a = 2,
                        s /= 2,
                        c /= 2,
                        n /= 2
                    }
                    function l(t, e) {
                        return 1 === a ? t[e] : t.readUInt16BE(e * a)
                    }
                    if (i) {
                        var u = -1;
                        for (r = n; r < s; r++)
                            if (l(t, r) === l(e, -1 === u ? 0 : r - u)) {
                                if (-1 === u && (u = r), r - u + 1 === c)
                                    return u * a
                            } else  - 1 !== u && (r -= r - u), u = -1
                    } else
                        for (n + c > s && (n = s - c), r = n; r >= 0; r--) {
                            for (var d = !0, p = 0; p < c; p++)
                                if (l(t, r + p) !== l(e, p)) {
                                    d = !1;
                                    break
                                }
                            if (d)
                                return r
                        }
                    return -1
                }
                function C(t, e, n, o) {
                    n = Number(n) || 0;
                    var i = t.length - n;
                    o ? (o = Number(o)) > i && (o = i) : o = i;
                    var r = e.length;
                    if (r % 2 != 0)
                        throw new TypeError("Invalid hex string");
                    o > r / 2 && (o = r / 2);
                    for (var a = 0; a < o; ++a) {
                        var s = parseInt(e.substr(2 * a, 2), 16);
                        if (isNaN(s))
                            return a;
                        t[n + a] = s
                    }
                    return a
                }
                function I(t, e, n, o) {
                    return X(q(e, t.length - n), t, n, o)
                }
                function T(t, e, n, o) {
                    return X(Q(e), t, n, o)
                }
                function E(t, e, n, o) {
                    return T(t, e, n, o)
                }
                function w(t, e, n, o) {
                    return X(J(e), t, n, o)
                }
                function P(t, e, n, o) {
                    return X(Z(e, t.length - n), t, n, o)
                }
                function M(t, e, n) {
                    return 0 === e && n === t.length ? o.fromByteArray(t) : o.fromByteArray(t.slice(e, n))
                }
                function D(t, e, n) {
                    n = Math.min(t.length, n);
                    for (var o = [], i = e; i < n; ) {
                        var r,
                        a,
                        s,
                        c,
                        l = t[i],
                        u = null,
                        d = l > 239 ? 4 : l > 223 ? 3 : l > 191 ? 2 : 1;
                        if (i + d <= n)
                            switch (d) {
                            case 1:
                                l < 128 && (u = l);
                                break;
                            case 2:
                                128 == (192 & (r = t[i + 1])) && (c = (31 & l) << 6 | 63 & r) > 127 && (u = c);
                                break;
                            case 3:
                                r = t[i + 1],
                                a = t[i + 2],
                                128 == (192 & r) && 128 == (192 & a) && (c = (15 & l) << 12 | (63 & r) << 6 | 63 & a) > 2047 && (c < 55296 || c > 57343) && (u = c);
                                break;
                            case 4:
                                r = t[i + 1],
                                a = t[i + 2],
                                s = t[i + 3],
                                128 == (192 & r) && 128 == (192 & a) && 128 == (192 & s) && (c = (15 & l) << 18 | (63 & r) << 12 | (63 & a) << 6 | 63 & s) > 65535 && c < 1114112 && (u = c)
                            }
                        null === u ? (u = 65533, d = 1) : u > 65535 && (u -= 65536, o.push(u >>> 10 & 1023 | 55296), u = 56320 | 1023 & u),
                        o.push(u),
                        i += d
                    }
                    return x(o)
                }
                n.Buffer = c,
                n.SlowBuffer = function (t) {
                    +t != t && (t = 0);
                    return c.alloc(+t)
                },
                n.INSPECT_MAX_BYTES = 50,
                c.TYPED_ARRAY_SUPPORT = void 0 !== e.TYPED_ARRAY_SUPPORT ? e.TYPED_ARRAY_SUPPORT : function () {
                    try {
                        var t = new Uint8Array(1);
                        return t.__proto__ = {
                            __proto__: Uint8Array.prototype,
                            foo: function () {
                                return 42
                            }
                        },
                        42 === t.foo() && "function" == typeof t.subarray && 0 === t.subarray(1, 1).byteLength
                    } catch (t) {
                        return !1
                    }
                }
                (),
                n.kMaxLength = a(),
                c.poolSize = 8192,
                c._augment = function (t) {
                    return t.__proto__ = c.prototype,
                    t
                },
                c.from = function (t, e, n) {
                    return l(null, t, e, n)
                },
                c.TYPED_ARRAY_SUPPORT && (c.prototype.__proto__ = Uint8Array.prototype, c.__proto__ = Uint8Array, "undefined" != typeof Symbol && Symbol.species && c[Symbol.species] === c && Object.defineProperty(c, Symbol.species, {
                        value: null,
                        configurable: !0
                    })),
                c.alloc = function (t, e, n) {
                    return d(null, t, e, n)
                },
                c.allocUnsafe = function (t) {
                    return p(null, t)
                },
                c.allocUnsafeSlow = function (t) {
                    return p(null, t)
                },
                c.isBuffer = function (t) {
                    return !(null == t || !t._isBuffer)
                },
                c.compare = function (t, e) {
                    if (!c.isBuffer(t) || !c.isBuffer(e))
                        throw new TypeError("Arguments must be Buffers");
                    if (t === e)
                        return 0;
                    for (var n = t.length, o = e.length, i = 0, r = Math.min(n, o); i < r; ++i)
                        if (t[i] !== e[i]) {
                            n = t[i],
                            o = e[i];
                            break
                        }
                    return n < o ? -1 : o < n ? 1 : 0
                },
                c.isEncoding = function (t) {
                    switch (String(t).toLowerCase()) {
                    case "hex":
                    case "utf8":
                    case "utf-8":
                    case "ascii":
                    case "latin1":
                    case "binary":
                    case "base64":
                    case "ucs2":
                    case "ucs-2":
                    case "utf16le":
                    case "utf-16le":
                        return !0;
                    default:
                        return !1
                    }
                },
                c.concat = function (t, e) {
                    if (!r(t))
                        throw new TypeError('"list" argument must be an Array of Buffers');
                    if (0 === t.length)
                        return c.alloc(0);
                    var n;
                    if (void 0 === e)
                        for (e = 0, n = 0; n < t.length; ++n)
                            e += t[n].length;
                    var o = c.allocUnsafe(e),
                    i = 0;
                    for (n = 0; n < t.length; ++n) {
                        var a = t[n];
                        if (!c.isBuffer(a))
                            throw new TypeError('"list" argument must be an Array of Buffers');
                        a.copy(o, i),
                        i += a.length
                    }
                    return o
                },
                c.byteLength = y,
                c.prototype._isBuffer = !0,
                c.prototype.swap16 = function () {
                    var t = this.length;
                    if (t % 2 != 0)
                        throw new RangeError("Buffer size must be a multiple of 16-bits");
                    for (var e = 0; e < t; e += 2)
                        b(this, e, e + 1);
                    return this
                },
                c.prototype.swap32 = function () {
                    var t = this.length;
                    if (t % 4 != 0)
                        throw new RangeError("Buffer size must be a multiple of 32-bits");
                    for (var e = 0; e < t; e += 4)
                        b(this, e, e + 3), b(this, e + 1, e + 2);
                    return this
                },
                c.prototype.swap64 = function () {
                    var t = this.length;
                    if (t % 8 != 0)
                        throw new RangeError("Buffer size must be a multiple of 64-bits");
                    for (var e = 0; e < t; e += 8)
                        b(this, e, e + 7), b(this, e + 1, e + 6), b(this, e + 2, e + 5), b(this, e + 3, e + 4);
                    return this
                },
                c.prototype.toString = function () {
                    var t = 0 | this.length;
                    return 0 === t ? "" : 0 === arguments.length ? D(this, 0, t) : v.apply(this, arguments)
                },
                c.prototype.equals = function (t) {
                    if (!c.isBuffer(t))
                        throw new TypeError("Argument must be a Buffer");
                    return this === t || 0 === c.compare(this, t)
                },
                c.prototype.inspect = function () {
                    var t = "",
                    e = n.INSPECT_MAX_BYTES;
                    return this.length > 0 && (t = this.toString("hex", 0, e).match(/.{2}/g).join(" "), this.length > e && (t += " ... ")),
                    "<Buffer " + t + ">"
                },
                c.prototype.compare = function (t, e, n, o, i) {
                    if (!c.isBuffer(t))
                        throw new TypeError("Argument must be a Buffer");
                    if (void 0 === e && (e = 0), void 0 === n && (n = t ? t.length : 0), void 0 === o && (o = 0), void 0 === i && (i = this.length), e < 0 || n > t.length || o < 0 || i > this.length)
                        throw new RangeError("out of range index");
                    if (o >= i && e >= n)
                        return 0;
                    if (o >= i)
                        return -1;
                    if (e >= n)
                        return 1;
                    if (e >>>= 0, n >>>= 0, o >>>= 0, i >>>= 0, this === t)
                        return 0;
                    for (var r = i - o, a = n - e, s = Math.min(r, a), l = this.slice(o, i), u = t.slice(e, n), d = 0; d < s; ++d)
                        if (l[d] !== u[d]) {
                            r = l[d],
                            a = u[d];
                            break
                        }
                    return r < a ? -1 : a < r ? 1 : 0
                },
                c.prototype.includes = function (t, e, n) {
                    return -1 !== this.indexOf(t, e, n)
                },
                c.prototype.indexOf = function (t, e, n) {
                    return S(this, t, e, n, !0)
                },
                c.prototype.lastIndexOf = function (t, e, n) {
                    return S(this, t, e, n, !1)
                },
                c.prototype.write = function (t, e, n, o) {
                    if (void 0 === e)
                        o = "utf8", n = this.length, e = 0;
                    else if (void 0 === n && "string" == typeof e)
                        o = e, n = this.length, e = 0;
                    else {
                        if (!isFinite(e))
                            throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
                        e |= 0,
                        isFinite(n) ? (n |= 0, void 0 === o && (o = "utf8")) : (o = n, n = void 0)
                    }
                    var i = this.length - e;
                    if ((void 0 === n || n > i) && (n = i), t.length > 0 && (n < 0 || e < 0) || e > this.length)
                        throw new RangeError("Attempt to write outside buffer bounds");
                    o || (o = "utf8");
                    for (var r = !1; ; )
                        switch (o) {
                        case "hex":
                            return C(this, t, e, n);
                        case "utf8":
                        case "utf-8":
                            return I(this, t, e, n);
                        case "ascii":
                            return T(this, t, e, n);
                        case "latin1":
                        case "binary":
                            return E(this, t, e, n);
                        case "base64":
                            return w(this, t, e, n);
                        case "ucs2":
                        case "ucs-2":
                        case "utf16le":
                        case "utf-16le":
                            return P(this, t, e, n);
                        default:
                            if (r)
                                throw new TypeError("Unknown encoding: " + o);
                            o = ("" + o).toLowerCase(),
                            r = !0
                        }
                },
                c.prototype.toJSON = function () {
                    return {
                        type: "Buffer",
                        data: Array.prototype.slice.call(this._arr || this, 0)
                    }
                };
                var O = 4096;
                function x(t) {
                    var e = t.length;
                    if (e <= O)
                        return String.fromCharCode.apply(String, t);
                    for (var n = "", o = 0; o < e; )
                        n += String.fromCharCode.apply(String, t.slice(o, o += O));
                    return n
                }
                function R(t, e, n) {
                    var o = "";
                    n = Math.min(t.length, n);
                    for (var i = e; i < n; ++i)
                        o += String.fromCharCode(127 & t[i]);
                    return o
                }
                function L(t, e, n) {
                    var o = "";
                    n = Math.min(t.length, n);
                    for (var i = e; i < n; ++i)
                        o += String.fromCharCode(t[i]);
                    return o
                }
                function N(t, e, n) {
                    var o = t.length;
                    (!e || e < 0) && (e = 0),
                    (!n || n < 0 || n > o) && (n = o);
                    for (var i = "", r = e; r < n; ++r)
                        i += z(t[r]);
                    return i
                }
                function k(t, e, n) {
                    for (var o = t.slice(e, n), i = "", r = 0; r < o.length; r += 2)
                        i += String.fromCharCode(o[r] + 256 * o[r + 1]);
                    return i
                }
                function B(t, e, n) {
                    if (t % 1 != 0 || t < 0)
                        throw new RangeError("offset is not uint");
                    if (t + e > n)
                        throw new RangeError("Trying to access beyond buffer length")
                }
                function U(t, e, n, o, i, r) {
                    if (!c.isBuffer(t))
                        throw new TypeError('"buffer" argument must be a Buffer instance');
                    if (e > i || e < r)
                        throw new RangeError('"value" argument is out of bounds');
                    if (n + o > t.length)
                        throw new RangeError("Index out of range")
                }
                function G(t, e, n, o) {
                    e < 0 && (e = 65535 + e + 1);
                    for (var i = 0, r = Math.min(t.length - n, 2); i < r; ++i)
                        t[n + i] = (e & 255 << 8 * (o ? i : 1 - i)) >>> 8 * (o ? i : 1 - i)
                }
                function F(t, e, n, o) {
                    e < 0 && (e = 4294967295 + e + 1);
                    for (var i = 0, r = Math.min(t.length - n, 4); i < r; ++i)
                        t[n + i] = e >>> 8 * (o ? i : 3 - i) & 255
                }
                function j(t, e, n, o, i, r) {
                    if (n + o > t.length)
                        throw new RangeError("Index out of range");
                    if (n < 0)
                        throw new RangeError("Index out of range")
                }
                function H(t, e, n, o, r) {
                    return r || j(t, 0, n, 4),
                    i.write(t, e, n, o, 23, 4),
                    n + 4
                }
                function V(t, e, n, o, r) {
                    return r || j(t, 0, n, 8),
                    i.write(t, e, n, o, 52, 8),
                    n + 8
                }
                c.prototype.slice = function (t, e) {
                    var n,
                    o = this.length;
                    if (t = ~~t, e = void 0 === e ? o : ~~e, t < 0 ? (t += o) < 0 && (t = 0) : t > o && (t = o), e < 0 ? (e += o) < 0 && (e = 0) : e > o && (e = o), e < t && (e = t), c.TYPED_ARRAY_SUPPORT)
                        (n = this.subarray(t, e)).__proto__ = c.prototype;
                    else {
                        var i = e - t;
                        n = new c(i, void 0);
                        for (var r = 0; r < i; ++r)
                            n[r] = this[r + t]
                    }
                    return n
                },
                c.prototype.readUIntLE = function (t, e, n) {
                    t |= 0,
                    e |= 0,
                    n || B(t, e, this.length);
                    for (var o = this[t], i = 1, r = 0; ++r < e && (i *= 256); )
                        o += this[t + r] * i;
                    return o
                },
                c.prototype.readUIntBE = function (t, e, n) {
                    t |= 0,
                    e |= 0,
                    n || B(t, e, this.length);
                    for (var o = this[t + --e], i = 1; e > 0 && (i *= 256); )
                        o += this[t + --e] * i;
                    return o
                },
                c.prototype.readUInt8 = function (t, e) {
                    return e || B(t, 1, this.length),
                    this[t]
                },
                c.prototype.readUInt16LE = function (t, e) {
                    return e || B(t, 2, this.length),
                    this[t] | this[t + 1] << 8
                },
                c.prototype.readUInt16BE = function (t, e) {
                    return e || B(t, 2, this.length),
                    this[t] << 8 | this[t + 1]
                },
                c.prototype.readUInt32LE = function (t, e) {
                    return e || B(t, 4, this.length),
                    (this[t] | this[t + 1] << 8 | this[t + 2] << 16) + 16777216 * this[t + 3]
                },
                c.prototype.readUInt32BE = function (t, e) {
                    return e || B(t, 4, this.length),
                    16777216 * this[t] + (this[t + 1] << 16 | this[t + 2] << 8 | this[t + 3])
                },
                c.prototype.readIntLE = function (t, e, n) {
                    t |= 0,
                    e |= 0,
                    n || B(t, e, this.length);
                    for (var o = this[t], i = 1, r = 0; ++r < e && (i *= 256); )
                        o += this[t + r] * i;
                    return o >= (i *= 128) && (o -= Math.pow(2, 8 * e)),
                    o
                },
                c.prototype.readIntBE = function (t, e, n) {
                    t |= 0,
                    e |= 0,
                    n || B(t, e, this.length);
                    for (var o = e, i = 1, r = this[t + --o]; o > 0 && (i *= 256); )
                        r += this[t + --o] * i;
                    return r >= (i *= 128) && (r -= Math.pow(2, 8 * e)),
                    r
                },
                c.prototype.readInt8 = function (t, e) {
                    return e || B(t, 1, this.length),
                    128 & this[t] ? -1 * (255 - this[t] + 1) : this[t]
                },
                c.prototype.readInt16LE = function (t, e) {
                    e || B(t, 2, this.length);
                    var n = this[t] | this[t + 1] << 8;
                    return 32768 & n ? 4294901760 | n : n
                },
                c.prototype.readInt16BE = function (t, e) {
                    e || B(t, 2, this.length);
                    var n = this[t + 1] | this[t] << 8;
                    return 32768 & n ? 4294901760 | n : n
                },
                c.prototype.readInt32LE = function (t, e) {
                    return e || B(t, 4, this.length),
                    this[t] | this[t + 1] << 8 | this[t + 2] << 16 | this[t + 3] << 24
                },
                c.prototype.readInt32BE = function (t, e) {
                    return e || B(t, 4, this.length),
                    this[t] << 24 | this[t + 1] << 16 | this[t + 2] << 8 | this[t + 3]
                },
                c.prototype.readFloatLE = function (t, e) {
                    return e || B(t, 4, this.length),
                    i.read(this, t, !0, 23, 4)
                },
                c.prototype.readFloatBE = function (t, e) {
                    return e || B(t, 4, this.length),
                    i.read(this, t, !1, 23, 4)
                },
                c.prototype.readDoubleLE = function (t, e) {
                    return e || B(t, 8, this.length),
                    i.read(this, t, !0, 52, 8)
                },
                c.prototype.readDoubleBE = function (t, e) {
                    return e || B(t, 8, this.length),
                    i.read(this, t, !1, 52, 8)
                },
                c.prototype.writeUIntLE = function (t, e, n, o) {
                    (t = +t, e |= 0, n |= 0, o) || U(this, t, e, n, Math.pow(2, 8 * n) - 1, 0);
                    var i = 1,
                    r = 0;
                    for (this[e] = 255 & t; ++r < n && (i *= 256); )
                        this[e + r] = t / i & 255;
                    return e + n
                },
                c.prototype.writeUIntBE = function (t, e, n, o) {
                    (t = +t, e |= 0, n |= 0, o) || U(this, t, e, n, Math.pow(2, 8 * n) - 1, 0);
                    var i = n - 1,
                    r = 1;
                    for (this[e + i] = 255 & t; --i >= 0 && (r *= 256); )
                        this[e + i] = t / r & 255;
                    return e + n
                },
                c.prototype.writeUInt8 = function (t, e, n) {
                    return t = +t,
                    e |= 0,
                    n || U(this, t, e, 1, 255, 0),
                    c.TYPED_ARRAY_SUPPORT || (t = Math.floor(t)),
                    this[e] = 255 & t,
                    e + 1
                },
                c.prototype.writeUInt16LE = function (t, e, n) {
                    return t = +t,
                    e |= 0,
                    n || U(this, t, e, 2, 65535, 0),
                    c.TYPED_ARRAY_SUPPORT ? (this[e] = 255 & t, this[e + 1] = t >>> 8) : G(this, t, e, !0),
                    e + 2
                },
                c.prototype.writeUInt16BE = function (t, e, n) {
                    return t = +t,
                    e |= 0,
                    n || U(this, t, e, 2, 65535, 0),
                    c.TYPED_ARRAY_SUPPORT ? (this[e] = t >>> 8, this[e + 1] = 255 & t) : G(this, t, e, !1),
                    e + 2
                },
                c.prototype.writeUInt32LE = function (t, e, n) {
                    return t = +t,
                    e |= 0,
                    n || U(this, t, e, 4, 4294967295, 0),
                    c.TYPED_ARRAY_SUPPORT ? (this[e + 3] = t >>> 24, this[e + 2] = t >>> 16, this[e + 1] = t >>> 8, this[e] = 255 & t) : F(this, t, e, !0),
                    e + 4
                },
                c.prototype.writeUInt32BE = function (t, e, n) {
                    return t = +t,
                    e |= 0,
                    n || U(this, t, e, 4, 4294967295, 0),
                    c.TYPED_ARRAY_SUPPORT ? (this[e] = t >>> 24, this[e + 1] = t >>> 16, this[e + 2] = t >>> 8, this[e + 3] = 255 & t) : F(this, t, e, !1),
                    e + 4
                },
                c.prototype.writeIntLE = function (t, e, n, o) {
                    if (t = +t, e |= 0, !o) {
                        var i = Math.pow(2, 8 * n - 1);
                        U(this, t, e, n, i - 1, -i)
                    }
                    var r = 0,
                    a = 1,
                    s = 0;
                    for (this[e] = 255 & t; ++r < n && (a *= 256); )
                        t < 0 && 0 === s && 0 !== this[e + r - 1] && (s = 1), this[e + r] = (t / a >> 0) - s & 255;
                    return e + n
                },
                c.prototype.writeIntBE = function (t, e, n, o) {
                    if (t = +t, e |= 0, !o) {
                        var i = Math.pow(2, 8 * n - 1);
                        U(this, t, e, n, i - 1, -i)
                    }
                    var r = n - 1,
                    a = 1,
                    s = 0;
                    for (this[e + r] = 255 & t; --r >= 0 && (a *= 256); )
                        t < 0 && 0 === s && 0 !== this[e + r + 1] && (s = 1), this[e + r] = (t / a >> 0) - s & 255;
                    return e + n
                },
                c.prototype.writeInt8 = function (t, e, n) {
                    return t = +t,
                    e |= 0,
                    n || U(this, t, e, 1, 127, -128),
                    c.TYPED_ARRAY_SUPPORT || (t = Math.floor(t)),
                    t < 0 && (t = 255 + t + 1),
                    this[e] = 255 & t,
                    e + 1
                },
                c.prototype.writeInt16LE = function (t, e, n) {
                    return t = +t,
                    e |= 0,
                    n || U(this, t, e, 2, 32767, -32768),
                    c.TYPED_ARRAY_SUPPORT ? (this[e] = 255 & t, this[e + 1] = t >>> 8) : G(this, t, e, !0),
                    e + 2
                },
                c.prototype.writeInt16BE = function (t, e, n) {
                    return t = +t,
                    e |= 0,
                    n || U(this, t, e, 2, 32767, -32768),
                    c.TYPED_ARRAY_SUPPORT ? (this[e] = t >>> 8, this[e + 1] = 255 & t) : G(this, t, e, !1),
                    e + 2
                },
                c.prototype.writeInt32LE = function (t, e, n) {
                    return t = +t,
                    e |= 0,
                    n || U(this, t, e, 4, 2147483647, -2147483648),
                    c.TYPED_ARRAY_SUPPORT ? (this[e] = 255 & t, this[e + 1] = t >>> 8, this[e + 2] = t >>> 16, this[e + 3] = t >>> 24) : F(this, t, e, !0),
                    e + 4
                },
                c.prototype.writeInt32BE = function (t, e, n) {
                    return t = +t,
                    e |= 0,
                    n || U(this, t, e, 4, 2147483647, -2147483648),
                    t < 0 && (t = 4294967295 + t + 1),
                    c.TYPED_ARRAY_SUPPORT ? (this[e] = t >>> 24, this[e + 1] = t >>> 16, this[e + 2] = t >>> 8, this[e + 3] = 255 & t) : F(this, t, e, !1),
                    e + 4
                },
                c.prototype.writeFloatLE = function (t, e, n) {
                    return H(this, t, e, !0, n)
                },
                c.prototype.writeFloatBE = function (t, e, n) {
                    return H(this, t, e, !1, n)
                },
                c.prototype.writeDoubleLE = function (t, e, n) {
                    return V(this, t, e, !0, n)
                },
                c.prototype.writeDoubleBE = function (t, e, n) {
                    return V(this, t, e, !1, n)
                },
                c.prototype.copy = function (t, e, n, o) {
                    if (n || (n = 0), o || 0 === o || (o = this.length), e >= t.length && (e = t.length), e || (e = 0), o > 0 && o < n && (o = n), o === n)
                        return 0;
                    if (0 === t.length || 0 === this.length)
                        return 0;
                    if (e < 0)
                        throw new RangeError("targetStart out of bounds");
                    if (n < 0 || n >= this.length)
                        throw new RangeError("sourceStart out of bounds");
                    if (o < 0)
                        throw new RangeError("sourceEnd out of bounds");
                    o > this.length && (o = this.length),
                    t.length - e < o - n && (o = t.length - e + n);
                    var i,
                    r = o - n;
                    if (this === t && n < e && e < o)
                        for (i = r - 1; i >= 0; --i)
                            t[i + e] = this[i + n];
                    else if (r < 1e3 || !c.TYPED_ARRAY_SUPPORT)
                        for (i = 0; i < r; ++i)
                            t[i + e] = this[i + n];
                    else
                        Uint8Array.prototype.set.call(t, this.subarray(n, n + r), e);
                    return r
                },
                c.prototype.fill = function (t, e, n, o) {
                    if ("string" == typeof t) {
                        if ("string" == typeof e ? (o = e, e = 0, n = this.length) : "string" == typeof n && (o = n, n = this.length), 1 === t.length) {
                            var i = t.charCodeAt(0);
                            i < 256 && (t = i)
                        }
                        if (void 0 !== o && "string" != typeof o)
                            throw new TypeError("encoding must be a string");
                        if ("string" == typeof o && !c.isEncoding(o))
                            throw new TypeError("Unknown encoding: " + o)
                    } else
                        "number" == typeof t && (t &= 255);
                    if (e < 0 || this.length < e || this.length < n)
                        throw new RangeError("Out of range index");
                    if (n <= e)
                        return this;
                    var r;
                    if (e >>>= 0, n = void 0 === n ? this.length : n >>> 0, t || (t = 0), "number" == typeof t)
                        for (r = e; r < n; ++r)
                            this[r] = t;
                    else {
                        var a = c.isBuffer(t) ? t : q(new c(t, o).toString()),
                        s = a.length;
                        for (r = 0; r < n - e; ++r)
                            this[r + e] = a[r % s]
                    }
                    return this
                };
                var W = /[^+\/0-9A-Za-z-_]/g;
                function Y(t) {
                    if ((t = K(t).replace(W, "")).length < 2)
                        return "";
                    for (; t.length % 4 != 0; )
                        t += "=";
                    return t
                }
                function K(t) {
                    return t.trim ? t.trim() : t.replace(/^\s+|\s+$/g, "")
                }
                function z(t) {
                    return t < 16 ? "0" + t.toString(16) : t.toString(16)
                }
                function q(t, e) {
                    var n;
                    e = e || 1 / 0;
                    for (var o = t.length, i = null, r = [], a = 0; a < o; ++a) {
                        if ((n = t.charCodeAt(a)) > 55295 && n < 57344) {
                            if (!i) {
                                if (n > 56319) {
                                    (e -= 3) > -1 && r.push(239, 191, 189);
                                    continue
                                }
                                if (a + 1 === o) {
                                    (e -= 3) > -1 && r.push(239, 191, 189);
                                    continue
                                }
                                i = n;
                                continue
                            }
                            if (n < 56320) {
                                (e -= 3) > -1 && r.push(239, 191, 189),
                                i = n;
                                continue
                            }
                            n = 65536 + (i - 55296 << 10 | n - 56320)
                        } else
                            i && (e -= 3) > -1 && r.push(239, 191, 189);
                        if (i = null, n < 128) {
                            if ((e -= 1) < 0)
                                break;
                            r.push(n)
                        } else if (n < 2048) {
                            if ((e -= 2) < 0)
                                break;
                            r.push(n >> 6 | 192, 63 & n | 128)
                        } else if (n < 65536) {
                            if ((e -= 3) < 0)
                                break;
                            r.push(n >> 12 | 224, n >> 6 & 63 | 128, 63 & n | 128)
                        } else {
                            if (!(n < 1114112))
                                throw new Error("Invalid code point");
                            if ((e -= 4) < 0)
                                break;
                            r.push(n >> 18 | 240, n >> 12 & 63 | 128, n >> 6 & 63 | 128, 63 & n | 128)
                        }
                    }
                    return r
                }
                function Q(t) {
                    for (var e = [], n = 0; n < t.length; ++n)
                        e.push(255 & t.charCodeAt(n));
                    return e
                }
                function Z(t, e) {
                    for (var n, o, i, r = [], a = 0; a < t.length && !((e -= 2) < 0); ++a)
                        o = (n = t.charCodeAt(a)) >> 8, i = n % 256, r.push(i), r.push(o);
                    return r
                }
                function J(t) {
                    return o.toByteArray(Y(t))
                }
                function X(t, e, n, o) {
                    for (var i = 0; i < o && !(i + n >= e.length || i >= t.length); ++i)
                        e[i + n] = t[i];
                    return i
                }
                function $(t) {
                    return t != t
                }
            }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }, {
            "base64-js": 1,
            ieee754: 4,
            isarray: 3
        }
    ],
    3: [function (t, e, n) {
            var o = {}
            .toString;
            e.exports = Array.isArray || function (t) {
                return "[object Array]" == o.call(t)
            }
        }, {}
    ],
    4: [function (t, e, n) {
            n.read = function (t, e, n, o, i) {
                var r,
                a,
                s = 8 * i - o - 1,
                c = (1 << s) - 1,
                l = c >> 1,
                u = -7,
                d = n ? i - 1 : 0,
                p = n ? -1 : 1,
                h = t[e + d];
                for (d += p, r = h & (1 << -u) - 1, h >>= -u, u += s; u > 0; r = 256 * r + t[e + d], d += p, u -= 8);
                for (a = r & (1 << -u) - 1, r >>= -u, u += o; u > 0; a = 256 * a + t[e + d], d += p, u -= 8);
                if (0 === r)
                    r = 1 - l;
                else {
                    if (r === c)
                        return a ? NaN : 1 / 0 * (h ? -1 : 1);
                    a += Math.pow(2, o),
                    r -= l
                }
                return (h ? -1 : 1) * a * Math.pow(2, r - o)
            },
            n.write = function (t, e, n, o, i, r) {
                var a,
                s,
                c,
                l = 8 * r - i - 1,
                u = (1 << l) - 1,
                d = u >> 1,
                p = 23 === i ? Math.pow(2, -24) - Math.pow(2, -77) : 0,
                h = o ? 0 : r - 1,
                f = o ? 1 : -1,
                _ = e < 0 || 0 === e && 1 / e < 0 ? 1 : 0;
                for (e = Math.abs(e), isNaN(e) || e === 1 / 0 ? (s = isNaN(e) ? 1 : 0, a = u) : (a = Math.floor(Math.log(e) / Math.LN2), e * (c = Math.pow(2, -a)) < 1 && (a--, c *= 2), (e += a + d >= 1 ? p / c : p * Math.pow(2, 1 - d)) * c >= 2 && (a++, c /= 2), a + d >= u ? (s = 0, a = u) : a + d >= 1 ? (s = (e * c - 1) * Math.pow(2, i), a += d) : (s = e * Math.pow(2, d - 1) * Math.pow(2, i), a = 0)); i >= 8; t[n + h] = 255 & s, h += f, s /= 256, i -= 8);
                for (a = a << i | s, l += i; l > 0; t[n + h] = 255 & a, h += f, a /= 256, l -= 8);
                t[n + h - f] |= 128 * _
            }
        }, {}
    ],
    DbExt: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "29139Qao55IjqOJnWfcbrW5", "DbExt"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = function () {
                function t() {}
                return t.get_card_view = function (t) {
                    return t.p0
                },
                t.get_role_view = function (t) {
                    return t.p1
                },
                t.get_unit_speed = function (t) {
                    return t.num0
                },
                t.get_unit_atk = function (t) {
                    return t.num0
                },
                t.get_atk_delta = function (t) {
                    return t.num1
                },
                t.get_cast_time = function (t) {
                    return t.num2
                },
                t.get_role_price = function (t) {
                    return t.num3
                },
                t.get_role_bullet_id = function (t) {
                    return t.p2
                },
                t.get_card_hp = function (t) {
                    return t.num4
                },
                t
            }
            ();
            n.default = o,
            cc._RF.pop()
        }, {}
    ],
    DebugCocos: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "027d38ZbPFA16JAIkHeonpN", "DebugCocos");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/ui/PanelBase"),
            r = t("../extensions/utils/Timer"),
            a = t("../extensions/_G"),
            s = t("../extensions/ui/Spine"),
            c = t("../manager/mgrAlert"),
            l = t("../extensions/widget/SButton"),
            u = t("../extensions/utils/UiHelper"),
            d = t("../extensions/widget/SToggle"),
            p = t("../extensions/widget/SEditBox"),
            h = t("../generate/db"),
            f = t("../extensions/utils/Tools"),
            _ = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.resourceName = "prefab/debug/DebugCocos",
                    e.btnClose = null,
                    e.toggle1 = null,
                    e.toggle2 = null,
                    e.toggle3 = null,
                    e.cocosNode = null,
                    e.btnGrid = null,
                    e.animSprite = null,
                    e.text = null,
                    e.test1 = null,
                    e.test2 = null,
                    e.sprite0 = null,
                    e.sprite1 = null,
                    e.sprite2 = null,
                    e.sprite3 = null,
                    e.effectNode = null,
                    e.spineItem = null,
                    e.effectItem = null,
                    e.fileLabel = null,
                    e.effectParent = null,
                    e._exportNodeInfo = {
                        cc_btnClose: "cc.Button",
                        cc_toggle1: "cc.Toggle",
                        cc_toggle2: "cc.Toggle",
                        cc_toggle3: "cc.Toggle",
                        cc_cocosNode: "cc.Node",
                        cc_btnGrid: "cc.Layout",
                        cc_animSprite: "cc.Sprite",
                        cc_text: "cc.Label",
                        cc_test1: "cc.Button",
                        cc_test2: "cc.Sprite",
                        cc_sprite0: "cc.Sprite",
                        cc_sprite1: "cc.Sprite",
                        cc_sprite2: "cc.Sprite",
                        cc_sprite3: "cc.Sprite",
                        cc_effectNode: "cc.Node",
                        cc_spineItem: "cc.Button",
                        cc_effectItem: "cc.Button",
                        cc_fileLabel: "cc.Label",
                        cc_effectParent: "TweenPosition"
                    },
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    this.buildCocosNode(),
                    this.buildEffectNode(),
                    this.on_click_toggle1()
                },
                e.prototype.dispose = function () {
                    this.clearView(),
                    t.prototype.dispose.call(this)
                },
                e.prototype.buildCocosNode = function () {
                    var t = this;
                    new l.default("anim", function () {
                        t.testAnim()
                    }).setParent(this.btnGrid.node),
                    new l.default("anim2", function () {
                        t.testAnim2()
                    }).setParent(this.btnGrid.node),
                    new l.default("anim3", function () {
                        t.testAnim3()
                    }).setParent(this.btnGrid.node),
                    new l.default("bezier", function () {
                        t.testAnim4()
                    }).setParent(this.btnGrid.node),
                    new l.default("display one by one", function () {
                        t.testStringAnim()
                    }).setParent(this.btnGrid.node),
                    new l.default("jumpTo", function () {
                        t.testJumpTo()
                    }).setParent(this.btnGrid.node),
                    new l.default("coins rotate", function () {
                        t.testCoinAnim()
                    }).setParent(this.btnGrid.node),
                    new l.default("tag jump", function () {
                        t.testTagAnim()
                    }).setParent(this.btnGrid.node),
                    new l.default("test spine callback", function () {
                        t.testSpineListener()
                    }).setParent(this.btnGrid.node);
                    var e = !0;
                    new d.default("resize or move", function (t) {
                        e = t
                    }).setParent(this.btnGrid.node);
                    var n = !0;
                    new d.default("from big or small", function (t) {
                        n = t
                    }).setParent(this.btnGrid.node);
                    for (var o = new p.default("time", .3).setParent(this.btnGrid.node), i = [{
                                name: "easeBounceIn",
                                ease: cc.easeBounceIn()
                            }, {
                                name: "easeBounceOut",
                                ease: cc.easeBounceOut()
                            }, {
                                name: "easeBounceInOut",
                                ease: cc.easeBounceInOut()
                            }, {
                                name: "easeBackIn",
                                ease: cc.easeBackIn()
                            }, {
                                name: "easeBackOut",
                                ease: cc.easeBackOut()
                            }, {
                                name: "easeBackInOut",
                                ease: cc.easeBackInOut()
                            }
                        ], r = function (r) {
                        new l.default(i[r].name, function () {
                            var a = parseFloat(o.string) || .3;
                            if (t.test2.node.setScale(1), t.test2.node.setPosition(0, 120), e) {
                                var s = 1.3,
                                c = 1;
                                n || (s = .7),
                                t.test2.node.setScale(s),
                                t.test2.node.runAction(cc.sequence(cc.delayTime(.5), cc.scaleTo(a, c).easing(i[r].ease)))
                            } else {
                                s = cc.v2(-200, 120),
                                c = cc.v2(200, 120);
                                t.test2.node.setPosition(s),
                                t.test2.node.runAction(cc.sequence(cc.delayTime(.5), cc.moveTo(a, c).easing(i[r].ease)))
                            }
                        }).setParent(a.btnGrid.node)
                    }, a = this, s = 0; s < i.length; s++)
                        r(s);
                    this.sprite0.addComponent(cc.Button),
                    u.default.addClick(this.sprite0.node, function () {
                        cc.log("click sprite0")
                    }),
                    u.default.registerTouchEvent(this.sprite1.node, function () {
                        cc.log("touch start1")
                    }, function () {
                        cc.log("touch move1")
                    }, function () {
                        cc.log("touch end1")
                    }, function () {
                        cc.log("touch cancel1")
                    }),
                    u.default.registerTouchEvent(this.sprite2.node, function (t) {
                        cc.log("touch start2"),
                        t.stopPropagation()
                    }, function () {
                        cc.log("touch move2")
                    }, function () {
                        cc.log("touch end2")
                    }, function () {
                        cc.log("touch cancel2")
                    }),
                    u.default.registerTouchEvent(this.sprite3.node, function () {
                        cc.log("touch start3")
                    }, function () {
                        cc.log("touch move3")
                    }, function () {
                        cc.log("touch end3")
                    }, function () {
                        cc.log("touch cancel3")
                    })
                },
                e.prototype.buildEffectNode = function () {
                    var t = this,
                    e = h.default.get_spine_db_map();
                    f.default.forEachMap(e, function (e, n) {
                        var o = cc.instantiate(t.spineItem.node);
                        o.setParent(t.spineItem.node.parent),
                        o.getComponent(cc.Label).string = e,
                        u.default.addClick(o, t.onClickSpine.bind(t, n))
                    });
                    var n = h.default.get_effect_db_map();
                    f.default.forEachMap(n, function (e, n) {
                        var o = cc.instantiate(t.effectItem.node);
                        o.setParent(t.effectItem.node.parent),
                        o.getComponent(cc.Label).string = e,
                        u.default.addClick(o, t.onClickEffect.bind(t, e, n))
                    }),
                    this.spineItem.node.active = !1,
                    this.effectItem.node.active = !1
                },
                e.prototype.onClickSpine = function (t) {
                    this.fileLabel.string = t.skeletonData,
                    this.clearView(),
                    this._view = a.default.poolManager.get(s.default, t.id),
                    this._view.setParent(this.effectParent.node),
                    this._view.setPosition(0, 0)
                },
                e.prototype.onClickEffect = function (t, e) {
                    this.fileLabel.string = e.res,
                    this.clearView(),
                    this._view = c.default.playEffectId(t),
                    this._view.setParent(this.effectParent.node),
                    this._view.setPosition(0, 0)
                },
                e.prototype.clearView = function () {
                    this._view && (a.default.poolManager.put(this._view), this._view = null)
                },
                e.prototype.testAnim = function () {
                    var t = this,
                    e = this.btnClose.node.position,
                    n = 0;
                    this.btnClose.node.runAction(cc.sequence(cc.sequence(cc.moveBy(.5, 0, 20), cc.callFunc(function () {
                                    t.btnClose.node.setPosition(e),
                                    cc.log("repeat:", ++n)
                                })).repeat(3), cc.callFunc(function () {
                                cc.log("finish..."),
                                t.btnClose.node.setPosition(e)
                            })))
                },
                e.prototype.testAnim2 = function () {
                    var t = this,
                    e = this.btnClose.node.position,
                    n = 0;
                    this.btnClose.node.runAction(cc.sequence(cc.moveBy(.5, 0, 20), cc.callFunc(function () {
                                t.btnClose.node.setPosition(e),
                                cc.log("repeat:", ++n)
                            })).repeat(3))
                },
                e.prototype.testAnim3 = function () {
                    var t = this,
                    e = this.btnClose.node.position;
                    this.btnClose.node.runAction(cc.sequence(cc.moveBy(.5, 0, 20).repeat(5), cc.callFunc(function () {
                                t.btnClose.node.setPosition(e),
                                cc.log("finish ...")
                            })))
                },
                e.prototype.createAction = function (t, e, n, o, i) {
                    var r = 3.14159 * i / 180,
                    a = e.x + (n.x - e.x) / 4,
                    s = cc.v2(a, o + e.y + Math.cos(r) * a),
                    c = e.x + (n.x - e.x) / 2,
                    l = [s, cc.v2(c, o + e.y + Math.cos(r) * c), n];
                    return cc.bezierTo(t, l)
                },
                e.prototype.testAnim4 = function () {
                    var t = this,
                    e = this.animSprite.node.position;
                    this.animSprite.node.runAction(cc.sequence(this.createAction(1, cc.v2(-200, 0), cc.v2(200, 200), 200, -60).easing(cc.easeOut(1)), cc.delayTime(1), cc.callFunc(function () {
                                t.animSprite.node.setPosition(e)
                            })))
                },
                e.prototype.testStringAnim = function () {
                    var t = this,
                    e = "some text here",
                    n = e.length,
                    o = 0;
                    cc.log("len:", n),
                    r.default.callLoop(.2, function (i) {
                        var a = e.slice(0, ++o);
                        t.text.string = a,
                        o >= n && (i.stop(), r.default.callLater(1, function () {
                                t.text.string = ""
                            }))
                    })
                },
                e.prototype.testJumpTo = function () {
                    var t = this.animSprite.node.position,
                    e = cc.v2(t.x + 200, t.y + 400);
                    this.animSprite.node.runAction(cc.sequence(cc.jumpTo(.5, e, -100, 1).easing(cc.easeIn(1.5)), cc.delayTime(.5), cc.place(t)))
                },
                e.prototype.testCoinAnim = function () {
                    var t = this,
                    e = this.animSprite.node.position;
                    this.animSprite.node.runAction(cc.sequence(cc.spawn(cc.jumpTo(.5, e, 30, 1), cc.sequence(cc.scaleTo(.07, .2, 1.2), cc.scaleTo(.07, 1, 1)).repeat(5)), cc.callFunc(function () {
                                t.animSprite.node.anchorY = 0
                            }), cc.spawn(cc.jumpTo(.3, e, 10, 1), cc.sequence(cc.scaleTo(.15, .8, 1.2), cc.scaleTo(.15, 1, 1))))),
                    r.default.callLater(2.5, function () {
                        t.animSprite.node.scale = 1,
                        t.animSprite.node.anchorY = .5
                    })
                },
                e.prototype.testTagAnim = function () {
                    var t = this,
                    e = this.animSprite.node.position,
                    n = cc.v2(e.x + 50, e.y + 200);
                    this.animSprite.node.scale = 0,
                    this.animSprite.node.runAction(cc.sequence(cc.spawn(cc.scaleTo(.2, 1), cc.jumpTo(.5, n, 100, 1)), cc.delayTime(1), cc.callFunc(function () {
                                t.animSprite.node.setPosition(e),
                                t.animSprite.node.scale = 1
                            })))
                },
                e.prototype.testSpineListener = function () {
                    var t = a.default.poolManager.get(s.default, "2");
                    t.isLoaded ? (t.setParent(this.resNode), t.setPosition(0, 0), t.getSkeleton().setEndListener(function (t) {
                            cc.log("anim end", t.animation.name, r.default.time)
                        }), t.getSkeleton().setStartListener(function (t) {
                            cc.log("anim start", t.animation.name, r.default.time)
                        }), t.getSkeleton().setCompleteListener(function (t) {
                            cc.log("anim complete", t.animation.name, r.default.time)
                        }), t.play("l2", !1), r.default.callLater(.1, function () {
                            t.play("l1", !1)
                        }), r.default.callLater(.2, function () {
                            t.getSkeleton().clearTracks(),
                            t.getSkeleton().paused = !0,
                            cc.log("----- puase or stop", r.default.time)
                        }), r.default.callLater(4, function () {
                            a.default.poolManager.put(t)
                        })) : a.default.poolManager.put(t)
                },
                e.prototype.on_click_btnClose = function () {
                    this.close()
                },
                e.prototype.on_click_test1 = function () {
                    cc.log("touch test1")
                },
                e.prototype.on_click_toggle1 = function () {
                    this.cocosNode.active = !0,
                    this.effectNode.active = !1
                },
                e.prototype.on_click_toggle2 = function () {
                    this.cocosNode.active = !1,
                    this.effectNode.active = !0
                },
                e.prototype.on_click_toggle3 = function () {},
                e.prototype.on_click_spineItem = function () {},
                e.prototype.on_click_effectItem = function () {},
                e
            }
            (i.default);
            n.default = _,
            cc._RF.pop()
        }, {
            "../extensions/_G": "_G",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/ui/Spine": "Spine",
            "../extensions/utils/Timer": "Timer",
            "../extensions/utils/Tools": "Tools",
            "../extensions/utils/UiHelper": "UiHelper",
            "../extensions/widget/SButton": "SButton",
            "../extensions/widget/SEditBox": "SEditBox",
            "../extensions/widget/SToggle": "SToggle",
            "../generate/db": "db",
            "../manager/mgrAlert": "mgrAlert"
        }
    ],
    DebugDistribution: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "98ecfrAnI1PRqXECNIofPuV", "DebugDistribution");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/ui/PanelBase"),
            r = t("../extensions/utils/Mathf"),
            a = t("../extensions/utils/Tools"),
            s = t("../extensions/widget/SEditBox"),
            c = t("../extensions/widget/SButton"),
            l = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.resourceName = "prefab/debug/DebugDistribution",
                    e.g = null,
                    e.btnClose = null,
                    e.btnGrid = null,
                    e._exportNodeInfo = [{
                            fieldName: "g",
                            filedType: "cc.Graphics",
                            fieldPath: [0, 0]
                        }, {
                            fieldName: "btnClose",
                            filedType: "cc.Button",
                            fieldPath: [1]
                        }, {
                            fieldName: "btnGrid",
                            filedType: "cc.Layout",
                            fieldPath: [2]
                        }
                    ],
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    var t = this;
                    this.m_g = this.g.getComponent(cc.Graphics);
                    var e = new s.default("rate", .01).setParent(this.btnGrid.node),
                    n = new s.default("factor", 5).setParent(this.btnGrid.node);
                    new c.default("draw curve", function () {
                        var o = parseFloat(e.string),
                        i = parseInt(n.string);
                        o && i && (cc.log("rate:", o, i), t.test1(o, i))
                    }).setParent(this.btnGrid.node)
                },
                e.prototype.drawLine = function (t, e, n, o) {
                    this.m_g.moveTo(t, e),
                    this.m_g.lineTo(n, o),
                    this.m_g.stroke()
                },
                e.prototype.drawCurve = function (t, e, n) {
                    var o = 280 / e,
                    i = 480 / t;
                    this.m_g.clear(),
                    this.drawLine(0, 0, t * i, 0),
                    this.drawLine(0, 0, 0, e * o);
                    for (var r = 0; r < t; r++) {
                        var a = r,
                        s = n(a);
                        if (!s && 0 != s) {
                            cc.error("error when x = ", a);
                            break
                        }
                        s *= o,
                        0 == (a *= i) ? this.m_g.moveTo(a, s) : this.m_g.lineTo(a, s)
                    }
                    this.m_g.stroke()
                },
                e.prototype.test1 = function (t, e) {
                    if (!(t <= 0 || t >= 1)) {
                        for (var n = 1 / t, o = [], i = 0; i < 2 * n; i++)
                            o.push(0);
                        for (i = 0; i < 1e5; i++) {
                            var s = r.default.uniform2NormalDistribution();
                            if ((s = Math.round((s / e + 1) * n)) < 0 || s >= o.length) {
                                cc.error("value :", s);
                                break
                            }
                            o[s]++
                        }
                        var c = a.default.getMax(o);
                        this.drawCurve(2 * n, c, function (t) {
                            return o[t]
                        })
                    }
                },
                e.prototype.on_click_btnClose = function () {
                    this.close()
                },
                e
            }
            (i.default);
            n.default = l,
            cc._RF.pop()
        }, {
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/utils/Mathf": "Mathf",
            "../extensions/utils/Tools": "Tools",
            "../extensions/widget/SButton": "SButton",
            "../extensions/widget/SEditBox": "SEditBox"
        }
    ],
    DebugEffect: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "8b475bmFsdDbrNTAEHovvCK", "DebugEffect");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__awaiter || function (t, e, n, o) {
                return new(n || (n = Promise))(function (i, r) {
                    function a(t) {
                        try {
                            c(o.next(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function s(t) {
                        try {
                            c(o.throw(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function c(t) {
                        t.done ? i(t.value) : new n(function (e) {
                            e(t.value)
                        }).then(a, s)
                    }
                    c((o = o.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function (t, e) {
                var n,
                o,
                i,
                r,
                a = {
                    label: 0,
                    sent: function () {
                        if (1 & i[0])
                            throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw : s(1),
                    return : s(2)
                },
                "function" == typeof Symbol && (r[Symbol.iterator] = function () {
                    return this
                }),
                r;
                function s(t) {
                    return function (e) {
                        return c([t, e])
                    }
                }
                function c(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done)
                                return i;
                            switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                o = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1],
                                    i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2],
                                    a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            o = 0
                        }
                    finally {
                        n = i = 0
                    }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var a = t("../extensions/widget/SButton"),
            s = t("../extensions/ui/PanelBase"),
            c = t("../extensions/widget/SSprite"),
            l = t("../extensions/_G"),
            u = t("../extensions/utils/FileRecord"),
            d = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.create = function () {
                    return i(this, void 0, void 0, function () {
                        var t,
                        e,
                        n;
                        return r(this, function (o) {
                            return t = new c.default("DebugEffect", "texture/alpha_mask"),
                            (e = t.addComponent(cc.Widget)).isAlignLeft = !0,
                            e.left = 0,
                            e.isAlignTop = !0,
                            e.top = 0,
                            e.alignMode = cc.Widget.AlignMode.ALWAYS,
                            (n = t.addComponent(cc.Layout)).type = cc.Layout.Type.GRID,
                            n.resizeMode = cc.Layout.ResizeMode.CONTAINER,
                            n.startAxis = cc.Layout.AxisDirection.HORIZONTAL,
                            n.cellSize = cc.size(100, 50),
                            n.spacingX = 10,
                            n.spacingY = 10,
                            n.padding = 50,
                            t.setContentSize(l.default.canvasFullWidth, 50),
                            t.addComponent(cc.BlockInputEvents),
                            this.createFromNode(t),
                            [2]
                        })
                    })
                },
                e.prototype.buildUi = function () {
                    var t = this;
                    this.addButton("X", this.close.bind(this)),
                    this.addButton("Clear Archive", function () {
                        u.default.deletAllData(!1),
                        t.close()
                    })
                },
                e.prototype.addButton = function (t, e) {
                    var n = new a.default(t, e);
                    return n.setParent(this.resNode),
                    n
                },
                e
            }
            (s.default);
            n.default = d,
            cc._RF.pop()
        }, {
            "../extensions/_G": "_G",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/utils/FileRecord": "FileRecord",
            "../extensions/widget/SButton": "SButton",
            "../extensions/widget/SSprite": "SSprite"
        }
    ],
    DebugGM: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "acce0r43QFG7KzUFdNx5+8W", "DebugGM");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/ui/PanelBase"),
            r = t("../extensions/utils/Tools"),
            a = t("../common/Const"),
            s = t("../manager/mgrAlert"),
            c = t("../generate/db"),
            l = t("../extensions/module/BaseFacade"),
            u = t("../extensions/BaseConst"),
            d = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.resourceName = "prefab/debug/DebugGM",
                    e.textLabel = null,
                    e.toggle0 = null,
                    e.toggle1 = null,
                    e.toggle2 = null,
                    e.toggle3 = null,
                    e.toggle4 = null,
                    e.itemContent = null,
                    e.itemInfo = null,
                    e.btnClose = null,
                    e.btnGrid = null,
                    e.editBox0 = null,
                    e.btnAddItem = null,
                    e.btnLvup = null,
                    e._exportNodeInfo = {
                        cc_textLabel: "cc.Label",
                        cc_toggle0: "cc.Toggle",
                        cc_toggle1: "cc.Toggle",
                        cc_toggle2: "cc.Toggle",
                        cc_toggle3: "cc.Toggle",
                        cc_toggle4: "cc.Toggle",
                        cc_itemContent: "cc.Layout",
                        cc_itemInfo: "cc.Button",
                        cc_btnClose: "cc.Button",
                        cc_btnGrid: "cc.Layout",
                        cc_editBox0: "cc.EditBox",
                        cc_btnAddItem: "cc.Button",
                        cc_btnLvup: "cc.Button"
                    },
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    this.refreshItems(u.ITEM_TYPE.CURRENCY)
                },
                e.prototype.refreshItems = function (t) {
                    var e = this,
                    n = c.default.get_item_db_map(),
                    o = [];
                    r.default.forEachMap(n, function (e, n) {
                        n.type == t && o.push(n)
                    }),
                    o.sort(r.default.sort_db_by_order);
                    for (var i = function (t) {
                        var n = o[t],
                        i = n.id,
                        r = a.itemContent.node.children[t];
                        r || (r = cc.instantiate(a.itemInfo.node)).setParent(a.itemContent.node),
                        r.active = !0,
                        r.children[0].getComponent(cc.Label).string = "[" + i + "]:" + n.name,
                        r.off("click"),
                        r.on("click", function () {
                            e.m_curItemId = i;
                            var t = l.default.mItem.getItemCount(i);
                            e.textLabel.string = "id:[" + i + "]\nCurrent:[" + t + "]\nItem:[" + n.desc + "]"
                        })
                    }, a = this, s = 0; s < o.length; s++)
                        i(s);
                    var u = this.itemContent.node.children;
                    for (s = o.length; s < u.length; s++)
                        u[s].active = !1
                },
                e.prototype.on_click_btnClose = function () {
                    this.close()
                },
                e.prototype.on_click_itemInfo = function () {},
                e.prototype.on_click_toggle0 = function () {
                    this.refreshItems(u.ITEM_TYPE.CURRENCY)
                },
                e.prototype.on_click_toggle1 = function () {
                    this.refreshItems(u.ITEM_TYPE.GOODS)
                },
                e.prototype.on_click_toggle2 = function () {
                    this.refreshItems(u.ITEM_TYPE.DROP)
                },
                e.prototype.on_click_toggle3 = function () {
                    this.refreshItems(u.ITEM_TYPE.UP)
                },
                e.prototype.on_click_toggle4 = function () {
                    this.refreshItems(u.ITEM_TYPE.SPE)
                },
                e.prototype.on_click_btnAddItem = function () {
                    var t = r.default.safeParseInt(this.editBox0.string, 0);
                    if (this.m_curItemId && t) {
                        t > 0 ? l.default.mItem.addItem(this.m_curItemId, t, a.ITEM_CHANGE_REASON.GM, null) : l.default.mItem.subItem(this.m_curItemId, -t, a.ITEM_CHANGE_REASON.GM, null);
                        var e = c.default.get_item_db(this.m_curItemId);
                        s.default.alertText("Item:[" + e.name + "] id:[" + this.m_curItemId + "] amount changed:[" + t + "]")
                    }
                },
                e.prototype.on_click_btnLvup = function () {
                    if (this.m_curItemId) {
                        c.default.get_item_db(this.m_curItemId);
                        l.default.mUp.lvupAttr(this.m_curItemId, u.UpAttrName.Base, !0);
                        var t = l.default.mUp.getLevel(this.m_curItemId, u.UpAttrName.Base);
                        s.default.alertText("upgrade: " + this.m_curItemId + " current level: " + t)
                    }
                },
                e
            }
            (i.default);
            n.default = d,
            cc._RF.pop()
        }, {
            "../common/Const": "Const",
            "../extensions/BaseConst": "BaseConst",
            "../extensions/module/BaseFacade": "BaseFacade",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/utils/Tools": "Tools",
            "../generate/db": "db",
            "../manager/mgrAlert": "mgrAlert"
        }
    ],
    DebugGame: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "b90e8LrkANM/LsGMfYY9oFQ", "DebugGame");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__awaiter || function (t, e, n, o) {
                return new(n || (n = Promise))(function (i, r) {
                    function a(t) {
                        try {
                            c(o.next(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function s(t) {
                        try {
                            c(o.throw(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function c(t) {
                        t.done ? i(t.value) : new n(function (e) {
                            e(t.value)
                        }).then(a, s)
                    }
                    c((o = o.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function (t, e) {
                var n,
                o,
                i,
                r,
                a = {
                    label: 0,
                    sent: function () {
                        if (1 & i[0])
                            throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw : s(1),
                    return : s(2)
                },
                "function" == typeof Symbol && (r[Symbol.iterator] = function () {
                    return this
                }),
                r;
                function s(t) {
                    return function (e) {
                        return c([t, e])
                    }
                }
                function c(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done)
                                return i;
                            switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                o = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1],
                                    i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2],
                                    a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            o = 0
                        }
                    finally {
                        n = i = 0
                    }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var a = t("../extensions/widget/SButton"),
            s = t("../extensions/ui/PanelBase"),
            c = t("../extensions/widget/SSprite"),
            l = t("../extensions/_G"),
            u = t("../game/MakerTest"),
            d = t("../extensions/utils/FileRecord"),
            p = t("../game/World"),
            h = t("../extensions/mgr/mgrPanel"),
            f = t("./DebugLevel"),
            _ = t("../manager/mgrGame"),
            m = t("../ui/PanelGame"),
            g = t("../ui/PanelNew"),
            y = t("../ui/PanelFreeLvup"),
            v = t("../game/unit/Role"),
            b = t("../manager/mgrAlert"),
            S = t("../ui/PanelFreeRole"),
            A = t("../ui/PanelCardHelp"),
            C = (new u.default, function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.create = function () {
                    return i(this, void 0, void 0, function () {
                        var t,
                        e,
                        n;
                        return r(this, function (o) {
                            return t = new c.default("DebugGame", "texture/alpha_mask"),
                            (e = t.addComponent(cc.Widget)).isAlignLeft = !0,
                            e.left = 0,
                            e.isAlignTop = !0,
                            e.top = 0,
                            e.alignMode = cc.Widget.AlignMode.ALWAYS,
                            (n = t.addComponent(cc.Layout)).type = cc.Layout.Type.GRID,
                            n.resizeMode = cc.Layout.ResizeMode.CONTAINER,
                            n.startAxis = cc.Layout.AxisDirection.HORIZONTAL,
                            n.cellSize = cc.size(100, 50),
                            n.spacingX = 10,
                            n.spacingY = 10,
                            n.padding = 50,
                            t.setContentSize(l.default.canvasFullWidth, 50),
                            t.addComponent(cc.BlockInputEvents),
                            this.createFromNode(t),
                            [2]
                        })
                    })
                },
                e.prototype.buildUi = function () {
                    var t = this;
                    this.addButton("X", this.close.bind(this)),
                    this.addButton("Clear Archive", function () {
                        d.default.deletAllData(!1),
                        t.close()
                    }),
                    this.addButton("Kill All", function () {
                        t.close(),
                        p.default.instance.killAllMonster()
                    }),
                    this.addButton("Select Level", function () {
                        t.close(),
                        h.default.openPanel(f.default)
                    }).setNodeColor(cc.Color.GREEN),
                    this.addButton("Speed X1", function () {
                        p.default.instance.speedRate = 1
                    }),
                    this.addButton("Speed X2", function () {
                        p.default.instance.speedRate = 2
                    }),
                    this.addButton("Speed X4", function () {
                        p.default.instance.speedRate = 4
                    }),
                    this.addButton("Speed X6", function () {
                        p.default.instance.speedRate = 6
                    }),
                    this.addButton("Speed X10", function () {
                        p.default.instance.speedRate = 10
                    }),
                    this.addButton("Clear Boss Time", function () {
                        t.close(),
                        _.default.debug_clearBossTime()
                    }),
                    this.addButton("BG Anim", function () {
                        t.close(),
                        h.default.findPanel(m.default).updateMainBg(!0)
                    }),
                    this.addButton("New Character", function () {
                        t.close(),
                        h.default.openPanel(g.default, 29)
                    }),
                    this.addButton("Free Upgrade", function () {
                        t.close(),
                        p.default.instance.foreach(function (t) {
                            if (t instanceof v.default && t.index > 3)
                                return h.default.openPanel(y.default, t.index), !0
                        })
                    }),
                    this.addButton("Success Anim", function () {
                        t.close(),
                        b.default.playSucAnim(!0, null)
                    }),
                    this.addButton("Free Armor", function () {
                        t.close(),
                        h.default.openPanelWithFadeIn(S.default)
                    }),
                    this.addButton("Level Anim", function () {
                        t.close(),
                        b.default.playLevelAnim(6)
                    }),
                    this.addButton("Help Card", function () {
                        t.close(),
                        h.default.openPanelWithFadeIn(A.default)
                    })
                },
                e.prototype.addButton = function (t, e) {
                    var n = new a.default(t, e);
                    return n.setParent(this.resNode),
                    n
                },
                e
            }
                (s.default));
            n.default = C,
            cc._RF.pop()
        }, {
            "../extensions/_G": "_G",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/utils/FileRecord": "FileRecord",
            "../extensions/widget/SButton": "SButton",
            "../extensions/widget/SSprite": "SSprite",
            "../game/MakerTest": "MakerTest",
            "../game/World": "World",
            "../game/unit/Role": "Role",
            "../manager/mgrAlert": "mgrAlert",
            "../manager/mgrGame": "mgrGame",
            "../ui/PanelCardHelp": "PanelCardHelp",
            "../ui/PanelFreeLvup": "PanelFreeLvup",
            "../ui/PanelFreeRole": "PanelFreeRole",
            "../ui/PanelGame": "PanelGame",
            "../ui/PanelNew": "PanelNew",
            "./DebugLevel": "DebugLevel"
        }
    ],
    DebugGuide: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "e2ab7vCqQZCtpQp70E474dk", "DebugGuide");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/ui/PanelBase"),
            r = t("../common/Const"),
            a = t("../extensions/widget/SButton"),
            s = t("../manager/mgrGuide"),
            c = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.resourceName = "prefab/debug/DebugGuide",
                    e.btnClose = null,
                    e.btnGrid0 = null,
                    e._exportNodeInfo = {
                        cc_btnClose: "cc.Button",
                        cc_btnGrid0: "cc.Layout"
                    },
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    for (var t = this, e = ["GUD_ENTER_MAIN_0", "GUD_ENTER_MAIN_1", "GUD_ENTER_MAIN_2", "GUD_NEW_CARD_5", "GUD_NEW_CARD_9"], n = function (n) {
                        new a.default(e[n], function () {
                            t.close(),
                            s.default.sendMsgKey(r.GUIDE_MSG.MAIN_FOCUS_OFF),
                            s.default.dispatchGuide(e[n])
                        }).setParent(o.btnGrid0.node)
                    }, o = this, i = 0; i < e.length; i++)
                        n(i)
                },
                e.prototype.on_click_btnClose = function () {
                    this.close()
                },
                e
            }
            (i.default);
            n.default = c,
            cc._RF.pop()
        }, {
            "../common/Const": "Const",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/widget/SButton": "SButton",
            "../manager/mgrGuide": "mgrGuide"
        }
    ],
    DebugKeyDown: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "70376pMhA5EWahZWf48Tb8J", "DebugKeyDown");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__decorate || function (t, e, n, o) {
                var i,
                r = arguments.length,
                a = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(t, e, n, o);
                else
                    for (var s = t.length - 1; s >= 0; s--)
                        (i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, n, a) : i(e, n)) || a);
                return r > 3 && a && Object.defineProperty(e, n, a),
                a
            },
            r = this && this.__awaiter || function (t, e, n, o) {
                return new(n || (n = Promise))(function (i, r) {
                    function a(t) {
                        try {
                            c(o.next(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function s(t) {
                        try {
                            c(o.throw(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function c(t) {
                        t.done ? i(t.value) : new n(function (e) {
                            e(t.value)
                        }).then(a, s)
                    }
                    c((o = o.apply(t, e || [])).next())
                })
            },
            a = this && this.__generator || function (t, e) {
                var n,
                o,
                i,
                r,
                a = {
                    label: 0,
                    sent: function () {
                        if (1 & i[0])
                            throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw : s(1),
                    return : s(2)
                },
                "function" == typeof Symbol && (r[Symbol.iterator] = function () {
                    return this
                }),
                r;
                function s(t) {
                    return function (e) {
                        return c([t, e])
                    }
                }
                function c(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done)
                                return i;
                            switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                o = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1],
                                    i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2],
                                    a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            o = 0
                        }
                    finally {
                        n = i = 0
                    }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var s = t("../extensions/mgr/mgrPanel"),
            c = t("../ui/PanelDialog"),
            l = t("../extensions/utils/FileRecord"),
            u = t("../extensions/_G"),
            d = t("../common/Const"),
            p = t("../extensions/astar/AStarGrid"),
            h = t("../extensions/astar/AStar"),
            f = t("../extensions/utils/UUID"),
            _ = t("../game/GameUtility"),
            m = t("../extensions/utils/Tools"),
            g = t("./DebugMain"),
            y = t("../extensions/utils/Mathf"),
            v = t("../extensions/mgr/mgrRes"),
            b = t("../extensions/mgr/mgrAudio"),
            S = t("../generate/db"),
            A = t("../manager/mgrAlert"),
            C = t("../game/World"),
            I = t("../extensions/BaseConst"),
            T = 1,
            E = function () {
                function t() {
                    this.m = 3
                }
                return t.onKeyUp = function (t) {
                    switch (t) {
                    case cc.macro.KEY.ctrl:
                        this.isCtrlDown = !1
                    }
                },
                t.onKeyDown = function (t) {
                    switch (t) {
                    case cc.macro.KEY.ctrl:
                        this.isCtrlDown = !0
                    }
                    this.isCtrlDown && (t *= cc.macro.KEY.ctrl),
                    this.onKeyPress(t)
                },
                t.onKeyPress = function (t) {
                    return r(this, void 0, void 0, function () {
                        var e,
                        n;
                        return a(this, function (o) {
                            switch (t) {
                            case cc.macro.KEY.c:
                                e = {
                                    desc: "Clear Archive?\n(Effective next launch)",
                                    confirm: function () {
                                        l.default.deletAllData(!1)
                                    },
                                    cancel: function () {}
                                },
                                s.default.openPanel(c.default, e);
                                break;
                            case cc.macro.KEY.c * cc.macro.KEY.ctrl:
                                s.default.closeTop();
                                break;
                            case cc.macro.KEY.d:
                                this.testConvertCoin();
                                break;
                            case cc.macro.KEY.d * cc.macro.KEY.ctrl:
                                s.default.openPanelWithSingleton(g.default),
                                this.debugGameInfo();
                                break;
                            case cc.macro.KEY.y:
                                for (n = 0; n < 3; n++)
                                    A.default.playCoinToCurrency(cc.v2(300, 100));
                                break;
                            case cc.macro.KEY.q:
                                u.default.sendMsg(I.BASE_MSG.UI_SHOW_TIP, "haha msg" + T++);
                                break;
                            case cc.macro.KEY.left:
                            case cc.macro.KEY.up:
                            case cc.macro.KEY.right:
                            case cc.macro.KEY.down:
                                break;
                            default:
                                cc.log("press keyCode:[" + t + "]")
                            }
                            return [2]
                        })
                    })
                },
                t.debugGameInfo = function () {
                    console.log("_G.canvasSize:" + u.default.canvasWidth + ", " + u.default.canvasHeight),
                    console.log("_G.canvasFullSize:" + u.default.canvasFullWidth + ", " + u.default.canvasFullHeight);
                    var t = cc.view.getFrameSize();
                    console.log("frameSize:" + t.width + ", " + t.height);
                    var e = cc.view.getCanvasSize();
                    console.log("canvasSize:" + e.width + ", " + e.height);
                    var n = cc.view.getDesignResolutionSize();
                    console.log("designSize:" + n.width + ", " + n.height);
                    var o = cc.view.getVisibleSize();
                    console.log("visibleSize:" + o.width + ", " + o.height),
                    s.default.debugPanels(),
                    u.default.poolManager.debugInfo()
                },
                t.astarTest = function () {
                    for (var t = [["0", "0", "0", "1", "0", "0", "0", "0", "0", "0"], ["0", "0", "0", "1", "0", "0", "0", "0", "0", "0"], ["0", "0", "0", "0", "1", "0", "0", "0", "0", "0"], ["0", "0", "0", "0", "1", "0", "0", "0", "0", "0"], ["0", "0", "0", "0", "1", "0", "0", "0", "0", "0"], ["0", "0", "0", "0", "1", "1", "1", "0", "0", "0"], ["0", "0", "0", "0", "1", "0", "0", "0", "0", "0"], ["0", "1", "1", "1", "1", "0", "0", "1", "1", "1"], ["0", "1", "0", "0", "0", "1", "0", "1", "0", "0"], ["0", "0", "0", "1", "0", "1", "0", "1", "0", "0"], ["0", "0", "0", "1", "0", "0", "0", "0", "0", "0"]], e = new p.default(t[0].length, t.length), n = 0; n < t.length; n++)
                        for (var o = t[n], i = 0; i < o.length; i++) {
                            "1" == o[i] && e.setWalkable(i, n, !1)
                        }
                    e.setStartNode(1, 1),
                    e.setEndNode(1, 1);
                    var r = new h.default(e, !0);
                    if (r.search()) {
                        console.log(t);
                        for (var a = r.path, s = 0; s < a.length; s++) {
                            var c = a[s];
                            t[c.y][c.x] = "2"
                        }
                        console.log(t)
                    } else
                        cc.error("no path")
                },
                t.md5Test = function () {
                    for (var t = new f.default(100, 10), e = 0; e < 105; e++)
                        cc.log(t.next());
                    cc.log("-----"),
                    cc.log(m.default.getMd5("jp")),
                    cc.log(m.default.getMd5("test111"))
                },
                t.testPathLerp = function () {
                    cc.log("---------- test path lerp");
                    for (var t = [cc.v2(0, 0), cc.v2(1, 1), cc.v2(1, 2), cc.v2(1, 3)], e = cc.v2(), n = 0; n <= 10; n++)
                        cc.log(_.default.LerpPath(t, .1 * n, e))
                },
                t.testDecorector = function () {
                    var e = new t;
                    new t;
                    e.m = 4;
                    var n = e.testDec("gg1");
                    cc.log("--------- r:", n)
                },
                t.prototype.testDec = function (t) {
                    console.log("test desc", t, this.m)
                },
                t.testBuDingCanShu = function () {
                    for (var t = [], e = 0; e < arguments.length; e++)
                        t[e] = arguments[e];
                    cc.log(t, t.length);
                    var n = t;
                    this.testFunc2(n),
                    this.testFunc2.apply(this, t),
                    this.testFunc2.apply(this, n)
                },
                t.testFunc2 = function () {
                    for (var t = [], e = 0; e < arguments.length; e++)
                        t[e] = arguments[e];
                    cc.log(t, t.length)
                },
                t.testCopyTo = function () {
                    var t = function (t) {
                        function e() {
                            return null !== t && t.apply(this, arguments) || this
                        }
                        return o(e, t),
                        e.prototype.printB = function () {
                            cc.log(this.a),
                            cc.log(this.b.length)
                        },
                        e
                    }
                    (function () {
                        function t() {
                            this.a = 1,
                            this.b = [3]
                        }
                        return t.prototype.print = function () {
                            cc.log(this.a),
                            cc.log(this.b.length)
                        },
                        t
                    }
                        ()),
                    e = new t;
                    e.a = 3,
                    e.b = [1, 2];
                    var n = m.default.serializeObject(e),
                    i = new t;
                    m.default.deserializeObject(n, i),
                    i.print(),
                    cc.log("==="),
                    i.printB()
                },
                t.testNull = function () {
                    var t = {};
                    cc.log(null == t.d),
                    cc.log(void 0 == t.d),
                    t = 0,
                    cc.log("" == t),
                    cc.log(null == t),
                    t = "",
                    cc.log("" == t),
                    cc.log(null == t),
                    cc.log(0 == t),
                    cc.log(!0)
                },
                t.testArray = function () {
                    var t = new Array(3);
                    cc.log(t.length),
                    cc.log(t),
                    cc.log(t[2]),
                    cc.log("----");
                    var e = t.indexOf(3);
                    cc.log(e),
                    cc.log("----");
                    var n = t.slice();
                    t[1] = 9,
                    cc.log(t),
                    cc.log(n),
                    (t = [3, 4, 1]).sort(function (t, e) {
                        return t > e ? 1 : t < e ? -1 : 0
                    }),
                    cc.log("sort:", t),
                    t = [1, 2, 3],
                    this.testMerge(t, 4, 5, 6);
                    var o = (t = [1, 2, 3]).concat(1, 2, n = [4, 5, 6]);
                    cc.log("concat"),
                    cc.log(t),
                    cc.log(n),
                    cc.log(o)
                },
                t.testMerge = function (t) {
                    for (var e = [], n = 1; n < arguments.length; n++)
                        e[n - 1] = arguments[n];
                    var o = t.splice.apply(t, [t.length - 1, 0].concat(e));
                    cc.log("merge result"),
                    cc.log(t),
                    cc.log(o)
                },
                t.testThrow = function () {
                    throw "tes tthrow error"
                },
                t.testMath = function () {
                    for (var t = 1e4, e = 0, n = 0; n < 100; n++) {
                        var o = y.default.uniform2NormalDistribution();
                        o = 20 * (o / 3 + 1),
                        cc.log(o),
                        t = Math.min(t, o),
                        e = Math.max(e, o)
                    }
                    cc.log("-----min:", t, "max:", e),
                    cc.log(-80),
                    cc.log(-50.5)
                },
                t.test3yuan = function (t) {
                    t ? cc.log("true") : cc.log("false")
                },
                t.testString = function () {
                    var t = "abcde";
                    cc.log("---------"),
                    cc.log(t.indexOf("m")),
                    cc.log(t.indexOf("a")),
                    cc.log(t.charAt(0)),
                    cc.log(t.charAt(2)),
                    cc.log(t.length),
                    t = "aabcdd",
                    cc.log("replace"),
                    cc.log(t.replace("a", "e")),
                    cc.log(t.replace("d", "e")),
                    cc.log(t.replace(/a/g, "e")),
                    cc.log(t.replace(/d/g, "e"))
                },
                t.testWorldPos = function () {
                    var t = s.default.getLayerNode(s.PANEL_LAYER.BOTTOM);
                    cc.log(t.convertToWorldSpaceAR(cc.Vec2.ZERO))
                },
                t.debugDelete = function () {
                    var t = {
                        a: "1",
                        b: "2"
                    };
                    cc.log(delete t.a),
                    cc.log(delete t.a),
                    cc.log(delete t.c),
                    cc.log(delete t.b)
                },
                t.testAsyncRes = function () {
                    return r(this, void 0, void 0, function () {
                        var t;
                        return a(this, function (e) {
                            return (t = v.default.promiseLoadAsset("prefab/aaaa/bbb", cc.Prefab)).then(function (t) {
                                cc.log("load p")
                            }, function (t) {
                                cc.log("rejuect err", t)
                            }).catch(function (t) {
                                cc.log("catch err", t)
                            }),
                            t ? cc.log("load p11") : cc.log("can't load p1"),
                            [2]
                        })
                    })
                },
                t.testSound = function () {
                    cc.log("play sound"),
                    b.default.playSound("loading1", .5)
                },
                t.testConvertCoin = function () {
                    cc.log("start convert"),
                    cc.log(_.default.convertCoinString(999)),
                    cc.log(_.default.convertCoinString(1e3)),
                    cc.log(_.default.convertCoinString(10421)),
                    cc.log(_.default.convertCoinString(112456)),
                    cc.log(_.default.convertCoinString(1234e3)),
                    cc.log(_.default.convertCoinString(1234e4)),
                    cc.log(_.default.convertCoinString(1234e5)),
                    cc.log(_.default.convertCoinString(0xb3921510cd3)),
                    cc.log(_.default.convertCoinString(Number.MAX_VALUE)),
                    cc.log(y.default.getDigits(.34)),
                    cc.log(y.default.getDigits(1.34)),
                    cc.log(y.default.getDigits(12.34)),
                    cc.log(y.default.getDigits(-12.34))
                },
                t.testImpl = function () {
                    this.testImpl1(void 0),
                    this.testImpl1(void 0)
                },
                t.testImpl1 = function (t) {},
                t.testTouchRect = function () {
                    var t = [cc.v2(0, 0), cc.v2(-100, 100), cc.v2(100, 100)],
                    e = cc.v2(0, 50),
                    n = cc.v2(49, 50),
                    o = cc.v2(50, 50),
                    i = cc.v2(51, 50),
                    r = cc.v2(100, 50);
                    cc.log("touch1:", cc.Intersection.pointInPolygon(e, t)),
                    cc.log("touch2:", cc.Intersection.pointInPolygon(n, t)),
                    cc.log("touch3:", cc.Intersection.pointInPolygon(o, t)),
                    cc.log("touch4:", cc.Intersection.pointInPolygon(i, t)),
                    cc.log("touch5:", cc.Intersection.pointInPolygon(r, t))
                },
                t.testEnum = function () {},
                t.testDump = function () {
                    var t = S.default.get_item_db(d.ITEM_ID.COIN);
                    m.default.dump(t, "itemDb");
                    var e = {
                        obj: {
                            a: "a",
                            b: 2,
                            c: {
                                d: 3,
                                n: ["2", 3, {
                                        x: 11,
                                        y: 22
                                    }
                                ]
                            }
                        },
                        c: {
                            m: "mmm",
                            c: [2, 4, 6]
                        }
                    };
                    cc.log("dump:"),
                    m.default.dump(e, "obj1"),
                    cc.log("dir:"),
                    console.dir(e),
                    cc.log("log:"),
                    console.log(e),
                    cc.log("table:"),
                    console.table(e)
                },
                t.testError = function () {
                    var t = function (t) {
                        cc.log("type:", typeof t),
                        cc.log("error:", t),
                        cc.log("toString:", t.toString()),
                        cc.log("json:", JSON.stringify(t)),
                        t instanceof Error ? cc.log(t.message, t.stack) : cc.log(JSON.stringify(t)),
                        cc.log("")
                    };
                    try {
                        this.testError1()
                    } catch (e) {
                        t(e)
                    }
                    try {
                        this.testError2()
                    } catch (e) {
                        t(e)
                    }
                    try {
                        this.testError3()
                    } catch (e) {
                        t(e)
                    }
                    try {
                        this.testError4()
                    } catch (e) {
                        t(e)
                    }
                },
                t.testError1 = function () {
                    throw "haha"
                },
                t.testError2 = function () {
                    throw new Error("nono")
                },
                t.testError3 = function () {
                    throw new Array(4)
                },
                t.testError4 = function () {
                    throw {
                        message: "yeye",
                        stack: "sss"
                    }
                },
                t.testUtf8 = function () {
                    var t = "Hello";
                    cc.log(t, m.default.utf8Len(t)),
                    t = "Hello, 1",
                    cc.log(t, m.default.utf8Len(t)),
                    t = "yes a",
                    cc.log(t, m.default.utf8Len(t))
                },
                t.testDir = function () {
                    var t = y.default.Random(360);
                    cc.log("rot:", t);
                    var e = _.default.convertRot2Dir(t);
                    cc.log("dir:", e),
                    t = _.default.convertDir2Rot(e),
                    cc.log("cRot:", t),
                    t = _.default.convertDir2Rot(cc.v2(-1, 1)),
                    cc.log("cRot:", t),
                    t = _.default.convertDir2Rot(cc.v2(1, 1)),
                    cc.log("cRot:", t),
                    t = _.default.convertDir2Rot(cc.v2(-1, -1)),
                    cc.log("cRot:", t)
                },
                t.testVec = function () {
                    var t = cc.Vec2.RIGHT;
                    cc.log("right:", t),
                    t.rotateSelf(y.default.PI / 2),
                    cc.log("rot:", t)
                },
                t.testVar = function () {
                    var t = {
                        n: 1
                    },
                    e = t;
                    t.x = t = {
                        n: 2
                    },
                    cc.log(t.x),
                    cc.log(e.x),
                    cc.log(t),
                    cc.log(e)
                },
                t.testParams = function () {
                    this.testP1(),
                    this.testP1(null),
                    this.testP1(void 0)
                },
                t.testP1 = function (t) {
                    void 0 === t && (t = 1),
                    cc.log("params:", t)
                },
                t.testJsClass = function () {
                    var e = new t;
                    cc.log(e.constructor)
                },
                t.testGameConvert = function () {
                    for (var t = C.default.instance.map, e = -1; e < 16; e++)
                        cc.log("pos:", e, t.convertToWorldPos(e));
                    cc.log("");
                    for (e = 0; e < 16; e++) {
                        var n = cc.v2(y.default.Random(u.default.canvasWidth), y.default.Random(u.default.canvasHeight));
                        cc.log("idx:", n, t.convertToIndex(n))
                    }
                    cc.log("")
                },
                t.isCtrlDown = !1,
                i([w], t.prototype, "testDec", null),
                t
            }
            ();
            function w(t, e, n) {
                var o = 0;
                console.log("url", t, e, n);
                var i = n.value;
                n.value = function (t) {
                    return console.log("------ haha", o++, t, this.m),
                    "gg1" == t && (this.m = 30),
                    i.call(this, t),
                    "hei hei."
                }
            }
            n.default = E,
            cc._RF.pop()
        }, {
            "../common/Const": "Const",
            "../extensions/BaseConst": "BaseConst",
            "../extensions/_G": "_G",
            "../extensions/astar/AStar": "AStar",
            "../extensions/astar/AStarGrid": "AStarGrid",
            "../extensions/mgr/mgrAudio": "mgrAudio",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/mgr/mgrRes": "mgrRes",
            "../extensions/utils/FileRecord": "FileRecord",
            "../extensions/utils/Mathf": "Mathf",
            "../extensions/utils/Tools": "Tools",
            "../extensions/utils/UUID": "UUID",
            "../game/GameUtility": "GameUtility",
            "../game/World": "World",
            "../generate/db": "db",
            "../manager/mgrAlert": "mgrAlert",
            "../ui/PanelDialog": "PanelDialog",
            "./DebugMain": "DebugMain"
        }
    ],
    DebugLevel: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "56220Kl7JhNtLVF8vjbFKht", "DebugLevel");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__awaiter || function (t, e, n, o) {
                return new(n || (n = Promise))(function (i, r) {
                    function a(t) {
                        try {
                            c(o.next(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function s(t) {
                        try {
                            c(o.throw(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function c(t) {
                        t.done ? i(t.value) : new n(function (e) {
                            e(t.value)
                        }).then(a, s)
                    }
                    c((o = o.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function (t, e) {
                var n,
                o,
                i,
                r,
                a = {
                    label: 0,
                    sent: function () {
                        if (1 & i[0])
                            throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw : s(1),
                    return : s(2)
                },
                "function" == typeof Symbol && (r[Symbol.iterator] = function () {
                    return this
                }),
                r;
                function s(t) {
                    return function (e) {
                        return c([t, e])
                    }
                }
                function c(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done)
                                return i;
                            switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                o = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1],
                                    i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2],
                                    a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            o = 0
                        }
                    finally {
                        n = i = 0
                    }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var a = t("../extensions/widget/SButton"),
            s = t("../game/World"),
            c = t("../extensions/ui/PanelBase"),
            l = t("../extensions/widget/SSprite"),
            u = t("../extensions/_G"),
            d = t("../game/MakerTest"),
            p = t("../generate/db"),
            h = t("../extensions/widget/SEditBox"),
            f = t("../extensions/utils/Tools"),
            _ = t("../manager/mgrAlert"),
            m = (new d.default, function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.create = function () {
                    return i(this, void 0, void 0, function () {
                        var t,
                        e,
                        n;
                        return r(this, function (o) {
                            return t = new l.default("DebugLevel", "texture/alpha_mask"),
                            (e = t.addComponent(cc.Widget)).isAlignLeft = !0,
                            e.left = 0,
                            e.isAlignTop = !0,
                            e.top = 0,
                            e.alignMode = cc.Widget.AlignMode.ALWAYS,
                            (n = t.addComponent(cc.Layout)).type = cc.Layout.Type.GRID,
                            n.resizeMode = cc.Layout.ResizeMode.CONTAINER,
                            n.startAxis = cc.Layout.AxisDirection.HORIZONTAL,
                            n.cellSize = cc.size(50, 50),
                            n.spacingX = 10,
                            n.spacingY = 10,
                            n.padding = 50,
                            t.setContentSize(u.default.canvasFullWidth, 50),
                            t.addComponent(cc.BlockInputEvents),
                            this.createFromNode(t),
                            [2]
                        })
                    })
                },
                e.prototype.buildUi = function () {
                    var t = this;
                    this.addBtn("X", this.close.bind(this));
                    var e = new h.default("Stage", 1).setParent(this.resNode);
                    e.setContentSize(100, 50);
                    var n = p.default.get_wave_db_map(),
                    o = Object.keys(n);
                    this.addBtn("Start Stage", function () {
                        var n = f.default.safeParseInt(e.string, 0) - 1;
                        n < 0 || n >= o.length ? _.default.alertText("Wrong Stage.") : (_.default.alertText("Start Stage: " + (n + 1)), t.close(), s.default.instance.killAllMonster(), s.default.instance.loadGame(n))
                    })
                },
                e.prototype.addBtn = function (t, e) {
                    new a.default(t, e, cc.v2(50, 50)).setParent(this.resNode)
                },
                e
            }
                (c.default));
            n.default = m,
            cc._RF.pop()
        }, {
            "../extensions/_G": "_G",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/utils/Tools": "Tools",
            "../extensions/widget/SButton": "SButton",
            "../extensions/widget/SEditBox": "SEditBox",
            "../extensions/widget/SSprite": "SSprite",
            "../game/MakerTest": "MakerTest",
            "../game/World": "World",
            "../generate/db": "db",
            "../manager/mgrAlert": "mgrAlert"
        }
    ],
    DebugMain: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "d03c0zaMyVF87nDJNBySO4h", "DebugMain");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/ui/PanelBase"),
            r = t("../extensions/mgr/mgrPanel"),
            a = t("./DebugQuest"),
            s = t("./DebugUp"),
            c = t("./DebugGM"),
            l = t("./DebugCocos"),
            u = t("../extensions/_G"),
            d = t("./DebugDistribution"),
            p = t("../utils/VerifyCfg"),
            h = t("../extensions/widget/SButton"),
            f = t("./DebugGuide"),
            _ = t("../manager/mgrGuide"),
            m = t("../component/ModuleLocker"),
            g = t("../ui/PanelGuide"),
            y = t("../extensions/utils/FileRecord"),
            v = t("../extensions/utils/Tools"),
            b = t("./DebugGame"),
            S = t("./DebugLevel"),
            A = t("../extensions/module/BaseFacade"),
            C = t("../common/Const"),
            I = t("../extensions/mgr/mgrSdk"),
            T = t("../game/World"),
            E = t("../extensions/sdk/GameStatistics"),
            w = t("../extensions/utils/Timer"),
            P = t("../extensions/BaseConst"),
            M = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.resourceName = "prefab/debug/DebugMain",
                    e.panelLayer = r.PANEL_LAYER.TOP,
                    e.panelStyle = r.PANEL_STYLE.DIALOG,
                    e.textLabel = null,
                    e.btnClose = null,
                    e.btnGrid0 = null,
                    e.btnGrid1 = null,
                    e._exportNodeInfo = {
                        cc_textLabel: "cc.Label",
                        cc_btnClose: "cc.Button",
                        cc_btnGrid0: "cc.Layout",
                        cc_btnGrid1: "cc.Layout"
                    },
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    var t = this,
                    e = cc.v2(100, 50);
                    this.showCopInfo(),
                    new h.default("Guide Test", function () {
                        t.close(),
                        r.default.openPanel(f.default)
                    }, e).setParent(this.btnGrid0.node),
                    new h.default("Game Relative", function () {
                        t.close(),
                        r.default.openPanel(b.default)
                    }).setParent(this.btnGrid0.node),
                    new h.default("Stage Select", function () {
                        t.close(),
                        r.default.openPanel(S.default)
                    }, e).setParent(this.btnGrid0.node),
                    new h.default("GM", function () {
                        t.close(),
                        r.default.openPanelWithSingleton(c.default)
                    }, e).setParent(this.btnGrid1.node),
                    new h.default("Cocos", function () {
                        t.close(),
                        r.default.openPanelWithSingleton(l.default)
                    }, e).setParent(this.btnGrid1.node),
                    new h.default("Delete Records", function () {
                        t.close(),
                        y.default.deletAllData(!1)
                    }, e).setParent(this.btnGrid1.node),
                    new h.default("Test 2", function () {
                        t.close(),
                        r.default.openPanelWithSingleton(d.default)
                    }, e).setParent(this.btnGrid1.node),
                    new h.default("Test Task", function () {
                        t.close(),
                        r.default.openPanelWithSingleton(a.default)
                    }, e).setParent(this.btnGrid1.node),
                    new h.default("Test 3", function () {
                        t.close(),
                        r.default.openPanelWithSingleton(s.default)
                    }, e).setParent(this.btnGrid1.node),
                    new h.default("Test Config", function () {
                        t.close(),
                        p.default.verifyAll()
                    }, e).setParent(this.btnGrid1.node),
                    new h.default("Unlock Module", function () {
                        t.close(),
                        m.default.unlockAll()
                    }, e).setParent(this.btnGrid1.node),
                    new h.default("Skip Guide", function () {
                        t.close(),
                        _.default.enabled = !1;
                        var e = r.default.findPanel(g.default);
                        e && e.closeGuide(!1),
                        C.GuideInfo.bGuideMode = !1;
                        for (var n = 1; n < 4; n++) {
                            var o = T.default.instance.getTower(n);
                            o && T.default.instance.removeFSM(o)
                        }
                        for (n = 0; n < 16; n++) {
                            var i = T.default.instance.getRole(n);
                            i && T.default.instance.removeRole(i)
                        }
                        T.default.instance.killAllMonster(),
                        A.default.mItem.resetItems(),
                        T.default.instance.loadGame(0),
                        y.default.writeEnable = !0,
                        E.default.enable = !0,
                        u.default.sendMsg(C.MSG.UI_UPDATE_TOWER_STATE)
                    }, e).setParent(this.btnGrid1.node),
                    new h.default("Test Relaunch", function () {
                        t.close(),
                        cc.game.restart()
                    }, e).setParent(this.btnGrid1.node),
                    new h.default("Test Next Day", function () {
                        t.close();
                        var e = y.default.getData("key_time_offset") || 0;
                        e += 86400,
                        w.default.setTimeOffset(e),
                        y.default.setData("key_time_offset", e),
                        u.default.sendMsg(P.BASE_MSG.UI_SHOW_TIP, "Speed up " + Math.round(e / 3600 / 24) + " days"),
                        u.default.sendMsg(P.BASE_MSG.UI_SHOW_TIP, "ba la ba la!"),
                        y.default.deletAllData(!1)
                    }, e).setParent(this.btnGrid1.node),
                    u.default.sendMsg(C.MSG.UI_SHOW_DEBUG_INFO)
                },
                e.prototype.showCopInfo = function () {
                    try {
                        var t = JSON.parse(I.default.COP_INFO),
                        e = "";
                        for (var n in t)
                            e += n + ":" + t[n] + "\n\n";
                        this.textLabel.string = e
                    } catch (t) {
                        this.textLabel.string = "Somethings wrong with COP" + v.default.formatError(t)
                    }
                },
                e.prototype.on_click_btnClose = function () {
                    this.close()
                },
                e
            }
            (i.default);
            n.default = M,
            cc._RF.pop()
        }, {
            "../common/Const": "Const",
            "../component/ModuleLocker": "ModuleLocker",
            "../extensions/BaseConst": "BaseConst",
            "../extensions/_G": "_G",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/mgr/mgrSdk": "mgrSdk",
            "../extensions/module/BaseFacade": "BaseFacade",
            "../extensions/sdk/GameStatistics": "GameStatistics",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/utils/FileRecord": "FileRecord",
            "../extensions/utils/Timer": "Timer",
            "../extensions/utils/Tools": "Tools",
            "../extensions/widget/SButton": "SButton",
            "../game/World": "World",
            "../manager/mgrGuide": "mgrGuide",
            "../ui/PanelGuide": "PanelGuide",
            "../utils/VerifyCfg": "VerifyCfg",
            "./DebugCocos": "DebugCocos",
            "./DebugDistribution": "DebugDistribution",
            "./DebugGM": "DebugGM",
            "./DebugGame": "DebugGame",
            "./DebugGuide": "DebugGuide",
            "./DebugLevel": "DebugLevel",
            "./DebugQuest": "DebugQuest",
            "./DebugUp": "DebugUp"
        }
    ],
    DebugPanelBase: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "091e4gxO/lBT6eDaUjQdsTj", "DebugPanelBase");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__awaiter || function (t, e, n, o) {
                return new(n || (n = Promise))(function (i, r) {
                    function a(t) {
                        try {
                            c(o.next(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function s(t) {
                        try {
                            c(o.throw(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function c(t) {
                        t.done ? i(t.value) : new n(function (e) {
                            e(t.value)
                        }).then(a, s)
                    }
                    c((o = o.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function (t, e) {
                var n,
                o,
                i,
                r,
                a = {
                    label: 0,
                    sent: function () {
                        if (1 & i[0])
                            throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw : s(1),
                    return : s(2)
                },
                "function" == typeof Symbol && (r[Symbol.iterator] = function () {
                    return this
                }),
                r;
                function s(t) {
                    return function (e) {
                        return c([t, e])
                    }
                }
                function c(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done)
                                return i;
                            switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                o = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1],
                                    i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2],
                                    a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            o = 0
                        }
                    finally {
                        n = i = 0
                    }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var a = t("../extensions/ui/PanelBase"),
            s = t("../extensions/widget/SButton"),
            c = t("../extensions/widget/SSprite"),
            l = t("../extensions/_G"),
            u = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.create = function () {
                    return i(this, void 0, void 0, function () {
                        var t,
                        e,
                        n,
                        o,
                        i;
                        return r(this, function (r) {
                            return t = new cc.Node,
                            (e = t.addComponent(cc.Widget)).isAlignTop = !0,
                            e.top = 0,
                            e.isAlignBottom = !0,
                            e.bottom = 0,
                            e.isAlignRight = !0,
                            e.right = 0,
                            e.isAlignLeft = !0,
                            e.left = 0,
                            e.updateAlignment(),
                            (n = new c.default("")).setParent(t),
                            n.color = cc.Color.BLACK,
                            n.opacity = 180,
                            n.setContentSize(l.default.canvasFullWidth, l.default.canvasFullHeight),
                            (o = new s.default("X", this.close.bind(this))).setParent(t),
                            (i = o.addComponent(cc.Widget)).isAlignTop = !0,
                            i.top = 10,
                            i.isAlignRight = !0,
                            i.right = 10,
                            this.createFromNode(t),
                            [2]
                        })
                    })
                },
                e
            }
            (a.default);
            n.default = u,
            cc._RF.pop()
        }, {
            "../extensions/_G": "_G",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/widget/SButton": "SButton",
            "../extensions/widget/SSprite": "SSprite"
        }
    ],
    DebugQuest: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "cc0cav5RyxGI4p/xcks4sZo", "DebugQuest");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/ui/PanelBase"),
            r = t("../manager/mgrAlert"),
            a = t("../extensions/mgr/mgrPanel"),
            s = t("../extensions/widget/SEditBox"),
            c = t("../extensions/widget/SButton"),
            l = t("../extensions/module/mGoal"),
            u = t("../extensions/module/BaseFacade"),
            d = t("../extensions/BaseConst"),
            p = t("../extensions/module/mQuest"),
            h = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.resourceName = "prefab/debug/DebugQuest",
                    e.panelLayer = a.PANEL_LAYER.TOP,
                    e.panelStyle = a.PANEL_STYLE.DIALOG,
                    e.btnClose = null,
                    e.btnGrid = null,
                    e.boxGrid = null,
                    e.actionItem = null,
                    e.curSelect = null,
                    e._exportNodeInfo = [{
                            fieldName: "btnClose",
                            filedType: "cc.Button",
                            fieldPath: [0]
                        }, {
                            fieldName: "btnGrid",
                            filedType: "cc.Layout",
                            fieldPath: [1]
                        }, {
                            fieldName: "boxGrid",
                            filedType: "cc.Layout",
                            fieldPath: [2]
                        }, {
                            fieldName: "actionItem",
                            filedType: "cc.Toggle",
                            fieldPath: [3, 2, 0, 0]
                        }, {
                            fieldName: "curSelect",
                            filedType: "cc.Label",
                            fieldPath: [3, 3]
                        }
                    ],
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    var t = this;
                    this.actionItem.node.active = !1;
                    for (var e = [{
                                name: "GET_ITEM",
                                id: d.BASE_ACTION_ID.ITEM_GET
                            }, {
                                name: "USE_ITEM",
                                id: d.BASE_ACTION_ID.ITEM_USE
                            }, {
                                name: "PAY_SUC",
                                id: d.BASE_ACTION_ID.PAY_SUC
                            }, {
                                name: "SHARE",
                                id: d.BASE_ACTION_ID.SHARE
                            }, {
                                name: "LEVEL_UP",
                                id: d.BASE_ACTION_ID.LEVEL_UP,
                                bigger: !0
                            }, {
                                name: "LEVEL_UP_KEY",
                                id: d.BASE_ACTION_ID.LEVEL_UP_KEY
                            }, {
                                name: "LEVEL_UP_KEY_MAX",
                                id: d.BASE_ACTION_ID.LEVEL_UP_KEY_MAX,
                                bigger: !0
                            }, {
                                name: "QUEST_FINISH",
                                id: d.BASE_ACTION_ID.QUEST_FINISH
                            }
                        ], n = "", o = function (o) {
                        var r = e[o],
                        a = cc.instantiate(i.actionItem.node);
                        a.active = !0,
                        a.setParent(i.actionItem.node.parent),
                        a.getComponent(cc.Label).string = r.name,
                        a.on("toggle", function () {
                            n = r.id,
                            r.bigger ? l.GOAL_COMMIT_MODE.BIGGER : l.GOAL_COMMIT_MODE.ADD,
                            t.curSelect.string = "[ " + n + " ]"
                        })
                    }, i = this, a = 0; a < e.length; a++)
                        o(a);
                    new s.default("Task Id").setParent(this.boxGrid.node);
                    var h = new s.default("targetId").setParent(this.boxGrid.node),
                    f = new s.default("achieve goals", 1).setParent(this.boxGrid.node);
                    new c.default("Finish Target", function () {
                        var t = h.string,
                        e = parseInt(f.string);
                        t && n && e && (u.default.mGoal.commit(n, e, t), r.default.alertText("achieve goals " + e + " times action:[" + n + "] target:[" + t + "]"))
                    }).setParent(this.btnGrid.node),
                    new c.default("Print Task State", function () {
                        for (var t = u.default.mQuest.getQuestByType(d.QUEST_TYPE.MAIN), e = 0; e < t.length; e++) {
                            var n = t[e];
                            cc.log("quest:" + n + "  state:" + p.QUEST_STATE[u.default.mQuest.query(n).state] + " value:" + u.default.mQuest.getCurValue(n) + "/" + u.default.mQuest.getDbValue(n))
                        }
                    }).setParent(this.btnGrid.node)
                },
                e.prototype.on_click_btnClose = function () {
                    this.close()
                },
                e.prototype.on_click_actionItem = function () {},
                e
            }
            (i.default);
            n.default = h,
            cc._RF.pop()
        }, {
            "../extensions/BaseConst": "BaseConst",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/module/BaseFacade": "BaseFacade",
            "../extensions/module/mGoal": "mGoal",
            "../extensions/module/mQuest": "mQuest",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/widget/SButton": "SButton",
            "../extensions/widget/SEditBox": "SEditBox",
            "../manager/mgrAlert": "mgrAlert"
        }
    ],
    DebugRect: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "99e3e0NPRND9Z4nc7F/OkYG", "DebugRect");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../mgr/mgrPanel"),
            r = function (t) {
                function e(e, n) {
                    void 0 === n && (n = 1);
                    var o = t.call(this, "DebugRect") || this;
                    n = Math.max(n, 1),
                    o.alignToWorld();
                    var i = o.addComponent(cc.Graphics);
                    return i.scheduleOnce(function () {
                        o.destroy()
                    }, n),
                    o.showRect(i, e),
                    o
                }
                return o(e, t),
                e.prototype.showRect = function (t, e) {
                    t.clear(),
                    t.rect(e.x, e.y, e.width, e.height),
                    t.stroke()
                },
                e.prototype.alignToWorld = function () {
                    var t = i.default.getLayerNode(i.PANEL_LAYER.TOP);
                    this.setParent(t);
                    var e = t.convertToNodeSpaceAR(cc.Vec2.ZERO);
                    t.setPosition(e)
                },
                e
            }
            (cc.Node);
            n.default = r,
            cc._RF.pop()
        }, {
            "../mgr/mgrPanel": "mgrPanel"
        }
    ],
    DebugUp: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "444c7LL69lOratQSJ/pHH7y", "DebugUp");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__awaiter || function (t, e, n, o) {
                return new(n || (n = Promise))(function (i, r) {
                    function a(t) {
                        try {
                            c(o.next(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function s(t) {
                        try {
                            c(o.throw(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function c(t) {
                        t.done ? i(t.value) : new n(function (e) {
                            e(t.value)
                        }).then(a, s)
                    }
                    c((o = o.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function (t, e) {
                var n,
                o,
                i,
                r,
                a = {
                    label: 0,
                    sent: function () {
                        if (1 & i[0])
                            throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw : s(1),
                    return : s(2)
                },
                "function" == typeof Symbol && (r[Symbol.iterator] = function () {
                    return this
                }),
                r;
                function s(t) {
                    return function (e) {
                        return c([t, e])
                    }
                }
                function c(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done)
                                return i;
                            switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                o = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1],
                                    i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2],
                                    a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            o = 0
                        }
                    finally {
                        n = i = 0
                    }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var a = t("../extensions/ui/PanelBase"),
            s = t("../manager/mgrAlert"),
            c = t("../extensions/widget/SEditBox"),
            l = t("../extensions/widget/SButton"),
            u = t("../extensions/widget/SSprite"),
            d = t("../extensions/_G"),
            p = t("../extensions/module/BaseFacade"),
            h = t("../extensions/BaseConst"),
            f = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.create = function () {
                    return i(this, void 0, void 0, function () {
                        var t,
                        e,
                        n;
                        return r(this, function (o) {
                            return t = new u.default("DebugGame", "texture/alpha_mask"),
                            (e = t.addComponent(cc.Widget)).isAlignLeft = !0,
                            e.left = 0,
                            e.isAlignTop = !0,
                            e.top = 0,
                            e.alignMode = cc.Widget.AlignMode.ALWAYS,
                            (n = t.addComponent(cc.Layout)).type = cc.Layout.Type.GRID,
                            n.resizeMode = cc.Layout.ResizeMode.CONTAINER,
                            n.startAxis = cc.Layout.AxisDirection.HORIZONTAL,
                            n.cellSize = cc.size(100, 50),
                            n.spacingX = 10,
                            n.spacingY = 10,
                            n.padding = 50,
                            t.setContentSize(d.default.canvasFullWidth, 50),
                            t.addComponent(cc.BlockInputEvents),
                            this.createFromNode(t),
                            [2]
                        })
                    })
                },
                e.prototype.buildUi = function () {
                    var t = new c.default("Item ID");
                    this.addChild(t),
                    t.setParent(this.resNode),
                    this.addButton("UPGRADE", function () {
                        var e = t.string;
                        e && (s.default.alertText("Upgrade:[" + e + "]"), p.default.mUp.lvupAttr(e, h.UpAttrName.Base))
                    }),
                    this.registerMsg({}),
                    this.startProcMsg()
                },
                e.prototype.dispose = function () {
                    this.stopProcMsg(),
                    t.prototype.dispose.call(this)
                },
                e.prototype.addButton = function (t, e) {
                    new l.default(t, e).setParent(this.resNode)
                },
                e
            }
            (a.default);
            n.default = f,
            cc._RF.pop()
        }, {
            "../extensions/BaseConst": "BaseConst",
            "../extensions/_G": "_G",
            "../extensions/module/BaseFacade": "BaseFacade",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/widget/SButton": "SButton",
            "../extensions/widget/SEditBox": "SEditBox",
            "../extensions/widget/SSprite": "SSprite",
            "../manager/mgrAlert": "mgrAlert"
        }
    ],
    Decorator: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "c2aa2pYrE9CeJ5CyPBSv0jI", "Decorator"),
            cc._RF.pop()
        }, {}
    ],
    DialogOpenAndCloseAnim: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "36a80IPQ+ZNGJ+FI1pY42VG", "DialogOpenAndCloseAnim");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__decorate || function (t, e, n, o) {
                var i,
                r = arguments.length,
                a = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(t, e, n, o);
                else
                    for (var s = t.length - 1; s >= 0; s--)
                        (i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, n, a) : i(e, n)) || a);
                return r > 3 && a && Object.defineProperty(e, n, a),
                a
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r = t("../mgr/mgrRes"),
            a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = a.requireComponent,
            u = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.openAnim = null,
                    e.closeAnim = null,
                    e
                }
                return o(e, t),
                e.prototype.onLoad = function () {
                    var t = this;
                    if (null == this.openAnim) {
                        var e = r.default.tryLoadRes("2d/defaultDialogOpen", cc.AnimationClip);
                        this.openAnim = e
                    }
                    if (null != this.openAnim) {
                        var n = this.getComponent(cc.Animation);
                        n.addClip(this.openAnim);
                        n.play("defaultDialogOpen");
                        n.on("finished", function () {
                            t._onOpenDialogCompleted(),
                            n.targetOff(t)
                        }, this)
                    }
                },
                e.prototype._onOpenDialogCompleted = function () {},
                i([c(cc.AnimationClip)], e.prototype, "openAnim", void 0),
                i([c(cc.AnimationClip)], e.prototype, "closeAnim", void 0),
                e = i([s, l(cc.Animation)], e)
            }
            (cc.Component);
            n.default = u,
            cc._RF.pop()
        }, {
            "../mgr/mgrRes": "mgrRes"
        }
    ],
    Effect: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "8c3e8KmOPVIza66jG99yxho", "Effect");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__decorate || function (t, e, n, o) {
                var i,
                r = arguments.length,
                a = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(t, e, n, o);
                else
                    for (var s = t.length - 1; s >= 0; s--)
                        (i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, n, a) : i(e, n)) || a);
                return r > 3 && a && Object.defineProperty(e, n, a),
                a
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r = t("./ViewBase"),
            a = t("../AsyncObject"),
            s = t("../mgr/mgrPanel"),
            c = t("../_G"),
            l = function (t) {
                function e(e) {
                    var n = t.call(this) || this;
                    return n.resourceName = null,
                    n.resourceName = e,
                    n.create(),
                    n
                }
                return o(e, t),
                e.prototype.onCreateComplete = function () {
                    if (this.m_particles = this.resNode.getComponentsInChildren(cc.ParticleSystem), this.m_anims = this.resNode.getComponentsInChildren(cc.Animation), this.m_anims)
                        for (var t = 0; t < this.m_anims.length; t++) {
                            var e = this.m_anims[t].getClips();
                            e && e.length > 0 && (this.m_anims[t]._defaultClip = e[0])
                        }
                },
                e.prototype.reuse = function () {
                    this.show()
                },
                e.prototype.unuse = function () {
                    this.stop(),
                    this.removeFromParent(),
                    this.hide(),
                    this.clearDelayCalls()
                },
                e.prototype.play = function (t, e, n, o) {
                    if (void 0 === o && (o = s.PANEL_LAYER.TIP), t) {
                        var i = s.default.getLayerNode(o);
                        this.setParent(i),
                        this.setPosition(i.convertToNodeSpaceAR(t))
                    }
                    if (this.m_particles)
                        for (var r = 0; r < this.m_particles.length; r++)
                            this.m_particles[r].resetSystem();
                    if (this.m_anims)
                        for (r = 0; r < this.m_anims.length; r++)
                            this.m_anims[r].play();
                    e && this.scheduleOnce(this.stopAndPutback.bind(this, n), e)
                },
                e.prototype.stopAndPutback = function (t) {
                    t ? (this.stop(), this.scheduleOnce(this.putBack.bind(this), t)) : this.putBack()
                },
                e.prototype.stop = function () {
                    if (this.m_particles)
                        for (var t = 0; t < this.m_particles.length; t++)
                            this.m_particles[t].stopSystem();
                    if (this.m_anims)
                        for (t = 0; t < this.m_anims.length; t++)
                            this.m_anims[t].stop()
                },
                e.prototype.putBack = function () {
                    c.default.poolManager.put(this)
                },
                i([a.default.WaitForLoaded(4)], e.prototype, "play", null),
                i([a.default.WaitForLoaded(1)], e.prototype, "stopAndPutback", null),
                i([a.default.WaitForLoaded(0)], e.prototype, "stop", null),
                e
            }
            (r.default);
            n.default = l,
            cc._RF.pop()
        }, {
            "../AsyncObject": "AsyncObject",
            "../_G": "_G",
            "../mgr/mgrPanel": "mgrPanel",
            "./ViewBase": "ViewBase"
        }
    ],
    EventDispatcher: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "a98d4mS3iFBrZVuHY859kId", "EventDispatcher"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("./Queue"),
            i = t("./utils/Tools"),
            r = t("./utils/Timer"),
            a = function () {
                function t() {}
                return t.registerEvent = function (t, e, n) {
                    if (e) {
                        var o = this.m_EventListeners[t];
                        o || (o = {
                                isDispatching: !1,
                                containCanceled: !1,
                                callbacks: {}
                            }, this.m_EventListeners[t] = o),
                        e._event_listener_id || (e._event_listener_id = (++this.generate_listener_id).toString()),
                        o.callbacks[e._event_listener_id] && cc.log("[warn] EventDispatcher.registerEvent msg re-register eventId=" + t),
                        o.callbacks[e._event_listener_id] = n
                    } else
                        cc.log("[warn] EventDispatcher.registerEvent listener is null.")
                },
                t.removeEvent = function (t) {
                    var e = t._event_listener_id;
                    if (e)
                        for (var n in this.m_EventListeners) {
                            var o = this.m_EventListeners[n];
                            o.isDispatching ? (o.containCanceled = !0, o.callbacks[e] = null) : delete o.callbacks[e]
                        }
                },
                t.dispatchEvent = function (t, e, n) {
                    if (void 0 === n && (n = !1), n)
                        return this.m_delayMsgQueue.enqueue({
                            eventId: t,
                            data: e
                        }), void this.startDelayTimer();
                    try {
                        var o = this.m_EventListeners[t];
                        if (o) {
                            var r = !o.isDispatching;
                            o.isDispatching = !0;
                            var a = o.callbacks;
                            if (i.default.forEachMap(a, function (t, n) {
                                    return n(e)
                                }), r && (o.isDispatching = !1, o.containCanceled)) {
                                for (var s = Object.keys(a), c = 0; c < s.length; c++)
                                    a[s[c]] || delete a[s[c]];
                                o.containCanceled = !1
                            }
                        }
                    } catch (t) {
                        cc.error("EventDispather.dispatchEvent error:", t)
                    }
                },
                t.startDelayTimer = function () {
                    this.bInTimer || (this.bInTimer = !0, r.default.callLater(.02, this.update.bind(this)))
                },
                t.update = function (t) {
                    this.bInTimer = !1;
                    var e = this.m_delayMsgQueue;
                    if (e.size > 0) {
                        this.m_delayMsgQueue = this.m_delayMsgMid,
                        this.m_delayMsgMid = e;
                        for (var n = e.dequeue(); n; )
                            this.dispatchEvent(n.eventId, n.data), n = e.dequeue()
                    } else
                        cc.error("EventDispather.update queue is empty.")
                },
                t.generate_listener_id = 0,
                t.m_EventListeners = {},
                t.m_delayMsgQueue = new o.default(5, !0),
                t.m_delayMsgMid = new o.default(5, !0),
                t.bInTimer = !1,
                t
            }
            ();
            n.default = a,
            cc._RF.pop()
        }, {
            "./Queue": "Queue",
            "./utils/Timer": "Timer",
            "./utils/Tools": "Tools"
        }
    ],
    FSMCenter: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "d0bbckqp7VEvYzWkJPzh4tK", "FSMCenter");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("./FSM"),
            r = t("../MsgHandler"),
            a = t("../utils/Mathf"),
            s = 1,
            c = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e._msgHandler = null,
                    e._fsms = Object.create(null),
                    e._pendingRemoveFsm = [],
                    e
                }
                return o(e, t),
                e.prototype.registerMsg = function (t) {
                    this._msgHandler || (this._msgHandler = new r.default),
                    this._msgHandler.registerListeners(t)
                },
                e.prototype.startProcMsg = function () {
                    this._msgHandler && this._msgHandler.startProcMsg()
                },
                e.prototype.stopProcMsg = function () {
                    this._msgHandler && this._msgHandler.stopProcMsg()
                },
                e.prototype.dispose = function () {
                    for (var e in this.pendingRemove(), this._fsms)
                        this._fsms[e].dispose();
                    this._fsms = null,
                    t.prototype.dispose.call(this)
                },
                e.prototype.updateFsms = function (t) {
                    for (var e = Object.keys(this._fsms), n = e.length, o = 0; o < n; o++)
                        this._fsms[e[o]].updateState(t);
                    this.pendingRemove()
                },
                e.prototype.pendingRemove = function () {
                    if (this._pendingRemoveFsm.length > 0) {
                        for (var t = 0; t < this._pendingRemoveFsm.length; t++) {
                            var e = this._pendingRemoveFsm[t];
                            delete this._fsms[e.fsmObjectId],
                            e.fsmObjectId = 0,
                            e.onRemoveFromCenter()
                        }
                        this._pendingRemoveFsm = []
                    }
                },
                e.prototype.addFSM = function (t) {
                    this._fsms[s] = t,
                    t.fsmObjectId = s++
                },
                e.prototype.removeFSM = function (t) {
                    t.fsmObjectId > 0 && this._pendingRemoveFsm.push(t)
                },
                e.prototype.foreach = function (t, e) {
                    void 0 === e && (e = !1);
                    var n = Object.keys(this._fsms),
                    o = n.length;
                    if (o > 0) {
                        e && a.default.shuffle(n);
                        for (var i = 0; i < o && !t(this._fsms[n[i]]); i++);
                    }
                },
                e.prototype.getFsmCount = function () {
                    return Object.keys(this._fsms).length
                },
                e
            }
            (i.default);
            n.default = c,
            cc._RF.pop()
        }, {
            "../MsgHandler": "MsgHandler",
            "../utils/Mathf": "Mathf",
            "./FSM": "FSM"
        }
    ],
    FSMState: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "3d32afQlDhDr6LkYitqdN1R", "FSMState"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = function () {
                function t() {}
                return t.prototype.reenter = function (t, e) {},
                t.prototype.toNextState = function (t, e, n) {
                    return e
                },
                t.prototype.dispose = function () {},
                t
            }
            ();
            n.default = o,
            cc._RF.pop()
        }, {}
    ],
    FSM: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "58f59YYpxtBUrzVh8XK2W1f", "FSM"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = "None",
            i = function () {},
            r = {
                enter: i,
                reenter: i,
                toNextState: i,
                execute: i,
                exit: i,
                dispose: i
            },
            a = function () {
                function t() {
                    this.fsmObjectId = 0,
                    this._bSwitchState = !1,
                    this._curState = o,
                    this._nextState = o,
                    this._lastState = o,
                    this._states = Object.create(null),
                    this._states[o] = r
                }
                return t.prototype.registerState = function (t, e) {
                    null != this._states[t] && console.warn("warning] FSMObject.registerState state override!", t),
                    this._states[t] = e || r
                },
                t.prototype.removeState = function (t) {
                    delete this._states[t]
                },
                t.prototype.containsState = function (t) {
                    return !!this._states[t]
                },
                t.prototype.setNextState = function (t, e) {
                    this._bSwitchState ? console.warn("FSM.setNextState: can't switch to [" + t + "] when leaving [" + this._curState + "]") : this._states[t] ? this._nextState != t || this._curState != t ? (this._nextState = this._states[this._curState].toNextState(this, t, e) || t, this._stateData = e) : this._states[t].reenter(this, e) : console.warn("FSM.setNextState: [" + t + "] is not exist.")
                },
                t.prototype.updateState = function (t) {
                    this._nextState != this._curState ? (this._bSwitchState = !0, this._states[this._curState].exit(this), this._bSwitchState = !1, this._lastState = this._curState, this._curState = this._nextState, this._states[this._curState].enter(this, this._stateData), this._stateData = null, this._nextState == this._curState && this._states[this._curState].execute(this, t)) : this._states[this._curState].execute(this, t)
                },
                t.prototype.getState = function () {
                    return this._curState
                },
                t.prototype.getNextState = function () {
                    return this._nextState
                },
                t.prototype.getLastState = function () {
                    return this._lastState
                },
                t.prototype.dispose = function () {
                    for (var t in this._states)
                        this._states[t].dispose();
                    this._states = null
                },
                t.prototype.onRemoveFromCenter = function () {},
                t
            }
            ();
            n.default = a,
            cc._RF.pop()
        }, {}
    ],
    FactoryUnit: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "94a31qDusRHBqK2YgvlcZMT", "FactoryUnit"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("../generate/db"),
            i = t("../extensions/_G"),
            r = t("../common/Const"),
            a = t("./World"),
            s = t("./unit/MonsterPath"),
            c = t("./buff/BuffFire"),
            l = t("./buff/BuffElc"),
            u = t("./unit/Bullet"),
            d = t("./buff/BuffIce"),
            p = t("./unit/Role"),
            h = t("../manager/mgrGame"),
            f = t("./unit/Box"),
            _ = t("./unit/Boss"),
            m = t("./unit/BulletRay"),
            g = t("../extensions/module/BaseFacade"),
            y = cc.Vec2.ZERO,
            v = function () {
                function t() {}
                return t.registerClass = function () {
                    i.default.poolManager.register(p.default, 100),
                    i.default.poolManager.register(s.default, 100),
                    i.default.poolManager.register(f.default, 100),
                    i.default.poolManager.register(u.default, 100),
                    i.default.poolManager.register(m.default, 10),
                    i.default.poolManager.register(c.default, 100),
                    i.default.poolManager.register(l.default, 10),
                    i.default.poolManager.register(d.default, 100)
                },
                t.createUnit = function (t, e) {
                    var n = o.default.get_item_db(t);
                    switch (n.subType) {
                    case r.PROP_TYPE.CARD:
                        return this.createRole(n.quality, e);
                    case r.PROP_TYPE.BOX:
                        return this.createBox(t, e)
                    }
                },
                t.createRole = function (t, e, n) {
                    void 0 === n && (n = !0);
                    var o = a.default.instance;
                    if (null == e && (e = o.getEmptyIndex()), o.map.convertToWorldPos(e, y)) {
                        if (o.getRole(e))
                            return cc.warn("createRole this place is not empty", e), null;
                        var s = h.default.cardDbs[t];
                        if (s) {
                            var c = i.default.poolManager.get(p.default, s.id);
                            return c.setParent(o.monsterLayer),
                            c.updateIndex(e),
                            o.setRole(e, c),
                            o.addFSM(c),
                            n && g.default.mGoal.commit(r.ACTION_ID.MAKE_CARD, 1),
                            c
                        }
                    }
                    return null
                },
                t.createBox = function (t, e) {
                    var n = a.default.instance;
                    if (null == e && (e = n.getEmptyIndex()), n.map.convertToWorldPos(e, y)) {
                        if (n.getRole(e))
                            return cc.warn("createBox this place is not empty", e), null;
                        var o = i.default.poolManager.get(f.default, t);
                        return o.setParent(n.monsterLayer),
                        o.updateIndex(e),
                        n.setRole(e, o),
                        n.addFSM(o),
                        o
                    }
                    return null
                },
                t.createMonster = function (t, e) {
                    this.monsterCount++;
                    var n,
                    r = a.default.instance;
                    switch (o.default.get_item_db(t).gid) {
                    case 1:
                        n = i.default.poolManager.get(_.default, t);
                        break;
                    case 2:
                        h.default.isCoinLevel = !0;
                    case 0:
                        n = i.default.poolManager.get(s.default, t)
                    }
                    return n.setParent(r.monsterLayer),
                    n.setLevel(e),
                    n.resetPath(),
                    r.addFSM(n),
                    n
                },
                t.putMonster = function (t) {
                    a.default.instance.removeFSM(t),
                    this.monsterCount--
                },
                t.createBullet = function (t) {
                    var e,
                    n = a.default.instance;
                    return (e = 0 == o.default.get_item_db(t).gid ? i.default.poolManager.get(u.default, t) : i.default.poolManager.get(m.default, t)).setParent(n.bulletLayer),
                    a.default.instance.addFSM(e),
                    e
                },
                t.putBullet = function (t) {
                    a.default.instance.removeFSM(t)
                },
                t.monsterCount = 0,
                t
            }
            ();
            n.default = v,
            cc._RF.pop()
        }, {
            "../common/Const": "Const",
            "../extensions/_G": "_G",
            "../extensions/module/BaseFacade": "BaseFacade",
            "../generate/db": "db",
            "../manager/mgrGame": "mgrGame",
            "./World": "World",
            "./buff/BuffElc": "BuffElc",
            "./buff/BuffFire": "BuffFire",
            "./buff/BuffIce": "BuffIce",
            "./unit/Boss": "Boss",
            "./unit/Box": "Box",
            "./unit/Bullet": "Bullet",
            "./unit/BulletRay": "BulletRay",
            "./unit/MonsterPath": "MonsterPath",
            "./unit/Role": "Role"
        }
    ],
    FileRecord: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "60cc7y0uY9MHZZQ5F41i9k3", "FileRecord"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("./Timer"),
            i = t("../_G"),
            r = t("./Tools"),
            a = function () {
                function t() {}
                return t.init = function () {
                    this._readRecord(),
                    o.default.callLoop(1, this._onTimerSpan.bind(this), !0)
                },
                t._onTimerSpan = function (t) {
                    this.writeEnable && this.bNeedFlush && (this.bNeedFlush = !1, this._writeRecord())
                },
                t._readRecord = function (t) {
                    if (t || (t = cc.sys.localStorage.getItem("record_game72")), !t)
                        return console.log("Hint] FileRecord._readRecord Record not found, reset!"), void this.resetRecord();
                    var e = this._decodeData(t);
                    return e ? e.__version__ != i.default.RECORD_VERSION ? (console.warn("Warning] FileRecord._readRecord Record version changed, reset!"), void this.resetRecord()) : void(this.record = e) : (console.warn("Warning] FileRecord._readRecord Record data damaged, reset!"), void this.resetRecord())
                },
                t._writeRecord = function () {
                    var t = this._encodeData(this.record);
                    cc.sys.localStorage.setItem("record_game72", t)
                },
                t.markFlush = function () {
                    this.bNeedFlush = !0
                },
                t._encodeData = function (t) {
                    var e = JSON.stringify(t);
                    return r.default.compress(e)
                },
                t._decodeData = function (t) {
                    try {
                        var e = r.default.decompress(t);
                        return e ? JSON.parse(e) : null
                    } catch (t) {
                        cc.error("FileRecord._decodeData error:", r.default.formatError(t))
                    }
                    return null
                },
                t.getData = function (t) {
                    return this.record[t]
                },
                t.setData = function (t, e) {
                    this.record[t] = e,
                    this.record.__age__ = (this.record.__age__ || 0) + 1,
                    this.markFlush()
                },
                t.resetRecord = function () {
                    this.record = {},
                    this.record.__age__ = 0,
                    this.record.__version__ = i.default.RECORD_VERSION,
                    this.record.__files__ = {},
                    this.markFlush()
                },
                t.deletAllData = function (t) {
                    void 0 === t && (t = !0);
                    var e = this.record;
                    if (e) {
                        var n = e.__files__;
                        if (n)
                            for (var o in n)
                                cc.sys.localStorage.removeItem(o)
                    }
                    t && (this.record = {}, this.record.__age__ = 0),
                    this.record.__version__ = i.default.RECORD_VERSION + 123698745,
                    this.record.__files__ = {},
                    cc.sys.localStorage.removeItem("record_game72")
                },
                t.setDataToFile = function (t, e, n) {
                    var o,
                    i = cc.sys.localStorage.getItem(t);
                    i ? o = this._decodeData(i) : (this.getData("__files__")[t] = 1, o = {});
                    o[e] = n,
                    cc.sys.localStorage.setItem(t, this._encodeData(o))
                },
                t.getDataFromFile = function (t, e) {
                    var n = cc.sys.localStorage.getItem(t);
                    return n ? this._decodeData(n)[e] : null
                },
                t.record = {},
                t.bNeedFlush = !1,
                t.writeEnable = !0,
                t
            }
            ();
            n.default = a,
            cc._RF.pop()
        }, {
            "../_G": "_G",
            "./Timer": "Timer",
            "./Tools": "Tools"
        }
    ],
    FixedGrid: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "2304f3/l8pMALN1yZygNe9i", "FixedGrid");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__decorate || function (t, e, n, o) {
                var i,
                r = arguments.length,
                a = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(t, e, n, o);
                else
                    for (var s = t.length - 1; s >= 0; s--)
                        (i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, n, a) : i(e, n)) || a);
                return r > 3 && a && Object.defineProperty(e, n, a),
                a
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r,
            a = t("../Queue"),
            s = t("../ui/ViewBase"),
            c = cc._decorator,
            l = c.ccclass,
            u = c.property;
            (function (t) {
                t[t.Horizsion = 0] = "Horizsion",
                t[t.Vertical = 1] = "Vertical",
                t[t.Fixed = 2] = "Fixed"
            })(r || (r = {}));
            var d = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.gridType = r.Vertical,
                    e.gridSize = cc.v2(1, 1),
                    e.itemSize = cc.v2(80, 80),
                    e.padding = cc.Vec2.ZERO,
                    e.m_addQueue = null,
                    e
                }
                return o(e, t),
                Object.defineProperty(e.prototype, "refresh", {
                    get: function () {
                        return !1
                    },
                    set: function (t) {
                        this.updateSize(),
                        this.updateGrid()
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                e.prototype.onLoad = function () {
                    this.updateGrid(),
                    this.updateSize()
                },
                e.prototype.update = function (t) {
                    if (this.m_addQueue && this.m_addQueue.size > 0) {
                        var e = this.m_addQueue.peek();
                        e.isLoaded && (this.m_addQueue.dequeue(), e.setParent(this.node), this.gridType != r.Fixed && this.updateSize(), this.updateGrid(this.node.childrenCount - 1))
                    }
                },
                e.prototype.setGridSize = function (t, e) {
                    this.gridSize.x = t,
                    this.gridSize.y = e,
                    this.updateSize(),
                    this.updateGrid()
                },
                e.prototype.addChild = function (t, e) {
                    if (t instanceof s.default && (!e || !t.isLoaded))
                        return this.m_addQueue || (this.m_addQueue = new a.default(32, !0)), void this.m_addQueue.enqueue(t);
                    t.setParent(this.node),
                    this.gridType != r.Fixed && this.updateSize(),
                    this.updateGrid(this.node.childrenCount - 1)
                },
                e.prototype.removeChildAt = function (t) {
                    return t < this.node.childrenCount && (this.node.children[t].removeFromParent(), this.gridType != r.Fixed && this.updateSize(), this.updateGrid(t), !0)
                },
                e.prototype.updateSize = function () {
                    var t = 0,
                    e = 0;
                    if (this.gridType == r.Fixed)
                        t = 2 * this.padding.x + this.gridSize.x * this.itemSize.x, e = 2 * this.padding.y + this.gridSize.y * this.itemSize.y;
                    else {
                        var n = void 0;
                        this.gridType == r.Vertical ? (n = Math.ceil(this.node.childrenCount / this.gridSize.x), t = 2 * this.padding.x + this.gridSize.x * this.itemSize.x, e = 2 * this.padding.y + n * this.itemSize.y) : this.gridType == r.Horizsion && (n = Math.ceil(this.node.childrenCount / this.gridSize.y), t = 2 * this.padding.x + n * this.itemSize.x, e = 2 * this.padding.y + this.gridSize.y * this.itemSize.y)
                    }
                    this.node.width = t,
                    this.node.height = e
                },
                e.prototype.updateGrid = function (t) {
                    void 0 === t && (t = 0);
                    for (var e, n, o = this.node.children, i = o.length, a = this.itemSize.x, s = this.itemSize.y, c = this.gridSize.x, l = this.gridSize.y, u = this.node.width * -this.node.anchorX + this.padding.x, d = this.node.height * (1 - this.node.anchorY) - this.padding.y, p = this.gridType == r.Vertical || this.gridType == r.Fixed, h = t; h < i; h++) {
                        var f = o[h];
                        p ? (e = h % c, n = Math.floor(h / c)) : (n = h % l, e = Math.floor(h / l)),
                        f.setPosition((e + .5) * a + u,  - (n + .5) * s + d)
                    }
                },
                i([u({
                            type: cc.Enum(r)
                        })], e.prototype, "gridType", void 0),
                i([u], e.prototype, "gridSize", void 0),
                i([u], e.prototype, "itemSize", void 0),
                i([u], e.prototype, "padding", void 0),
                i([u], e.prototype, "refresh", null),
                e = i([l], e)
            }
            (cc.Component);
            n.default = d,
            cc._RF.pop()
        }, {
            "../Queue": "Queue",
            "../ui/ViewBase": "ViewBase"
        }
    ],
    FixedRandom: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "f9f65u3/2dJH76R5WxoeSMX", "FixedRandom"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("./Mathf"),
            i = function () {
                function t(t) {
                    null == t && (t = (new Date).getTime()),
                    this.seed = t
                }
                return t.prototype.getSeed = function () {
                    return this.seed
                },
                t.prototype.setSeed = function (t) {
                    this.seed = t
                },
                t.prototype.random = function (t, e) {
                    this.seed = (9301 * this.seed + 49297) % 233280;
                    var n = this.seed / 233280;
                    return null == t && null == e ? n : null == e ? Math.floor(n * t + 1) : Math.floor(n * (e - t + 1) + t)
                },
                t.prototype._pureRandomWithoutReturn = function () {
                    this.seed = (9301 * this.seed + 49297) % 233280
                },
                t.prototype.nextStep = function (t, e) {
                    return null == e ? (t <= 1.192092896e-7 && (t = 1.192092896e-7), t = 1 / t, this.nextStep(t, t / 5)) : t + this.uniform2NormalDistribution() * e
                },
                t.prototype.uniform2NormalDistribution = function () {
                    for (var t = 0, e = 0; e < 12; e++)
                        t += this.random();
                    return t - 6
                },
                t._getStaticRandomizer = function () {
                    return this.staticFixedRandomizer || (this.staticFixedRandomizer = new t),
                    this.staticFixedRandomizer
                },
                t.calcFixedRandom = function (t, e, n, o) {
                    e < 0 && (cc.warn("FixedRandomizer.calcFixedRandom index must >= 0"), e = 0);
                    var i = this._getStaticRandomizer();
                    i.setSeed(t);
                    for (var r = 0; r < e; r++)
                        i._pureRandomWithoutReturn();
                    return i.random(n, o)
                },
                t.calcFixedRandoms = function (t, e, n, o) {
                    var i = [],
                    r = this._getStaticRandomizer();
                    r.setSeed(t);
                    for (var a = 0; a < e; a++)
                        i.push(r.random(n, o));
                    return i
                },
                t._test = function () {
                    cc.log("randomizer(1)");
                    for (var e = new t(1), n = 0; n < 10; n++)
                        cc.log(n, e.random(100), e.getSeed());
                    cc.log("calcFixedRandoms(1)");
                    var i = t.calcFixedRandoms(1, 10, 100);
                    for (n = 0; n < i.length; n++)
                        cc.log(n, i[n]);
                    cc.log("calcFixedRandom(1)");
                    for (n = 0; n < 10; n++)
                        cc.log(n, t.calcFixedRandom(1, n, 100));
                    cc.log("randomizer(2)"),
                    e = new t(2);
                    for (n = 0; n < 10; n++)
                        cc.log(n, e.random(100), e.getSeed());
                    cc.log("Random Test");
                    var r = {};
                    e = new t(1);
                    for (n = 0; n < 1e3; n++) {
                        r[a = e.random(100)] = (r[a] || 0) + 1
                    }
                    cc.log(r),
                    cc.log("System Random Test"),
                    r = {};
                    for (n = 0; n < 1e3; n++) {
                        var a;
                        r[a = o.default.Random(100)] = (r[a] || 0) + 1
                    }
                    cc.log(r)
                },
                t.staticFixedRandomizer = null,
                t
            }
            ();
            n.default = i,
            cc._RF.pop()
        }, {
            "./Mathf": "Mathf"
        }
    ],
    FloatIcon: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "45c31uBvOJCI5Ym7B79DiOh", "FloatIcon");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__decorate || function (t, e, n, o) {
                var i,
                r = arguments.length,
                a = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(t, e, n, o);
                else
                    for (var s = t.length - 1; s >= 0; s--)
                        (i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, n, a) : i(e, n)) || a);
                return r > 3 && a && Object.defineProperty(e, n, a),
                a
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r = t("../extensions/ui/ViewBase"),
            a = t("../game/GameUtility"),
            s = t("../extensions/_G"),
            c = t("../extensions/AsyncObject"),
            l = (cc.Vec2.ZERO, function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.resourceName = "prefab/view/FloatIcon",
                    e.label = null,
                    e._exportNodeInfo = {
                        cc_label: "cc.Label"
                    },
                    e
                }
                return o(e, t),
                e.prototype.onCreateComplete = function () {
                    var t = this;
                    "crit" == this.context && this.label.loadFont("font/num_hp2", cc.BitmapFont),
                    this.reuseAction = cc.sequence(cc.spawn(cc.scaleTo(.2, 1).easing(cc.easeBackOut()), cc.moveBy(.6, 0, 50).easing(cc.easeInOut(2)), cc.sequence(cc.delayTime(.45), cc.fadeOut(.25))), cc.callFunc(function () {
                                s.default.poolManager.put(t)
                            }))
                },
                e.prototype.reuse = function () {
                    this.tryCreate(),
                    this.show()
                },
                e.prototype.unuse = function () {
                    this.removeFromParent(),
                    this.hide()
                },
                e.prototype.play = function (t) {
                    this.setNodeOpacity(255),
                    this.setScale(0),
                    this.label.string = a.default.convertCoinString(t, !0),
                    this.runAction(this.reuseAction)
                },
                i([c.default.WaitForLoaded(1)], e.prototype, "play", null),
                e
            }
                (r.default));
            n.default = l,
            cc._RF.pop()
        }, {
            "../extensions/AsyncObject": "AsyncObject",
            "../extensions/_G": "_G",
            "../extensions/ui/ViewBase": "ViewBase",
            "../game/GameUtility": "GameUtility"
        }
    ],
    FlyIcon: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "41d0foINm5GMpd+qGayOYgf", "FlyIcon");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__decorate || function (t, e, n, o) {
                var i,
                r = arguments.length,
                a = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(t, e, n, o);
                else
                    for (var s = t.length - 1; s >= 0; s--)
                        (i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, n, a) : i(e, n)) || a);
                return r > 3 && a && Object.defineProperty(e, n, a),
                a
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r = t("../extensions/ui/ViewBase"),
            a = t("../extensions/AsyncObject"),
            s = t("../extensions/mgr/mgrPanel"),
            c = t("../extensions/utils/Mathf"),
            l = t("../extensions/_G"),
            u = cc.Vec2.ZERO,
            d = function (t) {
                function e() {
                    var e = t.call(this) || this;
                    return e.resourceName = "prefab/view/FlyIcon",
                    e.icon = null,
                    e._exportNodeInfo = {
                        cc_icon: "cc.Sprite"
                    },
                    e.create(),
                    e
                }
                return o(e, t),
                e.prototype.onCreateComplete = function () {},
                e.prototype.reuse = function () {
                    this.show()
                },
                e.prototype.unuse = function () {
                    this.removeFromParent(),
                    this.hide(),
                    this.clearDelayCalls()
                },
                e.prototype.getLayer = function () {
                    return s.default.getLayerNode(s.PANEL_LAYER.TIP)
                },
                e.prototype.fly = function (t, e, n) {
                    var o = this.getLayer().convertToNodeSpaceAR(t);
                    this.setPosition(o)
                },
                e.prototype.flyDirect = function (t, e, n, o, i) {
                    var r = this,
                    a = this.getLayer();
                    this.setParent(a),
                    this.icon.loadSpriteFrame(t),
                    u.set(e),
                    a.convertToNodeSpaceOut(u),
                    this.setPosition(u),
                    this.setScale(o),
                    n = a.convertToNodeSpaceAR(n),
                    this.runAction(cc.sequence(cc.moveTo(.6, n).easing(cc.easeIn(2)), cc.callFunc(function () {
                                i && i(),
                                r.icon.spriteFrame = null
                            }), cc.delayTime(.6), cc.callFunc(function () {
                                l.default.poolManager.put(r)
                            })))
                },
                e.prototype.scaleAndLine = function (t, e, n, o, i, r, a) {
                    var s = this,
                    c = this.getLayer();
                    this.setParent(c),
                    this.icon.spriteFrame = t,
                    this.setScale(o),
                    this.setPosition(c.convertToNodeSpaceAR(e)),
                    n = c.convertToNodeSpaceAR(n),
                    this.runAction(cc.sequence(cc.scaleTo(.2, 1.3 * o), cc.spawn(cc.moveTo(r, n).easing(cc.easeInOut(2)), cc.scaleTo(r, i)), cc.callFunc(function () {
                                a && a(),
                                s.icon.spriteFrame = null
                            }), cc.delayTime(.6), cc.callFunc(function () {
                                l.default.poolManager.put(s)
                            })))
                },
                e.prototype.jumpAndMove = function (t, e, n, o, i, r) {
                    var a = this,
                    s = this.getLayer();
                    this.setParent(s),
                    "string" == typeof t ? this.icon.loadSpriteFrame(t) : this.icon.spriteFrame = t,
                    u.set(e),
                    s.convertToNodeSpaceOut(u),
                    this.setPosition(u),
                    this.setScale(o),
                    null == r && (r = c.default.RandomPlusOrMinus());
                    var d = u.x + r * c.default.Random(10, 120),
                    p = u.y + c.default.Random(-150, -10),
                    h = .01 * c.default.Random(-10, 10);
                    u.set(n),
                    s.convertToNodeSpaceOut(u);
                    var f = u.x,
                    _ = u.y;
                    this.runAction(cc.sequence(cc.spawn(cc.jumpTo(.5 + h, d, p, c.default.Random(40, 70), 1), cc.sequence(cc.scaleTo(.1, .2 * o, 1.2 * o), cc.scaleTo(.1, 1 * o, 1 * o)).repeat(3)), cc.callFunc(function () {
                                a.resNode.anchorY = 0
                            }), cc.spawn(cc.jumpTo(.3 + h, d, p, 25, 1), cc.sequence(cc.scaleTo(.15, .7 * o, 1.3 * o), cc.scaleTo(.15, 1 * o, 1 * o))), cc.delayTime(.1), cc.moveTo(.6, f, _).easing(cc.easeIn(2)), cc.callFunc(function () {
                                a.icon.spriteFrame = null,
                                i && i()
                            }), cc.delayTime(.6), cc.callFunc(function () {
                                a.resNode.anchorY = .5,
                                l.default.poolManager.put(a)
                            })))
                },
                i([a.default.WaitForLoaded(3)], e.prototype, "fly", null),
                i([a.default.WaitForLoaded(5)], e.prototype, "flyDirect", null),
                i([a.default.WaitForLoaded()], e.prototype, "scaleAndLine", null),
                i([a.default.WaitForLoaded(6)], e.prototype, "jumpAndMove", null),
                e
            }
            (r.default);
            n.default = d,
            cc._RF.pop()
        }, {
            "../extensions/AsyncObject": "AsyncObject",
            "../extensions/_G": "_G",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/ui/ViewBase": "ViewBase",
            "../extensions/utils/Mathf": "Mathf"
        }
    ],
    FlyLabel: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "a6e47aqrmdIMqXjIJRiaKVO", "FlyLabel");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__decorate || function (t, e, n, o) {
                var i,
                r = arguments.length,
                a = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(t, e, n, o);
                else
                    for (var s = t.length - 1; s >= 0; s--)
                        (i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, n, a) : i(e, n)) || a);
                return r > 3 && a && Object.defineProperty(e, n, a),
                a
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r = t("../extensions/ui/ViewBase"),
            a = t("../extensions/AsyncObject"),
            s = t("../extensions/_G"),
            c = t("../extensions/mgr/mgrPanel"),
            l = function (t) {
                function e() {
                    var e = t.call(this) || this;
                    return e.resourceName = "prefab/view/FlyLabel",
                    e.label = null,
                    e._exportNodeInfo = {
                        cc_label: "cc.Label"
                    },
                    e.create(),
                    e
                }
                return o(e, t),
                e.prototype.onCreateComplete = function () {},
                e.prototype.reuse = function () {
                    this.show()
                },
                e.prototype.unuse = function () {
                    this.removeFromParent(),
                    this.hide(),
                    this.clearDelayCalls()
                },
                e.prototype.getLayer = function () {
                    return c.default.getLayerNode(c.PANEL_LAYER.TIP)
                },
                e.prototype.setFontSize = function (t) {
                    this.label.fontSize = t,
                    this.label.lineHeight = t + 6
                },
                e.prototype.scaleAndLine = function (t, e, n, o, i, r, a) {
                    var c = this,
                    l = this.getLayer();
                    this.setParent(l),
                    this.label.string = t.toString(),
                    this.setScale(o),
                    this.setPosition(l.convertToNodeSpaceAR(e)),
                    n = l.convertToNodeSpaceAR(n),
                    this.runAction(cc.sequence(cc.scaleTo(.1, 1.3 * o), cc.spawn(cc.moveTo(r, n).easing(cc.easeInOut(2)), cc.scaleTo(r, i)), cc.callFunc(function () {
                                s.default.poolManager.put(c),
                                a && a()
                            })))
                },
                i([a.default.WaitForLoaded(1)], e.prototype, "setFontSize", null),
                i([a.default.WaitForLoaded()], e.prototype, "scaleAndLine", null),
                e
            }
            (r.default);
            n.default = l,
            cc._RF.pop()
        }, {
            "../extensions/AsyncObject": "AsyncObject",
            "../extensions/_G": "_G",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/ui/ViewBase": "ViewBase"
        }
    ],
    GameConfig: [function (t, e, n) {
            "use strict";
            var o;
            cc._RF.push(e, "816c8QgNhZFJIhGGnNQjfyo", "GameConfig"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("./extensions/utils/Tools");
            n.MAP_TAG = {
                A: "A",
                B: "B",
                C: "C"
            };
            var r = function () {
                function t() {}
                return t.changeCfgValue = function (t) {
                    try {
                        for (var e in t) {
                            var n = t[e];
                            switch (n.type) {
                            case "S":
                                this[e] = n.value;
                                break;
                            case "I":
                                this[e] = parseFloat(n.value);
                                break;
                            case "T":
                                this[e] = JSON.parse(n.value)
                            }
                        }
                    } catch (t) {
                        cc.error(t),
                        cc.error("cannot parse game_cnf: can't parse game config")
                    }
                },
                t.changeValue = function (t, e) {
                    this[t] = e
                },
                t.changeCopInfo = function (t) {
                    this.changeValue("free_lvup_alert_rate", i.default.safeParseInt(t.free_lvup_alert_rate, 15)),
                    this.changeValue("ad_mode", i.default.safeParseInt(t.ad_mode, 0)),
                    this.changeValue("show_btn", i.default.splitToNumber(t.show_btn, ";"))
                },
                Object.defineProperty(t, "gray_mode", {
                    get: function () {
                        return 2 == this.ad_mode
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(t, "show_btn_offline", {
                    get: function () {
                        return !!this.show_btn[0]
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(t, "show_btn_over", {
                    get: function () {
                        return !!this.show_btn[1]
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(t, "show_btn_box", {
                    get: function () {
                        return !!this.show_btn[2]
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(t, "show_btn_item_show", {
                    get: function () {
                        return !!this.show_btn[3]
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                t.rank_section_size = 50,
                t.map_offset = 1e4,
                t.ad_mode = 0,
                t.tile_width = 64,
                t.tile_height = 64,
                t.free_vit = 30,
                t.mapTileW = 71,
                t.mapTileH = 71,
                t.roleTileW = 150,
                t.roleTileH = 100,
                t.cardTileW = 90,
                t.cardTileH = 122,
                t.offline_max_time = 3600,
                t.box_hight_quality = -5,
                t.box_low_quality = -8,
                t.buy_hight_quality = -5,
                t.buy_low_quality = -8,
                t.box0_update_delta_time = 15,
                t.box1_update_delta_time = 60,
                t.box1_update_rate = 50,
                t.vip_box1_update_delta_time = 20,
                t.price_acc_rate = 1.1,
                t.coin_rate = {
                    price: 50,
                    rate: 10,
                    time: 80,
                    rateTime: 30
                },
                t.ui_bar_max_atk_times = 3,
                t.auto_merge_time = 60,
                t.auto_merge_time_award = 300,
                t.kill_hp = 1e16,
                t.drop_diamond_count = 1,
                t.free_lvup_modify = 2,
                t.free_lvup_delta_time = 20,
                t.free_lvup_price = 12,
                t.free_lvup_alert_rate = 4,
                t.lottery_coin_rate = 180,
                t.prop_coin_rate = 60,
                t.share_award = 2,
                t.show_btn = [],
                t.chn_data = {
                    isShareEnabled: !0,
                    isPayEnabled: !0,
                    isSupportRecordShare: !0,
                    isSupportInstallShortcut: !0,
                    jumpInfo: [{
                            index: "61",
                            id: "wx4d0412357da5acad",
                            path: "?sfrom=yllwawa",
                            url: "https://gamesres.ultralisk.cn/h5_games_res/common/jump_games/61.png"
                        }, {
                            index: "64",
                            id: "wx9d2fbc1c3881c1df",
                            path: "?sfrom=yllwawa",
                            url: "https://gamesres.ultralisk.cn/h5_games_res/common/jump_games/64.png"
                        }, {
                            index: "49",
                            id: "wxcc8b86224e260cca",
                            path: "?sfrom=yllwawa",
                            url: "https://gamesres.ultralisk.cn/h5_games_res/common/jump_games/49.png"
                        }, {
                            index: "60",
                            id: "wx23c5e3025d12561d",
                            path: "?sfrom=yllwawa",
                            url: "https://gamesres.ultralisk.cn/h5_games_res/common/jump_games/60.png"
                        }, {
                            index: "52v2",
                            id: "wxfa34646ac45a12ff",
                            path: "?sfrom=yllwawa",
                            url: "https://gamesres.ultralisk.cn/h5_games_res/common/jump_games/52v2.png"
                        }
                    ],
                    copInfo: '{\n            "share_rate":"10",\n\n            "show_btn":"1;1;1;1",\n\n            "free_lvup_alert_rate":10,\n            \n            "some_function":"1;1;1;1;0;1;1;1",\n    \n            "ad_mode":0,\n            "ad_h5":"0",\n            "ad_video_switchs":"100;100;100;100;100;50;100;100;100;100;100;10;100;100",\n            "ad_interstitial_radios":"100;100;100;100;100;100;100;100;100;100;100;100;100;100;100;100;100;100;100;100;100;100;100",\n            "ad_banner_radios":"100;100;100;100;100;100;100;100;100;100;100;100;100;100;100;100;100;100;100;100;100;100",\n            "ad_embedded_radios":"100;100;100;100",\n            "av_show_delta_time":"0;0;0",\n            "video_mode":"0;0"\n        }'
                },
                t
            }
            ();
            n.default = r,
            n.calc_offline_per_coin = function (t) {
                return Math.pow(1.4, t - 1)
            },
            n.calc_level_award = function (t) {
                return Math.pow(t, 2.9) / 3 + 4e3
            },
            n.exchange_rate_fun = ((o = {})[1001] = function (t, e) {
                return Math.ceil((500 + 25 * (e - 1)) * t)
            }, o[1002] = function (t, e) {
                return 5 * t
            }, o),
            cc._RF.pop()
        }, {
            "./extensions/utils/Tools": "Tools"
        }
    ],
    GameCross: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "07c63700p5AprggFCCzTQim", "GameCross"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("../extensions/utils/Timer"),
            i = t("../extensions/mgr/mgrSdk"),
            r = t("../extensions/_G"),
            a = function () {
                function t(t, e, n) {
                    var i = this;
                    this._x = null,
                    this._y = null,
                    this._type = e,
                    o.default.callLater(.5, function () {
                        i.initPosition(t, n)
                    })
                }
                return t.create = function (e, n, o) {
                    void 0 === n && (n = 0),
                    void 0 === o && (o = 0),
                    this._list.push(new t(e, n, o))
                },
                t.setVisible = function (t) {
                    for (var e = 0; e < this._list.length; e++)
                        this._list[e].visible = t
                },
                Object.defineProperty(t, "isEmpty", {
                    get: function () {
                        return 0 == this._list.length
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "visible", {
                    set: function (t) {
                        this._visible = t,
                        t ? null != this._x && i.default.openCrossRecommend(this._x, this._y, this._type) : i.default.closeCrossRecommend()
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                t.prototype.initPosition = function (t, e) {
                    var n = cc.view.getFrameSize(),
                    o = t.convertToWorldSpaceOut(cc.v2(-e, e));
                    this._x = Math.round(o.x / r.default.canvasWidth * n.width),
                    this._y = Math.round(n.height - o.y / r.default.canvasHeight * n.height),
                    this._visible && (this.visible = !0)
                },
                t._list = [],
                t
            }
            ();
            n.default = a,
            cc._RF.pop()
        }, {
            "../extensions/_G": "_G",
            "../extensions/mgr/mgrSdk": "mgrSdk",
            "../extensions/utils/Timer": "Timer"
        }
    ],
    GameMap: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "33e01kgLxBM0p/0nj01L8DB", "GameMap"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("../GameConfig"),
            i = (cc.Vec2.ZERO, [[0, -1], [0, -1], [-1, 0], [-1, 0], [0, -1], [0, -1], [0, -1], [0, -1], [0, -1], [1, 0], [1, 0], [1, 0], [1, 0], [1, 0], [1, 0], [0, 1], [0, 1], [0, 1], [0, 1], [0, 1], [-1, 0], [ - .5, 0]]),
            r = function () {
                function t() {
                    this.isLoaded = !1
                }
                return t.prototype.dispose = function () {
                    cc.isValid(this.node) && (this.node.destroy(), this.node = null),
                    this.isLoaded = !1
                },
                t.prototype.create = function (t, e, n) {
                    this.node ? cc.warn("map has created.") : (this.node = new cc.Node("mapNode"), this.buildPath(t), this.buildLocation(e, n), this.isLoaded = !0)
                },
                t.prototype.buildPath = function (t) {
                    var e = [],
                    n = o.default.mapTileW,
                    r = o.default.mapTileH,
                    a = cc.v2(t.x - n, t.y);
                    this.bornPosition = a;
                    for (var s = 0; s < i.length; s++) {
                        var c = i[s];
                        a = cc.v2(a.x + c[0] * n, a.y + c[1] * r),
                        e.push(a)
                    }
                    this.path = e
                },
                t.prototype.buildLocation = function (t, e) {
                    this.roleRect = cc.rect(t.x - o.default.roleTileW, t.y - o.default.roleTileH, 2 * o.default.roleTileW, 2 * o.default.roleTileH),
                    this.cardRect = cc.rect(e.x - 3 * o.default.cardTileW, e.y - o.default.cardTileH, 6 * o.default.cardTileW, 2 * o.default.cardTileH)
                },
                t.prototype.convertToIndex = function (t) {
                    return this.roleRect.contains(t) ? this.getRoleIndex(t.x - this.roleRect.x, t.y - this.roleRect.y) : this.cardRect.contains(t) ? this.getCardIndex(t.x - this.cardRect.x, t.y - this.cardRect.y) : -1
                },
                t.prototype.getRoleIndex = function (t, e) {
                    return Math.min(2 * Math.floor(e / o.default.roleTileH) + Math.floor(t / o.default.roleTileW), 3)
                },
                t.prototype.getCardIndex = function (t, e) {
                    return Math.min(6 * Math.floor(e / o.default.cardTileH) + Math.floor(t / o.default.cardTileW), 11) + 4
                },
                t.prototype.convertToWorldPos = function (t, e) {
                    return t < 0 || t > 15 ? null : (e || (e = cc.Vec2.ZERO), t < 4 ? (e.x = (t % 2 + .5) * o.default.roleTileW + this.roleRect.x, e.y = (Math.floor(t / 2) + .5) * o.default.roleTileH + this.roleRect.y) : (t -= 4, e.x = (t % 6 + .5) * o.default.cardTileW + this.cardRect.x, e.y = (Math.floor(t / 6) + .5) * o.default.cardTileH + this.cardRect.y), e)
                },
                t.prototype.addLayerToMap = function (t, e) {
                    t.setParent(this.node),
                    null != e && t.setSiblingIndex(e)
                },
                t
            }
            ();
            n.default = r,
            cc._RF.pop()
        }, {
            "../GameConfig": "GameConfig"
        }
    ],
    GameStatistics: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "d1419tIwlJM17kDQ4j/k4sO", "GameStatistics"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("./SDKBridge"),
            i = t("../utils/FileRecord"),
            r = t("../utils/Timer"),
            a = t("../utils/Tools"),
            s = t("../_G"),
            c = function () {
                function t() {}
                return t.init = function () {
                    var t = this;
                    this._coinMergeData = i.default.getData("key_money_statistics") || {},
                    r.default.callLoop(5, function () {
                        var e = t._coinMergeData,
                        n = !1;
                        for (var o in e) {
                            var i = e[o];
                            for (var r in i) {
                                var a = i[r];
                                for (var s in a)
                                    a[s] && (t.uploadData([o, r, a[s].toString(), s]), a[s] = 0, n = !0)
                            }
                        }
                        n && t.saveMergeData()
                    })
                },
                t.setToCustomUpload = function (t) {
                    t ? (this._postCachedList = i.default.getData("key_game_statistics") || [], this._uploadTimer = new r.default(1, 1, this.flushCache.bind(this)), this.bCustomMode = !0) : (this.bCustomMode = !1, this._uploadTimer && this._uploadTimer.stop())
                },
                t.saveData = function () {
                    i.default.setData("key_game_statistics", this._postCachedList)
                },
                t.saveMergeData = function () {
                    i.default.setData("key_money_statistics", this._coinMergeData)
                },
                t.setUploadParams = function (t, e, n) {
                    void 0 === n && (n = ""),
                    this.bCustomMode || cc.error("self-defined upload mode not supported"),
                    this.updataTypeId = t,
                    this.updataUid = e,
                    this.updataMd5 = n;
                    for (var o = this._postCachedList.length - 1; o >= 0; o--) {
                        var i = this._postCachedList[o];
                        i.typeid = t,
                        i.updata[1] = e,
                        i.updata[2] = n
                    }
                },
                t.tryMergeData = function (t, e, n, o) {
                    var i,
                    r,
                    a,
                    s = this._coinMergeData[t];
                    if (s) {
                        var c = s[e];
                        c ? null == c[n] ? c[n] = 0 : c[n] += o : ((i = {})[n] = o, c = i, s[e] = c, this._coinMergeData[t] = s)
                    } else (r = {})[e] = ((a = {})[n] = o, a), s = r, this._coinMergeData[t] = s;
                    this.saveMergeData()
                },
                t.insertToCacheList = function (t) {
                    var e = [a.default.formatFullTime(), this.updataUid, this.updataMd5];
                    e.push.apply(e, t),
                    this._postCachedList.push({
                        typeid: this.updataTypeId,
                        updata: e
                    }),
                    this.saveData(),
                    this._postCachedList.length > 99 && this.flushCache()
                },
                t.flushCache = function () {
                    this.updataTypeId && this.updataUid && this.uploadToServer()
                },
                t.uploadToServer = function () {
                    var t = this,
                    e = this._postCachedList.length;
                    if (0 != e) {
                        var n,
                        o;
                        e > 100 && (e = 100),
                        e > 1 ? (n = this._postCachedList.splice(this._postCachedList.length - e, e), o = "https://megadata.ultralisk.cn/batchuploaddata") : (n = this._postCachedList.pop(), o = "https://megadata.ultralisk.cn/appstatusrequest");
                        var i = JSON.stringify(n),
                        r = cc.loader.getXMLHttpRequest();
                        r.onreadystatechange = function () {
                            var o;
                            4 == r.readyState && (r.status >= 200 && r.status < 207 ? (t.saveData(), t._postCachedList.length > 0 && t._uploadTimer.start()) : (e > 1 ? (o = t._postCachedList).push.apply(o, n) : t._postCachedList.push(n), t.saveData(), t._uploadTimer.start()))
                        },
                        r.open("POST", o),
                        r.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"),
                        r.timeout = 1e4,
                        r.send("updata=" + i)
                    }
                },
                t.uploadData = function (t) {
                    if (this.enable)
                        if (this.bCustomMode)
                            this.insertToCacheList(t);
                        else if (s.default.SDK_VERSION == s.SDK_VERSIONS_VALUE.V6)
                            o.default.sendToSdk("/c/megadataServer", t);
                        else
                            switch (t[0]) {
                            case "gameLevelStart":
                                o.default.sendToSdk("/d/gameLevelStart", {
                                    levelName: t[1]
                                });
                                break;
                            case "gameLevelComplete":
                                o.default.sendToSdk("/d/gameLevelComplete", {
                                    levelName: t[1],
                                    isPass: "1" == t[2],
                                    reason: ""
                                });
                                break;
                            case "buyAction":
                                "2" == t[3] && o.default.sendToSdk("/d/userPaySuccess", {
                                    goodsName: t[2],
                                    payAmount: 1
                                });
                                break;
                            case "gameCoinAdd":
                                o.default.sendToSdk("/d/gameCoinAdd", {
                                    coinName: t[1],
                                    reason: t[3],
                                    gainNum: parseInt(t[2]),
                                    totalNum: 0
                                });
                                break;
                            case "gameCoinLost":
                                o.default.sendToSdk("/d/gameCoinLost", {
                                    coinName: t[1],
                                    reason: t[3],
                                    lostNum: parseInt(t[2]),
                                    totalNum: 0
                                });
                                break;
                            case "itemBuy":
                                o.default.sendToSdk("/d/itemBuy", {
                                    goodsName: t[1],
                                    goodsType: "none",
                                    buyAmount: t[2],
                                    lostCoinNum: "0",
                                    coinName: "0",
                                    buyLocation: "Get"
                                });
                                break;
                            case "commonEventMultiField":
                                2 == t.length && o.default.sendToSdk("/d/commonEvent", t[1])
                            }
                },
                t.onLevelStart = function (t) {
                    this.uploadData(["gameLevelStart", t, ""])
                },
                t.onLevelEnd = function (t, e, n, o, i, r, a) {
                    void 0 === n && (n = "0"),
                    void 0 === o && (o = "0"),
                    void 0 === i && (i = "0"),
                    void 0 === r && (r = "0"),
                    void 0 === a && (a = "0"),
                    this.uploadData(["gameLevelComplete", t, e ? "1" : "0", "r", n, o, i, r, a])
                },
                t.onPayShow = function (t, e) {
                    void 0 === e && (e = ""),
                    this.uploadData(["buyAction", e, t, "0"])
                },
                t.onPayBuy = function (t, e) {
                    void 0 === e && (e = ""),
                    this.uploadData(["buyAction", e, t, "1"])
                },
                t.onPaySuccess = function (t, e) {
                    void 0 === e && (e = ""),
                    this.uploadData(["buyAction", e, t, "2"])
                },
                t.onAddMoney = function (t, e, n) {
                    t = t || "unknown",
                    n = n || "other",
                    this.tryMergeData("gameCoinAdd", t, n, e)
                },
                t.onMinusMoney = function (t, e, n) {
                    t = t || "unknown",
                    n = n || "other",
                    this.tryMergeData("gameCoinLost", t, n, e)
                },
                t.onItemBuy = function (t, e, n) {
                    this.uploadData(["itemBuy", t, e.toString(), n])
                },
                t.onCommonEventOne = function (t) {
                    this.onCommonEventMultField(t)
                },
                t.onCommonEventTwo = function (t, e) {
                    this.onCommonEventOne(t + "_" + e)
                },
                t.onCommonEventThree = function (t, e, n) {
                    this.onCommonEventOne(t + "_" + e + "_" + n)
                },
                t.onCommonEventMultField = function (t, e) {
                    e ? this.uploadData(["commonEventMultiField", t, e]) : this.uploadData(["commonEventMultiField", t])
                },
                t.onQuestAccept = function (t) {
                    this.uploadData(["commonEventMultiField", "Task " + t, "1"])
                },
                t.onQuestCommitable = function (t) {
                    this.uploadData(["commonEventMultiField", "Task " + t, "0", "1"])
                },
                t.onQuestFinish = function (t) {
                    this.uploadData(["commonEventMultiField", "Task " + t, "0", "0", "1"])
                },
                t.enable = !0,
                t.updataTypeId = "",
                t.updataUid = "",
                t.updataMd5 = "",
                t.bCustomMode = !1,
                t
            }
            ();
            n.default = c,
            cc._RF.pop()
        }, {
            "../_G": "_G",
            "../utils/FileRecord": "FileRecord",
            "../utils/Timer": "Timer",
            "../utils/Tools": "Tools",
            "./SDKBridge": "SDKBridge"
        }
    ],
    GameUtility: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "890e2d7+RpNW4f6kt/W/e2s", "GameUtility"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("../extensions/utils/Mathf"),
            i = t("../GameConfig"),
            r = t("../generate/db"),
            a = cc.v2(0, 1),
            s = ["", "W", "B", "Z", "J", "JJ"],
            c = ["", "a", "b", "c", "d", "d"],
            l = [1, 1e4, 1e8, 1e12, 1e16, 1e16],
            u = [2, 1, 0, 0],
            d = function () {
                function t() {}
                return t.LerpPath = function (t, e, n) {
                    if (0 != t.length) {
                        if (e = o.default.Clamp01(e), null == n && (n = cc.v2(0, 0)), 1 == t.length)
                            n.set(t[0]);
                        else if (0 == e)
                            n.set(t[0]);
                        else if (1 == e)
                            n.set(t[t.length - 1]);
                        else {
                            var i = (t.length - 1) * e,
                            r = 0 | i,
                            a = Math.ceil(i);
                            r != a ? t[r].lerp(t[a], i - r, n) : n.set(t[a])
                        }
                        return n
                    }
                    cc.error("GameUtility.LerpPath can't find point.")
                },
                t.convertGridXToUiX = function (t) {
                    return (t + .5) * i.default.tile_width
                },
                t.convertGridYToUiY = function (t) {
                    return  - (t + .5) * i.default.tile_height
                },
                t.convertGridToUi = function (t, e) {
                    return e || (e = cc.v2()),
                    e.x = this.convertGridXToUiX(t.x),
                    e.y = this.convertGridYToUiY(t.y),
                    e
                },
                t.convertUiToGrid = function (t, e) {
                    return null == e && (e = cc.v2()),
                    e.x = 0 | t.x / i.default.tile_width,
                    e.y = 0 | -t.y / i.default.tile_height,
                    e
                },
                t.getPriceString = function (t, e) {
                    return e + r.default.get_item_db(t).name
                },
                t.convertCoinString = function (t, e) {
                    void 0 === e && (e = !1);
                    var n = e ? c : s;
                    if (t < 1e4)
                        return (0 | t).toString();
                    var i,
                    r,
                    a = 0 | o.default.log(t),
                    d = 0 | a / 4,
                    p = u[a % 4];
                    return i = n[d],
                    r = l[d],
                    o.default.Round(t / r, p) + i
                },
                t.convertCoinValue = function (t) {
                    if (t < 1e4)
                        return 0 | t;
                    var e = 0 | o.default.log(t),
                    n = u[e % 4],
                    i = l[0 | e / 4];
                    return o.default.Round(t / i, n) * i
                },
                t.convertRot2Dir = function (t, e) {
                    return null == e && (e = cc.Vec2.ZERO),
                    t += 180,
                    e.x = Math.sin(t * o.default.Deg2Rad),
                    e.y = Math.cos(t * o.default.Deg2Rad),
                    e
                },
                t.convertDir2Rot = function (t) {
                    return t.signAngle(a) * o.default.Rad2Deg
                },
                t
            }
            ();
            n.default = d,
            cc._RF.pop()
        }, {
            "../GameConfig": "GameConfig",
            "../extensions/utils/Mathf": "Mathf",
            "../generate/db": "db"
        }
    ],
    GridLayout: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "a41b5YdIFZKLJeWerwSTF0D", "GridLayout");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__decorate || function (t, e, n, o) {
                var i,
                r = arguments.length,
                a = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(t, e, n, o);
                else
                    for (var s = t.length - 1; s >= 0; s--)
                        (i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, n, a) : i(e, n)) || a);
                return r > 3 && a && Object.defineProperty(e, n, a),
                a
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r = cc._decorator,
            a = r.ccclass,
            s = r.property,
            c = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.target = null,
                    e.itemSize = cc.v2(100, 100),
                    e.hCount = 1,
                    e.paddingLeft = 0,
                    e.paddingRight = 0,
                    e.paddingTop = 0,
                    e.paddingBottom = 0,
                    e.spacingX = 0,
                    e.spacingY = 0,
                    e
                }
                return o(e, t),
                Object.defineProperty(e.prototype, "refresh", {
                    get: function () {
                        return !1
                    },
                    set: function (t) {
                        this.updateLayout()
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                e.prototype.onLoad = function () {
                    this.target || (this.target = this.node)
                },
                e.prototype.updateLayout = function () {
                    var t,
                    e,
                    n = this.target.children,
                    o = n.length,
                    i = this.itemSize.x,
                    r = this.itemSize.y,
                    a = this.hCount;
                    if (0 == o)
                        t = this.paddingLeft + this.paddingRight, e = this.paddingTop + this.paddingBottom;
                    else {
                        var s = Math.min(a, o),
                        c = Math.ceil(o / a);
                        t = this.paddingLeft + this.paddingRight + s * i + (s - 1) * this.spacingX,
                        e = this.paddingTop + this.paddingBottom + c * r + (c - 1) * this.spacingY
                    }
                    if (this.target.setContentSize(t, e), a <= 0)
                        cc.error("invalid hCount");
                    else
                        for (var l, u, d, p, h = t * -this.target.anchorX + this.paddingLeft, f = e * (1 - this.target.anchorY) - this.paddingTop, _ = 0; _ < o; _++)
                            l = _ % a, u = Math.floor(_ / a), d = l * this.spacingX + (l + .5) * i + h, p = -u * this.spacingY - (u + .5) * r + f, n[_].setPosition(d, p)
                },
                i([s(cc.Node)], e.prototype, "target", void 0),
                i([s], e.prototype, "itemSize", void 0),
                i([s], e.prototype, "hCount", void 0),
                i([s], e.prototype, "paddingLeft", void 0),
                i([s], e.prototype, "paddingRight", void 0),
                i([s], e.prototype, "paddingTop", void 0),
                i([s], e.prototype, "paddingBottom", void 0),
                i([s], e.prototype, "spacingX", void 0),
                i([s], e.prototype, "spacingY", void 0),
                i([s], e.prototype, "refresh", null),
                e = i([a], e)
            }
            (cc.Component);
            n.default = c,
            cc._RF.pop()
        }, {}
    ],
    GuideFinger: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "05681OdvfBDlZ/q8RD49zUJ", "GuideFinger");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = function (t) {
                function e() {
                    var e = t.call(this) || this;
                    return e.resourceName = "prefab/game/GuideFinger",
                    e._exportNodeInfo = [],
                    e.create(),
                    e
                }
                return o(e, t),
                e.prototype.onCreateComplete = function () {},
                e
            }
            (t("../extensions/ui/ViewBase").default);
            n.default = i,
            cc._RF.pop()
        }, {
            "../extensions/ui/ViewBase": "ViewBase"
        }
    ],
    GuideScript: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "59ae8VoGqxGn6cb7t/2A5mv", "GuideScript");
            var o = this && this.__awaiter || function (t, e, n, o) {
                return new(n || (n = Promise))(function (i, r) {
                    function a(t) {
                        try {
                            c(o.next(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function s(t) {
                        try {
                            c(o.throw(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function c(t) {
                        t.done ? i(t.value) : new n(function (e) {
                            e(t.value)
                        }).then(a, s)
                    }
                    c((o = o.apply(t, e || [])).next())
                })
            },
            i = this && this.__generator || function (t, e) {
                var n,
                o,
                i,
                r,
                a = {
                    label: 0,
                    sent: function () {
                        if (1 & i[0])
                            throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw : s(1),
                    return : s(2)
                },
                "function" == typeof Symbol && (r[Symbol.iterator] = function () {
                    return this
                }),
                r;
                function s(t) {
                    return function (e) {
                        return c([t, e])
                    }
                }
                function c(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done)
                                return i;
                            switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                o = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1],
                                    i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2],
                                    a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            o = 0
                        }
                    finally {
                        n = i = 0
                    }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r = t("../ui/PanelGuide"),
            a = t("./Const"),
            s = t("../extensions/_G"),
            c = t("../game/World"),
            l = t("../manager/mgrGame"),
            u = t("../game/unit/Tower"),
            d = t("../manager/mgrGuide"),
            p = t("../component/ModuleLocker"),
            h = t("../manager/mgrAlert"),
            f = t("../extensions/utils/FileRecord"),
            _ = t("../extensions/sdk/GameStatistics"),
            m = t("../extensions/module/BaseFacade"),
            g = t("../extensions/utils/Timer"),
            y = t("../extensions/mgr/mgrPanel"),
            v = t("../ui/PanelCardHelp"),
            b = t("../extensions/mgr/mgrAdv"),
            S = t("../extensions/mgr/mgrSdk");
            function A() {}
            function C() {}
            n.GuideScript = {};
            function I(t, e) {
                var o = n.GuideScript[t];
                o || (o = [], n.GuideScript[t] = o),
                o.push(e)
            }
            n.initGuideScript = function () {
                I("GUD_ENTER_MAIN_0", [r.GUD.callFunc(function () {
                            for (var t = 1; t < 4; t++)
                                c.default.instance.createTower(t);
                            c.default.instance.pause(),
                            c.default.factoryUnit.createRole(10, 2),
                            c.default.factoryUnit.createRole(9, 0),
                            c.default.factoryUnit.createRole(14, 12),
                            m.default.mItem.addItem("a0_3", 1, null, null),
                            m.default.mItem.addItem("a1_3", 6, null, null),
                            m.default.mItem.addItem("a2_3", 1, null, null),
                            m.default.mItem.addItem("a3_3", 1, null, null),
                            m.default.mItem.addItem("a1_1", 70, null, null),
                            m.default.mItem.addItem("a1_2", 50, null, null),
                            m.default.mItem.addItem("a3_2", 1, null, null)
                        }), r.GUD.setMsgMaskVisible(!0), r.GUD.setHead("Annie", 1), r.GUD.showHeadMsg("The Rocha Legion is coming soon. Get ready to defend!", !0, .3), r.GUD.playSound("xinshou_01"), r.GUD.hideMsg(), r.GUD.setMaskVisible(!0), r.GUD.showMaskNone(), r.GUD.callFunc(function (t) {
                            var e = c.default.instance.getRole(12),
                            n = c.default.instance.getTower(3);
                            a.GuideInfo.destIndex = 3,
                            e && n ? r.GUD.moveFingerBetween(e.position, n.position)(t) : t.gotoTag(C)
                        }), r.GUD.waitForKey(a.GUIDE_MSG.ADD_TOWER), r.GUD.setMaskVisible(!1), r.GUD.callFunc(function () {
                            a.GuideInfo.destIndex = -1,
                            c.default.instance.loadGame(644)
                        }), r.GUD.wait(1.8), r.GUD.callFunc(function () {
                            c.default.instance.pause()
                        }), r.GUD.setMsgMaskVisible(!0), r.GUD.setHead("Annie", 1), r.GUD.showHeadMsg("Attacking the Rocha Army can get gold coins.", !0, .3), r.GUD.playSound("xinshou_06"), r.GUD.hideMsg(), r.GUD.setMsgMaskVisible(!1), r.GUD.callFunc(function () {
                            c.default.instance.resume()
                        }), r.GUD.wait(2.5), r.GUD.callFunc(function () {
                            c.default.instance.pause()
                        }), r.GUD.setMsgMaskVisible(!0), r.GUD.setHead("Aaron", 2), r.GUD.showHeadMsg("No, the enemy is too strong and we need support.", !0, .3), r.GUD.setHead("Felon", 0), r.GUD.showHeadMsg("Summon partners now!", !1), r.GUD.playSound("xinshou_02"), r.GUD.hideMsg(), r.GUD.setMaskVisible(!0), r.GUD.callFunc(function () {
                            d.default.unlock(p.ModuleName.Buy)
                        }), r.GUD.click("PanelGame/AnchorBottom/cc_bottomAnimNode/cc_btnBuy"), r.GUD.click("PanelGame/AnchorBottom/cc_bottomAnimNode/cc_btnBuy"), r.GUD.showMsg("Two same Burst Cars can produce a stronger one."), r.GUD.playSound("xinshou_03"), r.GUD.showMaskNone(), r.GUD.callFunc(function (t) {
                            var e = c.default.instance.getRole(12),
                            n = c.default.instance.getRole(13);
                            e && n ? r.GUD.moveFingerBetween(e.position, n.position, 600, 320, cc.v2(0, -38))(t) : t.gotoTag(C)
                        }), r.GUD.waitForKey(a.GUIDE_MSG.MERGE_CARD), r.GUD.hideMsg(), r.GUD.callFunc(function (t) {
                            var e,
                            n = c.default.instance.getRandomCard();
                            c.default.instance.foreach(function (t) {
                                if (t instanceof u.default && 1 == t.index)
                                    return e = t, !0
                            }),
                            a.GuideInfo.destIndex = 1,
                            n && e ? r.GUD.moveFingerBetween(n.position, e.position)(t) : t.gotoTag(C)
                        }), r.GUD.waitForKey(a.GUIDE_MSG.ADD_TOWER), r.GUD.setMaskVisible(!1), r.GUD.setMsgMaskVisible(!0), r.GUD.setHead("Felon", 0), r.GUD.showHeadMsg("Great, it's the Firmament King! We can hold it!", !0, .3), r.GUD.hideMsg(), r.GUD.setMsgMaskVisible(!1), r.GUD.callFunc(function (t) {
                            a.GuideInfo.destIndex = -1,
                            c.default.instance.resume(),
                            a.GuideInfo.buyFree = !0
                        }), r.GUD.closeAndSave()]),
                I("GUD_ENTER_MAIN_0", [r.GUD.callFunc(function () {
                            d.default.unlock(p.ModuleName.Boss),
                            l.default.debug_clearBossTime(),
                            c.default.instance.pause()
                        }), r.GUD.setMsgMaskVisible(!0), r.GUD.setHead("Annie", 1), r.GUD.showHeadMsg("There is evil energy approaching!", !0, .3), r.GUD.playSound("xinshou_04"), r.GUD.hideMsg(), r.GUD.setMaskVisible(!0), r.GUD.click("PanelGame/AnchorTop/cc_topAnimNode/cc_btnBoss"), r.GUD.setMaskVisible(!1), r.GUD.callFunc(function () {
                            c.default.instance.resume()
                        }), r.GUD.closeAndSave()]),
                I("GUD_START_BOSS", [r.GUD.wait(2), r.GUD.callFunc(function () {
                            c.default.instance.pause()
                        }), r.GUD.setMsgMaskVisible(!0), r.GUD.setHead("Aaron", 2), r.GUD.showHeadMsg("It’s Shura Hades! Damn it, Star God has not recovered yet, but this is the time ...", !1), r.GUD.hideMsg(), r.GUD.setMaskVisible(!0), r.GUD.showMaskNone(), r.GUD.callFunc(function (t) {
                            var e = c.default.instance.getBoss();
                            e ? r.GUD.moveFinger(e.position, cc.v2(65, 65), .3)(t) : t.gotoTag(C)
                        }), r.GUD.waitForKey(a.GUIDE_MSG.HIT_BOSS), r.GUD.setMaskVisible(!1), r.GUD.callFunc(function () {
                            c.default.instance.resume()
                        }), r.GUD.closeAndSave()]),
                I("GUD_ENTER_MAIN_0", [r.GUD.callFunc(function () {
                            c.default.instance.pause()
                        }), r.GUD.setMsgMaskVisible(!0), r.GUD.setHead("Aaron", 2), r.GUD.showHeadMsg("Failed? I can not be reconciled ...", !0, .3), r.GUD.setHead("Annie", 1), r.GUD.showHeadMsg("Don't give up, we still have a chance!", !0), r.GUD.hideMsg(), r.GUD.setMsgMaskVisible(!1), C, r.GUD.callFunc(function () {
                            h.default.alertFadeIn(null, function () {
                                return o(this, void 0, void 0, function () {
                                    var t,
                                    e,
                                    n;
                                    return i(this, function (o) {
                                        switch (o.label) {
                                        case 0:
                                            return [4, g.default.waitTime(1)];
                                        case 1:
                                            for (o.sent(), e = 1; e < 4; e++)
                                                t = c.default.instance.getTower(e), c.default.instance.removeFSM(t);
                                            for (e = 0; e < 16; e++)
                                                (n = c.default.instance.getRole(e)) && c.default.instance.removeRole(n);
                                            return m.default.mItem.resetItems(),
                                            l.default.resetAutoCount(),
                                            a.GuideInfo.bGuideMode = !1,
                                            c.default.instance.loadGame(0),
                                            d.default.sendMsgKey(a.GUIDE_MSG.ENTER_MAIN),
                                            [2]
                                        }
                                    })
                                })
                            }, null, null, cc.Color.WHITE, 1)
                        }), r.GUD.waitForKey(a.GUIDE_MSG.ENTER_MAIN), r.GUD.wait(.3), r.GUD.callFunc(function () {
                            c.default.instance.pause()
                        }), r.GUD.setMsgMaskVisible(!0), r.GUD.setHead("Aaron", 2), r.GUD.showHeadMsg("What…what is it?", !0, .3), r.GUD.setHead("Annie", 1), r.GUD.showHeadMsg("We have returned to 1 month ago by using the Crystal. This is the last chance, we must succeed this time!", !1), r.GUD.setHead("Felon", 0), r.GUD.showHeadMsg("We need to unite all the power of the speeding car and defeat them this time!", !0), r.GUD.hideMsg(), r.GUD.callFunc(function () {
                            s.default.sendMsg(a.MSG.UI_UPDATE_TOWER_STATE),
                            d.default.unlock(p.ModuleName.Shop),
                            a.GuideInfo.bGuideMode = !0,
                            a.GuideInfo.buyFree = !1,
                            a.GuideInfo.buyQuality = 0,
                            a.GuideInfo._guideCreate = 0
                        }), r.GUD.setMaskVisible(!0), r.GUD.click("PanelGame/AnchorBottom/cc_bottomAnimNode/cc_btnBuy"), r.GUD.click("PanelGame/AnchorBottom/cc_bottomAnimNode/cc_btnBuy"), r.GUD.showMaskExceptCenter(), r.GUD.callFunc(function (t) {
                            var e = c.default.instance.getRole(12),
                            n = c.default.instance.getRole(13);
                            e && n ? r.GUD.moveFingerBetween(e.position, n.position, 600, 320, cc.v2(0, -38))(t) : t.gotoTag(C)
                        }), r.GUD.waitForKey(a.GUIDE_MSG.MERGE_CARD), r.GUD.showMaskNone(), r.GUD.callFunc(function (t) {
                            var e,
                            n = c.default.instance.getRandomCard();
                            c.default.instance.foreach(function (t) {
                                if (t instanceof u.default && 0 == t.index)
                                    return e = t, !0
                            }),
                            a.GuideInfo.destIndex = 0,
                            n && e ? r.GUD.moveFingerBetween(n.position, e.position)(t) : t.gotoTag(C)
                        }), r.GUD.waitForKey(a.GUIDE_MSG.ADD_TOWER), C, r.GUD.callFunc(function () {
                            d.default.unlock(p.ModuleName.Lottery),
                            d.default.unlock(p.ModuleName.Quest),
                            S.default.h5_channel != S.H5_CHANNEL.C_4399 && d.default.unlock(p.ModuleName.Rank),
                            a.GuideInfo.bGuideMode = !1,
                            f.default.writeEnable = !0,
                            _.default.enable = !0,
                            l.default.resetBossTime(),
                            s.default.sendMsg(a.MSG.UI_LEFT_MENU_VISIBLE, !0),
                            s.default.sendMsg(a.MSG.UI_UPDATE_TOWER_STATE),
                            c.default.instance.resume()
                        }), r.GUD.closeAndSave()]),
                I("GUD_NEW_CARD_5", [r.GUD.setMsgMaskVisible(!0), r.GUD.callFunc(function () {
                            c.default.instance.pause(),
                            d.default.unlock(p.ModuleName.Card),
                            d.default.unlock(p.ModuleName.Prop)
                        }), r.GUD.setHead("Annie", 1), r.GUD.showHeadMsg("Felon discovered the enemy's secret base deep in the galaxy!", !0, .3), r.GUD.playSound("xinshou_05"), r.GUD.hideMsg(), r.GUD.setMaskVisible(!0), r.GUD.showMaskExceptCenter(), r.GUD.click("PanelGame/AnchorBottom/cc_bottomAnimNode/cc_btnCard"), r.GUD.setMaskVisible(!1), r.GUD.waitForKey(a.GUIDE_MSG.ENTER_LEVEL), r.GUD.wait(.5), r.GUD.setMaskVisible(!0), r.GUD.click("PanelLevel/cc_easyNode/cc_btnEasy"), r.GUD.setMaskVisible(!1), r.GUD.waitForKey(a.GUIDE_MSG.ENTER_CARD), r.GUD.callFunc(function () {
                            c.default.instance.resume(),
                            y.default.openPanelWithFadeIn(v.default)
                        }), r.GUD.waitForKey(a.GUIDE_MSG.CLOSE_HELP), r.GUD.setMsgMaskVisible(!0), r.GUD.setHead("Felon", 0), r.GUD.showHeadMsg("Bring your most advanced crystal armor and go on an adventure!", !0, .3), r.GUD.hideMsg(), r.GUD.setMaskVisible(!0), r.GUD.showMaskExceptCenter(), r.GUD.showFingerTo("PanelCard/center/cc_mapNode/item1"), r.GUD.waitForKey(a.GUIDE_MSG.MOVE_CARD), r.GUD.setMaskVisible(!1), r.GUD.waitForKey(a.GUIDE_MSG.CLOSE_CARD), r.GUD.setMaskVisible(!0), r.GUD.click("PanelLevel/cc_btnUp"), r.GUD.setMaskVisible(!1), r.GUD.waitForKey(a.GUIDE_MSG.ENTER_BOSS_UP), r.GUD.wait(.5), r.GUD.setMaskVisible(!0), r.GUD.click("PanelBossUp/cc_bg/cc_btnLvup"), r.GUD.click("PanelBossUp/cc_bg/cc_btnClose"), r.GUD.click("PanelLevel/anchorTop/cc_btnClose"), r.GUD.callFunc(function (t) {
                            a.GuideInfo.bGuideMode = !0,
                            a.GuideInfo.buyQuality = l.default.buyQuality,
                            a.GuideInfo._guideCreate = 3,
                            a.GuideInfo.buyFree = !0,
                            b.default.getActive("auto_merge") ? c.default.instance.cardCount > 10 && t.gotoTag(A) : t.gotoTag(C)
                        }), r.GUD.click("PanelGame/AnchorBottom/cc_bottomAnimNode/cc_btnBuy"), r.GUD.click("PanelGame/AnchorBottom/cc_bottomAnimNode/cc_btnBuy"), A, r.GUD.click("PanelGame/AnchorBottom/cc_bottomAnimNode/cc_btnAuto"), r.GUD.setMaskVisible(!1), r.GUD.waitForKey(a.GUIDE_MSG.ENTER_AUTO), r.GUD.wait(.5), r.GUD.setMaskVisible(!0), r.GUD.click("PanelAuto/cc_bg/cc_btnAdv"), r.GUD.click("PanelAuto/cc_bg/cc_btnClose"), C, r.GUD.callFunc(function () {
                            a.GuideInfo.bGuideMode = !1
                        }), r.GUD.closeAndSave()])
            },
            cc._RF.pop()
        }, {
            "../component/ModuleLocker": "ModuleLocker",
            "../extensions/_G": "_G",
            "../extensions/mgr/mgrAdv": "mgrAdv",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/mgr/mgrSdk": "mgrSdk",
            "../extensions/module/BaseFacade": "BaseFacade",
            "../extensions/sdk/GameStatistics": "GameStatistics",
            "../extensions/utils/FileRecord": "FileRecord",
            "../extensions/utils/Timer": "Timer",
            "../game/World": "World",
            "../game/unit/Tower": "Tower",
            "../manager/mgrAlert": "mgrAlert",
            "../manager/mgrGame": "mgrGame",
            "../manager/mgrGuide": "mgrGuide",
            "../ui/PanelCardHelp": "PanelCardHelp",
            "../ui/PanelGuide": "PanelGuide",
            "./Const": "Const"
        }
    ],
    HpBar: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "a4a556ak0JHJY7AWvLxv8tQ", "HpBar");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/widget/SSprite"),
            r = t("../extensions/utils/Mathf"),
            a = t("../extensions/component/UpdateCom"),
            s = .8,
            c = function (t) {
                function e() {
                    var e = t.call(this, "", "texture/blood_bar_bg", cc.Sprite.SizeMode.TRIMMED) || this;
                    return e.fillTime = 0,
                    e.startValue = 0,
                    e.barBack = new i.default("", "texture/blood_bar_2", cc.Sprite.SizeMode.TRIMMED),
                    e.barBack.setParent(e),
                    e.barBack.sprite.type = cc.Sprite.Type.FILLED,
                    e.barBack.sprite.fillType = cc.Sprite.FillType.HORIZONTAL,
                    e.barFront = new i.default("", "texture/blood_bar_1", cc.Sprite.SizeMode.TRIMMED),
                    e.barFront.setParent(e),
                    e.barFront.sprite.type = cc.Sprite.Type.FILLED,
                    e.barFront.sprite.fillType = cc.Sprite.FillType.HORIZONTAL,
                    e.addComponent(a.default).onUpdate = function (t) {
                        e.fillTime > 0 && (e.fillTime -= t, e.barBack.sprite.fillRange = r.default.Lerp(e.startValue, e.barFront.sprite.fillRange, 1 - e.fillTime / s))
                    },
                    e
                }
                return o(e, t),
                e.prototype.dispose = function () {
                    this.barBack.dispose(),
                    this.barFront.dispose(),
                    t.prototype.dispose.call(this)
                },
                e.prototype.resetBar = function () {
                    this.barBack.sprite.fillRange = 1,
                    this.barFront.sprite.fillRange = 1
                },
                e.prototype.setCurValue = function (t) {
                    var e = this.barFront.sprite.fillRange;
                    e != t && (this.barFront.sprite.fillRange = t, e - t > .05 ? (this.fillTime = s, this.startValue = this.barBack.sprite.fillRange) : this.barBack.sprite.fillRange = t)
                },
                e
            }
            (i.default);
            n.default = c,
            cc._RF.pop()
        }, {
            "../extensions/component/UpdateCom": "UpdateCom",
            "../extensions/utils/Mathf": "Mathf",
            "../extensions/widget/SSprite": "SSprite"
        }
    ],
    IBuff: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "ff2d6QWaehDi55n74TeeDz8", "IBuff"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("../../extensions/_G"),
            i = function () {
                function t(t) {
                    this.deltaTime = 1,
                    this.leftTime = 1,
                    this._leftTickCount = 2,
                    this.tickCount = 2,
                    this.type = t,
                    this.onCreate()
                }
                return t.prototype.reuse = function () {},
                t.prototype.unuse = function () {},
                t.prototype.dispose = function () {
                    this.onDesotry()
                },
                t.prototype.onCreate = function () {},
                t.prototype.onDesotry = function () {},
                t.prototype.start = function (t, e) {
                    this.blue = t,
                    this.red = e,
                    this.bStart = !0,
                    this.onStart()
                },
                t.prototype.stop = function () {
                    this.bStart && (this.bStart = !1, this.onStop(), this._leftTickCount = 0, this.red.removeBuff(this.type), this.blue = null, this.red = null, o.default.poolManager.put(this))
                },
                t.prototype.setTime = function (t, e, n) {
                    void 0 === n && (n = !1),
                    this.deltaTime = t,
                    this.tickCount = e,
                    this._leftTickCount = e,
                    this.leftTime = n ? 0 : t
                },
                t.prototype.resetCount = function () {
                    this._leftTickCount = this.tickCount
                },
                t.prototype.resetTime = function () {
                    this.leftTime = this.deltaTime
                },
                t.prototype.onUpdate = function (t) {
                    this.bStart && this._leftTickCount > 0 && (this.leftTime -= t, this.leftTime <= 0 && (this._leftTickCount--, this.leftTime = this.deltaTime, this.onTick(), this._leftTickCount <= 0 && this.stop()))
                },
                t
            }
            ();
            n.default = i,
            cc._RF.pop()
        }, {
            "../../extensions/_G": "_G"
        }
    ],
    IEffect: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "cefb5VUAJJMkIyNZJHVv2jn", "IEffect"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            }),
            cc._RF.pop()
        }, {}
    ],
    IMCPanel: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "ad7f8tLcmpFt4BRlOOhAIDi", "IMCPanel"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            }),
            cc._RF.pop()
        }, {}
    ],
    INode: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "9482eIok6RDtKcnRMJErQEb", "INode"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            }),
            cc._RF.pop()
        }, {}
    ],
    ISkill: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "ed38dF67ZVMsZrslMuCJfSQ", "ISkill"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = function () {
                function t() {
                    this.bStarted = !1
                }
                return t.prototype.onCreate = function (t) {
                    this.target = t
                },
                t.prototype.onStart = function () {
                    this.bStarted = !0
                },
                t.prototype.onStop = function () {
                    this.bStarted = !1
                },
                t.prototype.onDestory = function () {},
                t.prototype.isKill = function () {
                    return !1
                },
                t.prototype.isCrit = function () {
                    return !1
                },
                t.prototype.attachBuff = function (t) {},
                t
            }
            ();
            n.default = o,
            cc._RF.pop()
        }, {}
    ],
    IUnitMaker: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "6f6d3/+3CBD+Y+JUSNMyxav", "IUnitMaker"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            }),
            cc._RF.pop()
        }, {}
    ],
    JsBridge: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "23a160Vw9pJgLVMn7MScFEk", "JsBridge"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = function () {
                function t(t, e) {
                    for (var n = 0; n < e.length; n++) {
                        var o = e[n];
                        o.enumerable = o.enumerable || !1,
                        o.configurable = !0,
                        "value" in o && (o.writable = !0),
                        Object.defineProperty(t, o.key, o)
                    }
                }
                return function (e, n, o) {
                    return n && t(e.prototype, n),
                    o && t(e, o),
                    e
                }
            }
            ();
            function i(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            var r = null,
            a = null,
            s = !1,
            c = function () {
                function e() {
                    i(this, e)
                }
                return o(e, [{
                            key: "init",
                            value: function () {
                                if (!s) {
                                    s = !0;
                                    try {
                                        r = t("../../ulsdk/ulsdkmiddleware/ulsdkmiddleware")
                                    } catch (t) {
                                        console.log(t)
                                    }
                                    r ? (r.initSdk(), r.setGameCallback(this.receiveFromSdk), console.log("JsBridge has inited.")) : cc.warn("can't find h5 ULSdk")
                                }
                            }
                        }, {
                            key: "setReciever",
                            value: function (t) {
                                this.init(),
                                a = t
                            }
                        }, {
                            key: "receiveFromSdk",
                            value: function (t) {
                                console.log("receive from sdk:" + t);
                                try {
                                    var e = JSON.parse(t);
                                    a && a(e)
                                } catch (e) {
                                    cc.error("JsBridge:can't decode json[" + t + "].")
                                }
                            }
                        }, {
                            key: "sendToSdk",
                            value: function (t) {
                                var e = JSON.stringify(t);
                                console.log("send to sdk:" + e),
                                s && r && r.request(e)
                            }
                        }
                    ]),
                e
            }
            ();
            n.default = new c,
            e.exports = n.default,
            cc._RF.pop()
        }, {
            "../../ulsdk/ulsdkmiddleware/ulsdkmiddleware": void 0
        }
    ],
    JumpCoin: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "590bcP3/ZNMk6gX7rGURZNo", "JumpCoin");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i,
            r = t("../extensions/ui/ViewBase"),
            a = t("../extensions/utils/UiHelper"),
            s = t("../extensions/utils/Mathf"),
            c = t("../extensions/_G");
            (function (t) {
                t[t.LOADING = 0] = "LOADING",
                t[t.IDLE = 1] = "IDLE",
                t[t.JUMP = 2] = "JUMP",
                t[t.STAY = 3] = "STAY",
                t[t.FLY = 4] = "FLY"
            })(i || (i = {}));
            var l = function (t) {
                function e() {
                    var e = t.call(this, null) || this;
                    return e.resourceName = "prefab/game/JumpCoin",
                    e.jumpAction = null,
                    e.state = i.LOADING,
                    e.coinCount = 0,
                    e
                }
                return o(e, t),
                e.prototype.onCreateComplete = function () {
                    this.state == i.LOADING && (this.state = i.IDLE, this.context && this.context())
                },
                e.prototype.getActionFromCache = function (t) {
                    if ("jump" == t) {
                        var n = null,
                        o = e.jumpActionCache.length;
                        if (o > 0 && (n = e.jumpActionCache.splice(s.default.Random(o) - 1, 1)[0]), !n) {
                            for (var i = 0; i < 5; i++) {
                                var r = 30 * s.default.Random(-3, 3),
                                a = s.default.Random(10, 80);
                                n = cc.sequence(cc.spawn(cc.jumpBy(.6, r, -60, a, 2), cc.scaleTo(.1, 1, 1)), cc.callFunc(this.onJumpTweenFinish, this), cc.sequence(cc.delayTime(.5), cc.jumpBy(.5, 0, 0, 20, 2)).repeat(1e7)),
                                e.jumpActionCache.push(n)
                            }
                            return this.getActionFromCache(t)
                        }
                        return n
                    }
                },
                e.prototype.putActionToCache = function (t, n) {
                    "jump" == t && (a.default.finishAction(n), e.jumpActionCache.push(n))
                },
                e.prototype.jump = function (t) {
                    return this.state == i.IDLE && (this.jumpAction && this.recycleAction(), this.resNode.opacity = 255, this.setPosition(t), this.jumpAction = this.getActionFromCache("jump"), this.resNode.runAction(this.jumpAction), this.state = i.JUMP, !0)
                },
                e.prototype.onJumpTweenFinish = function () {
                    this.state = i.STAY
                },
                e.prototype.recycleAction = function () {
                    this.jumpAction && (this.resNode.stopAllActions(), this.putActionToCache("jump", this.jumpAction), this.jumpAction = null)
                },
                e.prototype.fly = function (t, e) {
                    if (this.state == i.JUMP || this.state == i.STAY) {
                        this.recycleAction(),
                        this.state == i.JUMP && (this.resNode.scale = 1);
                        var n = this.resNode.position,
                        o = s.default.Random(150, 260) * (2 * s.default.Random(0, 1) - 1),
                        r = [n, new cc.Vec2(n.x + o, n.y + (t.y - n.y) * s.default.Random(3, 6) * .1), t],
                        a = cc.sequence(cc.bezierTo(.6, r), cc.fadeOut(.1), cc.callFunc(this.onMoveTweenFinish, this));
                        return this.resNode.runAction(a),
                        this.state = i.FLY,
                        this.coinCount = e,
                        !0
                    }
                    return !1
                },
                e.prototype.onMoveTweenFinish = function () {
                    this.state = i.IDLE,
                    c.default.poolManager.put(this)
                },
                e.prototype.reuse = function () {
                    this.show(),
                    this.isLoaded && (this.resNode.scale = 0, this.resNode.opacity = 255)
                },
                e.prototype.unuse = function () {
                    this.isLoaded && (this.resNode.stopAllActions(), this.recycleAction()),
                    this.context = null,
                    this.removeFromParent(),
                    this.hide(),
                    this.coinCount = 0,
                    this.state = i.IDLE,
                    this.clearDelayCalls()
                },
                e.jumpActionCache = [],
                e
            }
            (r.default);
            n.default = l,
            cc._RF.pop()
        }, {
            "../extensions/_G": "_G",
            "../extensions/ui/ViewBase": "ViewBase",
            "../extensions/utils/Mathf": "Mathf",
            "../extensions/utils/UiHelper": "UiHelper"
        }
    ],
    MCConsts: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "59da1GvC6lFgqPwqbY2jOIK", "MCConsts"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = function () {
                function t() {}
                return t.COP_CITY_ID_2_NAME = {
                    "": "Close city mode",
                    0: "unknown city",
                    101: "unknown city",
                    201: "unknown city",
                    301: "unknown city",
                    401: "unknown city",
                    501: "unknown city",
                    502: "unknown city",
                    503: "unknown city",
                    504: "unknown city",
                    505: "unknown city",
                    506: "unknown city",
                    507: "unknown city",
                    508: "unknown city",
                    509: "unknown city",
                    510: "unknown city",
                    511: "unknown city",
                    601: "unknown city",
                    602: "unknown city",
                    603: "unknown city",
                    604: "unknown city",
                    605: "unknown city",
                    606: "unknown city",
                    607: "unknown city",
                    608: "unknown city",
                    609: "unknown city",
                    610: "unknown city",
                    611: "unknown city",
                    612: "unknown city",
                    613: "unknown city",
                    614: "unknown city",
                    615: "unknown city",
                    616: "unknown city",
                    617: "unknown city",
                    618: "unknown city",
                    701: "unknown city",
                    702: "unknown city",
                    703: "unknown city",
                    704: "unknown city",
                    705: "unknown city",
                    706: "unknown city",
                    707: "unknown city",
                    708: "unknown city",
                    709: "unknown city",
                    710: "unknown city",
                    711: "unknown city",
                    712: "unknown city",
                    713: "unknown city",
                    714: "unknown city",
                    715: "unknown city",
                    716: "unknown citya"

                },
                t
            }
            ();
            n.default = o,
            cc._RF.pop()
        }, {}
    ],
    MCItem: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "998dc5/R0BL07Pw9RBhJ5/M", "MCItem"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = function () {
                function t() {}
                return t.prototype.initByData = function (t) {
                    this.type = t.type,
                    this.type = t.type || "newLine",
                    this.name = t.name || "",
                    this.text = t.text || "",
                    this.width = t.width || 0,
                    this.height = t.height || 0,
                    this.fOnClick = t.onClick,
                    this.fOnTextChanged = t.onTextChanged
                },
                t.prototype.setText = function (t) {
                    this.text = t,
                    this.fOnTextChanged instanceof Function && this.fOnTextChanged(t)
                },
                t.prototype.triggerOnClick = function () {
                    this.fOnClick instanceof Function && this.fOnClick()
                },
                t
            }
            ();
            n.default = o,
            cc._RF.pop()
        }, {}
    ],
    MCPanelCreator: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "88159Kkhn5MMqSIiluYIXc8", "MCPanelCreator"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("./MCItem"),
            i = t("../utils/ULTools"),
            r = t("../utils/ULTimer"),
            a = window.cc,
            s = function () {
                function t() {}
                return t.prototype.getNodeCanvas = function () {
                    if (!a)
                        return console.warn("MCPanelCreator.getNodeCanvas creator env not found!"), null;
                    var t = a.director.getScene();
                    if (!t)
                        return console.warn("MCPanelCreator.getNodeCanvas scene not found!"), null;
                    var e = t.getChildByName("Canvas");
                    return e || (console.warn("MCPanelCreator.getNodeCanvas nodeCanvas not found!"), null)
                },
                t.prototype.addFillerSprite = function (t, e) {
                    var n = t.getContentSize(),
                    o = t.addComponent(a.Sprite);
                    o.sizeMode = a.Sprite.SizeMode.CUSTOM,
                    o.type = a.Sprite.Type.SIMPLE,
                    a.loader.loadRes("_ulsdk_ui/white_dot", a.SpriteFrame, function (e, i) {
                        e ? console.warn("MCPanelCreator.addFillerSprite err!", e) : (o.spriteFrame = i, t.setContentSize(n))
                    }),
                    t.color = e,
                    t.opacity = e.getA()
                },
                t.prototype.registerTouchHandler = function (t, e, n, o, i) {
                    void 0 === n && (n = !1),
                    void 0 === o && (o = !0),
                    void 0 === i && (i = !1);
                    var r = t;
                    if (r && e) {
                        r.on(a.Node.EventType.TOUCH_START, function (t) {
                            var i = t.getID() || 0;
                            return !(!n && null != r.__touch_id || (t.name = "began", o && t.stopPropagation(), r.__touch_id = i, e(t), 0))
                        }, null, i),
                        r.on(a.Node.EventType.TOUCH_MOVE, function (t) {
                            var o = t.getID() || 0;
                            (n || o == r.__touch_id) && (t.name = "moved", e(t))
                        }, null, i),
                        r.on(a.Node.EventType.TOUCH_END, function (t) {
                            var o = t.getID() || 0;
                            (n || o == r.__touch_id) && (t.name = "ended", r.__touch_id = null, e(t))
                        }, null, i),
                        r.on(a.Node.EventType.TOUCH_CANCEL, function (t) {
                            var o = t.getID() || 0;
                            (n || o == r.__touch_id) && (t.name = "cancelled", r.__touch_id = null, e(t))
                        }, null, i)
                    }
                },
                t.prototype.isTouchEventClick = function (t) {
                    if ("ended" != t.name && "cancelled" != t.name)
                        return !1;
                    var e = t.getStartLocation(),
                    n = t.getLocation(),
                    o = e.x - n.x,
                    i = e.y - n.y;
                    return o * o + i * i <= 400
                },
                t.prototype.createItemByData = function (t) {
                    var e = this,
                    n = new o.default;
                    n.initByData(t);
                    var i = this.nodeContainer;
                    switch (t.type) {
                    case "label":
                        var r = new a.Node;
                        r.parent = i,
                        r.setAnchorPoint(.5, .5),
                        r.on(a.Node.EventType.SIZE_CHANGED, function () {
                            n.width = r.width,
                            n.height = r.height,
                            e.onItemNodeResize()
                        }),
                        r.addComponent(a.Label).string = n.text,
                        r.getComponent(a.Label).fontSize = 20,
                        r.getComponent(a.Label).horizontalAlign = a.Label.HorizontalAlign.LEFT,
                        r.getComponent(a.Label).verticalAlign = a.Label.VerticalAlign.CENTER,
                        n.renderNode = r;
                        break;
                    case "labelArea":
                        var s = new a.Node;
                        s.parent = i,
                        s.setAnchorPoint(.5, .5),
                        s.on(a.Node.EventType.SIZE_CHANGED, function () {
                            n.width = s.width,
                            n.height = s.height,
                            e.onItemNodeResize()
                        }),
                        s.addComponent(a.Label).string = n.text,
                        s.getComponent(a.Label).fontSize = 20,
                        s.getComponent(a.Label).horizontalAlign = a.Label.HorizontalAlign.LEFT,
                        s.getComponent(a.Label).verticalAlign = a.Label.VerticalAlign.CENTER,
                        s.getComponent(a.Label).overflow = a.Label.Overflow.RESIZE_HEIGHT,
                        s.width = i.width - 20,
                        s.height = 20,
                        n.renderNode = s;
                        break;
                    case "button":
                        var c = new a.Node;
                        c.parent = i,
                        c.on(a.Node.EventType.SIZE_CHANGED, function () {
                            n.width = c.width,
                            n.height = c.height,
                            e.onItemNodeResize()
                        }),
                        c.width = n.width || 150,
                        c.height = n.height || 40,
                        (u = new a.Node).parent = c,
                        u.setContentSize(u.parent.getContentSize()),
                        this.addFillerSprite(u, a.color(200, 200, 200, 255));
                        var l = new a.Node;
                        l.parent = c,
                        l.setAnchorPoint(.5, .5),
                        l.addComponent(a.Label).string = n.text,
                        l.getComponent(a.Label).fontSize = 20,
                        l.getComponent(a.Label).horizontalAlign = a.Label.HorizontalAlign.CENTER,
                        l.getComponent(a.Label).verticalAlign = a.Label.VerticalAlign.CENTER,
                        l.getComponent(a.Label).overflow = a.Label.Overflow.SHRINK,
                        l.width = c.width,
                        l.height = c.height,
                        l.color = a.Color.BLACK,
                        this.registerTouchHandler(c, function (t) {
                            switch (t.name) {
                            case "began":
                                l.color = a.Color.GREEN;
                                break;
                            case "moved":
                                break;
                            default:
                                l.color = a.Color.BLACK
                            }
                            e.isTouchEventClick(t) && n.triggerOnClick()
                        }),
                        n.renderNode = c;
                        break;
                    case "inputBox":
                        var u,
                        d = new a.Node;
                        d.parent = i,
                        d.on(a.Node.EventType.SIZE_CHANGED, function () {
                            n.width = d.width,
                            n.height = d.height,
                            e.onItemNodeResize()
                        }),
                        d.width = n.width || 150,
                        d.height = n.height || 40,
                        (u = new a.Node).parent = d,
                        u.setContentSize(u.parent.getContentSize()),
                        this.addFillerSprite(u, a.color(200, 200, 200, 255));
                        var p = d.addComponent(a.EditBox);
                        p.fontSize = 20,
                        p.fontColor = a.Color.BLACK,
                        p.lineHeight = d.height,
                        p.inputMode = a.EditBox.InputMode.SINGLE_LINE,
                        p.maxLength = 1024,
                        p.placeholder = "<<input text>>",
                        p.placeholderFontSize = 20,
                        p.placeholderFontColor = a.Color.GRAY;
                        for (var h = d.getComponentsInChildren(a.Label), f = 0; f < h.length; f++) {
                            h[f].verticalAlign = a.Label.VerticalAlign.CENTER
                        }
                        p.node.on("text-changed", function () {
                            var t = p.string;
                            n.setText(t)
                        }),
                        n.renderNode = d;
                        break;
                    case "newLine":
                        n.width = i.width - 20,
                        n.height = 20
                    }
                    return n
                },
                t.prototype.doLayout = function () {
                    if (this.items) {
                        for (var t = this.nodePanel.width - 20, e = [], n = 10, o = -10, i = 0, r = 0; r < this.items.length; r++) {
                            var a = this.items[r],
                            s = a.renderNode || {
                                x: 0,
                                y: 0
                            };
                            if (n + a.width > t) {
                                n = 0;
                                for (var c = 0; c < e.length; c++) {
                                    (e[c].renderNode || {
                                        x: 0,
                                        y: 0
                                    }).y = o - i / 2
                                }
                                n = 10,
                                o -= i + 4,
                                e = [],
                                i = 0
                            }
                            i = Math.max(i, a.height),
                            e.push(a),
                            s.x = n + a.width / 2,
                            n += a.width + 4
                        }
                        for (r = 0; r < e.length; r++) {
                            (s = e[r].renderNode || {
                                    x: 0,
                                    y: 0
                                }).y = o - i / 2
                        }
                        o -= i - 10,
                        this.nodeContainer.height = Math.max(this.nodePanel.height, -o)
                    }
                },
                t.prototype.onItemNodeResize = function () {
                    this.doLayout()
                },
                t.prototype.getItemByName = function (t) {
                    for (var e = 0; e < this.items.length; e++) {
                        var n = this.items[e];
                        if (n.name == t)
                            return n
                    }
                    return null
                },
                t.prototype.show = function (t) {
                    var e = this,
                    n = this.getNodeCanvas();
                    if (n) {
                        var o = new a.Node;
                        o.parent = n,
                        o.setContentSize(n.getContentSize()),
                        o.zIndex = a.macro.MAX_ZINDEX,
                        this.nodePanel = o;
                        var i = new a.Node;
                        i.parent = o,
                        i.setContentSize(i.parent.getContentSize()),
                        this.addFillerSprite(i, a.color(0, 0, 0, 191)),
                        this.registerTouchHandler(this.nodePanel, function (t) {
                            e.isTouchEventClick(t)
                        });
                        var r = new a.Node;
                        r.setAnchorPoint(0, 1),
                        r.parent = this.nodePanel,
                        r.setContentSize(n.getContentSize()),
                        this.nodeContainer = r;
                        var s = this.nodePanel.addComponent(a.ScrollView);
                        s.horizontal = !1,
                        s.vertical = !0,
                        s.content = r,
                        s.cancelInnerEvents = !1,
                        s.elastic = !0;
                        for (var c = [], l = 0; l < t.length; l++) {
                            var u = t[l],
                            d = this.createItemByData(u);
                            c.push(d)
                        }
                        this.items = c,
                        this.doLayout()
                    }
                },
                t.prototype.close = function () {
                    a.isValid(this.nodePanel) && this.nodePanel.destroy(),
                    this.nodePanel = null
                },
                t.prototype.getItemText = function (t) {
                    var e = this.getItemByName(t);
                    return e ? e.text : ""
                },
                t.prototype.setItemText = function (t, e) {
                    var n = this.getItemByName(t);
                    if (n) {
                        n.setText(e);
                        var o = n.renderNode;
                        if (o instanceof a.Node) {
                            var i = o.getComponent(a.Label) || o.getComponentInChildren(a.Label);
                            i && (i.string = e);
                            var r = o.getComponent(a.EditBox) || o.getComponentInChildren(a.EditBox);
                            r && (r.string = e)
                        }
                    }
                },
                t.prototype.showMsgTip = function (t) {
                    var e = this.getNodeCanvas();
                    if (e) {
                        var n = new a.Node;
                        n.parent = e,
                        n.width = e.width,
                        n.height = 20,
                        n.zIndex = a.macro.MAX_ZINDEX;
                        var o = n.addComponent(a.Label);
                        o.string = t,
                        o.fontSize = 20,
                        o.enableWrapText = !0,
                        n.x = 0,
                        n.y = .25 * e.height,
                        n.runAction(a.sequence(a.moveBy(1.5, 0, 50), a.callFunc(function () {
                                    n.destroy()
                                })))
                    }
                },
                t.prototype.showPickerDialog = function (t, e, n) {
                    var o = this,
                    r = this.getNodeCanvas();
                    if (r) {
                        var s = i.default.scaleInRange(e.length, 8.5, 17.5, 430, 826),
                        c = new a.Node;
                        c.parent = r,
                        c.setContentSize(r.getContentSize()),
                        c.zIndex = a.macro.MAX_ZINDEX,
                        this.registerTouchHandler(c, function (t) {
                            o.isTouchEventClick(t) && c.destroy()
                        });
                        var l = new a.Node;
                        l.parent = c,
                        l.setContentSize(l.parent.getContentSize()),
                        this.addFillerSprite(l, a.color(0, 0, 0, 127));
                        var u = new a.Node;
                        u.parent = c,
                        u.width = r.width - 100,
                        u.height = s,
                        this.registerTouchHandler(u, function (t) {}),
                        (l = new a.Node).parent = u,
                        l.setContentSize(l.parent.getContentSize()),
                        this.addFillerSprite(l, a.color(167, 167, 167, 255));
                        var d = new a.Node;
                        d.parent = u,
                        d.y = u.height / 2 - 25,
                        d.x = 0,
                        d.addComponent(a.Label).string = t,
                        d.getComponent(a.Label).overflow = a.Label.Overflow.SHRINK,
                        d.getComponent(a.Label).verticalAlign = a.Label.VerticalAlign.CENTER,
                        d.getComponent(a.Label).fontSize = 40,
                        d.width = u.width - 10,
                        d.height = 40;
                        var p = new a.Node;
                        p.parent = u,
                        p.width = u.width - 10,
                        p.height = u.height - 50,
                        p.x = 0,
                        p.y = -u.height / 2 + p.height / 2 + 5,
                        this.addFillerSprite(p, a.color(97, 97, 97, 255));
                        var h = new a.Node;
                        h.parent = u,
                        h.width = u.width - 10,
                        h.height = u.height - 50,
                        h.x = 0,
                        h.y = -u.height / 2 + h.height / 2 + 5,
                        h.addComponent(a.Mask);
                        var f = new a.Node;
                        f.setAnchorPoint(0, 1),
                        f.parent = h,
                        f.setContentSize(h.getContentSize());
                        var _ = h.addComponent(a.ScrollView);
                        _.horizontal = !1,
                        _.vertical = !0,
                        _.content = f,
                        _.cancelInnerEvents = !1,
                        _.elastic = !0;
                        for (var m = 0, g = function (t) {
                            var i = e[t],
                            r = new a.Node;
                            r.parent = f,
                            r.width = h.width,
                            r.height = 40,
                            r.x = f.width / 2,
                            r.y = m - r.height / 2;
                            var s = new a.Node;
                            s.parent = r,
                            s.setContentSize(s.parent.getContentSize()),
                            y.addFillerSprite(s, a.color(0, 0, 0, 63));
                            var l = new a.Node;
                            l.parent = r,
                            l.setContentSize(r.width - 10, r.height);
                            var u = l.addComponent(a.Label);
                            u.fontSize = 20,
                            u.verticalAlign = a.Label.VerticalAlign.CENTER,
                            u.horizontalAlign = a.Label.HorizontalAlign.CENTER,
                            u.overflow = a.Label.Overflow.SHRINK,
                            u.string = i.text,
                            l.setContentSize(r.width - 10, r.height),
                            y.registerTouchHandler(r, function (t) {
                                o.isTouchEventClick(t) && (n(i.value), c.destroy())
                            }),
                            m -= r.height + 4
                        }, y = this, v = 0; v < e.length; v++)
                            g(v);
                        f.height = Math.max(h.height, -m)
                    }
                },
                t.prototype.showPromptDialog = function (t, e, n, o) {
                    var i = this,
                    s = this.getNodeCanvas();
                    if (!s)
                        return console.warn("MCPanelCreator.showPromptDialog nodeCanvas not found!"), void r.default.callLater(.1, function () {
                            i.showPromptDialog(t, e, n, o)
                        });
                    var c = new a.Node;
                    c.parent = s,
                    c.setContentSize(s.getContentSize()),
                    c.zIndex = a.macro.MAX_ZINDEX,
                    this.registerTouchHandler(c, function (t) {
                        i.isTouchEventClick(t) && console.log("click bg")
                    });
                    var l = new a.Node;
                    l.parent = c,
                    l.setContentSize(l.parent.getContentSize()),
                    this.addFillerSprite(l, a.color(0, 0, 0, 127));
                    var u = !1,
                    d = new a.Node;
                    d.parent = c,
                    d.addComponent(a.Component).onDestroy = function () {
                        console.log("MCPanelCreator.showPromptDialog triggerNode onDestroy", u),
                        u || (console.log("MCPanelCreator.showPromptDialog nodeShadow destroied, recreate in 0,1s"), r.default.callLater(.1, function () {
                                i.showPromptDialog(t, e, n, o)
                            }))
                    };
                    var p = new a.Node;
                    p.parent = c,
                    p.width = 460,
                    p.height = 300,
                    this.registerTouchHandler(p, function (t) {});
                    var h = new a.Node;
                    h.parent = p,
                    h.setContentSize(h.parent.getContentSize()),
                    a.loader.loadRes("_ulsdk_ui/bg_01", a.SpriteFrame, function (t, e) {
                        if (t)
                            console.warn("MCPanelCreator.showPromptDialog nodeDialogBg load sprite error", t);
                        else {
                            var n = h.getContentSize(),
                            o = e.getOriginalSize();
                            e.insetLeft = o.width / 3,
                            e.insetRight = o.width / 3,
                            e.insetTop = o.height / 3,
                            e.insetBottom = o.height / 3;
                            var i = h.addComponent(a.Sprite);
                            i.spriteFrame = e,
                            i.type = a.Sprite.Type.SLICED,
                            i.sizeMode = a.Sprite.SizeMode.CUSTOM,
                            h.setContentSize(n)
                        }
                    });
                    var f = new a.Node;
                    f.parent = p,
                    f.y = p.height / 2 - 35,
                    f.x = 0,
                    f.color = a.color(0, 0, 0, 255),
                    f.addComponent(a.Label).string = t || "Title",
                    f.getComponent(a.Label).overflow = a.Label.Overflow.SHRINK,
                    f.getComponent(a.Label).verticalAlign = a.Label.VerticalAlign.CENTER,
                    f.getComponent(a.Label).horizontalAlign = a.Label.HorizontalAlign.CENTER,
                    f.getComponent(a.Label).fontSize = 32,
                    f.width = p.width - 10,
                    f.height = 40;
                    var _ = new a.Node;
                    _.parent = p,
                    _.y = p.height / 2 - 25 - 20 - 5 - 80,
                    _.x = 0,
                    _.color = a.color(0, 0, 0, 255),
                    _.addComponent(a.Label).string = e || "Content",
                    _.getComponent(a.Label).overflow = a.Label.Overflow.SHRINK,
                    _.getComponent(a.Label).verticalAlign = a.Label.VerticalAlign.CENTER,
                    _.getComponent(a.Label).horizontalAlign = a.Label.HorizontalAlign.CENTER,
                    _.getComponent(a.Label).fontSize = 28,
                    _.width = p.width - 50,
                    _.height = 160;
                    for (var m =  - (160 * n.length + 30 * (n.length - 1)) / 2, g = [], y = function (t) {
                        var e = n[t],
                        r = new a.Node;
                        r.parent = p,
                        r.x = m + 160 * (t + .5) + 30 * t,
                        r.y = -p.height / 2 + 20 + 30,
                        r.setContentSize(160, 60),
                        g.push(r);
                        var s = new a.Node;
                        s.parent = r,
                        s.setContentSize(r.getContentSize()),
                        a.loader.loadRes("_ulsdk_ui/btn_01", a.SpriteFrame, function (t, e) {
                            if (t)
                                console.warn("MCPanelCreator.showPromptDialog nodeButtonBg load sprite error", t);
                                else {
                                    var n = s.getContentSize(),
                                    o = e.getOriginalSize();
                                    e.insetLeft = o.width / 3,
                                    e.insetRight = o.width / 3,
                                    e.insetTop = o.height / 3,
                                    e.insetBottom = o.height / 3;
                                    var i = s.addComponent(a.Sprite);
                                    i.spriteFrame = e,
                                    i.type = a.Sprite.Type.SLICED,
                                    i.sizeMode = a.Sprite.SizeMode.CUSTOM,
                                    s.setContentSize(n)
                                }
                            });
                            var l = new a.Node;
                            l.parent = r,
                            l.y = 0,
                            l.x = 0,
                            l.color = a.color(255, 255, 255, 255),
                            l.addComponent(a.Label).string = e || "Button" + (t + 1),
                            l.getComponent(a.Label).overflow = a.Label.Overflow.SHRINK,
                            l.getComponent(a.Label).verticalAlign = a.Label.VerticalAlign.CENTER,
                            l.getComponent(a.Label).horizontalAlign = a.Label.HorizontalAlign.CENTER,
                            l.getComponent(a.Label).fontSize = 30,
                            l.width = s.width - 10,
                            l.height = s.height - 10,
                            v.registerTouchHandler(r, function (e) {
                                if ("began" == e.name ? r.scale = 1.1 : "moved" == e.name || (r.scale = 1), i.isTouchEventClick(e)) {
                                    var n = o[t];
                                    if (n instanceof Function)
                                        n() || (u = !0, c.destroy());
                                    else
                                        u = !0, c.destroy()
                                }
                            })
                        }, v = this, b = 0; b < n.length; b++)y(b)
                },
                t
            }
            ();
            n.default = s,
            cc._RF.pop()
        }, {
            "../utils/ULTimer": "ULTimer",
            "../utils/ULTools": "ULTools",
            "./MCItem": "MCItem"
        }
    ],
    MCPanelLaya: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "57c4ftc4DhObpYUHGQ3z+3A", "MCPanelLaya"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = function () {
                function t() {}
                return t.prototype.showPromptDialog = function (t, e, n, o) {
                    throw new Error("Method not implemented.")
                },
                t.prototype.showPickerDialog = function (t, e, n) {
                    throw new Error("Method not implemented.")
                },
                t.prototype.show = function (t) {
                    throw new Error("Method not implemented.")
                },
                t.prototype.close = function () {
                    throw new Error("Method not implemented.")
                },
                t.prototype.getItemText = function (t) {
                    throw new Error("Method not implemented.")
                },
                t.prototype.setItemText = function (t, e) {
                    throw new Error("Method not implemented.")
                },
                t.prototype.showMsgTip = function (t) {
                    throw new Error("Method not implemented.")
                },
                t
            }
            ();
            n.default = o,
            cc._RF.pop()
        }, {}
    ],
    Main: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "2f2ceGVnYlCX5er4GosfEQ4", "Main");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__decorate || function (t, e, n, o) {
                var i,
                r = arguments.length,
                a = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(t, e, n, o);
                else
                    for (var s = t.length - 1; s >= 0; s--)
                        (i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, n, a) : i(e, n)) || a);
                return r > 3 && a && Object.defineProperty(e, n, a),
                a
            },
            r = this && this.__awaiter || function (t, e, n, o) {
                return new(n || (n = Promise))(function (i, r) {
                    function a(t) {
                        try {
                            c(o.next(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function s(t) {
                        try {
                            c(o.throw(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function c(t) {
                        t.done ? i(t.value) : new n(function (e) {
                            e(t.value)
                        }).then(a, s)
                    }
                    c((o = o.apply(t, e || [])).next())
                })
            },
            a = this && this.__generator || function (t, e) {
                var n,
                o,
                i,
                r,
                a = {
                    label: 0,
                    sent: function () {
                        if (1 & i[0])
                            throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw : s(1),
                    return : s(2)
                },
                "function" == typeof Symbol && (r[Symbol.iterator] = function () {
                    return this
                }),
                r;
                function s(t) {
                    return function (e) {
                        return c([t, e])
                    }
                }
                function c(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done)
                                return i;
                            switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                o = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1],
                                    i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2],
                                    a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            o = 0
                        }
                    finally {
                        n = i = 0
                    }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var s = t("./extensions/_G"),
            c = t("./extensions/mgr/mgrScene"),
            l = t("./extensions/utils/Timer"),
            u = t("./ui/PanelLoading"),
            d = (t("./ui/SceneUpdater"), t("./ui/SceneMain")),
            p = cc._decorator,
            h = p.ccclass,
            f = p.requireComponent,
            _ = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.onLoad = function () {
                    cc.log("------------------------ main onLoad ------------------------"),
                    cc.log(""),
                    cc.game.addPersistRootNode(this.node)
                },
                e.prototype.onDestroy = function () {
                    cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN)
                },
                e.prototype.start = function () {
                    return r(this, void 0, void 0, function () {
                        return a(this, function (t) {
                            return console.log("------------------------ main start ------------------------"),
                            console.log("canvasSize: ", s.default.canvasWidth, s.default.canvasHeight),
                            l.default.initTime(),
                            console.log("------ sys ------"),
                            console.log("------ sys ------"),
                            c.default.runScene(d.default, u.default),
                            [2]
                        })
                    })
                },
                e.prototype.update = function (t) {
                    l.default.updateTime()
                },
                e = i([h, f(cc.Canvas)], e)
            }
            (cc.Component);
            n.default = _,
            cc._RF.pop()
        }, {
            "./extensions/_G": "_G",
            "./extensions/mgr/mgrScene": "mgrScene",
            "./extensions/utils/Timer": "Timer",
            "./ui/PanelLoading": "PanelLoading",
            "./ui/SceneMain": "SceneMain",
            "./ui/SceneUpdater": "SceneUpdater"
        }
    ],
    MakerTest: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "c7928QMXU9JtLa6aah+SueY", "MakerTest"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = {
                wave: 0,
                deltaTime: 0,
                monsterId: "200",
                time: 1,
                level: 1,
                count: 1,
                dropId: ""
            },
            i = function () {
                function t() {
                    this._leftTime = 0,
                    this._deltaTime = 2,
                    this.count = 1
                }
                return t.prototype.dispose = function () {
                    this._leftTime = 0,
                    this.count = 0
                },
                t.prototype.getWaveDb = function () {
                    var t = this._curDb;
                    return this._curDb = null,
                    t
                },
                t.prototype.isDone = function () {
                    return this.count <= 0
                },
                t.prototype.updateTime = function (t) {
                    this._leftTime -= t
                },
                t.prototype.check = function () {
                    return this._leftTime <= 0 && (this._leftTime = this._deltaTime, this.count--, this._curDb = o, !0)
                },
                t.prototype.getMakeCount = function () {
                    return -1
                },
                t.prototype.stop = function () {},
                t
            }
            ();
            n.default = i,
            cc._RF.pop()
        }, {}
    ],
    MakerWave: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "855eftH5AVNe7bYrm4408mw", "MakerWave");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../generate/db"),
            r = t("../extensions/MsgHandler"),
            a = t("../extensions/Queue"),
            s = function (t) {
                function e(e) {
                    var n = t.call(this) || this;
                    n._monsterCount = 0,
                    n._curTime = 0,
                    n._queue = new a.default;
                    var o = i.default.get_wave_db_map()[e];
                    o || cc.error("flow id not found", e);
                    for (var r = Object.keys(o), s = r.length, c = [], l = 0; l < s; l++) {
                        var u = o[r[l]];
                        c.push({
                            time: u.time,
                            count: u.count,
                            db: u
                        })
                    }
                    return n._waveData = c,
                    n
                }
                return o(e, t),
                e.prototype.dispose = function () {},
                e.prototype.getWaveDb = function () {
                    return this._queue.dequeue()
                },
                e.prototype.isDone = function () {
                    return 0 == this._waveData.length
                },
                e.prototype.updateTime = function (t) {
                    this._curTime += t
                },
                e.prototype.check = function () {
                    for (var t = !1, e = this._waveData.length - 1; e >= 0; e--) {
                        var n = this._waveData[e];
                        n.time <= this._curTime && (n.count--, t = !0, n.count <= 0 ? this._waveData.splice(e, 1) : n.time = this._curTime + n.db.deltaTime, this._queue.enqueue(n.db), this._monsterCount++)
                    }
                    return t
                },
                e.prototype.stop = function () {
                    this._waveData = [],
                    this._queue.clear()
                },
                e.prototype.getMakeCount = function () {
                    return this._monsterCount
                },
                e
            }
            (r.default);
            n.default = s,
            cc._RF.pop()
        }, {
            "../extensions/MsgHandler": "MsgHandler",
            "../extensions/Queue": "Queue",
            "../generate/db": "db"
        }
    ],
    Mathf: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "c979183uWRNXLVF7KL8+YSr", "Mathf"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = Math.log(10),
            i = function () {
                function t() {}
                return t.log = function (t, e) {
                    return null == e ? Math.log(t) / o : Math.log(t) / Math.log(e)
                },
                t.getDigits = function (t) {
                    return Math.floor(this.log(t))
                },
                t.Random = function (t, e) {
                    return null == t ? Math.random() : null == e ? Math.floor(Math.random() * t + 1) : Math.floor(Math.random() * (e - t + 1) + t)
                },
                t.RandomPlusOrMinus = function () {
                    return 2 * (this.Random(2) - 1) - 1
                },
                t.randomEnable = function (t) {
                    return this.Random(100) <= t
                },
                t.Clamp01 = function (t) {
                    return t > 1 ? 1 : t < 0 ? 0 : t
                },
                t.Clamp = function (t, e, n) {
                    return t < e ? e : t > n ? n : t
                },
                t.Sign = function (t) {
                    return t >= 0 ? 1 : -1
                },
                t.Equals = function (t, e) {
                    return Math.abs(t - e) < this.EPSILON
                },
                t.Lerp = function (t, e, n) {
                    return t + (e - t) * this.Clamp01(n)
                },
                t.InverseLerp = function (t, e, n) {
                    return t != e ? this.Clamp01((n - t) / (e - t)) : 0
                },
                t.LerpFromInverseLerp = function (t, e, n, o, i) {
                    return this.Lerp(t, e, this.InverseLerp(n, o, i))
                },
                t.Round = function (t, e) {
                    e = e || 0;
                    var n = this.roundPower10Double[e];
                    return t *= n,
                    Math.round(t) / n
                },
                t.Loop = function (t, e, n) {
                    return null == n && (n = e, e = 0),
                    t < e ? e : e + (t - e) % (n - e)
                },
                t.PingPong = function (t, e, n) {
                    if (null == n && (n = e, e = 0), t < e)
                        return e;
                    var o = n - e,
                    i = t - e,
                    r = i % o;
                    return Math.floor(i / o) % 2 == 0 ? r + e : n - r
                },
                t.nextGaussian = function (t, e) {
                    return t + this.uniform2NormalDistribution() * e
                },
                t.uniform2NormalDistribution = function () {
                    for (var t = 0, e = 0; e < 12; e++)
                        t += Math.random();
                    return t - 6
                },
                t.circleRandom = function () {
                    for (var t = [], e = 0; e < arguments.length; e++)
                        t[e] = arguments[e];
                    return this.arrCircleRandom(t)
                },
                t.arrCircleRandom = function (e) {
                    for (var n = 0, o = 0; o < e.length; o++)
                        n += e[o];
                    if (n <= 0)
                        return -1;
                    var i = t.Random(n);
                    for (o = 0; o < e.length; o++) {
                        if (i <= e[o])
                            return o;
                        i -= e[o]
                    }
                    return -1
                },
                t.makeRandomArray = function (t) {
                    for (var e = new Array(t), n = 0; n < t; n++)
                        e[n] = n;
                    return this.shuffle(e),
                    e
                },
                t.shuffle = function (t) {
                    for (var e, n, o = t.length - 1; o > 0; o--)
                        n = this.Random(0, o), e = t[o], t[o] = t[n], t[n] = e
                },
                t.swap = function (t, e, n) {
                    var o = t[e];
                    t[e] = t[n],
                    t[n] = o
                },
                t.distance = function (t, e) {
                    var n = t.x - e.x,
                    o = t.y - e.y;
                    return Math.sqrt(n * n + o * o)
                },
                t.distanceSqr = function (t, e) {
                    var n = t.x - e.x,
                    o = t.y - e.y;
                    return n * n + o * o
                },
                t.rectRect = function (t, e, n, o, i, r) {
                    var a = e / 2,
                    s = n / 2,
                    c = i / 2,
                    l = r / 2;
                    return !(t.x - a > o.x + c) && (!(t.x + a < o.x - c) && (!(t.y + s < o.y - l) && !(t.y - s > o.y + l)))
                },
                t.easeInLogic = function (t) {
                    return 1 - Math.sin(.5 * Math.PI * (1 - t))
                },
                t.easeOutLogic = function (t) {
                    return Math.sin(.5 * Math.PI * t)
                },
                t.easeInOutLogic = function (t) {
                    var e = 2 * Math.PI;
                    return t - Math.sin(t * e) / e
                },
                t.bounceLogic = function (t) {
                    return t < .363636 ? t *= 7.5685 * t : t = t < .727272 ? 7.5625 * (t -= .545454) * t + .75 : t < .90909 ? 7.5625 * (t -= .818181) * t + .9375 : 7.5625 * (t -= .9545454) * t + .984375,
                    t
                },
                t.roundPower10Double = [1, 10, 100, 1e3, 1e4, 1e5, 1e6, 1e7, 1e8, 1e9, 1e10, 1e11, 1e12, 1e13, 1e14, 1e15],
                t.PI = 3.14159274,
                t.Deg2Rad = .0174532924,
                t.Rad2Deg = 57.295779,
                t.EPSILON = 1e-6,
                t
            }
            ();
            n.default = i,
            cc._RF.pop()
        }, {}
    ],
    MenuUserInfo: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "ea257ZN3YFK6LAscxeLuzAM", "MenuUserInfo");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i,
            r = t("../extensions/ui/PanelBase"),
            a = t("../common/Const"),
            s = t("../extensions/mgr/mgrPanel"),
            c = t("./PanelSetting"),
            l = t("../extensions/_G"),
            u = t("../extensions/mgr/mgrSdk"),
            d = t("./PanelFindMe"),
            p = t("./PanelSign"),
            h = t("./PanelQuest"),
            f = t("../extensions/BaseConst"),
            _ = t("./PanelShare"),
            m = t("./PanelGzg");
            (function (t) {
                t[t.FadeAction = 0] = "FadeAction",
                t[t.Show = 1] = "Show",
                t[t.Hide = 2] = "Hide"
            })(i || (i = {}));
            var g = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.panelLayer = s.PANEL_LAYER.DIALOG,
                    e.panelStyle = s.PANEL_STYLE.COMMON,
                    e.resourceName = "prefab/ui/MenuUserInfo",
                    e.mask = null,
                    e.animNode = null,
                    e.btnSwitch = null,
                    e.btnSetting = null,
                    e.btnSign = null,
                    e.btnGift = null,
                    e.btnFind = null,
                    e.btnGzh = null,
                    e.version = null,
                    e._exportNodeInfo = {
                        cc_mask: "cc.Button",
                        cc_animNode: "cc.Node",
                        cc_btnSwitch: "cc.Button",
                        cc_btnSetting: "cc.Button",
                        cc_btnSign: "cc.Button",
                        cc_btnGift: "cc.Button",
                        cc_btnFind: "cc.Button",
                        cc_btnGzh: "cc.Button",
                        cc_version: "cc.Label"
                    },
                    e.state = i.Hide,
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    var t;
                    this.version.string = l.default.GAME_VERSION,
                    this.setPosition(l.default.canvasWidth / 2, l.default.canvasHeight / 2),
                    this.hide(),
                    this.mask.node.opacity = 0,
                    this.infoNodeOrigin = cc.v2(0, 0),
                    this.infoNodeOut = cc.v2(-130, 0),
                    this.animNode.position = this.infoNodeOut,
                    this.onMsgCopChange(),
                    this.initTip(),
                    this.registerMsg(((t = {})[a.MSG.UI_CLICK_USER_INFO] = this.onMsgClickUserInfo.bind(this), t[f.BASE_MSG.SDK_COP_CHANGED] = this.onMsgCopChange.bind(this), t)),
                    this.startProcMsg()
                },
                e.prototype.dispose = function () {
                    this.stopProcMsg(),
                    t.prototype.dispose.call(this)
                },
                e.prototype.hide = function () {
                    t.prototype.hide.call(this),
                    this.mask.node.active = !1,
                    this.setBottom(),
                    this.state = i.Hide
                },
                e.prototype.show = function () {
                    t.prototype.show.call(this),
                    this.mask.node.active = !0,
                    this.setTop()
                },
                e.prototype.onMsgClickUserInfo = function () {
                    this.state == i.Hide && (this.state = i.FadeAction, this.show(), this.mask.node.runAction(cc.fadeIn(.3)), this.animNode.runAction(cc.sequence(cc.moveTo(.3, this.infoNodeOrigin).easing(cc.easeOut(3)), cc.callFunc(this.switchToShowState, this))), l.default.sendMsg(a.MSG.UI_USER_INFO_SHOW, !0))
                },
                e.prototype.onMsgCopChange = function () {
                    if (this.btnGift.node.active = u.default.isShareEnabled, u.default.isSupportFindMinigames)
                        switch (u.default.h5_channel) {
                        case u.H5_CHANNEL.WEIXIN:
                            this.btnGzh.node.active = !0,
                            this.btnFind.node.active = !1;
                            break;
                        case u.H5_CHANNEL.BAIDU:
                        case u.H5_CHANNEL.TOUTIAO:
                        case u.H5_CHANNEL.DOUYIN:
                            this.btnGzh.node.active = !1,
                            this.btnFind.node.active = !0;
                            break;
                        default:
                            this.btnGzh.node.active = !1,
                            this.btnFind.node.active = !1
                        }
                    else
                        this.btnGzh.node.active = !1, this.btnFind.node.active = !1
                },
                e.prototype.initTip = function () {},
                e.prototype.onClickBg = function () {
                    this.state == i.Show && (this.state = i.FadeAction, this.mask.node.runAction(cc.fadeOut(.3)), this.animNode.runAction(cc.sequence(cc.moveTo(.3, this.infoNodeOut).easing(cc.easeIn(3)), cc.callFunc(this.hide, this))), l.default.sendMsg(a.MSG.UI_USER_INFO_SHOW, !1))
                },
                e.prototype.switchToShowState = function () {
                    this.state = i.Show
                },
                e.prototype.on_click_mask = function () {
                    this.onClickBg()
                },
                e.prototype.on_click_btnSwitch = function () {
                    this.state == i.Show ? this.onClickBg() : this.state == i.Hide && this.onMsgClickUserInfo()
                },
                e.prototype.on_click_btnSetting = function () {
                    this.onClickBg(),
                    s.default.openPanelWithFadeIn(c.default)
                },
                e.prototype.on_click_btnGzh = function () {
                    this.onClickBg(),
                    s.default.openPanelWithFadeIn(m.default)
                },
                e.prototype.on_click_btnSign = function () {
                    this.onClickBg(),
                    s.default.openPanelWithFadeIn(p.default)
                },
                e.prototype.on_click_btnQuest = function () {
                    this.onClickBg(),
                    s.default.openPanelWithFadeIn(h.default)
                },
                e.prototype.on_click_btnGift = function () {
                    this.onClickBg(),
                    s.default.openPanelWithFadeIn(_.default)
                },
                e.prototype.on_click_btnFind = function () {
                    this.onClickBg(),
                    s.default.openPanelWithFadeIn(d.default)
                },
                e
            }
            (r.default);
            n.default = g,
            cc._RF.pop()
        }, {
            "../common/Const": "Const",
            "../extensions/BaseConst": "BaseConst",
            "../extensions/_G": "_G",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/mgr/mgrSdk": "mgrSdk",
            "../extensions/ui/PanelBase": "PanelBase",
            "./PanelFindMe": "PanelFindMe",
            "./PanelGzg": "PanelGzg",
            "./PanelQuest": "PanelQuest",
            "./PanelSetting": "PanelSetting",
            "./PanelShare": "PanelShare",
            "./PanelSign": "PanelSign"
        }
    ],
    ModuleLocker: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "18e706RjCdGgKL7MExhJqSr", "ModuleLocker");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__decorate || function (t, e, n, o) {
                var i,
                r = arguments.length,
                a = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(t, e, n, o);
                else
                    for (var s = t.length - 1; s >= 0; s--)
                        (i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, n, a) : i(e, n)) || a);
                return r > 3 && a && Object.defineProperty(e, n, a),
                a
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r,
            a,
            s = t("../extensions/utils/UiHelper"),
            c = t("../manager/mgrGuide"),
            l = cc._decorator,
            u = l.ccclass,
            d = l.property;
            (function (t) {
                t[t.Hide = 0] = "Hide",
                t[t.Gray = 1] = "Gray"
            })(r || (r = {})),
            function (t) {
                t[t.None = 0] = "None",
                t[t.Boss = 1] = "Boss",
                t[t.Auto = 2] = "Auto",
                t[t.Shop = 3] = "Shop",
                t[t.Card = 4] = "Card",
                t[t.Prop = 5] = "Prop",
                t[t.Quest = 6] = "Quest",
                t[t.Rank = 7] = "Rank",
                t[t.Lottery = 8] = "Lottery",
                t[t.Buy = 9] = "Buy"
            }
            (a = n.ModuleName || (n.ModuleName = {}));
            var p = [],
            h = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.lockType = r.Hide,
                    e.moduleName = a.None,
                    e.sprite = null,
                    e
                }
                return o(e, t),
                e.open = function (t) {
                    for (var e = p.length - 1; e >= 0; e--)
                        p[e].moduleName == t && p[e].setVisible(!0)
                },
                e.unlockAll = function () {
                    for (var t = p.length - 1; t >= 0; t--)
                        p[t].setVisible(!0)
                },
                e.findUiSprite = function (t) {
                    for (var e = p.length - 1; e >= 0; e--)
                        if (p[e].moduleName == t)
                            return p[e].sprite;
                    return null
                },
                e.prototype.onLoad = function () {
                    p.push(this),
                    this.refreshState(),
                    this.sprite || (this.sprite = this.getComponent(cc.Sprite) || this.getComponentInChildren(cc.Sprite))
                },
                e.prototype.onDestroy = function () {
                    var t = p.indexOf(this);
                    t >= 0 && p.splice(t, 1)
                },
                e.prototype.refreshState = function () {
                    this.setVisible(c.default.isUnlock(this.moduleName))
                },
                e.prototype.setVisible = function (t) {
                    switch (this.lockType) {
                    case r.Hide:
                        this.node.active = t;
                        break;
                    case r.Gray:
                        t ? s.default.setButtonToNormal(this.node) : s.default.setButtonToGray(this.node)
                    }
                },
                i([d({
                            type: cc.Enum(r)
                        })], e.prototype, "lockType", void 0),
                i([d({
                            type: cc.Enum(a)
                        })], e.prototype, "moduleName", void 0),
                i([d({
                            type: cc.Sprite
                        })], e.prototype, "sprite", void 0),
                e = i([u], e)
            }
            (cc.Component);
            n.default = h,
            cc._RF.pop()
        }, {
            "../extensions/utils/UiHelper": "UiHelper",
            "../manager/mgrGuide": "mgrGuide"
        }
    ],
    MonsterPath: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "f8acdLHxy1AN4m7l24K2bkB", "MonsterPath");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i,
            r = t("./Monster"),
            a = t("./Unit"),
            s = t("../World"),
            c = t("../../manager/mgrGame"),
            l = t("../../extensions/utils/Mathf");
            (function (t) {
                t[t.Once = 0] = "Once",
                t[t.Loop = 1] = "Loop",
                t[t.PingPong = 2] = "PingPong"
            })(i || (i = {}));
            var u = cc.Vec2.ZERO,
            d = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.initState = function () {
                    t.prototype.initState.call(this)
                },
                e.prototype.initStaticAttr = function () {
                    t.prototype.initStaticAttr.call(this),
                    this.initPath(s.default.instance.map.path)
                },
                e.prototype.initDynamicAttr = function () {
                    t.prototype.initDynamicAttr.call(this)
                },
                e.prototype.reuse = function () {
                    t.prototype.reuse.call(this)
                },
                e.prototype.initPath = function (t, e) {
                    void 0 === e && (e = i.Once),
                    this._pathInfo = {
                        type: e,
                        path: t
                    }
                },
                e.prototype.resetPath = function () {
                    this.pathIndex = 1,
                    this._pathDir = 1,
                    this._curTime = 0,
                    this._totalTime = 0,
                    this.bMovable = !0,
                    this.simpleMove(0),
                    this.setNextState(a.UnitState.Move)
                },
                e.prototype.simpleMove = function (t) {
                    if (!this.bMovable)
                        return !1;
                    var e = this._pathInfo.path,
                    n = this.pathIndex,
                    o = this._curTime + t,
                    r = this._totalTime,
                    a = 0,
                    s = !1;
                    switch (r > 0 ? a = o / r : s = !0, this._pathInfo.type) {
                    case i.Once:
                        a > 1 && (++n >= e.length ? (a = 1, this.bMovable = !1) : s = !0);
                        break;
                    case i.Loop:
                        a > 1 && (++n >= e.length && (n = 1), s = !0);
                        break;
                    case i.PingPong:
                        a > 1 && ((n += this._pathDir) >= e.length ? (this._pathDir = -1, n = e.length - 2) : n < 0 && (this._pathDir = 1, n = 1), s = !0)
                    }
                    return s && (this._from = e[n - this._pathDir], this._to = e[n], o -= r, this.forceUpdateSpeed(!1), r = this._totalTime, this._totalTime = r, this.pathIndex = n, this._to.sub(this._from, u), this.setDir(u.x), a = o / r),
                    this._curTime = o,
                    this._from.lerp(this._to, a, u),
                    this.setPosition(u),
                    !0
                },
                e.prototype.forceUpdateSpeed = function (t) {
                    void 0 === t && (t = !0);
                    var e = this.speedRate - c.default.globalSpeedRate,
                    n = this._totalTime;
                    if (this._totalTime = e <= .01 ? 999999999999 : this._from.sub(this._to, u).mag() / (this.speed * e), t && n > 0) {
                        var o = l.default.Clamp01(this._curTime / n);
                        this._curTime = o * this._totalTime
                    }
                    var i = this.view;
                    i && i.setTimeScale(i.spineDb.timeScale * e)
                },
                e
            }
            (r.default);
            n.default = d,
            cc._RF.pop()
        }, {
            "../../extensions/utils/Mathf": "Mathf",
            "../../manager/mgrGame": "mgrGame",
            "../World": "World",
            "./Monster": "Monster",
            "./Unit": "Unit"
        }
    ],
    Monster: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "3a348ZyBHtOn4s4jqdAX0a3", "Monster");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("./Unit"),
            r = t("../../extensions/utils/Mathf"),
            a = t("../HpBar"),
            s = t("../../extensions/ui/Spine"),
            c = t("../state/SMonsterState"),
            l = t("../../common/DbExt"),
            u = t("./Role"),
            d = t("../../manager/mgrAlert"),
            p = t("../../extensions/module/BaseFacade"),
            h = t("../../common/Const"),
            f = t("../../manager/mgrGame"),
            _ = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.initState = function () {
                    this.registerState(i.UnitState.Move, new c.SMonsterMove),
                    this.registerState(i.UnitState.Dead, new c.SMonsterDead),
                    this.registerState(i.UnitState.PutBack, new c.SMonsterPutBack)
                },
                e.prototype.initStaticAttr = function () {
                    t.prototype.initStaticAttr.call(this),
                    this.speed = l.default.get_unit_speed(this.unitDb),
                    this.hpBar = new a.default,
                    this.hpBar.setParent(this.node),
                    this.hpBar.setPosition(0, 40),
                    this.faction = i.Faction.Red,
                    this.initSpineView(l.default.get_role_view(this.unitDb))
                },
                e.prototype.initDynamicAttr = function () {
                    t.prototype.initDynamicAttr.call(this),
                    this.hpBar.resetBar(),
                    this.view && (this.view.setBottom(), this.view instanceof s.default && this.view.play(u.RoleAnim.Move))
                },
                e.prototype.dispose = function () {
                    this.hpBar && this.hpBar.dispose(),
                    t.prototype.dispose.call(this)
                },
                e.prototype.unuse = function () {
                    this.stopSkill(0),
                    this.stopSkill(1),
                    t.prototype.unuse.call(this)
                },
                e.prototype.setDir = function (t) {
                    var e = this.viewNode,
                    n = Math.abs(e.scaleX),
                    o = e.scaleY;
                    t < 0 ? e.setScale(-n, o) : t > 0 ? e.setScale(n, o) : this.position.x < 256 ? e.setScale(n, o) : e.setScale(-n, o)
                },
                e.prototype.hitSkill = function (e) {
                    this.bDead || 2 == this.unitDb.gid && d.default.playCoinToCurrency(this.position, 2),
                    t.prototype.hitSkill.call(this, e),
                    this.bDead || this.bRepel && this.setNextState(i.UnitState.Repel, e)
                },
                e.prototype.hitDamage = function (e, n, o, i) {
                    if (void 0 === n && (n = !1), void 0 === o && (o = !1), void 0 === i && (i = 0), o ? (e = this.hpMax, d.default.playKillHit(this.position)) : n && (e *= 2), !this.bDead) {
                        var r = 1;
                        2 == this.unitDb.gid && (r += 1);
                        var a = (r += f.default.getCoinRate() + i) * e;
                        d.default.playHitCoin(this.position, a, n || o),
                        p.default.mItem.addItem(h.ITEM_ID.COIN, a, h.ITEM_CHANGE_REASON.LEVEL, "Monster")
                    }
                    t.prototype.hitDamage.call(this, e),
                    this.bDead || (this.bHitScale ? this.playHitScale() : this.bHitColor && this.playHitColor())
                },
                e.prototype.setHpMax = function (e) {
                    t.prototype.setHpMax.call(this, Math.ceil(e * r.default.Random(80, 150) * .01))
                },
                e.prototype.setHp = function (e) {
                    t.prototype.setHp.call(this, e),
                    this.hpBar && this.hpMax > 0 && this.hpBar.setCurValue(this.hp / this.hpMax)
                },
                e
            }
            (i.default);
            n.default = _,
            cc._RF.pop()
        }, {
            "../../common/Const": "Const",
            "../../common/DbExt": "DbExt",
            "../../extensions/module/BaseFacade": "BaseFacade",
            "../../extensions/ui/Spine": "Spine",
            "../../extensions/utils/Mathf": "Mathf",
            "../../manager/mgrAlert": "mgrAlert",
            "../../manager/mgrGame": "mgrGame",
            "../HpBar": "HpBar",
            "../state/SMonsterState": "SMonsterState",
            "./Role": "Role",
            "./Unit": "Unit"
        }
    ],
    MoreGameBanner: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "fa481eTguxPPaXrJ9YupjFH", "MoreGameBanner");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__awaiter || function (t, e, n, o) {
                return new(n || (n = Promise))(function (i, r) {
                    function a(t) {
                        try {
                            c(o.next(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function s(t) {
                        try {
                            c(o.throw(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function c(t) {
                        t.done ? i(t.value) : new n(function (e) {
                            e(t.value)
                        }).then(a, s)
                    }
                    c((o = o.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function (t, e) {
                var n,
                o,
                i,
                r,
                a = {
                    label: 0,
                    sent: function () {
                        if (1 & i[0])
                            throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw : s(1),
                    return : s(2)
                },
                "function" == typeof Symbol && (r[Symbol.iterator] = function () {
                    return this
                }),
                r;
                function s(t) {
                    return function (e) {
                        return c([t, e])
                    }
                }
                function c(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done)
                                return i;
                            switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                o = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1],
                                    i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2],
                                    a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            o = 0
                        }
                    finally {
                        n = i = 0
                    }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var a = t("../extensions/ui/ViewBase"),
            s = t("../extensions/widget/SSprite"),
            c = t("../extensions/mgr/mgrPanel"),
            l = t("../extensions/_G"),
            u = t("../extensions/utils/UiHelper"),
            d = t("../extensions/mgr/mgrSdk"),
            p = function (t) {
                function e() {
                    var e = t.call(this) || this;
                    return e.create(),
                    e
                }
                return o(e, t),
                e.setBannerVisible = function (t, e) {
                    void 0 === e && (e = 0),
                    t ? this.openBanner(e) : this.closeBanner()
                },
                e.openBanner = function (t) {
                    void 0 === t && (t = 0),
                    this.openCount++,
                    this._instance || d.default.COP.more_game_banner && (this._instance = new e),
                    this._instance && 1 == this.openCount && this._instance.show(t)
                },
                e.closeBanner = function () {
                    this.openCount--,
                    this._instance && 0 == this.openCount && this._instance.hide()
                },
                e.prototype.create = function () {
                    return i(this, void 0, void 0, function () {
                        var t,
                        e,
                        n,
                        o;
                        return r(this, function (i) {
                            return (t = new s.default("", "texture/banner_bg")).sprite.type = cc.Sprite.Type.SLICED,
                            t.setContentSize(480, 100),
                            (e = new cc.Node).setParent(t),
                            e.setContentSize(450, 100),
                            e.addComponent(cc.Mask),
                            (n = new cc.Node).setParent(e),
                            (o = n.addComponent(cc.Layout)).type = cc.Layout.Type.HORIZONTAL,
                            o.resizeMode = cc.Layout.ResizeMode.CONTAINER,
                            o.spacingX = 10,
                            this._layout = o,
                            this.createFromNode(t),
                            [2]
                        })
                    })
                },
                e.prototype.onCreateComplete = function () {
                    var t = c.default.getLayerNode(c.PANEL_LAYER.TIP);
                    this.setParent(t),
                    this.fillList()
                },
                e.prototype.show = function (e) {
                    void 0 === e && (e = 0),
                    t.prototype.show.call(this),
                    this.setPosition(0, .5 * -l.default.canvasFullHeight + 240 + e)
                },
                e.prototype.dispose = function () {
                    this.stopProcMsg(),
                    t.prototype.dispose.call(this)
                },
                e.prototype.fillList = function () {
                    for (var t = d.default.jumpInfo, e = function (e) {
                        var o = n.createItem();
                        o.getComponent(cc.Sprite).loadWebImage(t[e].url),
                        u.default.addClick(o, function () {
                            d.default.jumpOtherGame(t[e].index)
                        })
                    }, n = this, o = 0; o < t.length; o++)
                        e(o);
                    this._layout.updateLayout();
                    var i = this._layout.node.width - this._layout.node.parent.width;
                    i > 0 && this._layout.node.runAction(cc.sequence(cc.moveTo(4, -i, 0), cc.delayTime(.3), cc.moveTo(4, 0, 0), cc.delayTime(.3)).repeat(1e4))
                },
                e.prototype.createItem = function () {
                    var t = new s.default("");
                    return t.setContentSize(70, 80),
                    t.addComponent(cc.Button).transition = cc.Button.Transition.SCALE,
                    t.setParent(this._layout.node),
                    t
                },
                e.prototype.on_click_item = function () {},
                e.openCount = 0,
                e
            }
            (a.default);
            n.default = p,
            cc._RF.pop()
        }, {
            "../extensions/_G": "_G",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/mgr/mgrSdk": "mgrSdk",
            "../extensions/ui/ViewBase": "ViewBase",
            "../extensions/utils/UiHelper": "UiHelper",
            "../extensions/widget/SSprite": "SSprite"
        }
    ],
    MsgHandler: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "cd995GGHtVAgZWFH2w0/mZ4", "MsgHandler"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("./utils/Tools"),
            i = function () {
                function t(t) {
                    this._eventTarget = t || cc.game,
                    this._registeredListeners = Object.create(null),
                    this._startedListeners = Object.create(null),
                    this._bStarted = !1
                }
                return t.prototype.registerListeners = function (t) {
                    var e = function (e) {
                        null != n._registeredListeners[e] && cc.log("[Warning] MsgHandler.registerListeners msg re-register msgName=" + e);
                        var i = t[e];
                        n._registeredListeners[e] = function (t) {
                            try {
                                i(t)
                            } catch (t) {
                                var n = o.default.formatError(t);
                                cc.error("MsgHandler.listener [" + e + "] has error:", n)
                            }
                        }
                    },
                    n = this;
                    for (var i in t)
                        e(i);
                    this._bStarted && this.startProcMsg()
                },
                t.prototype.startProcMsg = function () {
                    for (var t in this._bStarted = !0, this._registeredListeners)
                        if (!this._startedListeners[t]) {
                            var e = this._registeredListeners[t];
                            this._eventTarget.on(t, e, this),
                            this._startedListeners[t] = e
                        }
                },
                t.prototype.stopProcMsg = function () {
                    for (var t in this._startedListeners) {
                        var e = this._startedListeners[t];
                        this._eventTarget.off(t, e, this)
                    }
                    this._bStarted = !1,
                    this._startedListeners = Object.create(null)
                },
                t.prototype.sendMsg = function (t, e) {
                    try {
                        this._eventTarget.emit(t, e)
                    } catch (t) {
                        cc.error("MsgHandler.sendMsg has exception", t)
                    }
                },
                t
            }
            ();
            n.default = i,
            cc._RF.pop()
        }, {
            "./utils/Tools": "Tools"
        }
    ],
    MultSoundPlayer: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "b1746c/OEVBmLhDU8Kc6PiA", "MultSoundPlayer"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("./mgr/mgrAudio"),
            i = t("./utils/Timer"),
            r = function () {
                function t(t, e, n) {
                    void 0 === n && (n = .1),
                    this._sound = t,
                    this._deltaTime = n,
                    this._nextTime = 0,
                    this._soundGroup = o.default.createAudioGroup(e)
                }
                return t.prototype.setSound = function (t) {
                    this._sound = t
                },
                t.prototype.play = function () {
                    this._nextTime > i.default.time || (this._nextTime = i.default.time + this._deltaTime, o.default.playSoundGroup(this._soundGroup, this._sound, !1))
                },
                t
            }
            ();
            n.default = r,
            cc._RF.pop()
        }, {
            "./mgr/mgrAudio": "mgrAudio",
            "./utils/Timer": "Timer"
        }
    ],
    NumberEffect: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "58282h4ANRJc7muBc7jX+8P", "NumberEffect");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/ui/ViewBase"),
            r = t("../extensions/utils/UiHelper"),
            a = t("../extensions/_G"),
            s = t("../extensions/mgr/mgrPanel"),
            c = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.resourceName = "prefab/game/EffectNumber",
                    e.label = null,
                    e.action = null,
                    e
                }
                return o(e, t),
                e.prototype.onCreateComplete = function () {
                    this.label = this.getChildComponent("View", cc.Label),
                    this.action = cc.sequence(cc.spawn(cc.moveBy(2, 0, 88).easing(cc.easeOut(1.5)), cc.fadeTo(.2, 255)), cc.delayTime(.2), cc.fadeTo(.2, 0), cc.callFunc(this.onActionFinish, this)),
                    this.setParent(s.default.getLayerNode(s.PANEL_LAYER.TIP))
                },
                e.prototype.onActionFinish = function () {
                    a.default.poolManager.put(this)
                },
                e.prototype.play = function (t, e) {
                    this.setPosition(e),
                    this.label.string = "+" + t,
                    this.resNode.runAction(this.action)
                },
                e.prototype.reuse = function () {},
                e.prototype.unuse = function () {
                    r.default.finishAction(this.action),
                    this.clearDelayCalls()
                },
                e
            }
            (i.default);
            n.default = c,
            cc._RF.pop()
        }, {
            "../extensions/_G": "_G",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/ui/ViewBase": "ViewBase",
            "../extensions/utils/UiHelper": "UiHelper"
        }
    ],
    PanelAdvLoading: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "6f613R/E/FPHbnb2ESiTns1", "PanelAdvLoading");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/ui/PanelBase"),
            r = t("../extensions/mgr/mgrPanel"),
            a = t("../common/Const"),
            s = t("../extensions/utils/UiHelper"),
            c = t("../manager/mgrAlert"),
            l = t("../extensions/mgr/mgrAdv"),
            u = t("../extensions/_G"),
            d = t("../extensions/BaseConst"),
            p = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.panelLayer = r.PANEL_LAYER.TIP,
                    e.resourceName = "prefab/ui/PanelAdvLoading",
                    e.mask = null,
                    e.bg = null,
                    e.time = null,
                    e._exportNodeInfo = {
                        cc_mask: "cc.Sprite",
                        cc_bg: "cc.Node",
                        cc_time: "cc.Label"
                    },
                    e.leftTime = 4,
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    var t;
                    s.default.playDialogOpenAnim(this.mask.node, this.bg),
                    this.advName = this.context.advName,
                    this.params = this.context.params,
                    this.registerMsg(((t = {})[d.BASE_MSG.ADV_SHOW_SUC] = this.onMsgAdvShowSuc.bind(this), t[d.BASE_MSG.ADV_SHOW_FAIL] = this.onMsgAdvShowFail.bind(this), t)),
                    this.startProcMsg()
                },
                e.prototype.dispose = function () {
                    this.stopProcMsg(),
                    t.prototype.dispose.call(this),
                    u.default.sendMsg(a.MSG.UI_CLOSE_DIALOG)
                },
                e.prototype.update = function (t) {
                    this.leftTime > 0 && (this.leftTime -= t, this.time.string = Math.floor(this.leftTime).toString(), this.leftTime <= 0 && this.alertFail())
                },
                e.prototype.onMsgAdvShowSuc = function () {
                    this.close()
                },
                e.prototype.onMsgAdvShowFail = function () {
                    this.leftTime > 0 && (this.leftTime = 0, this.alertFail())
                },
                e.prototype.alertFail = function () {
                    var t = this;
                    c.default.alertDialog("failed to request, retry?", "Hint", function () {
                        t.close()
                    }, function () {
                        t.close(),
                        l.default.dispatchAdv(t.advName, t.params, !0, !0)
                    }, "Cancel", "Retry", a.MSG.UI_CLOSE_DIALOG)
                },
                e
            }
            (i.default);
            n.default = p,
            cc._RF.pop()
        }, {
            "../common/Const": "Const",
            "../extensions/BaseConst": "BaseConst",
            "../extensions/_G": "_G",
            "../extensions/mgr/mgrAdv": "mgrAdv",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/utils/UiHelper": "UiHelper",
            "../manager/mgrAlert": "mgrAlert"
        }
    ],
    PanelAuto: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "9d8f19qjc5K4IzJ94raIgtf", "PanelAuto");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/ui/PanelBase"),
            r = t("../manager/mgrGame"),
            a = t("../extensions/utils/UiHelper"),
            s = t("../common/Const"),
            c = t("../extensions/module/BaseFacade"),
            l = t("../extensions/utils/Tools"),
            u = t("../extensions/utils/Mathf"),
            d = t("../extensions/mgr/mgrAdv"),
            p = t("../GameConfig"),
            h = t("../manager/mgrAlert"),
            f = t("../extensions/BaseConst"),
            _ = t("../extensions/mgr/mgrPanel"),
            m = t("../manager/mgrGuide"),
            g = t("../utils/AdvInstOrBanner"),
            y = t("../utils/MoreGameBanner"),
            v = t("../game/World"),
            b = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.panelLayer = _.PANEL_LAYER.DIALOG,
                    e.resourceName = "prefab/ui/PanelAuto",
                    e.mask = null,
                    e.bg = null,
                    e.title = null,
                    e.btnClose = null,
                    e.btnAdv = null,
                    e.advIcon = null,
                    e.timeBar = null,
                    e.timeLabel = null,
                    e.bottom = null,
                    e.gousNode = null,
                    e.bottomLabel = null,
                    e.btnGet = null,
                    e._exportNodeInfo = {
                        cc_mask: "cc.Sprite",
                        cc_bg: "cc.Sprite",
                        cc_title: "cc.Label",
                        cc_btnClose: "UIButton",
                        cc_btnAdv: "UIButton",
                        cc_advIcon: "cc.Sprite",
                        cc_timeBar: "cc.Sprite",
                        cc_timeLabel: "cc.Label",
                        cc_bottom: "cc.Sprite",
                        cc_gousNode: "cc.Node",
                        cc_bottomLabel: "cc.Label",
                        cc_btnGet: "UIButton"
                    },
                    e._instOrBanner = new g.default("enter_auto", "banner_auto"),
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    var t;
                    r.default.updateAutoMergeTime(),
                    s.GuideInfo.bGuideMode && (this.advIcon.node.active = !1, this.bottom.node.active = !1),
                    this.refreshTime(),
                    this.refreshBottom(),
                    this.registerMsg(((t = {})[f.BASE_MSG.ADV_SHOW_SUC] = this.onMsgShowSuc.bind(this), t[f.BASE_MSG.SDK_COP_CHANGED] = this.onMsgCopChange.bind(this), t)),
                    this.startProcMsg(),
                    this.scheduleOnce(function () {
                        m.default.sendMsgKey(s.GUIDE_MSG.ENTER_AUTO)
                    }),
                    v.default.instance.pause()
                },
                e.prototype.dispose = function () {
                    v.default.instance.resume(),
                    this.stopProcMsg(),
                    this._instOrBanner.dispose(),
                    t.prototype.dispose.call(this)
                },
                e.prototype.onFocus = function (e) {
                    t.prototype.onFocus.call(this, e),
                    this._instOrBanner.onFocus(e),
                    y.default.setBannerVisible(e)
                },
                e.prototype.update = function (t) {
                    var e = r.default.leftAutoMergeTime;
                    this.timeLabel.string = e >= 0 ? l.default.formatTime(e) : "00:00",
                    this.refreshTime()
                },
                e.prototype.onMsgShowSuc = function (t) {
                    "auto_merge" == t.advName && this.addAutoSuc()
                },
                e.prototype.onMsgCopChange = function () {
                    d.default.checkActive("auto_merge") || (this.btnAdv.node.active = !1)
                },
                e.prototype.refreshTime = function () {
                    var t = c.default.mItem.getItemCount(s.ITEM_ID.AUTO_MERGE),
                    e = c.default.mAutoIncreaseItem.getMaxCount(s.ITEM_ID.AUTO_MERGE);
                    this.btnAdv.node.active && t <= 0 && (this.btnAdv.node.active = !1),
                    this.timeBar.fillRange = u.default.Clamp01((e - t) / e)
                },
                e.prototype.refreshBottom = function () {
                    var t = r.default.autoMergeCount,
                    e = 6 == t;
                    if (t > 6)
                        this.btnGet.node.active = !1, this.gousNode.active = !1, this.bottomLabel.enabled = !0, this.bottomLabel.string = "Please come back tomorrow";
                    else if (e)
                        this.gousNode.active = !1, this.bottomLabel.enabled = !1, this.btnGet.node.active = !0;
                    else {
                        for (var n = this.gousNode.children, o = 0; o < t; o++)
                            n[o].children[0].active = !0;
                        this.gousNode.active = !0,
                        this.btnGet.node.active = !1
                    }
                },
                e.prototype.addAutoSuc = function () {
                    c.default.mItem.subItem(s.ITEM_ID.AUTO_MERGE, 1, null, null),
                    r.default.autoMergeCount < 6 ? (r.default.addMergeCount(), this.refreshBottom()) : r.default.updateAutoMergeTime(),
                    h.default.playEffect("2d/anim_node/72_zidonghecheng/72_zidonghecheng", this.timeBar.node.convertToWorldSpaceOut(cc.Vec2.ZERO), 1, .5)
                },
                e.prototype.on_click_btnClose = function () {
                    a.default.playDialogCloseAnim(this.mask.node, this.bg.node, this.close.bind(this))
                },
                e.prototype.on_click_btnAdv = function () {
                    // console.log("ghb: on_click_btnAdv");
                    s.GuideInfo.bGuideMode ? this.advIcon.node.active ? d.default.dispatchAdv("auto_merge", null, !0) : (this.advIcon.node.active = !0, this.addAutoSuc()) : d.default.dispatchAdv("auto_merge", null, !0)
                },
                e.prototype.on_click_btnGet = function () {
                    r.default.addMergeCount(),
                    c.default.mItem.addItem(s.ITEM_ID.DIAMOND, p.default.auto_merge_time_award, s.ITEM_CHANGE_REASON.AUTO_MERGE, ""),
                    h.default.alertItems({
                        itemId: s.ITEM_ID.DIAMOND,
                        count: p.default.auto_merge_time_award
                    }),
                    this.refreshBottom()
                },
                e
            }
            (i.default);
            n.default = b,
            cc._RF.pop()
        }, {
            "../GameConfig": "GameConfig",
            "../common/Const": "Const",
            "../extensions/BaseConst": "BaseConst",
            "../extensions/mgr/mgrAdv": "mgrAdv",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/module/BaseFacade": "BaseFacade",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/utils/Mathf": "Mathf",
            "../extensions/utils/Tools": "Tools",
            "../extensions/utils/UiHelper": "UiHelper",
            "../game/World": "World",
            "../manager/mgrAlert": "mgrAlert",
            "../manager/mgrGame": "mgrGame",
            "../manager/mgrGuide": "mgrGuide",
            "../utils/AdvInstOrBanner": "AdvInstOrBanner",
            "../utils/MoreGameBanner": "MoreGameBanner"
        }
    ],
    PanelBase: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "00d0cgAAMFLcLNcs045aOdN", "PanelBase");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("./ViewBase"),
            r = t("../mgr/mgrPanel"),
            a = t("../_G"),
            s = t("../BaseConst"),
            c = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.panelLayer = r.PANEL_LAYER.DIALOG,
                    e.panelStyle = r.PANEL_STYLE.DIALOG,
                    e.openAndCloseAnimEnabled = !1,
                    e.isFocus = !1,
                    e.bCloseMsg = !1,
                    e
                }
                return o(e, t),
                e.prototype.onCreateComplete = function () {
                    if (r.default.addPanel(this), this.openAndCloseAnimEnabled)
                        this.resNode.children;
                    this.buildUi()
                },
                e.prototype.onFocus = function (t) {
                    this.isFocus = t
                },
                e.prototype.close = function () {
                    this.isLoaded ? r.default.closePanel(this) : this.dispose(),
                    this.bCloseMsg && a.default.sendMsg(s.BASE_MSG.UI_PANEL_CLOSED, this)
                },
                e
            }
            (i.default);
            n.default = c,
            cc._RF.pop()
        }, {
            "../BaseConst": "BaseConst",
            "../_G": "_G",
            "../mgr/mgrPanel": "mgrPanel",
            "./ViewBase": "ViewBase"
        }
    ],
    PanelBossUp: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "d3182cPPcBHxI0JgnnhzV/i", "PanelBossUp");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/ui/PanelBase"),
            r = t("../extensions/utils/UiHelper"),
            a = t("../extensions/module/BaseFacade"),
            s = t("../common/Const"),
            c = t("../extensions/BaseConst"),
            l = t("../extensions/utils/Mathf"),
            u = t("../extensions/ActionExt"),
            d = t("../manager/mgrAlert"),
            p = t("../extensions/mgr/mgrPanel"),
            h = t("./PanelLevel"),
            f = t("../manager/mgrGame"),
            _ = t("../manager/mgrGuide"),
            m = t("../extensions/utils/Timer"),
            g = t("../utils/AdvInstOrBanner"),
            y = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.panelLayer = p.PANEL_LAYER.UI,
                    e.resourceName = "prefab/ui/PanelBossUp",
                    e.mask = null,
                    e.bg = null,
                    e.levelBar = null,
                    e.btnClose = null,
                    e.atkLabel = null,
                    e.levelLabel = null,
                    e.tipLabel = null,
                    e.btnLvup = null,
                    e.btnPlay = null,
                    e.starCount = null,
                    e._exportNodeInfo = {
                        cc_mask: "cc.Sprite",
                        cc_bg: "cc.Sprite",
                        cc_levelBar: "cc.Sprite",
                        cc_btnClose: "UIButton",
                        cc_atkLabel: "cc.Label",
                        cc_levelLabel: "cc.Label",
                        cc_tipLabel: "cc.Label",
                        cc_btnLvup: "UIButton",
                        cc_btnPlay: "UIButton",
                        cc_starCount: "cc.Label"
                    },
                    e._instOrBanner = new g.default("enter_boss_up", "banner_boss_up"),
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    var t;
                    this.mask.node.opacity = 0,
                    this.mask.node.runAction(cc.fadeIn(.3)),
                    this.starCount.string = a.default.mItem.getItemCount(s.ITEM_ID.STAR).toString(),
                    a.default.mUp.isMax(s.ITEM_ID.SLIDE_ATK, c.UpAttrName.Base) && (this.btnLvup.node.active = !1),
                    this.refresh(),
                    m.default.callLater(.1, function () {
                        _.default.sendMsgKey(s.GUIDE_MSG.ENTER_BOSS_UP)
                    }),
                    this.registerMsg(((t = {})[c.BASE_MSG.ITEM_CHANGE] = this.onMsgItemChange.bind(this), t)),
                    this.startProcMsg()
                },
                e.prototype.dispose = function () {
                    this.stopProcMsg(),
                    this._instOrBanner.dispose(),
                    t.prototype.dispose.call(this)
                },
                e.prototype.onFocus = function (e) {
                    t.prototype.onFocus.call(this, e),
                    this._instOrBanner.onFocus(e)
                },
                e.prototype.onMsgItemChange = function (t) {
                    t.itemId == s.ITEM_ID.STAR && (this.starCount.string = t.count.toString(), this.checkBtnState())
                },
                e.prototype.refresh = function (t) {
                    void 0 === t && (t = !1);
                    var e = a.default.mUp.getMaxLevel(s.ITEM_ID.SLIDE_ATK, c.UpAttrName.Base),
                    n = a.default.mUp.getLevel(s.ITEM_ID.SLIDE_ATK, c.UpAttrName.Base),
                    o = a.default.mUp.getUpDb(s.ITEM_ID.SLIDE_ATK, c.UpAttrName.Base, n);
                    if (this.atkLabel.string = "Damage: " + o.value, n >= e)
                        this.levelLabel.string = "Max Level", this.levelBar.fillRange = 1, this.tipLabel.string = "";
                    else {
                        this.levelLabel.string = (n + 1).toString();
                        var i = a.default.mUp.getExp(s.ITEM_ID.SLIDE_ATK, c.UpAttrName.Base),
                        r = -l.default.Clamp01(i / o.reqCnt1);
                        if (t) {
                            var p = this.levelBar.fillRange;
                            this.levelBar.node.stopAllActions(),
                            0 == r ? (d.default.playEffect("2d/anim_node/72_zidonghecheng/72_zidonghecheng", this.levelBar.node.convertToWorldSpaceOut(cc.Vec2.ZERO), 1, .5), this.levelBar.node.runAction(cc.sequence(new u.FillRangeTo(.1, p, -1), cc.delayTime(.1), new u.FillRangeTo(0, 0, 0)))) : this.levelBar.node.runAction(new u.FillRangeTo(.1, p, r))
                        } else
                            this.levelBar.fillRange = r;
                        var h = a.default.mUp.getUpDb(s.ITEM_ID.SLIDE_ATK, c.UpAttrName.Base, n + 1);
                        this.tipLabel.string = "LV to: " + (n + 2) + "  Damage: " + h.value
                    }
                    this.checkBtnState()
                },
                e.prototype.checkBtnState = function () {
                    var t = a.default.mUp.getMaxLevel(s.ITEM_ID.SLIDE_ATK, c.UpAttrName.Base),
                    e = a.default.mUp.getLevel(s.ITEM_ID.SLIDE_ATK, c.UpAttrName.Base),
                    n = a.default.mUp.getUpDb(s.ITEM_ID.SLIDE_ATK, c.UpAttrName.Base);
                    e >= t ? this.btnLvup.node.active = !1 : this.btnLvup.interactable = a.default.mItem.enoughItem(n.reqId1, 1)
                },
                e.prototype.on_click_btnClose = function () {
                    r.default.playDialogCloseAnim(this.mask.node, this.bg.node, this.close.bind(this))
                },
                e.prototype.on_click_btnLvup = function () {
                    var t = a.default.mUp.getUpDb(s.ITEM_ID.SLIDE_ATK, c.UpAttrName.Base);
                    a.default.mItem.subItem(t.reqId1, 1, s.ITEM_CHANGE_REASON.LEVEL_UP, "") ? (a.default.mUp.addExp(s.ITEM_ID.SLIDE_ATK, c.UpAttrName.Base, 1), a.default.mUp.isUpable(s.ITEM_ID.SLIDE_ATK, c.UpAttrName.Base) && (a.default.mUp.lvupAttr(s.ITEM_ID.SLIDE_ATK, c.UpAttrName.Base), a.default.mUp.isMax(s.ITEM_ID.SLIDE_ATK, c.UpAttrName.Base) && (this.btnLvup.node.active = !1), f.default.updateSlideAtk()), this.refresh(!0)) : d.default.alertNotEnough(s.ITEM_ID.SLIDE_ATK)
                },
                e.prototype.on_click_btnPlay = function () {
                    this.close(),
                    p.default.findPanel(h.default) || p.default.openPanelWithFadeIn(h.default)
                },
                e
            }
            (i.default);
            n.default = y,
            cc._RF.pop()
        }, {
            "../common/Const": "Const",
            "../extensions/ActionExt": "ActionExt",
            "../extensions/BaseConst": "BaseConst",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/module/BaseFacade": "BaseFacade",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/utils/Mathf": "Mathf",
            "../extensions/utils/Timer": "Timer",
            "../extensions/utils/UiHelper": "UiHelper",
            "../manager/mgrAlert": "mgrAlert",
            "../manager/mgrGame": "mgrGame",
            "../manager/mgrGuide": "mgrGuide",
            "../utils/AdvInstOrBanner": "AdvInstOrBanner",
            "./PanelLevel": "PanelLevel"
        }
    ],
    PanelBox: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "13865jwDfxIcIwwoRRxo6b2", "PanelBox");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/ui/PanelBase"),
            r = t("../utils/AdvInstOrBanner"),
            a = t("../extensions/ui/Spine"),
            s = t("../extensions/_G"),
            c = t("../manager/mgrGame"),
            l = t("../common/DbExt"),
            u = t("../extensions/utils/UiHelper"),
            d = t("../game/World"),
            p = t("../common/Const"),
            h = t("../extensions/module/BaseFacade"),
            f = t("../extensions/mgr/mgrAdv"),
            _ = t("../extensions/BaseConst"),
            m = t("../extensions/mgr/mgrPanel"),
            g = t("../game/unit/Role"),
            y = t("./WidgetNativeAdv"),
            v = t("../GameConfig"),
            b = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.panelLayer = m.PANEL_LAYER.UI,
                    e.resourceName = "prefab/ui/PanelBox",
                    e.mask = null,
                    e.bg = null,
                    e.btnClose = null,
                    e.descLabel = null,
                    e.roleNode = null,
                    e.levelLabel = null,
                    e.btnGet = null,
                    e.btnAdv = null,
                    e.btnAdvName = null,
                    e.advNode = null,
                    e._exportNodeInfo = {
                        cc_mask: "cc.Sprite",
                        cc_bg: "cc.Sprite",
                        cc_btnClose: "UIButton",
                        cc_descLabel: "cc.Label",
                        cc_roleNode: "cc.Node",
                        cc_levelLabel: "cc.Label",
                        cc_btnGet: "UIButton",
                        cc_btnAdv: "UIButton",
                        cc_btnAdvName: "cc.Label",
                        cc_advNode: "UIButton"
                    },
                    e._instOrBanner = new r.default("enter_box", "banner_box"),
                    e._giveRoleWhenClose = !0,
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    var t;
                    this.fillRole(),
                    h.default.mGoal.commit(p.ACTION_ID.OPEN_GIFT, 1),
                    this.registerMsg(((t = {})[_.BASE_MSG.ADV_SHOW_SUC] = this.onMsgShowSuc.bind(this), t)),
                    this.startProcMsg(),
                    d.default.instance.pause(),
                    this._nativeAd = new y.default("emb_box", this.advNode.node)
                },
                e.prototype.dispose = function () {
                    this.stopProcMsg(),
                    this._roleAnim && s.default.poolManager.put(this._roleAnim),
                    this._instOrBanner.dispose(),
                    this._nativeAd && this._nativeAd.dispose(),
                    this._giveRoleWhenClose && c.default.pushToQueue(c.default.cardHighQuality),
                    t.prototype.dispose.call(this),
                    d.default.instance.resume()
                },
                e.prototype.onFocus = function (e) {
                    t.prototype.onFocus.call(this, e),
                    this._instOrBanner.onFocus(e)
                },
                e.prototype.onMsgShowSuc = function (t) {
                    if ("rolex4" == t.advName) {
                        for (var e = 0; e < 4; e++)
                            c.default.pushToQueue(c.default.cardHighQuality);
                        this._giveRoleWhenClose = !1,
                        this.on_click_btnClose()
                    }
                },
                e.prototype.fillRole = function () {
                    f.default.checkActive("rolex4") ? (this.btnAdvName.string = " x4 ", this.btnGet.node.active = v.default.show_btn_box) : this.btnAdv.node.active = !1;
                    var t = c.default.cardHighQuality,
                    e = c.default.cardDbs[t];
                    this._roleAnim = s.default.poolManager.get(a.default, l.default.get_role_view(e)),
                    this._roleAnim.setScale(1),
                    this._roleAnim.setParent(this.roleNode),
                    this._roleAnim.setPosition(0, 0),
                    this._roleAnim.play(g.RoleAnim.Idle),
                    this.descLabel.string = e.name,
                    this.levelLabel.string = (t + 1).toString()
                },
                e.prototype.on_click_btnClose = function () {
                    u.default.playDialogCloseAnim(this.mask.node, this.bg.node, this.close.bind(this))
                },
                e.prototype.on_click_btnGet = function () {
                    this.on_click_btnClose(),
                    this._giveRoleWhenClose = !1,
                    c.default.pushToQueue(c.default.cardHighQuality)
                },
                e.prototype.on_click_btnAdv = function () {
                    window.tsLog("rolex4点击，已添加广告")
                    window.h5api.playAd("rolex4", {
                        callback: function() {
                            f.default.dispatchAdv("rolex4", null, !0)
                        }
                    });

                },
                e.prototype.on_click_advNode = function () {},
                e
            }
            (i.default);
            n.default = b,
            cc._RF.pop()
        }, {
            "../GameConfig": "GameConfig",
            "../common/Const": "Const",
            "../common/DbExt": "DbExt",
            "../extensions/BaseConst": "BaseConst",
            "../extensions/_G": "_G",
            "../extensions/mgr/mgrAdv": "mgrAdv",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/module/BaseFacade": "BaseFacade",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/ui/Spine": "Spine",
            "../extensions/utils/UiHelper": "UiHelper",
            "../game/World": "World",
            "../game/unit/Role": "Role",
            "../manager/mgrGame": "mgrGame",
            "../utils/AdvInstOrBanner": "AdvInstOrBanner",
            "./WidgetNativeAdv": "WidgetNativeAdv"
        }
    ],
    PanelCallback: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "31791RQnJRAibxwq1RfDD8e", "PanelCallback");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/ui/PanelBase"),
            r = t("../extensions/mgr/mgrPanel"),
            a = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.panelLayer = r.PANEL_LAYER.UI,
                    e.panelStyle = r.PANEL_STYLE.COMMON,
                    e.resourceName = "prefab/ui/PanelCallback",
                    e._exportNodeInfo = [],
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    this.scheduleOnce(this.close.bind(this), .016)
                },
                e.prototype.close = function () {
                    t.prototype.close.call(this),
                    this.context && this.context()
                },
                e
            }
            (i.default);
            n.default = a,
            cc._RF.pop()
        }, {
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/ui/PanelBase": "PanelBase"
        }
    ],
    PanelCardHelp: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "d9452jWWplMtZU3UAgG4GKt", "PanelCardHelp");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/ui/PanelBase"),
            r = t("../extensions/utils/UiHelper"),
            a = t("../manager/mgrGuide"),
            s = t("../common/Const"),
            c = t("../manager/mgrAlert"),
            l = t("../extensions/utils/Timer"),
            u = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.resourceName = "prefab/ui/PanelCardHelp",
                    e.mask = null,
                    e.bg = null,
                    e.role2 = null,
                    e.role1 = null,
                    e.hpLabel = null,
                    e.btnClose = null,
                    e._exportNodeInfo = {
                        cc_mask: "cc.Sprite",
                        cc_bg: "cc.Node",
                        cc_role2: "cc.Sprite",
                        cc_role1: "cc.Sprite",
                        cc_hpLabel: "cc.Label",
                        cc_btnClose: "cc.Button"
                    },
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    var t = this;
                    l.default.callLater(.6, function () {
                        t.fight(t.role1.node.position, t.role2.node.position)
                    })
                },
                e.prototype.dispose = function () {
                    t.prototype.dispose.call(this),
                    a.default.sendMsgKey(s.GUIDE_MSG.CLOSE_HELP)
                },
                e.prototype.fight = function (t, e) {
                    var n = this,
                    o = t.clone(),
                    i = e.clone(),
                    r = i.x > o.x ? -80 : 80;
                    o.x += r,
                    o.y += 68,
                    this.role1.node.stopAllActions(),
                    this.role1.node.setPosition(t),
                    this.role2.node.opacity = 255,
                    this.role1.node.runAction(cc.sequence(cc.spawn(cc.moveBy(.3, r, 68).easing(cc.easeInOut(2)), cc.scaleTo(.25, .6)), cc.spawn(cc.moveTo(.2, i.x, i.y).easing(cc.easeIn(2)), cc.scaleTo(.2, 1).easing(cc.easeBackOut()), cc.sequence(cc.delayTime(.15), cc.callFunc(function () {
                                        c.default.playHitNumber(n.role1.node.convertToWorldSpaceOut(cc.Vec2.ZERO), 1),
                                        n.role2.node.stopAllActions(),
                                        n.role2.node.runAction(cc.sequence(cc.rotateTo(.03, 10), cc.sequence(cc.rotateTo(.06, -10), cc.rotateTo(.06, 10)).repeat(3), cc.callFunc(function () {
                                                    n.role2.node.setRotation(0),
                                                    n.role2.node.runAction(cc.fadeOut(.3))
                                                })))
                                    }))), cc.moveTo(.2, o.x, o.y).easing(cc.easeOut(2)), cc.delayTime(.4), cc.moveTo(.2, i.x, i.y).easing(cc.easeOut(2)), cc.delayTime(.4), cc.callFunc(function () {
                                n.fight(t, e)
                            })))
                },
                e.prototype.on_click_btnClose = function () {
                    r.default.playDialogCloseAnim(this.mask.node, this.bg, this.close.bind(this))
                },
                e
            }
            (i.default);
            n.default = u,
            cc._RF.pop()
        }, {
            "../common/Const": "Const",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/utils/Timer": "Timer",
            "../extensions/utils/UiHelper": "UiHelper",
            "../manager/mgrAlert": "mgrAlert",
            "../manager/mgrGuide": "mgrGuide"
        }
    ],
    PanelCardOver: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "78d7c0QHBVO3Yb8n2XgQoYU", "PanelCardOver");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/component/SpriteSwitcher"),
            r = t("../extensions/ui/PanelBase"),
            a = t("../generate/db"),
            s = t("../game/GameUtility"),
            c = t("../extensions/BaseConst"),
            l = t("../extensions/ui/Spine"),
            u = t("../extensions/_G"),
            d = t("../common/DbExt"),
            p = t("../common/Const"),
            h = t("../extensions/mgr/mgrPanel"),
            f = t("./PanelCard"),
            _ = t("../extensions/module/BaseFacade"),
            m = t("../extensions/utils/UiHelper"),
            g = t("../utils/AdvInstOrBanner"),
            y = t("../extensions/mgr/mgrAdv"),
            v = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.panelLayer = h.PANEL_LAYER.DIALOG,
                    e.resourceName = "prefab/ui/PanelCardOver",
                    e.mask = null,
                    e.topLight = null,
                    e.titleSwitcher = null,
                    e.winNode = null,
                    e.btnBox = null,
                    e.boxLight = null,
                    e.boxSwitcher = null,
                    e.itemNode = null,
                    e.itemIcon = null,
                    e.itemView = null,
                    e.itemCount = null,
                    e.loseNode = null,
                    e.btnRetry = null,
                    e.btnRevive = null,
                    e.btnIcon = null,
                    e.btnName = null,
                    e.btnClose = null,
                    e._exportNodeInfo = [{
                            fieldName: "mask",
                            filedType: "cc.Sprite",
                            fieldPath: [0]
                        }, {
                            fieldName: "topLight",
                            filedType: "cc.Sprite",
                            fieldPath: [1, 0]
                        }, {
                            fieldName: "titleSwitcher",
                            filedType: "SpriteSwitcher",
                            fieldPath: [1, 1]
                        }, {
                            fieldName: "winNode",
                            filedType: "cc.Node",
                            fieldPath: [1, 2]
                        }, {
                            fieldName: "btnBox",
                            filedType: "UIButton",
                            fieldPath: [1, 2, 0]
                        }, {
                            fieldName: "boxLight",
                            filedType: "TweenRotation",
                            fieldPath: [1, 2, 1]
                        }, {
                            fieldName: "boxSwitcher",
                            filedType: "SpriteSwitcher",
                            fieldPath: [1, 2, 2]
                        }, {
                            fieldName: "itemNode",
                            filedType: "cc.Node",
                            fieldPath: [1, 2, 3]
                        }, {
                            fieldName: "itemIcon",
                            filedType: "cc.Sprite",
                            fieldPath: [1, 2, 3, 0]
                        }, {
                            fieldName: "itemView",
                            filedType: "cc.Node",
                            fieldPath: [1, 2, 3, 1]
                        }, {
                            fieldName: "itemCount",
                            filedType: "cc.Label",
                            fieldPath: [1, 2, 3, 2]
                        }, {
                            fieldName: "loseNode",
                            filedType: "cc.Node",
                            fieldPath: [1, 3]
                        }, {
                            fieldName: "btnRetry",
                            filedType: "UIButton",
                            fieldPath: [1, 3, 0, 0]
                        }, {
                            fieldName: "btnRevive",
                            filedType: "UIButton",
                            fieldPath: [1, 3, 0, 1]
                        }, {
                            fieldName: "btnIcon",
                            filedType: "SpriteSwitcher",
                            fieldPath: [1, 3, 0, 1, 0]
                        }, {
                            fieldName: "btnName",
                            filedType: "cc.Label",
                            fieldPath: [1, 3, 0, 1, 1]
                        }, {
                            fieldName: "btnClose",
                            filedType: "cc.Button",
                            fieldPath: [1, 3, 1]
                        }
                    ],
                    e.btnsClickSound = {
                        btnBox: "box"
                    },
                    e._instOrBanner = new g.default("enter_card_over", "banner_card_over"),
                    e.curIndex = 0,
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    var t,
                    e = !!this.context;
                    if (this.titleSwitcher.switchSprite(e ? 0 : 1), this.winNode.active = e, this.loseNode.active = !this.winNode.active, this.mask.node.opacity = 0, this.topLight.node.opacity = 0, this.titleSwitcher.node.scale = 0, this.mask.node.runAction(cc.fadeIn(.3)), this.topLight.node.runAction(cc.fadeIn(.3)), this.titleSwitcher.node.runAction(cc.scaleTo(.3, 1)), e) {
                        var n = a.default.get_card_level_db(this.context.level);
                        this.items = _.default.mDrop.makeDrop(n.dropId);
                        for (var o = 0; o < this.items.length; o++)
                            _.default.mItem.addItem(this.items[o].itemId, this.items[o].count, p.ITEM_CHANGE_REASON.CARD, "");
                        this.scheduleOnce(this.startAnim.bind(this))
                    } else
                        this.loseNode.opacity = 0, this.loseNode.runAction(cc.sequence(cc.delayTime(.3), cc.fadeIn(.3))), this.btnRevive.node.active = y.default.getActive("revive"), this.registerMsg(((t = {})[c.BASE_MSG.ADV_SHOW_SUC] = this.onMsgAdvShowSuc.bind(this), t)), this.startProcMsg()
                },
                e.prototype.dispose = function () {
                    this.stopProcMsg(),
                    this.clearView(),
                    this._instOrBanner.dispose(),
                    t.prototype.dispose.call(this),
                    _.default.mGoal.commit(p.ACTION_ID.PLAY_CARD_GAME, 1)
                },
                e.prototype.onFocus = function (e) {
                    t.prototype.onFocus.call(this, e),
                    this._instOrBanner.onFocus(e)
                },
                e.prototype.clearView = function () {
                    this.view && (u.default.poolManager.put(this.view), this.view = null)
                },
                e.prototype.onMsgAdvShowSuc = function (t) {
                    "revive" == t.advName && (this.close(), u.default.sendMsg(p.MSG.CARD_REVIVE))
                },
                e.prototype.startAnim = function () {
                    var t = this;
                    this.curIndex = 0;
                    var e = this.context.node,
                    n = cc.Vec2.ZERO;
                    e.convertToWorldSpaceOut(n),
                    this.winNode.convertToNodeSpaceOut(n),
                    this.boxSwitcher.node.scale = .5,
                    this.boxSwitcher.node.setPosition(n),
                    this.boxSwitcher.node.runAction(cc.sequence(cc.spawn(cc.scaleTo(.5, 1), cc.moveTo(.5, 0, -300).easing(cc.easeInOut(2))), cc.delayTime(.1), cc.callFunc(function () {
                                t.state = "click"
                            }), cc.sequence(cc.sequence(cc.rotateTo(.1, -5), cc.rotateTo(.1, 5)).repeat(3), cc.rotateTo(0, 0), cc.delayTime(.3)).repeatForever())),
                    this.boxLight.node.scale = 0
                },
                e.prototype.playCardAnim = function () {
                    var t = this;
                    if (!this.items || this.curIndex >= this.items.length)
                        this.onAnimFinish();
                    else {
                        0 == this.curIndex && this.boxLight.node.runAction(cc.scaleTo(.3, 1).easing(cc.easeBackOut())),
                        this.boxSwitcher.node.rotation = 0,
                        this.boxSwitcher.getComponent(i.default).switchSprite(1),
                        m.default.playBigSmallOnce(this.boxSwitcher.node, .1, 1, 1.1),
                        this.state = "anim";
                        var e = this.items[this.curIndex++];
                        this.fill(e),
                        this.itemNode.stopAllActions(),
                        this.itemNode.scale = 0,
                        this.itemNode.setPosition(this.boxSwitcher.node.x, this.boxSwitcher.node.y + 80),
                        this.itemNode.runAction(cc.sequence(cc.spawn(cc.moveTo(.4, cc.v2(0, 80)), cc.scaleTo(.4, 1).easing(cc.easeBackOut())), cc.callFunc(function () {
                                    t.curIndex >= t.items.length ? t.scheduleOnce(t.onAnimFinish.bind(t), .5) : (t.state = "click", t.boxSwitcher.getComponent(i.default).switchSprite(0), t.boxSwitcher.node.runAction(cc.sequence(cc.sequence(cc.rotateTo(.1, -5), cc.rotateTo(.1, 5)).repeat(3), cc.delayTime(.3)).repeatForever()))
                                })))
                    }
                },
                e.prototype.onAnimFinish = function () {
                    this.state = "anim",
                    m.default.playDialogCloseAnim(this.mask.node, this.boxSwitcher.node, this.close.bind(this)),
                    f.default.instance.close()
                },
                e.prototype.fill = function (t) {
                    var e = a.default.get_item_db(t.itemId);
                    this.clearView(),
                    e.type == c.ITEM_TYPE.CURRENCY ? (this.itemIcon.enabled = !0, this.itemIcon.loadSpriteFrame(e.icon)) : (this.itemIcon.enabled = !1, this.view = u.default.poolManager.get(l.default, d.default.get_role_view(e)), this.view.setParent(this.itemView)),
                    this.itemCount.string = s.default.convertCoinString(t.count)
                },
                e.prototype.on_click_btnRetry = function () {
                    this.close(),
                    f.default.instance.close()
                },
                e.prototype.on_click_btnClose = function () {
                    this.close(),
                    f.default.instance.close()
                },
                e.prototype.on_click_btnRevive = function () {
                    console.log("ghb: revive");
                    y.default.dispatchAdv("revive", null, !0)
                },
                e.prototype.on_click_btnBox = function () {
                    "click" == this.state && this.playCardAnim()
                },
                e
            }
            (r.default);
            n.default = v,
            cc._RF.pop()
        }, {
            "../common/Const": "Const",
            "../common/DbExt": "DbExt",
            "../extensions/BaseConst": "BaseConst",
            "../extensions/_G": "_G",
            "../extensions/component/SpriteSwitcher": "SpriteSwitcher",
            "../extensions/mgr/mgrAdv": "mgrAdv",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/module/BaseFacade": "BaseFacade",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/ui/Spine": "Spine",
            "../extensions/utils/UiHelper": "UiHelper",
            "../game/GameUtility": "GameUtility",
            "../generate/db": "db",
            "../utils/AdvInstOrBanner": "AdvInstOrBanner",
            "./PanelCard": "PanelCard"
        }
    ],
    PanelCard: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "9c38bbbvmxMd6xWP2mwOJaV", "PanelCard");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i,
            r,
            a = t("../extensions/component/SpriteSwitcher"),
            s = t("../extensions/ui/PanelBase"),
            c = t("../extensions/ui/ReuseSprite"),
            l = t("../extensions/utils/UiHelper"),
            u = t("../extensions/_G"),
            d = t("../extensions/utils/Mathf"),
            p = t("../manager/mgrAlert"),
            h = t("../generate/db"),
            f = t("../common/Const"),
            _ = t("../extensions/BaseConst"),
            m = t("../extensions/ui/Spine"),
            g = t("../common/DbExt"),
            y = t("../manager/mgrGame"),
            v = t("../extensions/mgr/mgrPanel"),
            b = t("./PanelCardOver"),
            S = t("../game/unit/Role"),
            A = t("../game/GameUtility"),
            C = t("../extensions/module/BaseFacade"),
            I = t("../manager/mgrGuide"),
            T = t("../extensions/mgr/mgrAudio"),
            E = t("../utils/AdvInstOrBanner"),
            w = t("../extensions/sdk/GameStatistics"),
            P = cc.Vec2.ZERO,
            M = cc.Vec2.ZERO,
            D = 0,
            O = 0,
            x = 0,
            R = function (t, e) {
                return P.x = O + 132 * t,
                P.y = x - 136 * e,
                P
            };
            (function (t) {
                t[t.Reachable = 0] = "Reachable",
                t[t.Unreachabel = 1] = "Unreachabel"
            })(i || (i = {})),
            function (t) {
                t[t.CanMove = 0] = "CanMove",
                t[t.Animating = 1] = "Animating"
            }
            (r || (r = {}));
            var L = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.panelLayer = v.PANEL_LAYER.UI,
                    e.panelStyle = v.PANEL_STYLE.FULL,
                    e.resourceName = "prefab/ui/PanelCard",
                    e.btnClose = null,
                    e.coinIcon = null,
                    e.coinCount = null,
                    e.diamonIcon = null,
                    e.diamondCount = null,
                    e.mapNode = null,
                    e.cardNode = null,
                    e.touchNode = null,
                    e._exportNodeInfo = [{
                            fieldName: "btnClose",
                            filedType: "UIButton",
                            fieldPath: [1, 0]
                        }, {
                            fieldName: "coinIcon",
                            filedType: "cc.Sprite",
                            fieldPath: [1, 1, 0]
                        }, {
                            fieldName: "coinCount",
                            filedType: "cc.Label",
                            fieldPath: [1, 1, 1]
                        }, {
                            fieldName: "diamonIcon",
                            filedType: "cc.Sprite",
                            fieldPath: [1, 2, 0]
                        }, {
                            fieldName: "diamondCount",
                            filedType: "cc.Label",
                            fieldPath: [1, 2, 1]
                        }, {
                            fieldName: "mapNode",
                            filedType: "cc.Node",
                            fieldPath: [2, 0]
                        }, {
                            fieldName: "cardNode",
                            filedType: "SpriteSwitcher",
                            fieldPath: [2, 1]
                        }, {
                            fieldName: "touchNode",
                            filedType: "cc.Node",
                            fieldPath: [2, 2]
                        }
                    ],
                    e._instOrBanner = new E.default("enter_card", "banner_card"),
                    e.tiles = [],
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    var t;
                    this.lastMusicName = T.default.curMusicName,
                    T.default.playMusic("bgm3"),
                    e.instance = this,
                    this.coinCount.string = A.default.convertCoinString(C.default.mItem.getItemCount(f.ITEM_ID.COIN)),
                    this.diamondCount.string = C.default.mItem.getItemCount(f.ITEM_ID.DIAMOND).toString(), {},
                    this.initGame(this.context),
                    this.initTouch(),
                    this.registerMsg(((t = {})[_.BASE_MSG.ITEM_CHANGE] = this.onMsgItemChange.bind(this), t[f.MSG.CARD_REVIVE] = this.onMsgCardRevive.bind(this), t)),
                    this.startProcMsg(),
                    I.default.isGuiding && (this.btnClose.node.active = !1),
                    I.default.sendMsgKey(f.GUIDE_MSG.ENTER_CARD)
                },
                e.prototype.dispose = function () {
                    T.default.playMusic(this.lastMusicName),
                    this.stopProcMsg(),
                    this._instOrBanner.dispose();
                    for (var n = 0; n < this.tiles.length; n++)
                        this.tiles[n].dispose();
                    this.hero && this.hero.dispose(),
                    t.prototype.dispose.call(this),
                    e.instance = null,
                    I.default.sendMsgKey(f.GUIDE_MSG.CLOSE_CARD)
                },
                e.prototype.onFocus = function (e) {
                    t.prototype.onFocus.call(this, e),
                    this._instOrBanner.onFocus(e)
                },
                e.prototype.onMsgItemChange = function (t) {
                    switch (t.itemId) {
                    case f.ITEM_ID.COIN:
                        this.coinCount.string = A.default.convertCoinString(C.default.mItem.getItemCount(f.ITEM_ID.COIN));
                        break;
                    case f.ITEM_ID.DIAMOND:
                        this.diamondCount.string = C.default.mItem.getItemCount(f.ITEM_ID.DIAMOND).toString()
                    }
                },
                e.prototype.onMsgCardRevive = function () {
                    this.hero && (this.hero.heal(), this.gameState = r.CanMove)
                },
                e.prototype.initGame = function (t) {
                    w.default.onLevelStart("Explore" + this.context);
                    var e,
                    n,
                    o,
                    i = h.default.get_card_level_db(t);
                    switch (this.gameState = r.CanMove, D = i.size) {
                    case 2:
                    case 3:
                    case 4:
                        e = 1
                    }
                    this.mapNode.scale = e,
                    O = 132 *  - (D - 1) / 2,
                    x = 136 * (D - 1) / 2;
                    for (var a = 0; a < D; a++)
                        for (var s = 0; s < D; s++) {
                            var c = new N(cc.instantiate(this.cardNode.node), s + a * D);
                            c.node.setParent(this.mapNode),
                            c.setTo(s, a),
                            this.tiles.push(c);
                            var l = i.items[s + a * D],
                            u = d.default.arrCircleRandom(l.weights);
                            if (u >= 0) {
                                var p = l.itemIds[u];
                                p == f.ITEM_ID.START ? (n = s, o = a, c.setItem(null)) : p == f.ITEM_ID.EMPTY ? c.setItem(null) : c.setItem(p, l.counts[u])
                            } else
                                c.setItem(null)
                        }
                    null == n && cc.error("born position not found", t),
                    this.hero = new N(cc.instantiate(this.cardNode.node), 100),
                    this.hero.node.setParent(this.mapNode),
                    this.hero.setTo(n, o),
                    this.hero.changeToHeroView();
                    var _ = y.default.cardDbs[y.default.curCardMaxQuality];
                    this.hero.setItem(_.id, g.default.get_card_hp(_)),
                    this.hero.node.setSiblingIndex(-1),
                    this.cardNode.node.active = !1
                },
                e.prototype.initTouch = function () {
                    var t = this;
                    l.default.registerTouchEvent(this.touchNode, function (t) {}, function (t) {}, function (e) {
                        var n = e.getStartLocation(),
                        o = e.getLocation().subSelf(n);
                        if (o.magSqr() > 400) {
                            var i = (A.default.convertDir2Rot(o) + 360) % 360,
                            r = Math.round(i / 90);
                            if (Math.abs(90 * r - i) < 20) {
                                var a = t.hero.tileX,
                                s = t.hero.tileY;
                                switch (r) {
                                case 0:
                                    s -= 1;
                                    break;
                                case 1:
                                    a += 1;
                                    break;
                                case 2:
                                    s += 1;
                                    break;
                                case 3:
                                    a -= 1
                                }
                                if (a >= 0 && s >= 0 && a < D && s < D)
                                    if (d = t.tiles[s * D + a])
                                        return void t.goTo(d)
                            }
                        }
                        for (var c = e.getLocation(), u = 0; u < t.tiles.length; u++) {
                            var d = t.tiles[u];
                            if (l.default.hitTest(d.node, c)) {
                                l.default.hitTest(d.node, n) && t.goTo(d);
                                break
                            }
                        }
                    }, function (t) {})
                },
                e.prototype.goTo = function (t) {
                    var e = this;
                    if (this.gameState == r.CanMove) {
                        var n = this.hero;
                        if (n && (I.default.sendMsgKey(f.GUIDE_MSG.MOVE_CARD), Math.abs(t.tileX - n.tileX) + Math.abs(t.tileY - n.tileY) == 1))
                            if (t.isReachable) {
                                this.gameState = r.Animating;
                                var o = this.tiles[n.tileX + n.tileY * D];
                                t.isEnd || t.isEmpty ? n.moveTo(o, t, function () {
                                    e.gameState = r.CanMove,
                                    t.isEnd && (e.gameOver(!0), v.default.openPanelWithFadeIn(b.default, {
                                            node: t.view,
                                            level: e.context
                                        }))
                                }) : n.isDead || n.fight(o, t, function (o) {
                                    if (o) {
                                        var i = cc.Vec2.ZERO;
                                        o.itemId == f.ITEM_ID.COIN ? e.coinIcon.node.convertToWorldSpaceOut(i) : e.diamonIcon.node.convertToWorldSpaceOut(i),
                                        C.default.mItem.addItem(o.itemId, o.count, f.ITEM_CHANGE_REASON.LEVEL, ""),
                                        p.default.alertItemsByText(o),
                                        p.default.playItemToCurrency(o.itemId, t.node.convertToWorldSpaceOut(cc.Vec2.ZERO), 5, i)
                                    }
                                    n.isDead ? (e.gameOver(!1), v.default.openPanelWithFadeIn(b.default)) : e.gameState = r.CanMove
                                })
                            } else
                                p.default.alertText("Nowhere!")
                    }
                },
                e.prototype.gameOver = function (t) {
                    w.default.onLevelEnd("Explore" + this.context, t, "" + (y.default.curCardMaxQuality + 1)),
                    t ? (T.default.playSound("win"), T.default.playSound("box")) : T.default.playSound("fail");
                    var e = 0 == this.context.indexOf("easy") ? "easy" : "hard";
                    y.default.endCardLevel(e, t)
                },
                e.prototype.on_click_btnClose = function () {
                    var t = this;
                    p.default.alertDialog("Exit Exploration?", "Hint", function () {
                        w.default.onLevelEnd("Explore" + t.context, !1, "" + (y.default.curCardMaxQuality + 1)),
                        t.close()
                    }, function () {}, "QUIT", "CANCEL")
                },
                e
            }
            (s.default);
            n.default = L;
            var N = function () {
                function t(t, e) {
                    this.hp = 0,
                    this.node = t,
                    t.name = "item" + e,
                    this.hpLabel = t.getChildLabel("num/hp")
                }
                return t.prototype.dispose = function () {
                    this.clearView(),
                    this.node.destroy()
                },
                t.prototype.clearView = function () {
                    this.view && (this.view.setNodeOpacity(255), this.view.setPosition(0, 0), u.default.poolManager.put(this.view), this.view = null)
                },
                t.prototype.changeToHeroView = function () {
                    this.node.getComponent(a.default).switchSprite(2),
                    this.hpLabel.node.parent.getComponent(a.default).switchSprite(1)
                },
                t.prototype.setTo = function (t, e) {
                    this.tileX = t,
                    this.tileY = e,
                    R(t, e),
                    this.node.setPosition(P)
                },
                t.prototype.moveTo = function (t, e, n) {
                    this.tileX = e.tileX,
                    this.tileY = e.tileY,
                    R(e.tileX, e.tileY),
                    this.node.stopAllActions(),
                    this.node.runAction(cc.sequence(cc.moveTo(.3, P).easing(cc.easeInOut(2)), cc.callFunc(function () {
                                t.setUnreachable(),
                                n()
                            })))
                },
                t.prototype.hitDamage = function (t) {
                    this.setHp(Math.max(this.hp - t, 0))
                },
                t.prototype.fight = function (t, e, n) {
                    var o = this,
                    i = !1;
                    this.hp > e.hp ? (this.tileX = e.tileX, this.tileY = e.tileY) : i = !0,
                    M.x = this.node.x,
                    M.y = this.node.y,
                    R(e.tileX, e.tileY);
                    var r = P.x > M.x ? -80 : 80;
                    M.x += r,
                    M.y += 68,
                    this.node.stopAllActions(),
                    this.node.runAction(cc.sequence(cc.spawn(cc.moveBy(.3, r, 68).easing(cc.easeInOut(2)), cc.scaleTo(.25, .6)), cc.spawn(cc.moveTo(.2, P.x, P.y).easing(cc.easeIn(2)), cc.scaleTo(.2, 1).easing(cc.easeBackOut()), cc.sequence(cc.delayTime(.15), cc.callFunc(function () {
                                        if (p.default.playAnimationEffect("2d/anim_node/72_kapai/72_kapai_hit", e.node.convertToWorldSpaceOut(cc.Vec2.ZERO), .5), e.hp > 0) {
                                            var i = o.hp;
                                            p.default.playHitNumber(o.node.convertToWorldSpaceOut(cc.Vec2.ZERO), e.hp),
                                            o.hitDamage(e.hp),
                                            e.hitDamage(i),
                                            T.default.playSound("bullet1")
                                        }
                                        if (e.isDead) {
                                            var r = p.default.playAnimationEffect("2d/anim_node/72_kapai/72_kapai_lie");
                                            r && (r.setParent(e.node), r.play(null, .6))
                                        }
                                        e.node.stopAllActions(),
                                        e.node.runAction(cc.sequence(cc.rotateTo(.03, 10), cc.sequence(cc.rotateTo(.06, -10), cc.rotateTo(.06, 10)).repeat(3), cc.callFunc(function () {
                                                    var o;
                                                    if (e.isDead) {
                                                        if (e.view.runAction(cc.fadeOut(.3)), e.hpLabel.node.parent.active = !1, t.setUnreachable(), e.item)
                                                            h.default.get_item_db(e.item.itemId).type == _.ITEM_TYPE.CURRENCY && (o = e.item), e.item = null;
                                                        e.node.setRotation(10)
                                                    } else
                                                        e.node.setRotation(0);
                                                    n(o)
                                                })))
                                    }))), cc.moveTo(.2, M.x, M.y).easing(cc.easeOut(2)), cc.delayTime(.4), i ? cc.moveTo(.2, this.node.x, this.node.y).easing(cc.easeOut(2)) : cc.moveTo(.2, P.x, P.y).easing(cc.easeOut(2))))
                },
                t.prototype.setHp = function (t) {
                    this.hp = t,
                    this.hpLabel.string = t.toString()
                },
                t.prototype.heal = function () {
                    this.item && this.setHp(this.item.count),
                    this.setTo(this.tileX, this.tileY)
                },
                t.prototype.setItem = function (t, e) {
                    if (this.state = i.Reachable, t) {
                        this.item = {
                            itemId: t,
                            count: e
                        };
                        var n = h.default.get_item_db(t);
                        switch (n.type) {
                        case _.ITEM_TYPE.CURRENCY:
                            this.view = u.default.poolManager.get(c.default, n.icon),
                            this.hpLabel.node.parent.active = !1;
                            break;
                        case _.ITEM_TYPE.GOODS:
                        case _.ITEM_TYPE.UP:
                            var o = u.default.poolManager.get(m.default, g.default.get_role_view(n));
                            this.view = o,
                            o.setScale(1),
                            o.setPosition(0, 0),
                            o.play(n.type == _.ITEM_TYPE.GOODS ? S.RoleAnim.Idle : S.RoleAnim.Move),
                            this.setHp(e);
                            break;
                        case _.ITEM_TYPE.SPE:
                            n.icon && (this.view = u.default.poolManager.get(c.default, n.icon)),
                            this.hpLabel.node.parent.active = !1
                        }
                        this.view ? (this.view.setParent(this.node), this.view.setBottom()) : cc.error("unkown item", t)
                    } else
                        this.hpLabel.node.parent.active = !1
                },
                t.prototype.setEmpty = function () {
                    this.view.active = !1
                },
                t.prototype.setUnreachable = function () {
                    this.state = i.Unreachabel,
                    this.node.getComponent(a.default).switchSprite(1)
                },
                Object.defineProperty(t.prototype, "isReachable", {
                    get: function () {
                        return this.state == i.Reachable
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "isEmpty", {
                    get: function () {
                        return null == this.item
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "isEnd", {
                    get: function () {
                        return !!this.item && this.item.itemId == f.ITEM_ID.END
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "isDead", {
                    get: function () {
                        return this.hp <= 0
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                t
            }
            ();
            cc._RF.pop()
        }, {
            "../common/Const": "Const",
            "../common/DbExt": "DbExt",
            "../extensions/BaseConst": "BaseConst",
            "../extensions/_G": "_G",
            "../extensions/component/SpriteSwitcher": "SpriteSwitcher",
            "../extensions/mgr/mgrAudio": "mgrAudio",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/module/BaseFacade": "BaseFacade",
            "../extensions/sdk/GameStatistics": "GameStatistics",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/ui/ReuseSprite": "ReuseSprite",
            "../extensions/ui/Spine": "Spine",
            "../extensions/utils/Mathf": "Mathf",
            "../extensions/utils/UiHelper": "UiHelper",
            "../game/GameUtility": "GameUtility",
            "../game/unit/Role": "Role",
            "../generate/db": "db",
            "../manager/mgrAlert": "mgrAlert",
            "../manager/mgrGame": "mgrGame",
            "../manager/mgrGuide": "mgrGuide",
            "../utils/AdvInstOrBanner": "AdvInstOrBanner",
            "./PanelCardOver": "PanelCardOver"
        }
    ],
    PanelDialog: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "04043H/KxZLp5w1PTjX8A6a", "PanelDialog");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/ui/PanelBase"),
            r = t("../extensions/mgr/mgrPanel"),
            a = t("../extensions/utils/UiHelper"),
            s = t("../utils/AdvInstOrBanner"),
            c = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.panelLayer = r.PANEL_LAYER.TIP,
                    e.resourceName = "prefab/ui/PanelDialog",
                    e.mask = null,
                    e.bg = null,
                    e.titleLabel = null,
                    e.descLabel = null,
                    e.btnNo = null,
                    e.btnNoLabel = null,
                    e.btnYes = null,
                    e.iconAdv = null,
                    e.btnYesLabel = null,
                    e._exportNodeInfo = {
                        cc_mask: "cc.Sprite",
                        cc_bg: "cc.Node",
                        cc_titleLabel: "cc.Label",
                        cc_descLabel: "cc.Label",
                        cc_btnNo: "cc.Button",
                        cc_btnNoLabel: "cc.Label",
                        cc_btnYes: "cc.Button",
                        cc_iconAdv: "cc.Sprite",
                        cc_btnYesLabel: "cc.Label"
                    },
                    e._instOrBanner = new s.default("enter_dialog", "banner_dialog"),
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    var t,
                    e = this.context,
                    n = e.desc || "None";
                    this.descLabel.string = n,
                    e.title && (this.titleLabel.string = e.title),
                    e.confirmText && (this.btnYesLabel.string = e.confirmText),
                    e.cancelText && (this.btnNoLabel.string = e.cancelText),
                    e.cancel || (this.btnNo.node.active = !1),
                    e.bAdv || (this.iconAdv.node.active = !1),
                    e.closeMsg && (this.registerMsg(((t = {})[e.closeMsg] = this.onRecieveMsg.bind(this), t)), this.startProcMsg()),
                    a.default.playDialogOpenAnim(this.mask.node, this.bg)
                },
                e.prototype.dispose = function () {
                    this.stopProcMsg(),
                    this._instOrBanner.dispose(),
                    t.prototype.dispose.call(this)
                },
                e.prototype.onFocus = function (e) {
                    t.prototype.onFocus.call(this, e),
                    this._instOrBanner.onFocus(e)
                },
                e.prototype.onRecieveMsg = function () {
                    this.stopProcMsg(),
                    this.playCloseAnim()
                },
                e.prototype.playCloseAnim = function () {
                    this.btnYes.interactable = !1,
                    this.btnNo.interactable = !1,
                    a.default.playDialogCloseAnim(this.mask.node, this.bg, this.close.bind(this))
                },
                e.prototype.on_click_btnYes = function () {
                    this.playCloseAnim(),
                    this.context.confirm && this.context.confirm()
                },
                e.prototype.on_click_btnNo = function () {
                    this.playCloseAnim(),
                    this.context.cancel && this.context.cancel()
                },
                e
            }
            (i.default);
            n.default = c,
            cc._RF.pop()
        }, {
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/utils/UiHelper": "UiHelper",
            "../utils/AdvInstOrBanner": "AdvInstOrBanner"
        }
    ],
    PanelExchange: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "7ee23CCCSRK1oB0RQJI83+/", "PanelExchange");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/ui/PanelBase"),
            r = t("../extensions/utils/UiHelper"),
            a = t("../GameConfig"),
            s = t("../extensions/module/BaseFacade"),
            c = t("../common/Const"),
            l = t("../manager/mgrAlert"),
            u = t("../generate/db"),
            d = t("../manager/mgrGame"),
            p = t("../extensions/mgr/mgrPanel"),
            h = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.panelLayer = p.PANEL_LAYER.UI,
                    e.resourceName = "prefab/ui/PanelExchange",
                    e.mask = null,
                    e.bg = null,
                    e.title = null,
                    e.btnClose = null,
                    e.btnGet = null,
                    e.btnMin = null,
                    e.btnAdd = null,
                    e.costCount = null,
                    e.getCount = null,
                    e.getIcon = null,
                    e._exportNodeInfo = [{
                            fieldName: "mask",
                            filedType: "cc.Sprite",
                            fieldPath: [0]
                        }, {
                            fieldName: "bg",
                            filedType: "cc.Sprite",
                            fieldPath: [1]
                        }, {
                            fieldName: "title",
                            filedType: "cc.Label",
                            fieldPath: [1, 0, 0]
                        }, {
                            fieldName: "btnClose",
                            filedType: "cc.Button",
                            fieldPath: [1, 2]
                        }, {
                            fieldName: "btnGet",
                            filedType: "cc.Button",
                            fieldPath: [1, 3]
                        }, {
                            fieldName: "btnMin",
                            filedType: "UIButton",
                            fieldPath: [1, 4, 1]
                        }, {
                            fieldName: "btnAdd",
                            filedType: "UIButton",
                            fieldPath: [1, 4, 2]
                        }, {
                            fieldName: "costCount",
                            filedType: "cc.Label",
                            fieldPath: [1, 4, 4]
                        }, {
                            fieldName: "getCount",
                            filedType: "cc.Label",
                            fieldPath: [1, 5, 2]
                        }, {
                            fieldName: "getIcon",
                            filedType: "cc.Sprite",
                            fieldPath: [1, 5, 3]
                        }
                    ],
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    this._itemId = this.context;
                    var t = u.default.get_item_db(this._itemId);
                    this.getIcon.loadSpriteFrame(t.icon),
                    this.title.string = "Exchange " + t.name,
                    this.updateCount()
                },
                e.prototype.updateCount = function (t) {
                    void 0 === t && (t = 1),
                    this._costCount = t,
                    this.costCount.string = t.toString(),
                    this._getCount = Math.ceil(a.exchange_rate_fun[this._itemId](t, d.default.lastLevel)),
                    this.getCount.string = this._getCount.toString()
                },
                e.prototype.on_click_btnClose = function () {
                    r.default.playDialogCloseAnim(this.mask.node, this.bg.node, this.close.bind(this))
                },
                e.prototype.on_click_btnGet = function () {
                    s.default.mItem.subItem(c.ITEM_ID.DIAMOND, this._costCount, c.ITEM_CHANGE_REASON.EXCHANGE, "") ? (s.default.mItem.addItem(this._itemId, this._getCount, c.ITEM_CHANGE_REASON.EXCHANGE, ""), l.default.playItemToCurrency(this._itemId, this.btnGet.node.convertToWorldSpaceOut(cc.Vec2.ZERO), 10), this.updateCount()) : l.default.alertNotEnough(c.ITEM_ID.DIAMOND)
                },
                e.prototype.on_click_btnMin = function () {
                    this._costCount > 1 && this.updateCount(this._costCount - 1)
                },
                e.prototype.on_click_btnAdd = function () {
                    this.updateCount(this._costCount + 1)
                },
                e
            }
            (i.default);
            n.default = h,
            cc._RF.pop()
        }, {
            "../GameConfig": "GameConfig",
            "../common/Const": "Const",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/module/BaseFacade": "BaseFacade",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/utils/UiHelper": "UiHelper",
            "../generate/db": "db",
            "../manager/mgrAlert": "mgrAlert",
            "../manager/mgrGame": "mgrGame"
        }
    ],
    PanelFadeIn: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "36882k/MNxHx7D5TBzoaiJ6", "PanelFadeIn");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__awaiter || function (t, e, n, o) {
                return new(n || (n = Promise))(function (i, r) {
                    function a(t) {
                        try {
                            c(o.next(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function s(t) {
                        try {
                            c(o.throw(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function c(t) {
                        t.done ? i(t.value) : new n(function (e) {
                            e(t.value)
                        }).then(a, s)
                    }
                    c((o = o.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function (t, e) {
                var n,
                o,
                i,
                r,
                a = {
                    label: 0,
                    sent: function () {
                        if (1 & i[0])
                            throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw : s(1),
                    return : s(2)
                },
                "function" == typeof Symbol && (r[Symbol.iterator] = function () {
                    return this
                }),
                r;
                function s(t) {
                    return function (e) {
                        return c([t, e])
                    }
                }
                function c(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done)
                                return i;
                            switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                o = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1],
                                    i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2],
                                    a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            o = 0
                        }
                    finally {
                        n = i = 0
                    }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var a = t("./PanelBase"),
            s = t("../mgr/mgrPanel"),
            c = t("../_G"),
            l = t("../BaseConst"),
            u = t("../widget/SSprite"),
            d = t("../utils/UiHelper"),
            p = t("../component/UIFullBg"),
            h = t("../widget/SLabel"),
            f = [".", "..", "..."],
            _ = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.panelLayer = s.PANEL_LAYER.TIP,
                    e.panelStyle = s.PANEL_STYLE.COMMON,
                    e.resourceName = "",
                    e.mask = null,
                    e.text = null,
                    e.m_tipString = "",
                    e.m_tipDeltaTime = 0,
                    e.m_tipIndex = 0,
                    e
                }
                return o(e, t),
                e.prototype.create = function () {
                    return i(this, void 0, void 0, function () {
                        var t,
                        e,
                        n;
                        return r(this, function (o) {
                            return t = new cc.Node("PanelFadeIn"),
                            d.default.addFullWidget(t),
                            (e = new u.default("mask")).setParent(t),
                            e.addComponent(p.default),
                            e.addComponent(cc.BlockInputEvents),
                            e.setNodeColor(cc.Color.BLACK),
                            this.mask = e,
                            (n = new h.default("text", 30, null, 40)).setParent(t),
                            this.text = n,
                            this.createFromNode(t),
                            [2]
                        })
                    })
                },
                e.prototype.buildUi = function () {
                    e.isWorking = !0,
                    this.mask.opacity = 0;
                    var t,
                    n = this.context;
                    n.maskColor && (this.mask.color = n.maskColor),
                    n.tip ? (t = 180, this.text.string = n.tip, this.m_tipString = n.tip) : (t = 255, this.text.string = "", this.m_tipString = "");
                    var o = n.fadinTime || .2;
                    this.mask.runAction(cc.sequence(cc.fadeTo(o, t), cc.callFunc(this.startLoading, this)))
                },
                e.prototype.dispose = function () {
                    e.isWorking = !1,
                    e.bCloseMsg = !1,
                    t.prototype.dispose.call(this)
                },
                e.prototype.update = function (t) {
                    f && this.m_tipString && (this.m_tipDeltaTime -= t, this.m_tipDeltaTime <= 0 && (this.m_tipDeltaTime = .5, this.text.string = this.m_tipString + f[this.m_tipIndex++ % 3]))
                },
                e.prototype.startLoading = function () {
                    this.loadRes()
                },
                e.prototype.loadRes = function () {
                    return i(this, void 0, void 0, function () {
                        var t,
                        e,
                        n,
                        o;
                        return r(this, function (i) {
                            switch (i.label) {
                            case 0:
                                if (t = this.context, !(e = t.loadingClass))
                                    return [3, 4];
                                i.label = 1;
                            case 1:
                                return i.trys.push([1, 3, , 4]),
                                [4, s.default.openPanel(e)];
                            case 2:
                                return i.sent(),
                                [3, 4];
                            case 3:
                                return n = i.sent(),
                                cc.error("open PanelLoading error:", n),
                                [3, 4];
                            case 4:
                                return (o = t.loader) ? (o.setLoadingCallback(this.onLoadProgress.bind(this), this.onLoadComplete.bind(this)), o.loadAll()) : e ? this.onLoadComplete(!0) : this.openPanel(),
                                [2]
                            }
                        })
                    })
                },
                e.prototype.onLoadProgress = function (t, e) {
                    var n = t / e;
                    c.default.sendMsg(l.BASE_MSG.RES_LOAD_PROGRESS, n)
                },
                e.prototype.onLoadComplete = function (t) {
                    if (c.default.sendMsg(l.BASE_MSG.RES_LOAD_END), t)
                        this.openPanel();
                    else {
                        cc.error("FadeIn onLoadComplete fail."),
                        this.fadeOut();
                        var e = this.context;
                        e.onFail && e.onFail()
                    }
                },
                e.prototype.openPanel = function () {
                    return i(this, void 0, void 0, function () {
                        var t,
                        n;
                        return r(this, function (o) {
                            switch (o.label) {
                            case 0:
                                return (t = this.context).callbackBeforOpen ? [4, t.callbackBeforOpen()] : [3, 2];
                            case 1:
                                o.sent(),
                                o.label = 2;
                            case 2:
                                if (!t.panelClass)
                                    return [3, 7];
                                o.label = 3;
                            case 3:
                                return o.trys.push([3, 5, 6, 7]),
                                e.isOpening = !0,
                                [4, s.default.openPanel(t.panelClass, t.context, e.bCloseMsg)];
                            case 4:
                                return o.sent(),
                                [3, 7];
                            case 5:
                                return n = o.sent(),
                                cc.error("FadeIn openPanel error:", n),
                                [3, 7];
                            case 6:
                                return e.isOpening = !1,
                                [7];
                            case 7:
                                return this.fadeOut(),
                                [2]
                            }
                        })
                    })
                },
                e.prototype.fadeOut = function () {
                    this.mask.runAction(cc.sequence(cc.fadeOut(.2), cc.callFunc(this.close, this)))
                },
                e.isWorking = !1,
                e.isOpening = !1,
                e.bCloseMsg = !1,
                e
            }
            (a.default);
            n.default = _,
            cc._RF.pop()
        }, {
            "../BaseConst": "BaseConst",
            "../_G": "_G",
            "../component/UIFullBg": "UIFullBg",
            "../mgr/mgrPanel": "mgrPanel",
            "../utils/UiHelper": "UiHelper",
            "../widget/SLabel": "SLabel",
            "../widget/SSprite": "SSprite",
            "./PanelBase": "PanelBase"
        }
    ],
    PanelFeedback: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "45137ap3GFN+KhjxwJULqmy", "PanelFeedback");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/ui/PanelBase"),
            r = t("../extensions/mgr/mgrPanel"),
            a = t("../extensions/utils/UiHelper"),
            s = t("../extensions/utils/Tools"),
            c = t("../manager/mgrAlert"),
            l = t("../extensions/sdk/GameStatistics"),
            u = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.panelLayer = r.PANEL_LAYER.UI,
                    e.resourceName = "prefab/ui/PanelFeedback",
                    e.mask = null,
                    e.bg = null,
                    e.titleLabel = null,
                    e.btnClose = null,
                    e.textBox = null,
                    e.btnOk = null,
                    e._exportNodeInfo = [{
                            fieldName: "mask",
                            filedType: "cc.Sprite",
                            fieldPath: [0]
                        }, {
                            fieldName: "bg",
                            filedType: "cc.Sprite",
                            fieldPath: [1]
                        }, {
                            fieldName: "titleLabel",
                            filedType: "cc.Label",
                            fieldPath: [1, 0]
                        }, {
                            fieldName: "btnClose",
                            filedType: "cc.Button",
                            fieldPath: [1, 1]
                        }, {
                            fieldName: "textBox",
                            filedType: "cc.EditBox",
                            fieldPath: [1, 3]
                        }, {
                            fieldName: "btnOk",
                            filedType: "cc.Button",
                            fieldPath: [1, 4]
                        }
                    ],
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {},
                e.prototype.on_click_btnClose = function () {
                    a.default.playDialogCloseAnim(this.mask.node, this.bg.node, this.close.bind(this))
                },
                e.prototype.on_click_btnOk = function () {
                    var t = this.textBox.string;
                    t && (t = t.replace(/"/g, "\u201c").replace(/'/g, "\u2018").replace(/`/g, "\xb7"), s.default.utf8Len(t) > 255 ? c.default.alertText("No more than 120 characters") : (l.default.onCommonEventMultField("Suggestion", t), c.default.alertText("Thanks!"), this.on_click_btnClose()))
                },
                e
            }
            (i.default);
            n.default = u,
            cc._RF.pop()
        }, {
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/sdk/GameStatistics": "GameStatistics",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/utils/Tools": "Tools",
            "../extensions/utils/UiHelper": "UiHelper",
            "../manager/mgrAlert": "mgrAlert"
        }
    ],
    PanelFindMe: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "5db81sNK0pMG6vqzUH53tPw", "PanelFindMe");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/ui/PanelBase"),
            r = t("../extensions/utils/UiHelper"),
            a = t("../extensions/mgr/mgrSdk"),
            s = t("../extensions/mgr/mgrPanel"),
            c = t("../utils/AdvInstOrBanner"),
            l = t("../manager/mgrAlert"),
            u = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.panelLayer = s.PANEL_LAYER.UI,
                    e.resourceName = "prefab/ui/PanelFindMe",
                    e.mask = null,
                    e.bg = null,
                    e.btnClose = null,
                    e.weixin = null,
                    e.other = null,
                    e.otherInfo = null,
                    e._exportNodeInfo = {
                        cc_mask: "cc.Button",
                        cc_bg: "cc.Sprite",
                        cc_btnClose: "cc.Button",
                        cc_weixin: "cc.Layout",
                        cc_other: "cc.Layout",
                        cc_otherInfo: "cc.Sprite"
                    },
                    e._instOrBanner = new c.default("enter_find_me", "banner_find_me"),
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    switch (r.default.playDialogOpenAnim(this.mask.node, this.bg.node), a.default.h5_channel) {
                    case a.H5_CHANNEL.WEIXIN:
                        this.other.node.active = !1;
                        break;
                    case a.H5_CHANNEL.TOUTIAO:
                        this.weixin.node.active = !1,
                        this.otherInfo.loadSpriteFrame("texture/bg/find_toutiao");
                        break;
                    case a.H5_CHANNEL.DOUYIN:
                        this.weixin.node.active = !1,
                        this.otherInfo.loadSpriteFrame("texture/bg/find_douyin");
                        break;
                    case a.H5_CHANNEL.BAIDU:
                        this.weixin.node.active = !1,
                        this.otherInfo.loadSpriteFrame("texture/bg/find_baidu");
                        break;
                    default:
                        this.close(),
                        l.default.alertText("no info")
                    }
                },
                e.prototype.dispose = function () {
                    this._instOrBanner.dispose(),
                    t.prototype.dispose.call(this)
                },
                e.prototype.onFocus = function (e) {
                    t.prototype.onFocus.call(this, e),
                    this._instOrBanner.onFocus(e)
                },
                e.prototype.playCloseAnim = function () {
                    this.mask.interactable = !1,
                    r.default.playDialogCloseAnim(this.mask.node, this.bg.node, this.close.bind(this))
                },
                e.prototype.on_click_mask = function () {
                    this.playCloseAnim()
                },
                e.prototype.on_click_btnClose = function () {
                    this.playCloseAnim()
                },
                e
            }
            (i.default);
            n.default = u,
            cc._RF.pop()
        }, {
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/mgr/mgrSdk": "mgrSdk",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/utils/UiHelper": "UiHelper",
            "../manager/mgrAlert": "mgrAlert",
            "../utils/AdvInstOrBanner": "AdvInstOrBanner"
        }
    ],
    PanelFreeLvup: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "c9165EWg55Fi7CPEDmAnUhJ", "PanelFreeLvup");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/ui/PanelBase"),
            r = t("../game/World"),
            a = t("../manager/mgrGame"),
            s = t("../common/DbExt"),
            c = t("../extensions/utils/UiHelper"),
            l = t("../extensions/mgr/mgrAdv"),
            u = t("../extensions/BaseConst"),
            d = t("../GameConfig"),
            p = t("../utils/AdvInstOrBanner"),
            h = t("../extensions/module/BaseFacade"),
            f = t("../common/Const"),
            _ = t("../manager/mgrAlert"),
            m = t("./WidgetNativeAdv"),
            g = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.resourceName = "prefab/ui/PanelFreeLvup",
                    e.mask = null,
                    e.bg = null,
                    e.role1 = null,
                    e.q1Label = null,
                    e.role2 = null,
                    e.q2Label = null,
                    e.countLabel = null,
                    e.btnClose = null,
                    e.btnBuy = null,
                    e.btnBuyName = null,
                    e.btnLvup = null,
                    e.advNode = null,
                    e._exportNodeInfo = {
                        cc_mask: "cc.Sprite",
                        cc_bg: "cc.Node",
                        cc_role1: "cc.Sprite",
                        cc_q1Label: "cc.Label",
                        cc_role2: "cc.Sprite",
                        cc_q2Label: "cc.Label",
                        cc_countLabel: "cc.Label",
                        cc_btnClose: "cc.Button",
                        cc_btnBuy: "UIButton",
                        cc_btnBuyName: "cc.Label",
                        cc_btnLvup: "UIButton",
                        cc_advNode: "UIButton"
                    },
                    e._instOrBanner = new p.default("enter_free_lvup", "banner_free_lvup"),
                    e.level = 0,
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    var t,
                    e = this.context,
                    n = r.default.instance.getRole(e);
                    if (n) {
                        var o = a.default.buyHighQuality + d.default.free_lvup_modify - n.unitDb.quality;
                        this.level = o;
                        var i = n.unitDb.quality,
                        c = a.default.cardDbs[i];
                        this.role1.loadSpriteFrame(s.default.get_card_view(c)),
                        this.q1Label.string = (i + 1).toString();
                        var p = i + o,
                        h = a.default.cardDbs[p];
                        this.role2.loadSpriteFrame(s.default.get_card_view(h)),
                        this.q2Label.string = (p + 1).toString(),
                        this.countLabel.string = l.default.getSwitchCount("free_lv").toString(),
                        this.btnLvup.node.active = l.default.checkActive("free_lv"),
                        this.btnBuyName.string = d.default.free_lvup_price + "   ",
                        this.registerMsg(((t = {})[u.BASE_MSG.ADV_SHOW_SUC] = this.onMsgAdvShowSuc.bind(this), t)),
                        this.startProcMsg(),
                        this._nativeAd = new m.default("emb_free_lvup", this.advNode.node)
                    } else
                        this.close()
                },
                e.prototype.dispose = function () {
                    this.stopProcMsg(),
                    this._instOrBanner.dispose(),
                    this._nativeAd && this._nativeAd.dispose(),
                    t.prototype.dispose.call(this)
                },
                e.prototype.onFocus = function (e) {
                    t.prototype.onFocus.call(this, e),
                    this._instOrBanner.onFocus(e)
                },
                e.prototype.onMsgAdvShowSuc = function (t) {
                    "free_lv" == t.advName && (this.on_click_btnClose(), this.onLvup())
                },
                e.prototype.onLvup = function () {
                    r.default.instance.lvupRole(this.context, this.level)
                },
                e.prototype.on_click_btnClose = function () {
                    c.default.playDialogCloseAnim(this.mask.node, this.bg, this.close.bind(this))
                },
                e.prototype.on_click_btnLvup = function () {
                    window.tsLog("btnLvup被点击，已添加广告");
                    window.h5api.playAd("free_lvl_up", {
                        callback: function() {
                            l.default.dispatchAdv("free_lv", null, !0);
                        }
                    });
                },
                e.prototype.on_click_btnBuy = function () {
                    h.default.mItem.subItem(f.ITEM_ID.DIAMOND, d.default.free_lvup_price, f.ITEM_CHANGE_REASON.FREE_LVUP, "") ? (this.on_click_btnClose(), this.onLvup(), l.default.activeSwitch("free_lv")) : _.default.alertNotEnough(f.ITEM_ID.DIAMOND)
                },
                e.prototype.on_click_advNode = function () {},
                e
            }
            (i.default);
            n.default = g,
            cc._RF.pop()
        }, {
            "../GameConfig": "GameConfig",
            "../common/Const": "Const",
            "../common/DbExt": "DbExt",
            "../extensions/BaseConst": "BaseConst",
            "../extensions/mgr/mgrAdv": "mgrAdv",
            "../extensions/module/BaseFacade": "BaseFacade",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/utils/UiHelper": "UiHelper",
            "../game/World": "World",
            "../manager/mgrAlert": "mgrAlert",
            "../manager/mgrGame": "mgrGame",
            "../utils/AdvInstOrBanner": "AdvInstOrBanner",
            "./WidgetNativeAdv": "WidgetNativeAdv"
        }
    ],
    PanelFreeRole: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "5897cjnSzxEpYl2J5t8v8hw", "PanelFreeRole");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/ui/PanelBase"),
            r = t("../manager/mgrGame"),
            a = t("../extensions/ui/Spine"),
            s = t("../extensions/_G"),
            c = t("../common/DbExt"),
            l = t("../extensions/BaseConst"),
            u = t("../extensions/utils/UiHelper"),
            d = t("../extensions/mgr/mgrAdv"),
            p = t("../game/unit/Role"),
            h = t("../utils/AdvInstOrBanner"),
            f = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.resourceName = "prefab/ui/PanelFreeRole",
                    e.mask = null,
                    e.bg = null,
                    e.roleName = null,
                    e.levelLabel = null,
                    e.btnClose = null,
                    e.roleNode = null,
                    e.btnAdv = null,
                    e.btnAdvName = null,
                    e._exportNodeInfo = {
                        cc_mask: "cc.Sprite",
                        cc_bg: "cc.Sprite",
                        cc_roleName: "cc.Label",
                        cc_levelLabel: "cc.Label",
                        cc_btnClose: "UIButton",
                        cc_roleNode: "cc.Node",
                        cc_btnAdv: "UIButton",
                        cc_btnAdvName: "cc.Label"
                    },
                    e._instOrBanner = new h.default("enter_free_role", "banner_free_role"),
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    var t,
                    e = r.default.buyHighQuality + 1,
                    n = r.default.cardDbs[e];
                    this._anim = s.default.poolManager.get(a.default, c.default.get_role_view(n)),
                    this._anim.setParent(this.roleNode),
                    this._anim.setScale(1),
                    this._anim.setPosition(0, 0),
                    this._anim.play(p.RoleAnim.Idle),
                    this.roleName.string = n.name,
                    this.levelLabel.string = (e + 1).toString(),
                    this.registerMsg(((t = {})[l.BASE_MSG.ADV_SHOW_SUC] = this.onMsgAdvShowSuc.bind(this), t)),
                    this.startProcMsg()
                },
                e.prototype.dispose = function () {
                    this.stopProcMsg(),
                    this._instOrBanner.dispose(),
                    this._anim && (s.default.poolManager.put(this._anim), this._anim = null),
                    t.prototype.dispose.call(this)
                },
                e.prototype.onFocus = function (e) {
                    t.prototype.onFocus.call(this, e),
                    this._instOrBanner.onFocus(e)
                },
                e.prototype.onMsgAdvShowSuc = function (t) {
                    "free_role" == t.advName && (this.on_click_btnClose(), r.default.pushToQueue(r.default.buyHighQuality + 1))
                },
                e.prototype.on_click_btnClose = function () {
                    u.default.playDialogCloseAnim(this.mask.node, this.bg.node, this.close.bind(this))
                },
                e.prototype.on_click_btnAdv = function () {
                    window.tsLog("btnAdv(free_role)被点击，已添加广告");
                    window.h5api.playAd("free_role", {
                        callback: function() {
                            d.default.dispatchAdv("free_role", null, !0);
                        }
                    });
                },
                e
            }
            (i.default);
            n.default = f,
            cc._RF.pop()
        }, {
            "../common/DbExt": "DbExt",
            "../extensions/BaseConst": "BaseConst",
            "../extensions/_G": "_G",
            "../extensions/mgr/mgrAdv": "mgrAdv",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/ui/Spine": "Spine",
            "../extensions/utils/UiHelper": "UiHelper",
            "../game/unit/Role": "Role",
            "../manager/mgrGame": "mgrGame",
            "../utils/AdvInstOrBanner": "AdvInstOrBanner"
        }
    ],
    PanelGame: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "5badcFUIl5EpaylT30/rblC", "PanelGame");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__awaiter || function (t, e, n, o) {
                return new(n || (n = Promise))(function (i, r) {
                    function a(t) {
                        try {
                            c(o.next(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function s(t) {
                        try {
                            c(o.throw(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function c(t) {
                        t.done ? i(t.value) : new n(function (e) {
                            e(t.value)
                        }).then(a, s)
                    }
                    c((o = o.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function (t, e) {
                var n,
                o,
                i,
                r,
                a = {
                    label: 0,
                    sent: function () {
                        if (1 & i[0])
                            throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw : s(1),
                    return : s(2)
                },
                "function" == typeof Symbol && (r[Symbol.iterator] = function () {
                    return this
                }),
                r;
                function s(t) {
                    return function (e) {
                        return c([t, e])
                    }
                }
                function c(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done)
                                return i;
                            switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                o = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1],
                                    i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2],
                                    a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            o = 0
                        }
                    finally {
                        n = i = 0
                    }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var a = t("../extensions/component/UIButton"),
            s = t("../extensions/ui/PanelBase"),
            c = t("../extensions/_G"),
            l = t("../extensions/mgr/mgrPanel"),
            u = t("../common/Const"),
            d = t("../extensions/ActionExt"),
            p = t("../extensions/mgr/mgrAdv"),
            h = t("../extensions/mgr/mgrSdk"),
            f = t("../extensions/BaseConst"),
            _ = t("../extensions/utils/UiHelper"),
            m = t("../game/World"),
            g = (t("../extensions/widget/SButton"), t("../debug/DebugGame"), t("./PanelOffline")),
            y = t("./PanelRank"),
            v = t("../game/FactoryUnit"),
            b = t("../extensions/module/BaseFacade"),
            S = t("../game/GameUtility"),
            A = t("../manager/mgrGame"),
            C = t("../manager/mgrAlert"),
            I = t("../manager/mgrGuide"),
            T = t("./PanelExchange"),
            E = t("./PanelSign"),
            w = t("./PanelQuest"),
            P = t("./PanelMoreGame"),
            M = t("../utils/GameCross"),
            D = t("./PanelLottery"),
            O = t("../extensions/utils/Tools"),
            x = t("../extensions/widget/SSprite"),
            R = t("../extensions/utils/Mathf"),
            L = t("./PanelTime"),
            N = t("./PanelProp"),
            k = t("./PanelTower"),
            B = t("./PanelShop"),
            U = t("./PanelAuto"),
            G = t("../extensions/utils/Timer"),
            F = t("./PanelLevel"),
            j = t("../extensions/module/mQuest"),
            H = t("../extensions/mgr/mgrRes"),
            V = t("../GameConfig"),
            W = t("../extensions/utils/FileRecord"),
            Y = t("../component/ModuleLocker"),
            K = t("../extensions/ui/Spine"),
            z = t("../extensions/mgr/mgrAudio"),
            q = t("./PanelFreeLvup"),
            Q = t("./PanelFreeRole"),
            Z = t("./PanelBossUp"),
            J = t("../game/unit/Box"),
            X = t("../extensions/tweener/TweenAlpha"),
            $ = t("../extensions/tweener/UITweener"),
            tt = cc.Vec2.ZERO,
            et = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.panelLayer = l.PANEL_LAYER.UI,
                    e.panelStyle = l.PANEL_STYLE.FULL,
                    e.resourceName = "prefab/ui/PanelGame",
                    e.bgAnimSprite = null,
                    e.bgSprite = null,
                    e.shuijing = null,
                    e.touchNode = null,
                    e.pathNode = null,
                    e.roleNode = null,
                    e.cardNode = null,
                    e.shipAnim = null,
                    e.gameRoot = null,
                    e.cardFocusNode = null,
                    e.giftNode = null,
                    e.btnTower0 = null,
                    e.btnTower1 = null,
                    e.btnTower2 = null,
                    e.btnTower3 = null,
                    e.topAnimNode = null,
                    e.lvItem0 = null,
                    e.lvItem1 = null,
                    e.lvItem2 = null,
                    e.lvItem3 = null,
                    e.lvItem4 = null,
                    e.btnBoss = null,
                    e.bossState = null,
                    e.bossTime = null,
                    e.btnBossUp = null,
                    e.btnQuest = null,
                    e.btnLottery = null,
                    e.clickFinger = null,
                    e.logo4399 = null,
                    e.debugInfoNode = null,
                    e.debugInfo = null,
                    e.debugBtns = null,
                    e.leftAnimNode = null,
                    e.coinIcon = null,
                    e.diamondIcon = null,
                    e.coinCount = null,
                    e.diamondCount = null,
                    e.btnSwitch = null,
                    e.btnMore = null,
                    e.btnUlMoreGame = null,
                    e.baidu1 = null,
                    e.baidu2 = null,
                    e.rightAnimNode = null,
                    e.btnRank = null,
                    e.btnUrlAdv = null,
                    e.btnInstall = null,
                    e.bottomAnimNode = null,
                    e.btnAuto = null,
                    e.autoTimeLabel = null,
                    e.btnShop = null,
                    e.btnBuy = null,
                    e.buyItem = null,
                    e.itemPrice = null,
                    e.btnCard = null,
                    e.btnProp = null,
                    e.touchEffect = null,
                    e._exportNodeInfo = {
                        cc_bgAnimSprite: "cc.Sprite",
                        cc_bgSprite: "cc.Sprite",
                        cc_shuijing: "cc.Node",
                        cc_touchNode: "cc.Node",
                        cc_pathNode: "cc.Node",
                        cc_roleNode: "cc.Node",
                        cc_cardNode: "cc.Node",
                        cc_shipAnim: "cc.Node",
                        cc_gameRoot: "cc.Node",
                        cc_cardFocusNode: "cc.Node",
                        cc_giftNode: "cc.Node",
                        cc_btnTower0: "UIButton",
                        cc_btnTower1: "UIButton",
                        cc_btnTower2: "UIButton",
                        cc_btnTower3: "UIButton",
                        cc_topAnimNode: "cc.Node",
                        cc_lvItem0: "SpriteSwitcher",
                        cc_lvItem1: "SpriteSwitcher",
                        cc_lvItem2: "SpriteSwitcher",
                        cc_lvItem3: "SpriteSwitcher",
                        cc_lvItem4: "SpriteSwitcher",
                        cc_btnBoss: "UIButton",
                        cc_bossState: "cc.Label",
                        cc_bossTime: "cc.Label",
                        cc_btnBossUp: "cc.Button",
                        cc_btnQuest: "UIButton",
                        cc_btnLottery: "UIButton",
                        cc_clickFinger: "TweenRotation",
                        cc_logo4399: "cc.Sprite",
                        cc_debugInfoNode: "cc.Layout",
                        cc_debugInfo: "cc.Layout",
                        cc_debugBtns: "cc.Layout",
                        cc_leftAnimNode: "cc.Node",
                        cc_coinIcon: "cc.Sprite",
                        cc_diamondIcon: "cc.Sprite",
                        cc_coinCount: "cc.Label",
                        cc_diamondCount: "cc.Label",
                        cc_btnSwitch: "UIButton",
                        cc_btnMore: "UIButton",
                        cc_btnUlMoreGame: "UIButton",
                        cc_baidu1: "cc.Node",
                        cc_baidu2: "cc.Node",
                        cc_rightAnimNode: "cc.Node",
                        cc_btnRank: "UIButton",
                        cc_btnUrlAdv: "UIButton",
                        cc_btnInstall: "UIButton",
                        cc_bottomAnimNode: "cc.Node",
                        cc_btnAuto: "UIButton",
                        cc_autoTimeLabel: "cc.Label",
                        cc_btnShop: "UIButton",
                        cc_btnBuy: "UIButton",
                        cc_buyItem: "cc.Sprite",
                        cc_itemPrice: "cc.Label",
                        cc_btnCard: "UIButton",
                        cc_btnProp: "UIButton",
                        cc_touchEffect: "cc.Node"
                    },
                    e.m_gameMenuVisible = !0,
                    e._callLater = [],
                    e._first = !0,
                    e._leftUpdatePriceTime = 5,
                    e._showFingerData = {},
                    e._cardFocusSprites = [],
                    e._leftGiftTime = 10,
                    e.hasGift = !1,
                    e._freeLvTime = 0,
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    var t,
                    e = this;
                    this.initGame(),
                    this.scheduleOnce(function () {
                        m.default.instance.gameRoot.setParent(e.gameRoot),
                        m.default.instance.createGame(e.pathNode.convertToWorldSpaceOut(cc.Vec2.ZERO), e.roleNode.convertToWorldSpaceOut(cc.Vec2.ZERO), e.cardNode.convertToWorldSpaceOut(cc.Vec2.ZERO)),
                        m.default.instance.loadGame(A.default.lastLevel);
                        var t = e.coinIcon.node.convertToWorldSpaceOut(cc.Vec2.ZERO),
                        n = e.diamondIcon.node.convertToWorldSpaceOut(cc.Vec2.ZERO);
                        C.default.initCurrencyIconPosition(t, null, n),
                        e.scheduleOnce(function () {
                            !u.GuideInfo.bGuideMode && !I.default.isGuiding && A.default.offlineProfit > 0 && l.default.openPanelWithFadeIn(g.default)
                        }, .5)
                    }),
                    this.registerMsg(((t = {})[f.BASE_MSG.ITEM_CHANGE] = this.onMsgItemChange.bind(this), t[f.BASE_MSG.QUEST_STATE_CHANGE] = this.onMsgQuestStateChange.bind(this), t[f.BASE_MSG.UP_STATE_CHANGE] = this.onMsgUpStateChange.bind(this), t[u.MSG.UI_USER_INFO_SHOW] = this.onMsgUserInfoShow.bind(this), t[u.MSG.UI_GAME_MENU_VISIBLE] = this.onMsgGameMenuVisible.bind(this), t[u.MSG.UI_MASK_ENABLE] = this.onMsgMaskEnable.bind(this), t[u.MSG.UI_UPDATE_TIP_STATE] = this.onMsgUpdateTipState.bind(this), t[u.MSG.UI_UPDATE_LEVEL] = this.onMsgUpdateLevel.bind(this), t[u.MSG.UI_UPDATE_TOWER_STATE] = this.updateTowerState.bind(this), t[u.MSG.UI_SHOW_BOSS_FINGER] = this.onMsgShowBossFinger.bind(this), t[u.MSG.UI_SHOW_CARD_FOCUS] = this.onMsgShowCardFocus.bind(this), t[u.MSG.UI_CALL_WHEN_ENTER] = this.onMsgCallWhenEnter.bind(this), t[u.MSG.UI_LEFT_MENU_VISIBLE] = this.onMsgLeftMenuVisible.bind(this), t[u.MSG.UI_SHOW_DEBUG_INFO] = this.onMsgShowDebugInfo.bind(this), t[u.MSG.CARD_MAX_LEVEL_CHANGE] = this.onMsgCardMaxLevelChange.bind(this), t[u.MSG.GAME_START] = this.onMsgGameStart.bind(this), t[u.MSG.GAME_END] = this.onMsgGameEnd.bind(this), t[f.BASE_MSG.SDK_COP_CHANGED] = this.onMsgCopChange.bind(this), t[f.BASE_MSG.SDK_INSTALL_SHORTCUT_SUC] = this.onMsgInstallShortcurSuc.bind(this), t)),
                    this.startProcMsg()
                },
                e.prototype.dispose = function () {
                    cc.error("--------- can't dispose panel game!!!!"),
                    this.stopProcMsg(),
                    t.prototype.dispose.call(this)
                },
                e.prototype.onFocus = function (e) {
                    t.prototype.onFocus.call(this, e),
                    this.checkBaiduTouTiao(e),
                    I.default.sendMsgKey(u.GUIDE_MSG.MAIN_FOCUS_OFF)
                },
                e.prototype.onMsgItemChange = function (t) {
                    switch (t.itemId) {
                    case u.ITEM_ID.COIN:
                        this.coinCount.string = S.default.convertCoinString(b.default.mItem.getItemCount(u.ITEM_ID.COIN));
                        break;
                    case u.ITEM_ID.DIAMOND:
                        this.diamondCount.string = b.default.mItem.getItemCount(u.ITEM_ID.DIAMOND).toString();
                        break;
                    default:
                        t.itemDb.type == f.ITEM_TYPE.GOODS && t.itemDb.subType == u.PROP_TYPE.TOWER && this.updateTowerState(),
                        t.itemDb.type == f.ITEM_TYPE.SPE && this.updateBuyPrice()
                    }
                    this.m_gameMenuVisible && this.onMsgUpdateTipState()
                },
                e.prototype.onMsgQuestStateChange = function () {
                    this._questTip.updateTip()
                },
                e.prototype.onMsgUpStateChange = function () {},
                e.prototype.onMsgUserInfoShow = function (t) {
                    this.btnSwitch.node.active = !t,
                    this.checkBaiduTouTiao(!t && this.isFocus)
                },
                e.prototype.onMsgGameMenuVisible = function (t) {
                    this.m_gameMenuVisible !== t && (this.m_gameMenuVisible = t, this.topAnimNode.stopAllActions(), this.rightAnimNode.stopAllActions(), this.leftAnimNode.stopAllActions(), this.bottomAnimNode.stopAllActions(), this.checkBaiduTouTiao(t), t ? (this.topAnimNode.active = !0, this.topAnimNode.runAction(cc.moveTo(.3, 0, 0).easing(cc.easeOut(1.5))), this.rightAnimNode.active = !0, this.rightAnimNode.runAction(cc.sequence(cc.delayTime(.3), cc.moveTo(.3, 0, 0).easing(cc.easeOut(1.5)))), this.leftAnimNode.active = !0, this.leftAnimNode.runAction(cc.sequence(cc.delayTime(.3), cc.moveTo(.3, 0, 0).easing(cc.easeOut(1.5)))), this.onMsgUpdateTipState()) : (this.topAnimNode.runAction(cc.sequence(cc.moveBy(.5, 0, 400).easing(cc.easeIn(1.5)), new d.NodeHide)), this.rightAnimNode.runAction(cc.sequence(cc.moveBy(.3, 100, 0).easing(cc.easeIn(1.5)), new d.NodeHide)), this.leftAnimNode.runAction(cc.sequence(cc.moveBy(.3, -100, 0).easing(cc.easeIn(1.5)), new d.NodeHide))))
                },
                e.prototype.onMsgMaskEnable = function (t) {
                    t && l.default.openPanelWithSingleton(nt)
                },
                e.prototype.onMsgUpdateTipState = function () {},
                e.prototype.onMsgUpdateLevel = function () {
                    this.updateLevel(),
                    this.updateMainBg(!0)
                },
                e.prototype.onMsgCallWhenEnter = function (t) {
                    this._callLater.push(t)
                },
                e.prototype.onMsgLeftMenuVisible = function (t) {
                    this.btnSwitch.node.active = t
                },
                e.prototype.onMsgShowDebugInfo = function () {
                    this.debugInfoNode.node.active = !0
                },
                e.prototype.onMsgCardMaxLevelChange = function () {
                    this.updateBuyPrice()
                },
                e.prototype.onMsgGameStart = function () {
                    this.onEnterMain()
                },
                e.prototype.onMsgGameEnd = function (t) {
                    t || C.default.playEffect("2d/anim_node/72_shuijing/72_shuijing_bao", this.shuijing.convertToWorldSpaceOut(cc.Vec2.ZERO))
                },
                e.prototype.onMsgCopChange = function () {
                    this.btnUrlAdv.node.active = h.default.isShowUrlAdIcon,
                    this.btnAuto.node.active = p.default.getActive("auto_merge"),
                    this.btnInstall.node.active = h.default.isSupportInstallShortcut && !h.default.isInstallShortcut,
                    this.btnMore.node.active = h.default.COP.more_game,
                    this.btnUlMoreGame.node.active = h.default.isULMoreGame,
                    this.logo4399.node.active = h.default.is4399Watermark,
                    this.checkBaiduTouTiao(this.isFocus)
                },
                e.prototype.onMsgInstallShortcurSuc = function () {
                    this.btnInstall.node.active = !1
                },
                e.prototype.onEnterMain = function () {
                    if (0 == A.default.lastLevel && this._first ? (this.shipAnim.getComponent(sp.Skeleton).setAnimation(0, "l1", !1), this.shipAnim.getComponent(sp.Skeleton).addAnimation(0, "l2", !1), m.default.instance.pause(), this.scheduleOnce(function () {
                                m.default.instance.resume(),
                                I.default.dispatchGuide("GUD_ENTER_MAIN_0")
                            }, 4)) : (this.shipAnim.getComponent(sp.Skeleton).setAnimation(0, "l2", !1), I.default.dispatchGuide("GUD_ENTER_MAIN_" + A.default.lastLevel), I.default.isGuiding || A.default.tryOpenReview() || b.default.mDrop.getLotteryActive(u.DROP_ID.SIGN) && A.default.lastLevel > 0 && l.default.openPanelWithFadeIn(E.default)), this._first = !1, h.default.isSupportFindMinigames && 1 == A.default.curLevel && (h.default.hasAddGameToMyFavorite() || h.default.addGameToMyFavorite()), this._callLater.length > 0) {
                        for (var t = 0; t < this._callLater.length; t++)
                            this._callLater[t]();
                        this._callLater = []
                    }
                    I.default.sendMsgKey(u.GUIDE_MSG.ENTER_MAIN)
                },
                e.prototype.update = function (t) {
                    var e = m.default.instance;
                    e.getFsmCount();
                    this.isFocus && (e.updateState(t), I.default.isGuiding || u.GuideInfo.bGuideMode || (e.isPlay && (A.default.updateLogic(t), this.updateGift(t)), this._leftUpdatePriceTime -= t, this._leftUpdatePriceTime <= 0 && (this._leftUpdatePriceTime = 5, this.updateBuyPrice()))),
                    this.updateBossState(),
                    this.updateAutoMergeTime()
                },
                e.prototype.initGame = function () {
                    u.GuideInfo.bGuideMode = !I.default.isGuided("GUD_ENTER_MAIN_0", 0),
                    u.GuideInfo.bGuideMode && (W.default.writeEnable = !1, this.btnSwitch.node.active = !1),
                    this.initTouch(),
                    this.coinCount.string = S.default.convertCoinString(b.default.mItem.getItemCount(u.ITEM_ID.COIN)),
                    this.diamondCount.string = b.default.mItem.getItemCount(u.ITEM_ID.DIAMOND).toString(),
                    this.updateTowerState(),
                    this.updateBuyPrice(),
                    this.initTip(),
                    this.onMsgCopChange(),
                    this.initDebug(),
                    this.updateLevel(),
                    this.updateMainBg(!1)
                },
                e.prototype.initTouch = function () {
                    var t = this,
                    e = !1,
                    n = this.touchEffect.getComponent(cc.MotionStreak);
                    _.default.registerTouchEvent(this.touchNode, function (o) {
                        o.stopPropagation();
                        var i = o.getLocation();
                        e = !m.default.instance.tryCol(i, 60),
                        t.touchEffect.setPosition(i),
                        n.reset()
                    }, function (n) {
                        n.stopPropagation();
                        var o = n.getLocation();
                        if (t.touchEffect.setPosition(o), e) {
                            var i = m.default.instance.getBoss();
                            i && (o.sub(i.position, tt), tt.magSqr() <= 1600 && (i.hitDamage(A.default.slide_atk / 2, !0), i.playHitColor(), e = !1, u.GuideInfo.bGuideMode && I.default.sendMsgKey(u.GUIDE_MSG.HIT_BOSS)))
                        } else
                            e = !m.default.instance.tryCol(o, 60)
                    }, function (t) {
                        t.stopPropagation()
                    }, function (t) {
                        t.stopPropagation()
                    })
                },
                e.prototype.initDebug = function () {
                    this.debugInfoNode.node.active = !1
                },
                e.prototype.checkBaiduTouTiao = function (t) {
                    h.default.isSupportRecommendationBtn && (M.default.isEmpty && (M.default.create(this.baidu1, 0), M.default.create(this.baidu2, 1)), M.default.setVisible(t))
                },
                e.prototype.initTip = function () {
                    this._questTip = _.default.initUITip(this.btnQuest.node, function () {
                            var t = b.default.mQuest.getQuestDbByType(f.QUEST_TYPE.ACHIEVEMENT);
                            t.sort(j.sort_quest_db_by_state);
                            for (var e = [], n = 0; n < t.length; n++) {
                                var o = t[n];
                                if ((!o.advName || p.default.getActive(o.advName)) && (b.default.mQuest.isFinish(o.id) || e.push(o), e.length > 2))
                                    break
                            }
                            for (n = 0; n < e.length; n++)
                                if (b.default.mQuest.isCommitable(e[n].id))
                                    return 0;
                            return b.default.mQuest.hasCommitQuest(f.QUEST_TYPE.ACH_COMPLETION) ? 0 : -1
                        })
                },
                e.prototype.updateLevel = function (t, e) {
                    null == t && (t = A.default.lastLevel),
                    null == e && (e = A.default.maxLevel);
                    for (var n = t - 2, o = 0; o < 5; o++) {
                        var i = this["lvItem" + o],
                        r = o + n,
                        a = i.node.getChildByName("name").getComponent(cc.Label);
                        r < 0 || r > e ? i.node.active = !1 : (i.node.active = !0, a.string = (r + 1).toString())
                    }
                },
                e.prototype.clearTime = function () {
                    this._timer && (this._timer.stop(), this._timer = null)
                },
                e.prototype.updateBossState = function () {
                    var t = this;
                    switch (A.default.bossState) {
                    case A.BOSS_STATE.TIME:
                        this.bossTime.node.active = !0,
                        this.bossTime.string = O.default.formatTime(A.default.leftBossTime),
                        this.bossState.string = "Boss coming soon";
                        break;
                    case A.BOSS_STATE.IDLE:
                        this._showFingerData[A.default.lastBossIndex] || this._timer || u.GuideInfo.bGuideMode || (this._timer = G.default.callLater(20, function () {
                                    t.clearTime(),
                                    t._showFingerData[A.default.lastBossIndex] || t.onMsgShowBossFinger()
                                })),
                        this.bossTime.node.active = !1,
                        this.bossState.string = "Challenge";
                        break;
                    case A.BOSS_STATE.PLAY:
                        this.clearTime(),
                        "Challenge" == this.bossState.string && (this.clickFinger.node.active = !1),
                        this.bossTime.node.active = !1,
                        this.bossState.string = "Boss Coming"
                    }
                },
                e.prototype.updateAutoMergeTime = function () {
                    var t = A.default.leftAutoMergeTime;
                    this.autoTimeLabel.string = t > 0 ? O.default.formatTime(t) : ""
                },
                e.prototype.updateTowerState = function () {
                    for (var t = 0; t < A.default.towerIds.length; t++) {
                        var e = u.GuideInfo.bGuideMode || b.default.mItem.getItemCount(A.default.towerIds[t]) > 0;
                        this.roleNode.children[t].children[0].active = !e
                    }
                },
                e.prototype.updateBuyPrice = function () {
                    this.buyItem.node.active = !u.GuideInfo.bGuideMode,
                    this.itemPrice.string = S.default.convertCoinString(A.default.getPrice(A.default.buyQuality))
                },
                e.prototype.onMsgShowBossFinger = function () {
                    u.GuideInfo.bGuideMode || I.default.isGuiding || !I.default.isUnlock(Y.ModuleName.Boss) || A.default.bossState != A.BOSS_STATE.IDLE ? this.clickFinger.node.active = !1 : (this._showFingerData[A.default.maxBossIndex] = !0, this.clickFinger.node.active = !0)
                },
                e.prototype.onMsgShowCardFocus = function (t) {
                    var e = 0;
                    if (t)
                        for (var n = m.default.instance, o = 4; o < 16; o++) {
                            var i = n.getRole(o);
                            if (i) {
                                if (i instanceof J.default || i.index == t.index)
                                    continue;
                                if (i.unitDb.quality == t.quality) {
                                    var r = this._cardFocusSprites[e];
                                    if (!r) {
                                        (r = new x.default("", "texture/bg/card_focus", cc.Sprite.SizeMode.TRIMMED)).setParent(this.cardFocusNode),
                                        r.setScale(.69),
                                        r.sprite.dstBlendFactor = cc.macro.BlendFactor.ONE;
                                        var a = r.addComponent(X.default);
                                        a.from = 0,
                                        a.to = 255,
                                        a.method = $.default.Method.EaseOut,
                                        a.duration = .8,
                                        a.style = $.default.Style.PingPong,
                                        this._cardFocusSprites.push(r)
                                    }
                                    e++,
                                    r.show(),
                                    r.getComponent(X.default).ResetToBeginning(),
                                    r.setPosition(i.position)
                                }
                            }
                        }
                    for (o = e; o < this._cardFocusSprites.length; o++)
                        this._cardFocusSprites[o].hide()
                },
                e.prototype.updateMainBg = function (t) {
                    var e,
                    n = this,
                    o = A.default.lastLevel;
                    if (o >= 150 ? e = "texture/bg/bg_conglin" : o >= 80 ? e = "texture/bg/bg_dongku" : o >= 20 && (e = "texture/bg/bg_shamo"), e) {
                        if (this.curBgName == e)
                            return;
                        this.curBgName = e,
                        this.shipAnim.active = !1,
                        t ? H.default.loadRes(e, cc.SpriteFrame, function (t, e) {
                            t || (n.bgAnimSprite.spriteFrame = e, n.bgAnimSprite.enabled = !0, n.bgSprite.node.runAction(cc.sequence(cc.fadeOut(.5), cc.callFunc(function () {
                                            n.bgSprite.spriteFrame = e,
                                            n.bgSprite.node.opacity = 255,
                                            n.bgAnimSprite.enabled = !1
                                        }))))
                        }) : this.bgSprite.loadSpriteFrame(e)
                    } else
                        this.shipAnim.active = !0
                },
                e.prototype.updateGift = function (t) {
                    this.hasGift || (this._leftGiftTime -= t, this._leftGiftTime < 0 && this.createGift())
                },
                e.prototype.createGift = function () {
                    var t = this;
                    if (this.hasGift || A.default.leftKongTouTime > 0 || !p.default.checkActive("coin_db"))
                        this._leftGiftTime = V.default.coin_rate.time;
                    else {
                        var e = new cc.Node("");
                        e.setContentSize(80, 80),
                        e.addComponent(a.default),
                        e.setParent(this.giftNode),
                        e.setPosition(R.default.Random(-230, 230), 800),
                        e.runAction(cc.moveBy(3, 0, -800).easing(cc.easeOut(2)));
                        var n = c.default.poolManager.get(K.default, "400");
                        n.setParent(e),
                        n.setPosition(0, 100),
                        n.play("idle1"),
                        n.runAction(cc.sequence(cc.sequence(cc.rotateTo(.6, 5), cc.rotateTo(.6, -5)).repeat(2), cc.rotateTo(.3, 0), cc.callFunc(function () {
                                    n.playTwoAnim("idle2", "idle3")
                                }))),
                        this.hasGift = !0,
                        _.default.addClick(e, function () {
                            n.stopAllActions(),
                            c.default.poolManager.put(n),
                            z.default.playSound("box"),
                            l.default.openPanelWithFadeIn(L.default),
                            e.destroy(),
                            t.hasGift = !1,
                            t._leftGiftTime = V.default.coin_rate.time
                        })
                    }
                },
                e.prototype.on_click_btnRank = function () {
                    l.default.openPanelWithFadeIn(y.default)
                },
                e.prototype.on_click_btnSwitch = function () {
                    c.default.sendMsg(u.MSG.UI_CLICK_USER_INFO)
                },
                e.prototype.on_click_btnCoin = function () {
                    l.default.openPanelWithFadeIn(T.default, u.ITEM_ID.COIN)
                },
                e.prototype.on_click_btnQuest = function () {
                    l.default.openPanelWithFadeIn(w.default)
                },
                e.prototype.on_click_btnMore = function () {
                    l.default.openPanelWithFadeIn(P.default)
                },
                e.prototype.on_click_btnUrlAdv = function () {
                    p.default.dispatchAdv("ul_adv", null, !0)
                },
                e.prototype.on_click_btnLottery = function () {
                    l.default.openPanelWithFadeIn(D.default)
                },
                e.prototype.on_click_btnAuto = function () {
                    l.default.openPanelWithFadeIn(U.default)
                },
                e.prototype.on_click_btnShop = function () {
                    l.default.openPanelWithFadeIn(B.default)
                },
                e.prototype.on_click_btnBuy = function () {
                    var t = m.default.instance.getEmptyIndex(!1);
                    if (t < 0)
                        C.default.alertText("No more space ...");
                    else if (u.GuideInfo.bGuideMode)
                        0 == u.GuideInfo._guideCreate ? v.default.createRole(u.GuideInfo.buyQuality, 12) : 1 == u.GuideInfo._guideCreate ? v.default.createRole(u.GuideInfo.buyQuality, 13) : u.GuideInfo.buyFree && v.default.createRole(u.GuideInfo.buyQuality), u.GuideInfo._guideCreate++;
                    else {
                        var e = A.default.buyQuality;
                        b.default.mItem.subItem(u.ITEM_ID.COIN, A.default.getPrice(e), u.ITEM_CHANGE_REASON.MERGE, "") ? (v.default.createRole(e, t), A.default.accPrice(e), this.updateBuyPrice(), this._freeLvTime < G.default.time && p.default.getSwitchCount("free_lv") > 0 && R.default.randomEnable(V.default.free_lvup_alert_rate) && (this._freeLvTime = G.default.time + V.default.free_lvup_delta_time, l.default.openPanelWithFadeIn(q.default, t))) : p.default.checkActive("free_role") ? l.default.openPanelWithFadeIn(Q.default) : C.default.alertNotEnough(u.ITEM_ID.COIN)
                    }
                },
                e.prototype.on_click_btnCard = function () {
                    l.default.openPanelWithFadeIn(F.default)
                },
                e.prototype.on_click_btnProp = function () {
                    l.default.openPanelWithFadeIn(N.default)
                },
                e.prototype.on_click_btnBoss = function () {
                    switch (A.default.bossState) {
                    case A.BOSS_STATE.TIME:
                        C.default.alertText("BOSS will arrive in " + Math.round(A.default.leftBossTime) + " seconds!");
                        break;
                    case A.BOSS_STATE.IDLE:
                        A.default.startBoss();
                        break;
                    case A.BOSS_STATE.PLAY:
                        C.default.alertText("Get rid of the BOSS quickly!")
                    }
                },
                e.prototype.on_click_btnTower0 = function () {
                    u.GuideInfo.bGuideMode || l.default.openPanelWithFadeIn(k.default, 0)
                },
                e.prototype.on_click_btnTower1 = function () {
                    u.GuideInfo.bGuideMode || l.default.openPanelWithFadeIn(k.default, 1)
                },
                e.prototype.on_click_btnTower2 = function () {
                    u.GuideInfo.bGuideMode || l.default.openPanelWithFadeIn(k.default, 2)
                },
                e.prototype.on_click_btnTower3 = function () {
                    u.GuideInfo.bGuideMode || l.default.openPanelWithFadeIn(k.default, 3)
                },
                e.prototype.on_click_btnBossUp = function () {
                    l.default.openPanelWithFadeIn(Z.default)
                },
                e.prototype.on_click_btnInstall = function () {
                    h.default.installShortcut()
                },
                e.prototype.on_click_btnUlMoreGame = function () {
                    h.default.openUlMoreGame()
                },
                e
            }
            (s.default);
            n.default = et;
            var nt = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.create = function () {
                    return i(this, void 0, void 0, function () {
                        var t,
                        e;
                        return r(this, function (n) {
                            return t = new cc.Node,
                            (e = t.addComponent(cc.Widget)).isAlignTop = !0,
                            e.top = 0,
                            e.isAlignBottom = !0,
                            e.bottom = 0,
                            e.isAlignRight = !0,
                            e.right = 0,
                            e.isAlignLeft = !0,
                            e.left = 0,
                            e.updateAlignment(),
                            t.addComponent(cc.BlockInputEvents),
                            this.createFromNode(t),
                            [2]
                        })
                    })
                },
                e.prototype.buildUi = function () {
                    var t;
                    this.registerMsg(((t = {})[u.MSG.UI_MASK_ENABLE] = this.onMsgUiMaskEnable.bind(this), t)),
                    this.startProcMsg()
                },
                e.prototype.dispose = function () {
                    this.stopProcMsg(),
                    t.prototype.dispose.call(this)
                },
                e.prototype.onMsgUiMaskEnable = function () {
                    this.close()
                },
                e
            }
            (s.default);
            cc._RF.pop()
        }, {
            "../GameConfig": "GameConfig",
            "../common/Const": "Const",
            "../component/ModuleLocker": "ModuleLocker",
            "../debug/DebugGame": "DebugGame",
            "../extensions/ActionExt": "ActionExt",
            "../extensions/BaseConst": "BaseConst",
            "../extensions/_G": "_G",
            "../extensions/component/UIButton": "UIButton",
            "../extensions/mgr/mgrAdv": "mgrAdv",
            "../extensions/mgr/mgrAudio": "mgrAudio",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/mgr/mgrRes": "mgrRes",
            "../extensions/mgr/mgrSdk": "mgrSdk",
            "../extensions/module/BaseFacade": "BaseFacade",
            "../extensions/module/mQuest": "mQuest",
            "../extensions/tweener/TweenAlpha": "TweenAlpha",
            "../extensions/tweener/UITweener": "UITweener",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/ui/Spine": "Spine",
            "../extensions/utils/FileRecord": "FileRecord",
            "../extensions/utils/Mathf": "Mathf",
            "../extensions/utils/Timer": "Timer",
            "../extensions/utils/Tools": "Tools",
            "../extensions/utils/UiHelper": "UiHelper",
            "../extensions/widget/SButton": "SButton",
            "../extensions/widget/SSprite": "SSprite",
            "../game/FactoryUnit": "FactoryUnit",
            "../game/GameUtility": "GameUtility",
            "../game/World": "World",
            "../game/unit/Box": "Box",
            "../manager/mgrAlert": "mgrAlert",
            "../manager/mgrGame": "mgrGame",
            "../manager/mgrGuide": "mgrGuide",
            "../utils/GameCross": "GameCross",
            "./PanelAuto": "PanelAuto",
            "./PanelBossUp": "PanelBossUp",
            "./PanelExchange": "PanelExchange",
            "./PanelFreeLvup": "PanelFreeLvup",
            "./PanelFreeRole": "PanelFreeRole",
            "./PanelLevel": "PanelLevel",
            "./PanelLottery": "PanelLottery",
            "./PanelMoreGame": "PanelMoreGame",
            "./PanelOffline": "PanelOffline",
            "./PanelProp": "PanelProp",
            "./PanelQuest": "PanelQuest",
            "./PanelRank": "PanelRank",
            "./PanelShop": "PanelShop",
            "./PanelSign": "PanelSign",
            "./PanelTime": "PanelTime",
            "./PanelTower": "PanelTower"
        }
    ],
    PanelGuide: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "508cbsoqjBExqNw+NKijnQr", "PanelGuide");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i,
            r,
            a = t("../extensions/ui/PanelBase"),
            s = t("../extensions/mgr/mgrPanel"),
            c = t("../extensions/_G"),
            l = t("../extensions/utils/Mathf"),
            u = t("../manager/mgrGuide"),
            d = t("../common/Const"),
            p = t("../extensions/ActionExt"),
            h = t("../extensions/ui/Spine"),
            f = t("../extensions/mgr/mgrAudio");
            (function (t) {
                t.empty = "empty",
                t.update = "update",
                t.wait_time = "wait_time",
                t.wait_click = "wait_click",
                t.wait_msgKey = "wait_msg",
                t.wait_talk = "wait_talk",
                t.wait_free = "wait_free"
            })(i || (i = {})),
            function (t) {
                t.all = "all",
                t.exceptCenter = "center",
                t.none = "none"
            }
            (r = n.MaskStyle || (n.MaskStyle = {}));
            var _ = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.panelLayer = s.PANEL_LAYER.TIP,
                    e.panelStyle = s.PANEL_STYLE.COMMON,
                    e.resourceName = "prefab/ui/PanelGuide",
                    e.maskNode = null,
                    e.leftNode = null,
                    e.rightNode = null,
                    e.topNode = null,
                    e.bottomNode = null,
                    e.centerNode = null,
                    e.fingerAnimNode = null,
                    e.moveFinger = null,
                    e.clickFinger = null,
                    e.msgMask = null,
                    e.headNode = null,
                    e.animLeftNode = null,
                    e.nameLeft = null,
                    e.animRightNode = null,
                    e.nameRight = null,
                    e.msgNode = null,
                    e.msgPnl = null,
                    e.headSprite = null,
                    e.msgLabel = null,
                    e.nameLabel = null,
                    e.msgTip = null,
                    e.guideHead = null,
                    e.dialogSprite = null,
                    e.tipLabel = null,
                    e.blockNode = null,
                    e.btnJump = null,
                    e._exportNodeInfo = {
                        cc_maskNode: "cc.Node",
                        cc_leftNode: "cc.Sprite",
                        cc_rightNode: "cc.Sprite",
                        cc_topNode: "cc.Sprite",
                        cc_bottomNode: "cc.Sprite",
                        cc_centerNode: "cc.Button",
                        cc_fingerAnimNode: "cc.Node",
                        cc_moveFinger: "cc.Sprite",
                        cc_clickFinger: "TweenRotation",
                        cc_msgMask: "cc.Button",
                        cc_headNode: "cc.Sprite",
                        cc_animLeftNode: "cc.Node",
                        cc_nameLeft: "cc.Label",
                        cc_animRightNode: "cc.Node",
                        cc_nameRight: "cc.Label",
                        cc_msgNode: "cc.Node",
                        cc_msgPnl: "cc.Sprite",
                        cc_headSprite: "SpriteSwitcher",
                        cc_msgLabel: "cc.RichText",
                        cc_nameLabel: "cc.Label",
                        cc_msgTip: "cc.Label",
                        cc_guideHead: "cc.Node",
                        cc_dialogSprite: "cc.Sprite",
                        cc_tipLabel: "cc.RichText",
                        cc_blockNode: "cc.Node",
                        cc_btnJump: "cc.Button"
                    },
                    e.curStepIndex = 0,
                    e.curSteps = null,
                    e.curState = i.empty,
                    e._clickHandler = null,
                    e._msgKey = null,
                    e._jumpTag = null,
                    e.curWaitTime = 0,
                    e.leftSpine = null,
                    e.rightSpine = null,
                    e.msgNodeOffset = cc.Vec2.ZERO,
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    var t;
                    this.maskNode.active = !1,
                    this.msgNode.active = !1,
                    this.guideHead.active = !1,
                    this.curSteps = this.context,
                    this.curStepIndex = 0,
                    this.registerMsg(((t = {})[d.MSG.GUIDE_COMPLETE_KEY] = this.onMsgCompleteKey.bind(this), t)),
                    this.startProcMsg(),
                    this.hideMsg(),
                    this.switchToUpdateState()
                },
                e.prototype.dispose = function () {
                    this.stopProcMsg(),
                    this.leftSpine && (c.default.poolManager.put(this.leftSpine), this.leftSpine = null),
                    this.rightSpine && (c.default.poolManager.put(this.rightSpine), this.rightSpine = null),
                    t.prototype.dispose.call(this)
                },
                e.prototype.onMsgCompleteKey = function (t) {
                    this.curState == i.wait_msgKey && t && t == this._msgKey && (this._msgKey = null, this._jumpTag = null, this.switchToUpdateState())
                },
                e.prototype.nextStep = function () {
                    if (this.curStepIndex < this.curSteps.length) {
                        var t = this.curStepIndex++;
                        (0, this.curSteps[t])(this),
                        this.curState == i.update && this.nextStep()
                    } else
                        this.isDisposed || (cc.error("guide index out of range"), this.close())
                },
                e.prototype.switchToUpdateState = function () {
                    this.curState = i.update,
                    this.nextStep()
                },
                e.prototype.update = function (t) {
                    switch (this.curState) {
                    case i.empty:
                        break;
                    case i.update:
                        this.nextStep();
                        break;
                    case i.wait_time:
                        this.curWaitTime -= t,
                        this.curWaitTime <= 0 && this.switchToUpdateState();
                        break;
                    case i.wait_click:
                        break;
                    case i.wait_msgKey:
                        this.curWaitTime -= t,
                        this.curWaitTime <= 0 && (this._msgKey = null, this._jumpTag && (this.gotoTag(this._jumpTag), this._jumpTag = null), this.switchToUpdateState())
                    }
                },
                e.prototype.on_click_centerNode = function () {
                    if (this.curState == i.wait_click) {
                        if (this._clickHandler)
                            try {
                                this._clickHandler()
                            } catch (t) {
                                cc.error("guide on click error:", t),
                                this._clickHandler = null
                            }
                        this.switchToUpdateState()
                    }
                },
                e.prototype.on_click_msgMask = function () {
                    this.curState == i.wait_talk && (this.curState = i.update)
                },
                e.prototype.on_click_btnJump = function () {},
                e.prototype.forceClose = function () {
                    u.default.finish(!1),
                    this.curState,
                    i.empty,
                    this.close()
                },
                e.prototype.closeGuide = function (t) {
                    this.isDisposed || (u.default.finish(t), this.close())
                },
                e.prototype.stop = function () {
                    this.curStepIndex = this.curSteps.length
                },
                e.prototype.moveTo = function (t, e, n) {
                    void 0 === e && (e = 128),
                    void 0 === n && (n = 128);
                    var o = this.resNode.convertToNodeSpaceAR(t),
                    i = c.default.canvasFullWidth,
                    r = c.default.canvasFullHeight;
                    o.x = Math.floor(l.default.Clamp(o.x, .5 * (e - i), .5 * (i - e))),
                    o.y = Math.floor(l.default.Clamp(o.y, .5 * (n - r), .5 * (r - n))),
                    this.centerNode.node.setContentSize(e, n),
                    this.centerNode.node.setPosition(o);
                    var a = .5 * i + o.x - .5 * e;
                    this.leftNode.node.setContentSize(a, r),
                    this.leftNode.node.setPosition(o.x - .5 * (a + e), 0),
                    a = i - a - e,
                    this.rightNode.node.setContentSize(a, r),
                    this.rightNode.node.setPosition(o.x + .5 * (a + e), 0);
                    var s = .5 * r - o.y - .5 * n;
                    this.topNode.node.setContentSize(e, s),
                    this.topNode.node.setPosition(o.x, o.y + .5 * (s + n)),
                    s = r - s - n,
                    this.bottomNode.node.setContentSize(e, s),
                    this.bottomNode.node.setPosition(o.x, o.y - .5 * (s + n))
                },
                e.prototype.showFingerClickAnim = function () {
                    this.clickFinger.node.active = !0,
                    this.moveFinger.node.active = !1,
                    this.centerNode.node.x > .3 * c.default.canvasWidth ? this.fingerAnimNode.setScale(-1, 1) : this.fingerAnimNode.scale = 1,
                    this.fingerAnimNode.stopAllActions(),
                    this.fingerAnimNode.setPosition(0, 0),
                    this.fingerAnimNode.opacity = 0,
                    this.fingerAnimNode.runAction(cc.fadeIn(.2))
                },
                e.prototype.showFingerMoveAnim = function (t, e, n, o) {
                    void 0 === e && (e = cc.Vec2.ZERO),
                    void 0 === n && (n = !1),
                    void 0 === o && (o = 1),
                    this.clickFinger.node.active = !1,
                    this.moveFinger.node.active = !0,
                    this.moveFinger.node.setPosition(e);
                    var i = cc.v2(-t.x, -t.y);
                    this.fingerAnimNode.stopAllActions(),
                    n ? (this.fingerAnimNode.setPosition(t), this.fingerAnimNode.runAction(cc.sequence(cc.moveTo(o, i), cc.moveTo(o, t)).repeat(1e4))) : this.fingerAnimNode.runAction(cc.sequence(cc.place(t), cc.fadeIn(.2), cc.moveTo(o, i), cc.fadeOut(.2)).repeat(1e4))
                },
                e.prototype.setMaskStyle = function (t) {
                    switch (t) {
                    case r.all:
                        this.centerNode.enabled = !0,
                        this.centerNode.getComponent(cc.Sprite).enabled = !0,
                        this.leftNode.getComponent(cc.BlockInputEvents).enabled = !0,
                        this.leftNode.enabled = !0,
                        this.rightNode.getComponent(cc.BlockInputEvents).enabled = !0,
                        this.rightNode.enabled = !0,
                        this.topNode.getComponent(cc.BlockInputEvents).enabled = !0,
                        this.topNode.enabled = !0,
                        this.bottomNode.getComponent(cc.BlockInputEvents).enabled = !0,
                        this.bottomNode.enabled = !0;
                        break;
                    case r.exceptCenter:
                        this.centerNode.enabled = !1,
                        this.centerNode.getComponent(cc.Sprite).enabled = !0,
                        this.leftNode.getComponent(cc.BlockInputEvents).enabled = !0,
                        this.leftNode.enabled = !0,
                        this.rightNode.getComponent(cc.BlockInputEvents).enabled = !0,
                        this.rightNode.enabled = !0,
                        this.topNode.getComponent(cc.BlockInputEvents).enabled = !0,
                        this.topNode.enabled = !0,
                        this.bottomNode.getComponent(cc.BlockInputEvents).enabled = !0,
                        this.bottomNode.enabled = !0;
                        break;
                    case r.none:
                        this.centerNode.enabled = !1,
                        this.centerNode.getComponent(cc.Sprite).enabled = !1,
                        this.leftNode.getComponent(cc.BlockInputEvents).enabled = !1,
                        this.leftNode.enabled = !1,
                        this.rightNode.getComponent(cc.BlockInputEvents).enabled = !1,
                        this.rightNode.enabled = !1,
                        this.topNode.getComponent(cc.BlockInputEvents).enabled = !1,
                        this.topNode.enabled = !1,
                        this.bottomNode.getComponent(cc.BlockInputEvents).enabled = !1,
                        this.bottomNode.enabled = !1
                    }
                },
                e.prototype.setMaskVisible = function (t, e) {
                    void 0 === e && (e = .2),
                    t ? (this.maskNode.active = !0, this.maskNode.stopAllActions(), this.maskNode.opacity = 0, this.maskNode.runAction(cc.fadeIn(e)), this.setMsgMaskVisible(!1)) : this.maskNode.active ? (this.maskNode.stopAllActions(), this.maskNode.runAction(cc.sequence(cc.fadeOut(e), new p.NodeHide))) : this.maskNode.opacity = 0
                },
                e.prototype.setBlockEnabled = function (t) {
                    this.blockNode.active = t
                },
                e.prototype.showMsg = function (t, e, n, o, r) {
                    void 0 === e && (e = 0),
                    void 0 === n && (n = 0),
                    void 0 === o && (o = !1),
                    void 0 === r && (r = !1);
                    var a = this.msgPnl.node;
                    this.msgNode.setPosition(e, n + this.msgNodeOffset.y),
                    a.stopAllActions(),
                    a.scale = 0,
                    a.active = !0,
                    a.runAction(cc.scaleTo(.3, r ? -1 : 1, 1).easing(cc.easeBackOut())),
                    this.msgLabel.string = t,
                    this.msgNode.active = !0,
                    r ? (this.msgLabel.node.setScale(-1, 1), this.nameLabel.node.setScale(-1, 1), this.headSprite.node.setScale(-1, 1), this.headSprite.node.setAnchorPoint(.8, .5)) : (this.msgLabel.node.setScale(1, 1), this.nameLabel.node.setScale(1, 1), this.headSprite.node.setScale(1, 1), this.headSprite.node.setAnchorPoint(.2, .5)),
                    this.msgTip.node.active = !1,
                    o && (this.curState = i.wait_talk)
                },
                e.prototype.setStateToWaitTalk = function () {
                    this.curState = i.wait_talk
                },
                e.prototype.hideMsg = function () {
                    this.msgNode.active = !1
                },
                e.prototype.setMsgNodeOffset = function (t, e) {
                    this.msgNodeOffset.x = t,
                    this.msgNodeOffset.y = e
                },
                e.prototype.showHeadMsg = function (t, e, n, o, r) {
                    var a = this;
                    void 0 === n && (n = 0),
                    void 0 === o && (o = 0),
                    void 0 === r && (r = 0);
                    var s = 0 + o,
                    l = -c.default.canvasHeight / 2 + 130 + r;
                    n > 0 ? this.scheduleOnce(function () {
                        a.showMsg(t, s, l, !1, !e)
                    }, n) : this.showMsg(t, s, l, !1, !e),
                    this.curState = i.wait_free,
                    this.scheduleOnce(function () {
                        a.curState = i.wait_talk
                    }, n + .6)
                },
                e.prototype.setHead = function (t, e) {
                    this.nameLabel.string = t,
                    this.headSprite.switchSprite(e)
                },
                e.prototype.showMsgHead = function (t, e, n, o, i, r) {
                    void 0 === i && (i = 0),
                    void 0 === r && (r = 0);
                    var a = o ? this.leftSpine : this.rightSpine,
                    s = o ? this.animLeftNode : this.animRightNode,
                    l = 0;
                    (a ? a.spineDb.id != t ? (c.default.poolManager.put(a), (a = c.default.poolManager.get(h.default, t)).setParent(s), a.setPosition(i, r), a.setBottom(), o ? this.leftSpine = a : this.rightSpine = a) : a.show() : ((a = c.default.poolManager.get(h.default, t)).setParent(s), a.setBottom(), a.setPosition(i, r), o ? this.leftSpine = a : this.rightSpine = a), a.setScale(o ? 1 : -1, 1), this.headNode.node.active || (this.headNode.node.setPosition(0, -242 + this.msgNodeOffset.y), this.headNode.node.stopAllActions(), this.headNode.node.active = !0, this.headNode.node.setScale(1, 0), this.headNode.node.runAction(cc.scaleTo(.3, 1).easing(cc.easeOut(2))), l = .3), n && a.play(n), s.stopAllActions(), s.setPosition(o ? -500 : 500, -75), s.runAction(cc.sequence(cc.delayTime(l), cc.moveTo(.4, o ? -160 : 160, -75).easing(cc.easeBackOut()))), e) && ((o ? this.nameLeft : this.nameRight).string = e)
                },
                e.prototype.hideMsgHead = function (t) {
                    var e = this,
                    n = t ? this.leftSpine : this.rightSpine;
                    if (n) {
                        var o = t ? this.animLeftNode : this.animRightNode;
                        o.stopAllActions(),
                        o.runAction(cc.sequence(cc.moveTo(.2, t ? -500 : 500, -75).easing(cc.easeOut(2)), cc.callFunc(function () {
                                    n.hide(),
                                    e.checkAnimBg()
                                })))
                    } else
                        this.checkAnimBg()
                },
                e.prototype.playHeadAnim = function (t, e) {
                    var n = e ? this.leftSpine : this.rightSpine;
                    n && n.play(t)
                },
                e.prototype.checkAnimBg = function () {
                    this.leftSpine && this.leftSpine.active || this.rightSpine && this.rightSpine.active || this.headNode.node.runAction(cc.sequence(cc.scaleTo(.3, 1, 0), new p.NodeHide))
                },
                e.prototype.showTip = function (t, e, n) {
                    void 0 === e && (e = 1),
                    void 0 === n && (n = 0),
                    e < .6 && (e = .6, cc.warn("tip: it's better to set time greater than 0.6")),
                    this.msgPnl.node.active = !1,
                    this.msgTip.string = t;
                    var o = this.msgTip.node;
                    o.y = n,
                    o.opacity = 0,
                    o.active = !0,
                    o.runAction(cc.sequence(cc.fadeIn(.3), cc.delayTime(e - .6), cc.fadeOut(.3), cc.callFunc(function () {
                                o.active = !1
                            }))),
                    this.wait(e)
                },
                e.prototype.setMsgMaskVisible = function (t, e, n) {
                    var o = this;
                    void 0 === e && (e = 120),
                    void 0 === n && (n = .3),
                    this.msgMask.node.active = !0,
                    this.msgMask.node.stopAllActions(),
                    t ? this.msgMask.node.runAction(cc.fadeTo(n, e)) : this.msgMask.node.runAction(cc.sequence(cc.fadeOut(n), cc.callFunc(function () {
                                o.msgMask.node.active = !1
                            }))),
                    t && this.setMaskVisible(!1)
                },
                e.prototype.wait = function (t) {
                    this.curWaitTime = t,
                    this.curState = i.wait_time
                },
                e.prototype.showGuideHead = function (t, e, n) {
                    var o,
                    i,
                    r = c.default.canvasHeight * (n - .5);
                    e ? (i = (o = c.default.canvasWidth / 2 - 80) + 200, this.guideHead.setScale(-1, 1), this.tipLabel.node.setScale(-1, 1)) : (i = (o = 80 - c.default.canvasWidth / 2) - 200, this.guideHead.scale = 1, this.tipLabel.node.scale = 1),
                    this.guideHead.active = !0,
                    this.guideHead.stopAllActions(),
                    this.guideHead.setPosition(i, r),
                    this.guideHead.runAction(cc.moveTo(.3, o, r).easing(cc.easeOut(2))),
                    this.tipLabel.string = t,
                    this.dialogSprite.node.setScale(0, 1),
                    this.dialogSprite.node.runAction(cc.scaleTo(.3, 1).easing(cc.easeBackOut()))
                },
                e.prototype.hideGuideHead = function () {
                    var t = this.guideHead.x;
                    t = t > 0 ? c.default.canvasWidth / 2 + 100 : 100 - c.default.canvasWidth / 2,
                    this.guideHead.stopAllActions(),
                    this.guideHead.runAction(cc.sequence(cc.moveTo(.3, t, this.guideHead.y).easing(cc.easeIn(2)), new p.NodeHide)),
                    this.dialogSprite.node.runAction(cc.scaleTo(.2, 0, 1).easing(cc.easeOut(2)))
                },
                e.prototype.gotoTag = function (t) {
                    for (var e = this.curSteps, n = 0; n < e.length; n++)
                        if (e[n] == t)
                            return void(this.curStepIndex = n + 1);
                    cc.error("jumpToTag error")
                },
                e.prototype.setBtnJump = function (t) {
                    var e = this,
                    n = this.btnJump.node;
                    t ? (n.active = !0, n.setPosition(55 - .5 * c.default.canvasWidth, .5 * c.default.canvasHeight - 35), n.off("click"), n.on("click", function () {
                            t(e),
                            e.switchToUpdateState()
                        })) : n.active = !1
                },
                e
            }
            (a.default);
            function m(t) {
                var e = t.split("/");
                if (e && e.length > 0) {
                    var n = s.default.findViewByName(e[0]);
                    if (n) {
                        var o = cc.find(t, s.default.getLayerNode(n.panelLayer));
                        if (o)
                            return o;
                        cc.warn("showFingerTo not found ui:" + t)
                    } else
                        cc.warn("showFingerTo not found panel:" + t)
                } else
                    cc.warn("showFingerTo uiName error:" + t);
                return null
            }
            n.default = _,
            function (t) {
                t.close = function () {
                    return function (t) {
                        t.closeGuide(!1)
                    }
                },
                t.closeAndSave = function () {
                    return function (t) {
                        t.closeGuide(!0)
                    }
                },
                t.click = function (t, e, n, o, a) {
                    return void 0 === o && (o = cc.Vec2.ZERO),
                    void 0 === a && (a = r.all),
                    function (r) {
                        var s = m(t);
                        if (s) {
                            r.setMaskStyle(a);
                            var c = s.convertToWorldSpaceOut(o);
                            r.moveTo(c, e, n),
                            r.showFingerClickAnim(),
                            r._clickHandler = function () {
                                s.emit("click"),
                                s.emit("toggle")
                            },
                            r.curState = i.wait_click
                        } else
                            r.forceClose()
                    }
                },
                t.showFingerTo = function (t, e, n, o, i) {
                    return void 0 === e && (e = 0),
                    void 0 === n && (n = 0),
                    function (r) {
                        var a;
                        if (t instanceof cc.Vec2)
                            a = t;
                        else {
                            var s = m(t);
                            if (!s)
                                return void r.forceClose();
                            a = s.convertToWorldSpaceAR(cc.v2(e, n))
                        }
                        r.setMaskVisible(!0),
                        r.moveTo(a, o, i),
                        r.showFingerClickAnim()
                    }
                },
                t.moveFinger = function (t, e, n) {
                    return function (o) {
                        var i;
                        (i = "string" == typeof t ? m(t).convertToWorldSpaceAR(cc.v2(0, 0)) : t) ? (o.setMaskVisible(!0), o.showFingerMoveAnim(e, void 0, !0, n), o.moveTo(i)) : o.forceClose()
                    }
                },
                t.moveFingerBetween = function (t, e, n, o, i) {
                    return void 0 === i && (i = cc.Vec2.ZERO),
                    function (r) {
                        var a,
                        s;
                        if (t instanceof cc.Vec2)
                            a = t.clone();
                        else {
                            var c = m(t);
                            if (!c)
                                return void r.forceClose();
                            a = c.convertToWorldSpaceAR(cc.Vec2.ZERO)
                        }
                        if (e instanceof cc.Vec2)
                            s = e.clone();
                        else {
                            var l = m(e);
                            if (!l)
                                return void r.forceClose();
                            s = l.convertToWorldSpaceAR(cc.Vec2.ZERO)
                        }
                        a.addSelf(i),
                        s.addSelf(i);
                        var u = a.add(s).divSelf(2);
                        r.moveTo(u, n, o),
                        a.subSelf(u),
                        r.showFingerMoveAnim(a, i.mulSelf(-1))
                    }
                },
                t.setMaskVisible = function (t) {
                    return function (e) {
                        e.setMaskVisible(t)
                    }
                },
                t.showMaskAll = function () {
                    return function (t) {
                        t.setMaskStyle(r.all)
                    }
                },
                t.showMaskExceptCenter = function () {
                    return function (t) {
                        t.setMaskStyle(r.exceptCenter)
                    }
                },
                t.showMaskNone = function () {
                    return function (t) {
                        t.setMaskStyle(r.none)
                    }
                },
                t.showMsg = function (t, e, n, o) {
                    return void 0 === o && (o = !1),
                    function (i) {
                        i.showMsg(t, e, n, o)
                    }
                },
                t.setHead = function (t, e) {
                    return function (n) {
                        n.setHead(t, e)
                    }
                },
                t.showHeadMsg = function (t, e, n, o, i) {
                    return void 0 === n && (n = 0),
                    void 0 === o && (o = 0),
                    void 0 === i && (i = 0),
                    function (r) {
                        r.showHeadMsg(t, e, n, o, i)
                    }
                },
                t.showMsgHead = function (t, e, n, o, i, r) {
                    return void 0 === i && (i = 0),
                    void 0 === r && (r = 0),
                    function (a) {
                        a.showMsgHead(t, e, n, o, i, r)
                    }
                },
                t.hideMsgHead = function (t) {
                    return function (e) {
                        e.hideMsgHead(t)
                    }
                },
                t.playHeadAnim = function (t, e) {
                    return function (n) {
                        n.playHeadAnim(t, e)
                    }
                },
                t.showTip = function (t, e, n) {
                    return function (o) {
                        o.showTip(t, e, n)
                    }
                },
                t.hideMsg = function () {
                    return function (t) {
                        t.hideMsg()
                    }
                },
                t.setMsgMaskVisible = function (t, e, n) {
                    return function (o) {
                        o.setMsgMaskVisible(t, e, n)
                    }
                },
                t.wait = function (t) {
                    return function (e) {
                        e.wait(t)
                    }
                },
                t.waitForKey = function (t, e, n) {
                    return void 0 === e && (e = 1e6),
                    void 0 === n && (n = null),
                    function (o) {
                        o.wait(e),
                        o._msgKey = t,
                        o._jumpTag = n,
                        o.curState = i.wait_msgKey
                    }
                },
                t.callFunc = function (t) {
                    return function (e) {
                        t && t(e)
                    }
                },
                t.setBlockEnabled = function (t) {
                    return function (e) {
                        e.setBlockEnabled(t)
                    }
                },
                t.showGuideHead = function (t, e, n) {
                    return function (o) {
                        o.showGuideHead(t, e, n)
                    }
                },
                t.hideGuideHead = function () {
                    return function (t) {
                        t.hideGuideHead()
                    }
                },
                t.setStateToWaitTalk = function () {
                    return function (t) {
                        t.setStateToWaitTalk()
                    }
                },
                t.gotoTag = function (t) {
                    return function (e) {
                        e.gotoTag(t)
                    }
                },
                t.setBtnJump = function (t) {
                    return function (e) {
                        e.setBtnJump(t)
                    }
                },
                t.saveGuide = function (t, e) {
                    u.default.saveGuideStep(t, e)
                },
                t.playSound = function (t) {
                    return function () {
                        f.default.playSound(t)
                    }
                }
            }
            (n.GUD || (n.GUD = {})),
            cc._RF.pop()
        }, {
            "../common/Const": "Const",
            "../extensions/ActionExt": "ActionExt",
            "../extensions/_G": "_G",
            "../extensions/mgr/mgrAudio": "mgrAudio",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/ui/Spine": "Spine",
            "../extensions/utils/Mathf": "Mathf",
            "../manager/mgrGuide": "mgrGuide"
        }
    ],
    PanelGzg: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "6df3eb4M3NOnZSki6ClAqX1", "PanelGzg");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/ui/PanelBase"),
            r = t("../extensions/utils/UiHelper"),
            a = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.resourceName = "prefab/ui/PanelGzg",
                    e.mask = null,
                    e.bg = null,
                    e.btnClose = null,
                    e._exportNodeInfo = {
                        cc_mask: "cc.Sprite",
                        cc_bg: "cc.Sprite",
                        cc_btnClose: "UIButton"
                    },
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {},
                e.prototype.on_click_btnClose = function () {
                    r.default.playDialogCloseAnim(this.mask.node, this.bg.node, this.close.bind(this))
                },
                e
            }
            (i.default);
            n.default = a,
            cc._RF.pop()
        }, {
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/utils/UiHelper": "UiHelper"
        }
    ],
    PanelLevel: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "b15d0A6kZFIJ5/tiawCE6qE", "PanelLevel");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/ui/PanelBase"),
            r = t("../common/Const"),
            a = t("../game/GameUtility"),
            s = t("../extensions/module/BaseFacade"),
            c = t("../extensions/BaseConst"),
            l = t("../extensions/mgr/mgrPanel"),
            u = t("./PanelCard"),
            d = t("../manager/mgrGame"),
            p = t("../manager/mgrAlert"),
            h = t("./PanelBossUp"),
            f = t("../extensions/utils/Timer"),
            _ = t("../extensions/utils/Tools"),
            m = t("../manager/mgrGuide"),
            g = t("../extensions/mgr/mgrAdv"),
            y = t("../utils/AdvInstOrBanner"),
            v = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.panelLayer = l.PANEL_LAYER.UI,
                    e.panelStyle = l.PANEL_STYLE.FULL,
                    e.resourceName = "prefab/ui/PanelLevel",
                    e.btnClose = null,
                    e.starCount = null,
                    e.easyNode = null,
                    e.btnEasy = null,
                    e.easyBtnName = null,
                    e.easyTimeLabel = null,
                    e.hardNode = null,
                    e.btnHard = null,
                    e.hardBtnName = null,
                    e.hardTimeLabel = null,
                    e.btnUp = null,
                    e._exportNodeInfo = {
                        cc_btnClose: "UIButton",
                        cc_starCount: "cc.Label",
                        cc_easyNode: "cc.Sprite",
                        cc_btnEasy: "UIButton",
                        cc_easyBtnName: "cc.Label",
                        cc_easyTimeLabel: "cc.Label",
                        cc_hardNode: "cc.Sprite",
                        cc_btnHard: "UIButton",
                        cc_hardBtnName: "cc.Label",
                        cc_hardTimeLabel: "cc.Label",
                        cc_btnUp: "UIButton"
                    },
                    e._instOrBanner = new y.default("enter_level", "banner_level"),
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    var t;
                    this.starCount.string = s.default.mItem.getItemCount(r.ITEM_ID.STAR).toString(),
                    this.easyNode.node.scale = 0,
                    this.hardNode.node.scale = 0,
                    this.easyNode.node.runAction(cc.scaleTo(.3, 1).easing(cc.easeBackOut())),
                    this.hardNode.node.runAction(cc.sequence(cc.delayTime(.2), cc.scaleTo(.3, 1).easing(cc.easeBackOut()))),
                    this.registerMsg(((t = {})[c.BASE_MSG.ITEM_CHANGE] = this.onMsgItemChange.bind(this), t[c.BASE_MSG.ADV_SHOW_SUC] = this.onMsgAdvShowSuc.bind(this), t)),
                    this.startProcMsg(),
                    m.default.sendMsgKey(r.GUIDE_MSG.ENTER_LEVEL)
                },
                e.prototype.dispose = function () {
                    this.stopProcMsg(),
                    this._instOrBanner.dispose(),
                    t.prototype.dispose.call(this)
                },
                e.prototype.onFocus = function (e) {
                    t.prototype.onFocus.call(this, e),
                    this._instOrBanner.onFocus(e)
                },
                e.prototype.update = function (t) {
                    var e = s.default.mAutoIncreaseItem.getMaxCount(r.ITEM_ID.EASY),
                    n = s.default.mItem.getItemCount(r.ITEM_ID.EASY);
                    if (this.easyBtnName.string = n + "/" + e, n < e) {
                        var o = s.default.mAutoIncreaseItem.getNextTime(r.ITEM_ID.EASY) - f.default.time;
                        this.easyTimeLabel.string = "Refresh in " + _.default.formatTime(o);
                    } else
                        this.easyTimeLabel.string = "";
                    var i = s.default.mAutoIncreaseItem.getMaxCount(r.ITEM_ID.HARD),
                    a = s.default.mItem.getItemCount(r.ITEM_ID.HARD);
                    if (this.hardBtnName.string = a + "/" + i, a < i) {
                        o = s.default.mAutoIncreaseItem.getNextTime(r.ITEM_ID.HARD) - f.default.time;
                        this.hardTimeLabel.string = "Refresh in " + _.default.formatTime(o);
                    } else
                        this.hardTimeLabel.string = ""
                },
                e.prototype.onMsgItemChange = function (t) {
                    switch (t.itemId) {
                    case r.ITEM_ID.COIN:
                    case r.ITEM_ID.DIAMOND:
                        break;
                    case r.ITEM_ID.STAR:
                        this.starCount.string = s.default.mItem.getItemCount(r.ITEM_ID.STAR).toString()
                    }
                },
                e.prototype.onMsgAdvShowSuc = function (t) {
                    if ("level_count" == t.advName) {
                        var e = s.default.mAutoIncreaseItem.getMaxCount(t.params),
                        n = {
                            itemId: t.params,
                            count: e
                        };
                        s.default.mItem.addItem(n.itemId, n.count, r.ITEM_CHANGE_REASON.ADV_ITEM, ""),
                        p.default.alertItems(n)
                    }
                },
                e.prototype.fillItem = function (t, e, n) {
                    var o = t ? "easy" : "hard";
                    switch (e) {
                    case r.ITEM_ID.COIN:
                        this[o + "Count0"].string = a.default.convertCoinString(n);
                        break;
                    case r.ITEM_ID.DIAMOND:
                        this[o + "Count1"].string = a.default.convertCoinString(n);
                        break;
                    case r.ITEM_ID.STAR:
                        this[o + "Count2"].string = a.default.convertCoinString(n)
                    }
                },
                e.prototype.on_click_btnClose = function () {
                    this.close()
                },
                e.prototype.on_click_btnEasy = function () {
                    s.default.mItem.subItem(r.ITEM_ID.EASY, 1, r.ITEM_CHANGE_REASON.LEVEL, "") ? l.default.openPanelWithFadeIn(u.default, "easy_" + d.default.getLastCardLevel("easy")) : (p.default.alertNotEnough(r.ITEM_ID.EASY), g.default.checkActive("level_count") && p.default.alertAdvDialog("no chance last today\nget it for free?", "Hint", function () {
                            g.default.dispatchAdv("level_count", r.ITEM_ID.EASY, !0)
                        }, "Receive"))
                },
                e.prototype.on_click_btnHard = function () {
                    s.default.mItem.subItem(r.ITEM_ID.HARD, 1, r.ITEM_CHANGE_REASON.LEVEL, "") ? l.default.openPanelWithFadeIn(u.default, "hard_" + d.default.getLastCardLevel("hard")) : (p.default.alertNotEnough(r.ITEM_ID.HARD), g.default.checkActive("level_count") && p.default.alertAdvDialog("no chance last today\nget it for free?", "Hint", function () {
                            g.default.dispatchAdv("level_count", r.ITEM_ID.HARD, !0)
                        }, "Receive"))
                },
                e.prototype.on_click_btnUp = function () {
                    l.default.openPanelWithFadeIn(h.default)
                },
                e
            }
            (i.default);
            n.default = v,
            cc._RF.pop()
        }, {
            "../common/Const": "Const",
            "../extensions/BaseConst": "BaseConst",
            "../extensions/mgr/mgrAdv": "mgrAdv",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/module/BaseFacade": "BaseFacade",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/utils/Timer": "Timer",
            "../extensions/utils/Tools": "Tools",
            "../game/GameUtility": "GameUtility",
            "../manager/mgrAlert": "mgrAlert",
            "../manager/mgrGame": "mgrGame",
            "../manager/mgrGuide": "mgrGuide",
            "../utils/AdvInstOrBanner": "AdvInstOrBanner",
            "./PanelBossUp": "PanelBossUp",
            "./PanelCard": "PanelCard"
        }
    ],
    PanelLoading: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "8e9c8qkUGFEL4YpJwA6bM79", "PanelLoading");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i,
            r,
            a = t("../extensions/ui/PanelBase"),
            s = t("../extensions/utils/Mathf"),
            c = t("../extensions/_G"),
            l = t("../extensions/mgr/mgrPanel"),
            u = t("../extensions/mgr/mgrScene"),
            d = t("../extensions/utils/Timer"),
            p = t("../extensions/BaseConst"),
            h = t("../common/Const");
            (function (t) {
                t[t.progress = 0] = "progress",
                t[t.end = 1] = "end",
                t[t.close = 2] = "close"
            })(i || (i = {})),
            function (t) {
                t[t.Delta = 0] = "Delta",
                t[t.Jump = 1] = "Jump"
            }
            (r || (r = {}));
            var f = 0,
            _ = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.panelLayer = l.PANEL_LAYER.TOP,
                    e.panelStyle = l.PANEL_STYLE.COMMON,
                    e.resourceName = "prefab/ui/PanelLoading",
                    e.spineAnim = null,
                    e.progressLabel = null,
                    e.progressTip = null,
                    e.barSprite = null,
                    e.barLabel = null,
                    e.car = null,
                    e.licenceInfo = null,
                    e._exportNodeInfo = {
                        cc_spineAnim: "cc.Node",
                        cc_progressLabel: "cc.Label",
                        cc_progressTip: "cc.Label",
                        cc_barSprite: "cc.Sprite",
                        cc_barLabel: "cc.Label",
                        cc_car: "cc.Sprite",
                        cc_licenceInfo: "cc.Label"
                    },
                    e.curProgress = null,
                    e.maxProgress = null,
                    e.state = i.progress,
                    e.barSytle = r.Delta,
                    e.startTime = 0,
                    e.halfPathLength = 0,
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    var t;
                    this.state = i.progress,
                    this.licenceInfo.node.active = !1,
                    this.curProgress = 0,
                    this.barSprite.fillRange = 0,
                    this.halfPathLength = this.barSprite.node.width / 2,
                    this.updateCarPos(),
                    u.default.isBusy ? this.maxProgress = 0 : this.maxProgress = 1,
                    this.progressLabel.string = "",
                    this.registerMsg(((t = {})[p.BASE_MSG.RES_LOAD_START] = this.onMsgLoadStart.bind(this), t[p.BASE_MSG.RES_LOAD_PROGRESS] = this.onMsgLoadProgress.bind(this), t[p.BASE_MSG.RES_LOAD_END] = this.onMsgLoadEnd.bind(this), t)),
                    this.startProcMsg()
                },
                e.prototype.dispose = function () {
                    this.stopProcMsg(),
                    t.prototype.dispose.call(this)
                },
                e.prototype.update = function (t) {
                    switch (this.state) {
                    case i.progress:
                        switch (this.barSytle) {
                        case r.Delta:
                            this.curProgress = s.default.Clamp(this.curProgress + .05, 0, this.maxProgress);
                            break;
                        case r.Jump:
                            if ((f = (f + 1) % 5) > 0)
                                return;
                            this.curProgress = this.maxProgress
                        }
                        this.barSprite.fillRange = this.curProgress;
                        Math.round(100 * this.curProgress);
                        this.curProgress >= 1 && (this.state = i.end),
                        this.updateCarPos();
                        break;
                    case i.end:
                        this.state = i.close,
                        this.close(),
                        c.default.sendMsg(h.MSG.LOADING_COMPLETED),
                        console.log("loading time:", s.default.Round(d.default.time - this.startTime, 2));
                        break;
                    case i.close:
                    }
                },
                e.prototype.updateCarPos = function () {
                    var t = s.default.Lerp(-this.halfPathLength, this.halfPathLength, this.curProgress);
                    this.car.node.x = t
                },
                e.prototype.onMsgLoadStart = function (t) {
                    t && (this.progressTip.string = t),
                    this.startTime = d.default.time
                },
                e.prototype.onMsgLoadProgress = function (t) {
                    (t = s.default.Clamp01(t)) > this.maxProgress && (this.maxProgress = t)
                },
                e.prototype.onMsgLoadEnd = function (t) {
                    this.maxProgress = 1,
                    t && this.curProgress < .95 && (this.curProgress = .95)
                },
                e
            }
            (a.default);
            n.default = _,
            cc._RF.pop()
        }, {
            "../common/Const": "Const",
            "../extensions/BaseConst": "BaseConst",
            "../extensions/_G": "_G",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/mgr/mgrScene": "mgrScene",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/utils/Mathf": "Mathf",
            "../extensions/utils/Timer": "Timer"
        }
    ],
    PanelLottery: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "cf2e6l4JyNGY5W2krIW3TRQ", "PanelLottery");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/ui/PanelBase"),
            r = t("../extensions/mgr/mgrPanel"),
            a = t("../manager/mgrGame"),
            s = t("../extensions/mgr/mgrAdv"),
            c = t("../extensions/BaseConst"),
            l = t("../extensions/module/BaseFacade"),
            u = t("../common/Const"),
            d = t("../generate/db"),
            p = t("../manager/mgrAlert"),
            h = t("../GameConfig"),
            f = t("../game/GameUtility"),
            _ = t("../utils/AdvInstOrBanner"),
            m = t("./PanelBox"),
            g = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.panelLayer = r.PANEL_LAYER.UI,
                    e.panelStyle = r.PANEL_STYLE.COMMON,
                    e.resourceName = "prefab/ui/PanelLottery",
                    e.mask = null,
                    e.bg = null,
                    e.item = null,
                    e.arrow = null,
                    e.effectArrow = null,
                    e.effectLight = null,
                    e.btnAdv = null,
                    e.advIcon = null,
                    e.btnAdvCount = null,
                    e.btnBuy = null,
                    e.buyPrice = null,
                    e.btnBuyCount = null,
                    e.btnClose = null,
                    e._exportNodeInfo = {
                        cc_mask: "cc.Sprite",
                        cc_bg: "cc.Node",
                        cc_item: "cc.Node",
                        cc_arrow: "cc.Node",
                        cc_effectArrow: "cc.Node",
                        cc_effectLight: "cc.Node",
                        cc_btnAdv: "UIButton",
                        cc_advIcon: "cc.Sprite",
                        cc_btnAdvCount: "cc.Label",
                        cc_btnBuy: "UIButton",
                        cc_buyPrice: "cc.Label",
                        cc_btnBuyCount: "cc.Label",
                        cc_btnClose: "UIButton"
                    },
                    e._instOrBanner = new _.default("enter_lottery", "banner_lottery"),
                    e.awardIndex = 0,
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    var t;
                    this.items = l.default.mDrop.getAllDropItems(u.DROP_ID.LOTTERY);
                    for (var e = 0; e < this.items.length; e++)
                        if (this.items[e].itemId == u.ITEM_ID.COIN) {
                            this.items[e].count = f.default.convertCoinValue(h.default.lottery_coin_rate * h.calc_offline_per_coin(a.default.curCardMaxQuality + 1));
                            break
                        }
                    for (e = 0; e < 6; e++) {
                        var n = this.item;
                        0 == e || (n = cc.instantiate(n)).setParent(this.item.parent),
                        n.setRotation(60 * e),
                        this.fillItem(n, this.items[e])
                    }
                    this.effectLight.opacity = 0,
                    this.effectArrow.opacity = 0;
                    var o = d.default.get_pay_db(u.PAY_ID.LOTTERY);
                    this.buyPrice.string = o.costCount.toString(),
                    this.btnAdv.node.active = s.default.checkActive("lottery"),
                    this.updateCount(),
                    this.registerMsg(((t = {})[c.BASE_MSG.ADV_SHOW_SUC] = this.onMsgAdvShowSuc.bind(this), t[c.BASE_MSG.SDK_COP_CHANGED] = this.onMsgCopChange.bind(this), t)),
                    this.startProcMsg()
                },
                e.prototype.dispose = function () {
                    this.stopProcMsg(),
                    this._instOrBanner.dispose(),
                    t.prototype.dispose.call(this)
                },
                e.prototype.onFocus = function (e) {
                    t.prototype.onFocus.call(this, e),
                    this._instOrBanner.onFocus(e)
                },
                e.prototype.update = function (t) {
                    this.effectArrow.rotation = 60 * Math.floor(this.arrow.rotation / 60)
                },
                e.prototype.onMsgAdvShowSuc = function (t) {
                    "lottery" == t.advName && this.startRot()
                },
                e.prototype.onMsgCopChange = function () {
                    this.btnAdv.node.active = s.default.checkActive("lottery")
                },
                e.prototype.fillItem = function (t, e) {
                    var n = t.getChildSprite("icon"),
                    o = t.getChildLabel("count"),
                    i = d.default.get_item_db(e.itemId);
                    n.loadSpriteFrame(i.icon),
                    o.string = i.name + "x" + f.default.convertCoinString(e.count)
                },
                e.prototype.startRot = function () {
                    this.btnAdv.interactable = !1,
                    this.btnBuy.interactable = !1,
                    this.btnClose.interactable = !1,
                    this.effectArrow.opacity = 255,
                    this.effectLight.runAction(cc.fadeIn(.1));
                    var t = l.default.mDrop.makeDrop(u.DROP_ID.LOTTERY);
                    if (t && 1 == t.length) {
                        var e = t[0].index,
                        n = e + 30 - this.awardIndex;
                        this.awardIndex = e,
                        this.arrow.runAction(cc.sequence(cc.rotateBy(3, 60 * n).easing(cc.easeOut(2)), cc.callFunc(this.stopRot, this)))
                    } else
                        cc.error("something wrong with lottery:", u.DROP_ID.LOTTERY)
                },
                e.prototype.stopRot = function () {
                    this.btnAdv.interactable = !0,
                    this.btnBuy.interactable = !0,
                    this.btnClose.interactable = !0,
                    this.effectLight.runAction(cc.fadeOut(.1)),
                    this.updateCount();
                    var t = this.items[this.awardIndex];
                    switch (t.itemId) {
                    case u.ITEM_ID.DIAMOND:
                    case u.ITEM_ID.COIN:
                        l.default.mItem.addItem(t.itemId, t.count, u.ITEM_CHANGE_REASON.LOTTERY, ""),
                        p.default.alertItems(t);
                        break;
                    case u.ITEM_ID.SPEED_SCALE:
                    case u.ITEM_ID.DB_ATK:
                    case u.ITEM_ID.DB_COIN:
                    case u.ITEM_ID.AUTO_MERGE:
                        l.default.mItem.subItem(t.itemId, t.count, null, null),
                        p.default.alertItems(t);
                        break;
                    case u.ITEM_ID.BOX1:
                        r.default.openPanelWithFadeIn(m.default)
                    }
                },
                e.prototype.updateCount = function () {
                    this.advIcon.node.active = !a.default.isFreeLottery;
                    var t = a.default.isFreeLottery ? 1 : 0;
                    t += s.default.getSwitchCount("lottery"),
                    this.btnAdvCount.string = "(" + t + "/3)",
                    t <= 0 && (this.btnAdv.node.active = !1),
                    this.btnBuy.interactable = l.default.mPay.getActive(u.PAY_ID.LOTTERY);
                    var e = d.default.get_pay_db(u.PAY_ID.LOTTERY),
                    n = l.default.mSwitch.getCount(e.switchId);
                    this.btnBuyCount.string = "(" + n + "/3)"
                },
                e.prototype.on_click_btnBuy = function () {
                    var t = this;
                    l.default.mPay.isCostEnough(u.PAY_ID.LOTTERY) ? l.default.mPay.buyGoods(u.PAY_ID.LOTTERY, function (e) {
                        e && t.startRot()
                    }) : p.default.alertNotEnough(u.ITEM_ID.DIAMOND)
                },
                e.prototype.on_click_btnClose = function () {
                    this.close()
                },
                e.prototype.on_click_btnAdv = function () {
                    a.default.isFreeLottery ? (this.startRot(), a.default.setLottery()) : s.default.dispatchAdv("lottery", null, !0)
                },
                e
            }
            (i.default);
            n.default = g,
            cc._RF.pop()
        }, {
            "../GameConfig": "GameConfig",
            "../common/Const": "Const",
            "../extensions/BaseConst": "BaseConst",
            "../extensions/mgr/mgrAdv": "mgrAdv",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/module/BaseFacade": "BaseFacade",
            "../extensions/ui/PanelBase": "PanelBase",
            "../game/GameUtility": "GameUtility",
            "../generate/db": "db",
            "../manager/mgrAlert": "mgrAlert",
            "../manager/mgrGame": "mgrGame",
            "../utils/AdvInstOrBanner": "AdvInstOrBanner",
            "./PanelBox": "PanelBox"
        }
    ],
    PanelMoreGame: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "fe195CImxdN+KOFE8OjxFaP", "PanelMoreGame");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/ui/PanelBase"),
            r = t("../extensions/utils/UiHelper"),
            a = t("../extensions/ui/ViewBase"),
            s = t("../extensions/mgr/mgrSdk"),
            c = t("../extensions/mgr/mgrPanel"),
            l = t("../utils/AdvInstOrBanner"),
            u = t("../manager/mgrAlert"),
            d = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.panelLayer = c.PANEL_LAYER.UI,
                    e.resourceName = "prefab/ui/PanelMoreGame",
                    e.mask = null,
                    e.bg = null,
                    e.item = null,
                    e.scroll = null,
                    e.btnClose = null,
                    e.btnMore = null,
                    e._exportNodeInfo = {
                        cc_mask: "UIButton",
                        cc_bg: "cc.Node",
                        cc_item: "cc.Button",
                        cc_scroll: "ReuseScrollList",
                        cc_btnClose: "UIButton",
                        cc_btnMore: "UIButton"
                    },
                    e._instOrBanner = new l.default("enter_more_game", "banner_more_game"),
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    var t = this;
                    r.default.playDialogOpenAnim(this.mask.node, this.bg),
                    this.item.node.active = !1,
                    this.scroll.onItemCreate = function () {
                        var e = cc.instantiate(t.item.node),
                        n = new p;
                        return n.createFromNode(e),
                        n
                    },
                    this.scroll.onItemChange = function (t, e) {
                        t.setGameInfo(s.default.jumpInfo[e])
                    },
                    this.scroll.onItemClear = function (t) {},
                    this.updateList()
                },
                e.prototype.dispose = function () {
                    this.scroll && this.scroll.clearAllItems(),
                    this._instOrBanner.dispose(),
                    t.prototype.dispose.call(this)
                },
                e.prototype.onFocus = function (e) {
                    t.prototype.onFocus.call(this, e),
                    this._instOrBanner.onFocus(e)
                },
                e.prototype.updateList = function () {
                    this.scroll.updateList(s.default.jumpInfo.length)
                },
                e.prototype.playCloseAnim = function () {
                    r.default.playDialogCloseAnim(this.mask.node, this.bg, this.close.bind(this))
                },
                e.prototype.on_click_mask = function () {
                    this.playCloseAnim()
                },
                e.prototype.on_click_item = function () {},
                e.prototype.on_click_btnClose = function () {
                    this.playCloseAnim()
                },
                e.prototype.on_click_btnMore = function () {
                    u.default.alertText("unsupport")
                },
                e
            }
            (i.default);
            n.default = d;
            var p = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.onCreateComplete = function () {
                    var t = this;
                    r.default.addClick(this.resNode, function () {
                        t._gameId && s.default.jumpOtherGame(t._gameId)
                    })
                },
                e.prototype.setGameInfo = function (t) {
                    this._gameId = t.index,
                    this.getComponent(cc.Sprite).loadWebImage(t.url)
                },
                e
            }
            (a.default);
            cc._RF.pop()
        }, {
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/mgr/mgrSdk": "mgrSdk",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/ui/ViewBase": "ViewBase",
            "../extensions/utils/UiHelper": "UiHelper",
            "../manager/mgrAlert": "mgrAlert",
            "../utils/AdvInstOrBanner": "AdvInstOrBanner"
        }
    ],
    PanelNativeAdv: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "a2f85OK0GVGmIneZfoSL2HT", "PanelNativeAdv");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i,
            r = t("../extensions/ui/PanelBase"),
            a = t("../extensions/mgr/mgrAdv"),
            s = t("../extensions/utils/Timer"),
            c = t("../extensions/mgr/mgrPanel"),
            l = t("../extensions/BaseConst");
            (function (t) {
                t[t.None = 0] = "None",
                t[t.Fill = 1] = "Fill",
                t[t.Empty = 2] = "Empty"
            })(i || (i = {}));
            var u = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.panelLayer = c.PANEL_LAYER.TIP,
                    e.resourceName = "prefab/ui/PanelNativeAdv",
                    e.mask = null,
                    e.bg = null,
                    e.title = null,
                    e.btnClose = null,
                    e.icon = null,
                    e.loading = null,
                    e.btnClick = null,
                    e.btnText = null,
                    e.desc = null,
                    e._exportNodeInfo = {
                        cc_mask: "cc.Button",
                        cc_bg: "cc.Button",
                        cc_title: "cc.Label",
                        cc_btnClose: "cc.Button",
                        cc_icon: "cc.Sprite",
                        cc_loading: "cc.Sprite",
                        cc_btnClick: "cc.Button",
                        cc_btnText: "cc.Label",
                        cc_desc: "cc.Label"
                    },
                    e.state = i.None,
                    e.bInited = !1,
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    var t;
                    cc.log("open native ad");
                    var e = this.context.userData;
                    this.userData = e,
                    this.advName = e.advName,
                    this.fillIcon(this.context.nativeData),
                    this.registerMsg(((t = {})[l.BASE_MSG.NATIVE_ADV_LOADED] = this.onMsgNativeAdvLoaded.bind(this), t[l.BASE_MSG.ADV_CLICK_SUC] = this.onMsgAdvClickSuc.bind(this), t)),
                    this.startProcMsg()
                },
                e.prototype.dispose = function () {
                    this.stopProcMsg(),
                    t.prototype.dispose.call(this),
                    a.default.closeAdv(this.advName)
                },
                e.prototype.onMsgNativeAdvLoaded = function (t) {
                    t.userData.advName == this.advName && (this.userData = t.userData, this.loadFromData(t.nativeData))
                },
                e.prototype.onMsgAdvClickSuc = function (t) {
                    var e = this;
                    cc.log("--- > msg onMsgAdvClickSuc"),
                    t.advName == this.advName && s.default.callLater(.1, function () {
                        e.close()
                    })
                },
                e.prototype.loadFromData = function (t) {
                    this.show(),
                    this.fillEmpty(),
                    this.fillIcon(t)
                },
                e.prototype.initClickType = function () {
                    if (!this.bInited)
                        switch (this.bInited = !0, a.default.adv_click_type) {
                        case a.ADV_CLICK_TYPE.ALL_CONTEXT:
                            this.mask.interactable = !1,
                            this.bg.interactable = !1;
                            break;
                        case a.ADV_CLICK_TYPE.FULL_PANEL:
                            this.bg.interactable = !1;
                            break;
                        case a.ADV_CLICK_TYPE.FULL_SCREEN:
                            break;
                        default:
                            this.mask.interactable = !1,
                            this.bg.interactable = !1
                        }
                },
                e.prototype.canFillUi = function () {
                    return !this.isDisposed && this.bInited
                },
                e.prototype.fillIcon = function (t) {
                    if (this.initClickType(), this.state != i.Fill && this.canFillUi()) {
                        if (!t)
                            return cc.log("PanelNativeAdv nativeData is nil"), void this.fillEmpty();
                        this.icon.node.active = !0,
                        this.icon.getComponent(cc.Sprite).spriteFrame = new cc.SpriteFrame(t.icon),
                        this.loading.enabled = !1,
                        this.title.getComponent(cc.Label).string = t.title,
                        this.desc.getComponent(cc.Label).string = t.desc,
                        this.btnText.string = t.targetTitle,
                        this.state = i.Fill,
                        cc.log("PanelNativeAdv fill native icon")
                    }
                },
                e.prototype.fillEmpty = function () {
                    this.initClickType(),
                    this.state != i.Empty && this.canFillUi() && (this.icon.node.active = !1, this.loading.enabled = !0, this.title.getComponent(cc.Label).string = "", this.desc.getComponent(cc.Label).string = "", this.btnText.string = "", this.state = i.Empty, cc.log("PanelNativeAdv fill native empty"))
                },
                e.prototype.on_click_mask = function () {
                    this.on_click_btnClick()
                },
                e.prototype.on_click_btnClose = function () {
                    this.close()
                },
                e.prototype.on_click_btnClick = function () {
                    this.state == i.Fill && (a.default.onNativeAdvClick(this.advName, this.userData), this.fillEmpty())
                },
                e.prototype.on_click_bg = function () {
                    this.on_click_btnClick()
                },
                e.prototype.on_click_title = function () {
                    this.on_click_btnClick()
                },
                e.prototype.on_click_icon = function () {
                    this.on_click_btnClick()
                },
                e.prototype.on_click_desc = function () {
                    this.on_click_btnClick()
                },
                e
            }
            (r.default);
            n.default = u,
            cc._RF.pop()
        }, {
            "../extensions/BaseConst": "BaseConst",
            "../extensions/mgr/mgrAdv": "mgrAdv",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/utils/Timer": "Timer"
        }
    ],
    PanelNativeBanner: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "6c6bfhBQJZASZopHlX6+ZsH", "PanelNativeBanner");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i,
            r = t("../extensions/ui/PanelBase"),
            a = t("../extensions/mgr/mgrAdv"),
            s = t("../extensions/utils/Timer"),
            c = t("../extensions/mgr/mgrPanel"),
            l = t("../extensions/BaseConst");
            (function (t) {
                t[t.None = 0] = "None",
                t[t.Fill = 1] = "Fill",
                t[t.Empty = 2] = "Empty"
            })(i || (i = {}));
            var u = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.panelLayer = c.PANEL_LAYER.TIP,
                    e.resourceName = "prefab/ui/PanelNativeBanner",
                    e.bg = null,
                    e.title = null,
                    e.btnClose = null,
                    e.icon = null,
                    e.loading = null,
                    e.btnText = null,
                    e.desc = null,
                    e._exportNodeInfo = [{
                            fieldName: "bg",
                            filedType: "UIButton",
                            fieldPath: [0]
                        }, {
                            fieldName: "title",
                            filedType: "cc.Label",
                            fieldPath: [0, 0]
                        }, {
                            fieldName: "btnClose",
                            filedType: "cc.Button",
                            fieldPath: [0, 1]
                        }, {
                            fieldName: "icon",
                            filedType: "cc.Sprite",
                            fieldPath: [0, 2]
                        }, {
                            fieldName: "loading",
                            filedType: "cc.Sprite",
                            fieldPath: [0, 3]
                        }, {
                            fieldName: "btnText",
                            filedType: "cc.Label",
                            fieldPath: [0, 4, 0]
                        }, {
                            fieldName: "desc",
                            filedType: "cc.Label",
                            fieldPath: [0, 5]
                        }
                    ],
                    e.state = i.None,
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    var t;
                    cc.log("open native banner ...");
                    var e = this.context.userData;
                    this.userData = e,
                    this.advName = e.advName,
                    this.hide(),
                    this.registerMsg(((t = {})[l.BASE_MSG.NATIVE_ADV_LOADED] = this.onMsgNativeAdvLoaded.bind(this), t[l.BASE_MSG.ADV_CLICK_SUC] = this.onMsgAdvClickSuc.bind(this), t[l.BASE_MSG.ADV_CLOSE_NATIVE_BANNER] = this.onMsgCloseBanner.bind(this), t)),
                    this.startProcMsg()
                },
                e.prototype.setContext = function (e) {
                    t.prototype.setContext.call(this, e);
                    var n = e.userData;
                    this.userData = n,
                    this.advName = n.advName
                },
                e.prototype.dispose = function () {
                    this.stopProcMsg(),
                    t.prototype.dispose.call(this)
                },
                e.prototype.closePanelOnly = function () {
                    this.close()
                },
                e.prototype.close = function () {
                    t.prototype.close.call(this),
                    a.default.closeAdv(this.advName)
                },
                e.prototype.onMsgNativeAdvLoaded = function (t) {
                    t.userData.advName == this.advName && (this.userData = t.userData, this.loadFromData(t.nativeData))
                },
                e.prototype.onMsgAdvClickSuc = function (t) {
                    var e = this;
                    cc.log("--- > msg onMsgAdvClickSuc"),
                    t.advName == this.advName && s.default.callLater(.1, function () {
                        e.close()
                    })
                },
                e.prototype.onMsgCloseBanner = function () {
                    this.closePanelOnly()
                },
                e.prototype.loadFromData = function (t) {
                    this.show(),
                    this.fillEmpty(),
                    this.fillIcon(t)
                },
                e.prototype.canFillUi = function () {
                    return !this.isDisposed
                },
                e.prototype.fillIcon = function (t) {
                    if (this.state != i.Fill && this.canFillUi()) {
                        if (!t)
                            return cc.log("PanelNativeAdv nativeData is nil"), void this.fillEmpty();
                        this.icon.enabled = !0,
                        this.icon.spriteFrame = new cc.SpriteFrame(t.icon),
                        this.loading.enabled = !1,
                        this.title.string = t.title,
                        this.desc.string = t.desc,
                        this.btnText.string = t.targetTitle,
                        this.state = i.Fill,
                        cc.log("PanelNativeAdv fill native icon")
                    }
                },
                e.prototype.fillEmpty = function () {
                    this.state != i.Empty && this.canFillUi() && (this.icon.enabled = !1, this.loading.enabled = !0, this.title.string = "", this.desc.string = "", this.btnText.string = "", this.state = i.Empty, cc.log("PanelNativeAdv fill native empty"))
                },
                e.prototype.on_click_btnClose = function () {
                    this.close()
                },
                e.prototype.on_click_bg = function () {
                    this.state == i.Fill && (a.default.onNativeAdvClick(this.advName, this.userData), this.fillEmpty())
                },
                e
            }
            (r.default);
            n.default = u,
            cc._RF.pop()
        }, {
            "../extensions/BaseConst": "BaseConst",
            "../extensions/mgr/mgrAdv": "mgrAdv",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/utils/Timer": "Timer"
        }
    ],
    PanelNew: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "e39b0PqUYxNHpge/LtQyiaT", "PanelNew");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/ui/PanelBase"),
            r = t("../extensions/_G"),
            a = t("../extensions/ui/Spine"),
            s = t("../common/DbExt"),
            c = t("../extensions/mgr/mgrSdk"),
            l = t("../extensions/utils/UiHelper"),
            u = t("../utils/AdvInstOrBanner"),
            d = t("../manager/mgrGame"),
            p = t("../game/unit/Role"),
            h = t("../manager/mgrGuide"),
            f = t("../manager/mgrAlert"),
            _ = t("../game/World"),
            m = t("../extensions/mgr/mgrAudio"),
            g = t("../extensions/mgr/mgrPanel"),
            y = t("../extensions/BaseConst"),
            v = t("../common/Const"),
            b = t("../extensions/module/BaseFacade"),
            S = t("../GameConfig"),
            A = t("../extensions/utils/Timer"),
            C = t("../extensions/mgr/mgrAdv"),
            I = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.panelLayer = g.PANEL_LAYER.UI,
                    e.resourceName = "prefab/ui/PanelNew",
                    e.mask = null,
                    e.bg = null,
                    e.roleNode = null,
                    e.roleName = null,
                    e.levelLabel = null,
                    e.btnShare = null,
                    e.btnName = null,
                    e.shareAward = null,
                    e.btnClose = null,
                    e.boxNode = null,
                    e.btnBox0 = null,
                    e.btnBox1 = null,
                    e.btnBox2 = null,
                    e._exportNodeInfo = {
                        cc_mask: "cc.Sprite",
                        cc_bg: "cc.Node",
                        cc_roleNode: "cc.Node",
                        cc_roleName: "cc.Label",
                        cc_levelLabel: "cc.Label",
                        cc_btnShare: "UIButton",
                        cc_btnName: "cc.Label",
                        cc_shareAward: "cc.Label",
                        cc_btnClose: "UIButton",
                        cc_boxNode: "cc.Layout",
                        cc_btnBox0: "UIButton",
                        cc_btnBox1: "UIButton",
                        cc_btnBox2: "UIButton"
                    },
                    e._instOrBanner = new u.default("enter_new", "banner_new"),
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    var t,
                    e = this,
                    n = d.default.cardDbs[this.context];
                    this.levelLabel.string = (n.quality + 1).toString(),
                    this.roleName.string = n.name,
                    this.btnShare.node.scale = 0,
                    this.btnClose.node.scale = 0,
                    this.shareAward.string = "Share+" + S.default.share_award,
                    this.btnShare.node.active = c.default.isShareEnabled,
                    this.boxNode.node.active = !1,
                    this._anim = r.default.poolManager.get(a.default, s.default.get_role_view(n)),
                    this._anim.setParent(this.roleNode),
                    this._anim.setPosition(0, 0),
                    this._anim.setScale(1),
                    this._anim.play(p.RoleAnim.Idle),
                    this.roleNode.scale = 0,
                    this.scheduleOnce(function () {
                        var t = e.roleNode.convertToWorldSpaceOut(cc.Vec2.ZERO);
                        f.default.playEffect("2d/anim_node/E_xinka/E_xinka", t, 1.5, .3),
                        e.scheduleOnce(function () {
                            t.y += 15,
                            f.default.playEffect("2d/anim_node/72_hecheng/72_hecheng", t, 1, .5),
                            e.roleNode.runAction(cc.scaleTo(.3, 1).easing(cc.easeBackOut())),
                            e.scheduleOnce(function () {
                                e.btnShare.node.runAction(cc.scaleTo(.3, 1).easing(cc.easeBackOut())),
                                e.btnClose.node.runAction(cc.scaleTo(.3, 1).easing(cc.easeBackOut())),
                                C.default.getActive("new_box") && (e.boxNode.node.active = !0, e.boxNode.node.opacity = 0, e.scheduleOnce(function () {
                                        e.boxNode.node.runAction(cc.fadeIn(.2))
                                    }, .3))
                            }, .5)
                        }, 1.6)
                    }, .1),
                    _.default.instance.pause(),
                    m.default.playSound("new"),
                    this.registerMsg(((t = {})[y.BASE_MSG.SDK_SHARE_SUC] = this.onShareSuc.bind(this), t[y.BASE_MSG.ADV_SHOW_SUC] = this.onMsgAdvShowSuc.bind(this), t)),
                    this.startProcMsg()
                },
                e.prototype.dispose = function () {
                    this.stopProcMsg(),
                    _.default.instance.resume(),
                    this._anim && (this._anim.stopAllActions(), r.default.poolManager.put(this._anim), this._anim = null),
                    this._instOrBanner.dispose(),
                    t.prototype.dispose.call(this),
                    h.default.dispatchGuide("GUD_NEW_CARD_" + this.context)
                },
                e.prototype.onFocus = function (e) {
                    t.prototype.onFocus.call(this, e),
                    this._instOrBanner.onFocus(e)
                },
                e.prototype.onShareSuc = function () {
                    this.stopProcMsg(),
                    A.default.callLater(.6, function () {
                        b.default.mItem.addItem(v.ITEM_ID.DIAMOND, S.default.share_award, v.ITEM_CHANGE_REASON.SHARE, "New"),
                        h.default.isGuiding ? f.default.alertItemsByText({
                            itemId: v.ITEM_ID.DIAMOND,
                            count: S.default.share_award
                        }) : f.default.alertItems({
                            itemId: v.ITEM_ID.DIAMOND,
                            count: S.default.share_award
                        })
                    }),
                    this.on_click_btnClose()
                },
                e.prototype.onMsgAdvShowSuc = function (t) {
                    if ("new_box" == t.advName) {
                        this.close();
                        var e = b.default.mDrop.getAllDropItems(v.DROP_ID.BOX)[this.context - 1];
                        e && (b.default.mItem.addItem(e.itemId, e.count, v.ITEM_CHANGE_REASON.NEW_BOX, ""), h.default.isGuiding ? f.default.alertItemsByText(e) : f.default.alertItems(e))
                    }
                },
                e.prototype.on_click_btnClose = function () {
                    l.default.playDialogCloseAnim(this.mask.node, this.bg, this.close.bind(this))
                },
                e.prototype.on_click_btnShare = function () {
                    c.default.isShareEnabled && c.default.share()
                },
                e.prototype.on_click_btnBox0 = function () {
                    window.tsLog("宝盒1，已添加广告");
                    window.h5api.playAd("new_box", {
                        callback: function() {
                            C.default.dispatchAdv("new_box", null, !0);
                        }
                    });
                },
                e.prototype.on_click_btnBox1 = function () {
                    window.tsLog("宝盒2，已添加广告");
                    window.h5api.playAd("new_box", {
                        callback: function() {
                            C.default.dispatchAdv("new_box", null, !0);
                        }
                    });
                },
                e.prototype.on_click_btnBox2 = function () {
                    window.tsLog("宝盒3，已添加广告");
                    window.h5api.playAd("new_box", {
                        callback: function() {
                            C.default.dispatchAdv("new_box", null, !0);
                        }
                    });
                },
                e
            }
            (i.default);
            n.default = I,
            cc._RF.pop()
        }, {
            "../GameConfig": "GameConfig",
            "../common/Const": "Const",
            "../common/DbExt": "DbExt",
            "../extensions/BaseConst": "BaseConst",
            "../extensions/_G": "_G",
            "../extensions/mgr/mgrAdv": "mgrAdv",
            "../extensions/mgr/mgrAudio": "mgrAudio",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/mgr/mgrSdk": "mgrSdk",
            "../extensions/module/BaseFacade": "BaseFacade",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/ui/Spine": "Spine",
            "../extensions/utils/Timer": "Timer",
            "../extensions/utils/UiHelper": "UiHelper",
            "../game/World": "World",
            "../game/unit/Role": "Role",
            "../manager/mgrAlert": "mgrAlert",
            "../manager/mgrGame": "mgrGame",
            "../manager/mgrGuide": "mgrGuide",
            "../utils/AdvInstOrBanner": "AdvInstOrBanner"
        }
    ],
    PanelOffline: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "63c54ll/bhIrr0L1+bDBXUK", "PanelOffline");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/ui/PanelBase"),
            r = t("../game/GameUtility"),
            a = t("../extensions/utils/UiHelper"),
            s = t("../extensions/mgr/mgrAdv"),
            c = t("../extensions/mgr/mgrPanel"),
            l = t("../manager/mgrGame"),
            u = t("../manager/mgrAlert"),
            d = t("../utils/AdvInstOrBanner"),
            p = t("../extensions/BaseConst"),
            h = t("../GameConfig"),
            f = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.resourceName = "prefab/ui/PanelOffline",
                    e.panelLayer = c.PANEL_LAYER.UI,
                    e.mask = null,
                    e.bg = null,
                    e.awardCount = null,
                    e.awardRate = null,
                    e.btnClose = null,
                    e.btnGet = null,
                    e.btnAdv = null,
                    e._exportNodeInfo = {
                        cc_mask: "cc.Sprite",
                        cc_bg: "cc.Node",
                        cc_awardCount: "cc.Label",
                        cc_awardRate: "cc.Label",
                        cc_btnClose: "cc.Button",
                        cc_btnGet: "cc.Button",
                        cc_btnAdv: "cc.Button"
                    },
                    e._instOrBanner = new d.default("enter_offline", "banner_offline"),
                    e.hasGet = !1,
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    var t;
                    this.mask.node.opacity = 0,
                    this.mask.node.runAction(cc.fadeIn(.2)),
                    a.default.playBreathe(this.btnAdv.node),
                    this.awardCount.string = r.default.convertCoinString(l.default.offlineProfit, !0),
                    s.default.checkActive("offline_db") ? this.btnGet.node.active = h.default.show_btn_offline : (this.btnAdv.node.active = !1, this.awardRate.string = ""),
                    this.registerMsg(((t = {})[p.BASE_MSG.ADV_SHOW_SUC] = this.onMsgShowSuc.bind(this), t)),
                    this.startProcMsg()
                },
                e.prototype.dispose = function () {
                    this.stopProcMsg(),
                    this._instOrBanner.dispose(),
                    t.prototype.dispose.call(this)
                },
                e.prototype.onFocus = function (e) {
                    t.prototype.onFocus.call(this, e),
                    this._instOrBanner.onFocus(e)
                },
                e.prototype.onMsgShowSuc = function (t) {
                    if ("offline_db" == t.advName) {
                        this.close(),
                        this.hasGet = !0;
                        var e = l.default.tryGetOfflineProfit(!0);
                        u.default.alertItems(e)
                    }
                },
                e.prototype.on_click_btnClose = function () {
                    a.default.playDialogCloseAnim(this.mask.node, this.bg, this.close.bind(this)),
                    this.hasGet || l.default.tryGetOfflineProfit()
                },
                e.prototype.on_click_btnGet = function () {
                    this.close(),
                    this.hasGet = !0;
                    var t = l.default.tryGetOfflineProfit();
                    u.default.alertItems(t)
                },
                e.prototype.on_click_btnAdv = function () {
                    window.tsLog("离线奖励，已添加广告");
                    window.h5api.playAd("offline award", {
                        callback: function() {
                            s.default.dispatchAdv("offline_db");
                        }
                    });
                },
                e
            }
            (i.default);
            n.default = f,
            cc._RF.pop()
        }, {
            "../GameConfig": "GameConfig",
            "../extensions/BaseConst": "BaseConst",
            "../extensions/mgr/mgrAdv": "mgrAdv",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/utils/UiHelper": "UiHelper",
            "../game/GameUtility": "GameUtility",
            "../manager/mgrAlert": "mgrAlert",
            "../manager/mgrGame": "mgrGame",
            "../utils/AdvInstOrBanner": "AdvInstOrBanner"
        }
    ],
    PanelOver: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "2dbe2MnlyhEZK3DNaxM4XD+", "PanelOver");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/ui/PanelBase"),
            r = t("../extensions/mgr/mgrPanel"),
            a = t("../extensions/mgr/mgrAdv"),
            s = t("../common/Const"),
            c = t("../manager/mgrAlert"),
            l = t("../manager/mgrGame"),
            u = t("../extensions/module/BaseFacade"),
            d = t("../extensions/mgr/mgrSdk"),
            p = t("../utils/AdvInstOrBanner"),
            h = t("../game/World"),
            f = t("../extensions/BaseConst"),
            _ = t("../game/GameUtility"),
            m = t("../GameConfig"),
            g = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.panelStyle = r.PANEL_STYLE.COMMON,
                    e.resourceName = "prefab/ui/PanelOver",
                    e.mask = null,
                    e.bg = null,
                    e.pnlBg = null,
                    e.titleSwitcher = null,
                    e.descLabel = null,
                    e.winNode = null,
                    e.itemIcon = null,
                    e.itemCount = null,
                    e.loseNode = null,
                    e.btnClose = null,
                    e.btnGet = null,
                    e.btnAdv = null,
                    e.btnIcon = null,
                    e.btnName = null,
                    e.videoNode = null,
                    e.btnVideoShare = null,
                    e.shareVideoName = null,
                    e._exportNodeInfo = {
                        cc_mask: "cc.Sprite",
                        cc_bg: "cc.Node",
                        cc_pnlBg: "cc.Sprite",
                        cc_titleSwitcher: "SpriteSwitcher",
                        cc_descLabel: "cc.Label",
                        cc_winNode: "cc.Node",
                        cc_itemIcon: "cc.Sprite",
                        cc_itemCount: "cc.Label",
                        cc_loseNode: "cc.Node",
                        cc_btnClose: "UIButton",
                        cc_btnGet: "cc.Button",
                        cc_btnAdv: "UIButton",
                        cc_btnIcon: "cc.Sprite",
                        cc_btnName: "cc.Label",
                        cc_videoNode: "cc.Node",
                        cc_btnVideoShare: "UIButton",
                        cc_shareVideoName: "cc.Label"
                    },
                    e.baseCoinCount = 0,
                    e._instOrBanner = new p.default("enter_over", "banner_over"),
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    var t;
                    this.mask.node.opacity = 0,
                    this.mask.node.runAction(cc.fadeIn(.2)),
                    this.bg.setPosition(0, 950),
                    this.bg.runAction(cc.sequence(cc.moveTo(.4, 0, 0).easing(cc.easeBackOut()), cc.delayTime(.1), cc.callFunc(function () {})));
                    var e = this.context,
                    n = a.default.checkActive("over_db") && !s.GuideInfo.bGuideMode;
                    e ? (this.baseCoinCount = m.calc_level_award(l.default.curLevel + 1), this.btnAdv.node.active = n, this.btnGet.node.active = m.default.show_btn_over) : (this.btnIcon.node.active = n, this.btnGet.node.active = !1),
                    this.winNode.active = e,
                    this.loseNode.active = !this.winNode.active,
                    e ? (this.titleSwitcher.switchSprite(0), this.descLabel.string = "Got coins", this.btnName.string = "x2 Free", this.itemCount.string = _.default.convertCoinString(this.baseCoinCount, !0)) : (this.titleSwitcher.switchSprite(1), this.descLabel.string = "Retry to Double Attack Speed", this.btnName.string = "Retry"),
                    this.videoNode.active = d.default.isVideoShareable,
                    this.shareVideoName.string = "record share +" + m.default.share_award,
                    this.registerMsg(((t = {})[f.BASE_MSG.ADV_SHOW_SUC] = this.onMsgAdvShowSuc.bind(this), t[f.BASE_MSG.SDK_VIDEO_SHARE_SUC] = this.onMsgVideoShareSuc.bind(this), t)),
                    this.startProcMsg()
                },
                e.prototype.dispose = function () {
                    d.default.clearShareVideo(),
                    this.stopProcMsg(),
                    this._instOrBanner.dispose(),
                    h.default.instance.loadGame(l.default.lastLevel, l.default.isLastBoss && l.default.atkAccRate > 0),
                    t.prototype.dispose.call(this)
                },
                e.prototype.onFocus = function (e) {
                    t.prototype.onFocus.call(this, e),
                    this._instOrBanner.onFocus(e)
                },
                e.prototype.onMsgAdvShowSuc = function (t) {
                    if ("over_db" == t.advName)
                        if (this.context) {
                            this.close();
                            var e = 2 * this.baseCoinCount;
                            u.default.mItem.addItem(s.ITEM_ID.COIN, e, s.ITEM_CHANGE_REASON.LEVEL, " double"),
                            c.default.alertItems({
                                itemId: s.ITEM_ID.COIN,
                                count: e
                            })
                        } else
                            this.playClose(), l.default.atkAccRate = 1
                },
                e.prototype.onMsgVideoShareSuc = function () {
                    this.videoNode.active = !1,
                    u.default.mItem.addItem(s.ITEM_ID.DIAMOND, m.default.share_award, s.ITEM_CHANGE_REASON.SHARE, " record"),
                    c.default.alertItems({
                        itemId: s.ITEM_ID.DIAMOND,
                        count: m.default.share_award
                    })
                },
                e.prototype.playClose = function () {
                    this.mask.node.runAction(cc.fadeOut(.2)),
                    this.bg.runAction(cc.sequence(cc.moveTo(.5, 0, 950).easing(cc.easeIn(1.5)), cc.callFunc(this.close, this)))
                },
                e.prototype.on_click_btnAdv = function () {
                    window.tsLog("重玩按钮被点击，已添加广告");
                    window.h5api.playAd("retry", {
                        thisObj: this,
                        callback: function() {
                            this.thisObj.btnIcon.node.active ? a.default.dispatchAdv("over_db") : this.thisObj.context || (this.thisObj.playClose(), l.default.atkAccRate = 1)
                        }
                    });

                },
                e.prototype.on_click_btnVideoShare = function () {
                    window.tsLog("on_click_btnVideoShare");
                    d.default.shareVideo()
                },
                e.prototype.on_click_btnClose = function () {
                    this.playClose(),
                    this.baseCoinCount > 0 && u.default.mItem.addItem(s.ITEM_ID.COIN, this.baseCoinCount, s.ITEM_CHANGE_REASON.LEVEL, " x1")
                },
                e.prototype.on_click_btnGet = function () {
                    window.tsLog("on_click_btnGet")
                    this.playClose(),
                    this.baseCoinCount > 0 && (u.default.mItem.addItem(s.ITEM_ID.COIN, this.baseCoinCount, s.ITEM_CHANGE_REASON.LEVEL, "x1"), c.default.alertItems({
                            itemId: s.ITEM_ID.COIN,
                            count: this.baseCoinCount
                        }))
                },
                e
            }
            (i.default);
            n.default = g,
            cc._RF.pop()
        }, {
            "../GameConfig": "GameConfig",
            "../common/Const": "Const",
            "../extensions/BaseConst": "BaseConst",
            "../extensions/mgr/mgrAdv": "mgrAdv",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/mgr/mgrSdk": "mgrSdk",
            "../extensions/module/BaseFacade": "BaseFacade",
            "../extensions/ui/PanelBase": "PanelBase",
            "../game/GameUtility": "GameUtility",
            "../game/World": "World",
            "../manager/mgrAlert": "mgrAlert",
            "../manager/mgrGame": "mgrGame",
            "../utils/AdvInstOrBanner": "AdvInstOrBanner"
        }
    ],
    PanelPay: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "0cd88ex/KZLg5zYUZ3eOXuX", "PanelPay");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/ui/PanelBase"),
            r = t("../extensions/utils/UiHelper"),
            a = t("../extensions/module/BaseFacade"),
            s = t("../common/Const"),
            c = t("../manager/mgrAlert"),
            l = t("../extensions/mgr/mgrPanel"),
            u = t("../generate/db"),
            d = t("../utils/AdvInstOrBanner"),
            p = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.panelLayer = l.PANEL_LAYER.UI,
                    e.panelStyle = l.PANEL_STYLE.COMMON,
                    e.resourceName = "prefab/ui/PanelPay",
                    e.mask = null,
                    e.bg = null,
                    e.title = null,
                    e.btnClose = null,
                    e.btnBuy = null,
                    e.priceLabel = null,
                    e.icon = null,
                    e.count = null,
                    e._exportNodeInfo = {
                        cc_mask: "cc.Sprite",
                        cc_bg: "cc.Sprite",
                        cc_title: "cc.Label",
                        cc_btnClose: "UIButton",
                        cc_btnBuy: "UIButton",
                        cc_priceLabel: "cc.Label",
                        cc_icon: "cc.Sprite",
                        cc_count: "cc.Label"
                    },
                    e._instOrBanner = new d.default("enter_pay", "banner_pay"),
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    var t = u.default.get_pay_db(s.PAY_ID.DIAMOND1);
                    this.priceLabel.string = t.costCount + "Y",
                    this.count.string = t.getCount.toString()
                },
                e.prototype.dispose = function () {
                    this._instOrBanner.dispose(),
                    t.prototype.dispose.call(this)
                },
                e.prototype.onFocus = function (e) {
                    t.prototype.onFocus.call(this, e),
                    this._instOrBanner.onFocus(e)
                },
                e.prototype.on_click_btnClose = function () {
                    r.default.playDialogCloseAnim(this.mask.node, this.bg.node, this.close.bind(this))
                },
                e.prototype.on_click_btnBuy = function () {
                    var t = this;
                    a.default.mPay.buyGoods(s.PAY_ID.DIAMOND1, function (e, n) {
                        t.isDisposed || t.on_click_btnClose(),
                        n && (c.default.alertItems(n), c.default.playDiamondToCurrency(t.btnBuy.node.convertToWorldSpaceOut(cc.Vec2.ZERO), 10))
                    })
                },
                e
            }
            (i.default);
            n.default = p,
            cc._RF.pop()
        }, {
            "../common/Const": "Const",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/module/BaseFacade": "BaseFacade",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/utils/UiHelper": "UiHelper",
            "../generate/db": "db",
            "../manager/mgrAlert": "mgrAlert",
            "../utils/AdvInstOrBanner": "AdvInstOrBanner"
        }
    ],
    PanelProp: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "467afVlaEtGyalKDr6yvAi6", "PanelProp");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/component/UIButton"),
            r = t("../extensions/ui/PanelBase"),
            a = t("../extensions/ui/ViewBase"),
            s = t("../extensions/utils/UiHelper"),
            c = t("../common/Const"),
            l = t("../generate/db"),
            u = t("../extensions/utils/Tools"),
            d = t("../extensions/utils/Timer"),
            p = t("../extensions/module/BaseFacade"),
            h = t("../extensions/mgr/mgrAdv"),
            f = t("../extensions/utils/Mathf"),
            _ = t("../manager/mgrAlert"),
            m = t("../extensions/BaseConst"),
            g = t("../extensions/mgr/mgrSdk"),
            y = t("../extensions/mgr/mgrPanel"),
            v = t("../manager/mgrGuide"),
            b = t("../GameConfig"),
            S = t("../manager/mgrGame"),
            A = t("../game/GameUtility"),
            C = t("../utils/AdvInstOrBanner"),
            I = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.panelLayer = y.PANEL_LAYER.UI,
                    e.panelStyle = y.PANEL_STYLE.COMMON,
                    e.resourceName = "prefab/ui/PanelProp",
                    e.mask = null,
                    e.bg = null,
                    e.btnClose = null,
                    e.toggle0 = null,
                    e.toggle1 = null,
                    e.toggle2 = null,
                    e.item = null,
                    e._exportNodeInfo = {
                        cc_mask: "cc.Sprite",
                        cc_bg: "cc.Node",
                        cc_btnClose: "UIButton",
                        cc_toggle0: "cc.Toggle",
                        cc_toggle1: "cc.Toggle",
                        cc_toggle2: "cc.Toggle",
                        cc_item: "cc.Sprite"
                    },
                    e._instOrBanner = new C.default("enter_prop", "banner_prop"),
                    e.curToggleIndex = -1,
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    var t;
                    switch (this.toggle2.node.active = g.default.isPayEnabled, this.context || 0) {
                    case 0:
                        this.clickToggle(0);
                        break;
                    case 1:
                        this.toggle1.check();
                        break;
                    case 2:
                        this.toggle2.check()
                    }
                    this.registerMsg(((t = {})[m.BASE_MSG.SDK_COP_CHANGED] = this.onMsgCopChange.bind(this), t)),
                    this.startProcMsg()
                },
                e.prototype.dispose = function () {
                    this.stopProcMsg(),
                    this.item0 && (this.item0.dispose(), this.item1.dispose()),
                    this._instOrBanner.dispose(),
                    t.prototype.dispose.call(this)
                },
                e.prototype.onFocus = function (e) {
                    t.prototype.onFocus.call(this, e),
                    this._instOrBanner.onFocus(e)
                },
                e.prototype.onMsgCopChange = function () {
                    this.curToggleIndex >= 0 && this.clickToggle(this.curToggleIndex)
                },
                e.prototype.clickToggle = function (t) {
                    switch (this.curToggleIndex = t, this.item0 || (this.item0 = new T, this.item0.createFromNode(this.item.node), this.item0.setParent(this.item.node.parent), this.item0.setName("item0"), this.item1 = new T, this.item1.createFromNode(cc.instantiate(this.item.node)), this.item1.setParent(this.item.node.parent), this.item1.setName("item1")), t) {
                    case 0:
                        this.item0.setPayId(c.PAY_ID.SPEED_SCALE),
                        this.item1.setPayId(c.PAY_ID.DB_ATK);
                        break;
                    case 1:
                        this.item0.setPayId(c.PAY_ID.DB_COIN),
                        this.item1.setPayId(c.PAY_ID.FREE_COIN);
                        break;
                    case 2:
                        this.item0.setPayId(c.PAY_ID.DIAMOND1),
                        this.item1.setPayId(c.PAY_ID.DIAMOND2)
                    }
                },
                e.prototype.on_click_btnClose = function () {
                    s.default.playDialogCloseAnim(this.mask.node, this.bg, this.close.bind(this))
                },
                e.prototype.on_click_toggle0 = function () {
                    this.clickToggle(0)
                },
                e.prototype.on_click_toggle1 = function () {
                    this.clickToggle(1)
                },
                e.prototype.on_click_toggle2 = function () {
                    this.clickToggle(2)
                },
                e
            }
            (r.default);
            n.default = I;
            var T = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.maxCount = 0,
                    e.deltaTime = 0,
                    e.nextTime = 0,
                    e
                }
                return o(e, t),
                e.prototype.onCreateComplete = function () {
                    var t,
                    e = this;
                    this.icon = this.getChildSprite("icon"),
                    this.desc = this.getChildLabel("desc");
                    var n = this.getChild("layout");
                    this.timeLabel = n.getChildLabel("time"),
                    this.bar = n.getChildSprite("bar/bar"),
                    this.btnBuy = this.getChildComponent("layout/btns/btnBuy", i.default),
                    this.btnAdv = this.getChildComponent("layout/btns/btnAdv", i.default),
                    this.btnPay = this.getChildComponent("layout/btns/btnPay", i.default),
                    this.diamondPrice = this.btnBuy.node.getChildLabel("price"),
                    this.rmbPrice = this.btnPay.node.getChildLabel("price"),
                    s.default.addClick(this.btnBuy.node, function () {
                        e.payDb && (p.default.mPay.isCostEnough(e.payDb.id) ? e.buyNormalGoods() : _.default.alertNotEnough(e.payDb.costItemId))
                    }),
                    s.default.addClick(this.btnAdv.node, function () {
                        window.tsLog("需要确认这是个什么地方1");
                        e.payDb && h.default.dispatchAdv("use_prop", e.payDb.id)
                    }),
                    g.default.isPayEnabled && s.default.addClick(this.btnPay.node, function () {
                        e.payDb && p.default.mPay.buyGoods(e.payDb.id, function (t, n) {
                            n && (_.default.alertItems(n), e.isDisposed || e.setPayId(e.payDb.id))
                        })
                    }),
                    this.registerMsg(((t = {})[m.BASE_MSG.ADV_SHOW_SUC] = this.onMsgShowSuc.bind(this), t)),
                    this.startProcMsg(),
                    v.default.sendMsgKey(c.GUIDE_MSG.ENTER_PROP)
                },
                e.prototype.dispose = function () {
                    this.stopProcMsg(),
                    t.prototype.dispose.call(this)
                },
                e.prototype.onMsgShowSuc = function (t) {
                    "use_prop" == t.advName && t.params == this.payDb.id && this.buyNormalGoods(!0)
                },
                e.prototype.buyNormalGoods = function (t) {
                    var e = this;
                    void 0 === t && (t = !1);
                    var n = this.payDb;
                    p.default.mPay.buyGoods(this.payDb.id, function (t, o) {
                        n.getCount < 0 ? p.default.mItem.subItem(n.getItemId, 1, null, null) || p.default.mAutoIncreaseItem.resetTime(n.getItemId) : _.default.alertItems(o),
                        d.default.callLater(.1, function () {
                            e.isDisposed || e.setPayId(e.payDb.id)
                        })
                    }, t)
                },
                e.prototype.update = function (t) {
                    if (this.nextTime > 0) {
                        var e = this.nextTime - d.default.time;
                        this.timeLabel.string = "Duration  " + u.default.formatTime(e);
                        var n = Math.ceil(e / this.deltaTime);
                        this.bar.fillRange = f.default.Clamp01(n / this.maxCount),
                        e <= 0 && (this.nextTime = 0),
                        this.checkBtn()
                    }
                },
                e.prototype.checkBtn = function () {},
                e.prototype.setPayId = function (t) {
                    var e = l.default.get_pay_db(t);
                    if (this.payDb = e, t == c.PAY_ID.FREE_COIN) {
                        e.getCount = A.default.convertCoinValue(b.default.prop_coin_rate * b.calc_offline_per_coin(S.default.curCardMaxQuality + 1))
                    }
                    p.default.mPay.getActive(t) ? (this.show(), this.icon.loadSpriteFrame(e.icon), this.diamondPrice.string = e.costCount.toString(), this.desc.string = e.desc1, e.getCount < 0 ? this.setItem(e.getItemId) : e.costItemId == c.ITEM_ID.RMB ? this.setPay() : this.setCoin()) : this.hide()
                },
                e.prototype.setItem = function (t) {
                    this.itemId = t,
                    this.timeLabel.node.active = !0,
                    this.bar.node.parent.active = !0,
                    this.btnBuy.node.active = !0,
                    this.btnAdv.node.active = !1,
                    this.btnPay.node.active = !1;
                    var e = p.default.mAutoIncreaseItem.getMaxCount(t),
                    n = p.default.mAutoIncreaseItem.getIncreaseDelta(t),
                    o = p.default.mItem.getItemCount(t);
                    if (o >= e)
                        this.timeLabel.string = "Duration 00:00", this.nextTime = 0, this.bar.fillRange = 0;
                    else {
                        var i = (e - o - 1) * n + p.default.mAutoIncreaseItem.getNextTime(t) - d.default.time;
                        this.nextTime = d.default.time + i,
                        this.maxCount = e,
                        this.deltaTime = n,
                        this.nextTime += .1,
                        this.checkBtn()
                    }
                },
                e.prototype.setCoin = function () {
                    this.itemId = c.ITEM_ID.COIN,
                    this.timeLabel.node.active = !1,
                    this.bar.node.parent.active = !1,
                    this.btnBuy.node.active = !0,
                    this.btnAdv.node.active = h.default.getActive("use_prop"),
                    this.btnPay.node.active = !1,
                    this.nextTime = 0
                },
                e.prototype.setPay = function () {
                    this.timeLabel.node.active = !1,
                    this.bar.node.parent.active = !1,
                    this.btnBuy.node.active = !1,
                    this.btnAdv.node.active = !1,
                    this.btnPay.node.active = !0,
                    this.rmbPrice.string = this.payDb.costCount + "Y",
                    this.nextTime = 0
                },
                e
            }
            (a.default);
            cc._RF.pop()
        }, {
            "../GameConfig": "GameConfig",
            "../common/Const": "Const",
            "../extensions/BaseConst": "BaseConst",
            "../extensions/component/UIButton": "UIButton",
            "../extensions/mgr/mgrAdv": "mgrAdv",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/mgr/mgrSdk": "mgrSdk",
            "../extensions/module/BaseFacade": "BaseFacade",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/ui/ViewBase": "ViewBase",
            "../extensions/utils/Mathf": "Mathf",
            "../extensions/utils/Timer": "Timer",
            "../extensions/utils/Tools": "Tools",
            "../extensions/utils/UiHelper": "UiHelper",
            "../game/GameUtility": "GameUtility",
            "../generate/db": "db",
            "../manager/mgrAlert": "mgrAlert",
            "../manager/mgrGame": "mgrGame",
            "../manager/mgrGuide": "mgrGuide",
            "../utils/AdvInstOrBanner": "AdvInstOrBanner"
        }
    ],
    PanelQuest: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "38609XNAXNL5IaEKOFGyAKv", "PanelQuest");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/component/UIButton"),
            r = t("../extensions/ui/PanelBase"),
            a = t("../extensions/ui/ViewBase"),
            s = t("../extensions/module/BaseFacade"),
            c = t("../extensions/BaseConst"),
            l = t("../extensions/utils/UiHelper"),
            u = t("../extensions/module/mQuest"),
            d = t("../extensions/utils/Mathf"),
            p = t("../generate/db"),
            h = t("../game/GameUtility"),
            f = t("../extensions/mgr/mgrPanel"),
            _ = t("../manager/mgrAlert"),
            m = t("../utils/AdvInstOrBanner"),
            g = t("./WidgetNativeAdv"),
            y = t("../extensions/mgr/mgrAdv"),
            v = t("../extensions/utils/Timer"),
            b = t("../common/Const"),
            S = t("../manager/mgrGuide"),
            A = t("../extensions/utils/Tools"),
            C = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.resourceName = "prefab/ui/PanelQuest",
                    e.panelLayer = f.PANEL_LAYER.UI,
                    e.panelStyle = f.PANEL_STYLE.COMMON,
                    e.mask = null,
                    e.bg = null,
                    e.btnClose = null,
                    e.scroll = null,
                    e.advNode = null,
                    e.questProgress = null,
                    e.btnBox0 = null,
                    e.btnBox1 = null,
                    e.btnBox2 = null,
                    e.item = null,
                    e._exportNodeInfo = {
                        cc_mask: "UIButton",
                        cc_bg: "cc.Node",
                        cc_btnClose: "UIButton",
                        cc_scroll: "ReuseScrollList",
                        cc_advNode: "UIButton",
                        cc_questProgress: "cc.Sprite",
                        cc_btnBox0: "UIButton",
                        cc_btnBox1: "UIButton",
                        cc_btnBox2: "UIButton",
                        cc_item: "UIButton"
                    },
                    e._instOrBanner = new m.default("enter_quest", "banner_quest"),
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    var t,
                    e = this;
                    this.mask.node.opacity = 0,
                    this.mask.node.runAction(cc.fadeIn(.2)),
                    this.item.node.active = !1;
                    var n = 0;
                    this.scroll.onItemCreate = function () {
                        var t = cc.instantiate(e.item.node),
                        o = new I;
                        return o.createFromNode(t),
                        o.setName("item" + n++),
                        o
                    },
                    this.scroll.onItemChange = function (t, n) {
                        t.setQuest(e.quests[n])
                    },
                    this.scroll.onItemClear = function (t) {},
                    this.refreshAch(),
                    this.refreshAchProgress(),
                    y.default.getActive("emb_quest") ? this.embAdv = new g.default("emb_quest", this.advNode.node) : this.advNode.node.active = !1,
                    this.registerMsg(((t = {})[c.BASE_MSG.QUEST_STATE_CHANGE] = this.onMsgQuestStateChange.bind(this), t)),
                    this.startProcMsg(),
                    v.default.callLater(.1, function () {
                        S.default.sendMsgKey(b.GUIDE_MSG.EnterQuest)
                    })
                },
                e.prototype.dispose = function () {
                    this.stopProcMsg(),
                    this.scroll && this.scroll.clearAllItems(),
                    this._instOrBanner.dispose(),
                    this.embAdv && this.embAdv.dispose(),
                    t.prototype.dispose.call(this)
                },
                e.prototype.onFocus = function (e) {
                    t.prototype.onFocus.call(this, e),
                    this._instOrBanner.onFocus(e)
                },
                e.prototype.onMsgQuestStateChange = function (t) {
                    t.questDb.type == c.QUEST_TYPE.ACHIEVEMENT ? (this.refreshAch(), this.scheduleOnce(this.refreshAchProgress.bind(this), .1)) : this.refreshAchProgress()
                },
                e.prototype.refreshAch = function () {
                    var t = s.default.mQuest.getQuestDbByType(c.QUEST_TYPE.ACHIEVEMENT);
                    t.sort(u.sort_quest_db_by_state);
                    for (var e = [], n = 0; n < t.length; n++) {
                        var o = t[n];
                        if ((!o.advName || y.default.getActive(o.advName)) && (s.default.mQuest.isFinish(o.id) || e.push(o), e.length > 2))
                            break
                    }
                    this.quests = e,
                    this.scroll.updateList(this.quests.length)
                },
                e.prototype.refreshAchProgress = function () {
                    var t = s.default.mQuest.getQuestDbByType(c.QUEST_TYPE.ACH_COMPLETION);
                    t.sort(A.default.sort_db_by_order),
                    this._complateQuests = t;
                    for (var e = -1, n = 0; n < 3; n++) {
                        var o = t[n];
                        if (o)
                            switch (s.default.mQuest.query(o.id).state) {
                            case u.QUEST_STATE.FINISHED:
                                var i = this["btnBox" + n];
                                i.interactable = !1,
                                i.node.stopAllActions(),
                                i.node.rotation = 0,
                                i.node.getChildByName("tag").active = !0;
                                break;
                            case u.QUEST_STATE.UPDATEABLE:
                                e = s.default.mQuest.getCurValue(o.id),
                                (i = this["btnBox" + n]).interactable = !1,
                                i.node.getChildByName("tag").active = !1;
                                break;
                            case u.QUEST_STATE.COMMITABLE:
                                i = this["btnBox" + n],
                                l.default.playRotCycle(i.node),
                                i.interactable = !0,
                                i.node.getChildByName("tag").active = !1
                            }
                    }
                    this.questProgress.fillRange = e < 0 ? 1 : cc.misc.clamp01(e / 6)
                },
                e.prototype.commitQuest = function (t) {
                    var e = this._complateQuests[t];
                    if (s.default.mQuest.isCommitable(e.id)) {
                        var n = s.default.mQuest.commit(e.id);
                        n && n.length > 0 && _.default.alertItems(n[0])
                    }
                },
                e.prototype.on_click_mask = function () {
                    this.on_click_btnClose()
                },
                e.prototype.on_click_btnClose = function () {
                    l.default.playDialogCloseAnim(this.mask.node, this.bg, this.close.bind(this))
                },
                e.prototype.on_click_advNode = function () {},
                e.prototype.on_click_btnBox0 = function () {
                    this.commitQuest(0)
                },
                e.prototype.on_click_btnBox1 = function () {
                    this.commitQuest(1)
                },
                e.prototype.on_click_btnBox2 = function () {
                    this.commitQuest(2)
                },
                e.prototype.on_click_item = function () {},
                e
            }
            (r.default);
            n.default = C;
            var I = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.onCreateComplete = function () {
                    var t = this,
                    e = this.resNode;
                    l.default.addClick(e, function () {
                        if (t._questId)
                            if (s.default.mQuest.isCommitable(t._questId)) {
                                var e = s.default.mQuest.commit(t._questId);
                                e && e.length > 0 && _.default.alertItems(e[0])
                            } else
                                _.default.alertText("You can receive rewards after completing the mission!")
                    })
                },
                e.prototype.setQuest = function (t) {
                    var e = this.getChildSprite("bar"),
                    n = this.getChildLabel("barValue"),
                    o = this.getChild("item"),
                    r = l.default.getChildSprite(o, "icon"),
                    a = l.default.getChildLabel(o, "count"),
                    c = this.getChild("tag"),
                    f = this.getChild("tag2"),
                    _ = t.id;
                    this._questId = _;
                    var m = s.default.mQuest.getAwardItems(_);
                    if (m.length > 0) {
                        var g = p.default.get_item_db(m[0].itemId);
                        r.loadSpriteFrame(g.icon),
                        a.string = h.default.convertCoinString(m[0].count)
                    } else
                        cc.error("something wrong with task rewards", _);
                    var y = s.default.mQuest.getCurValue(_),
                    v = s.default.mQuest.getDbValue(_),
                    b = s.default.mQuest.query(_).state;
                    switch (this.getChildLabel("name").string = t.name.replace("max", v.toString()), b) {
                    case u.QUEST_STATE.COMMITABLE:
                        e.fillRange = 1,
                        n.string = v + "/" + v,
                        c.active = !0,
                        f.active = !1,
                        this.resNode.getComponent(i.default).interactable = !0;
                        break;
                    case u.QUEST_STATE.UPDATEABLE:
                        e.fillRange = d.default.Clamp01(y / v),
                        n.string = y + "/" + v,
                        c.active = !1,
                        f.active = !1,
                        this.resNode.getComponent(i.default).interactable = !0;
                        break;
                    case u.QUEST_STATE.FINISHED:
                        e.fillRange = 1,
                        n.string = v + "/" + v,
                        c.active = !1,
                        f.active = !0,
                        this.resNode.getComponent(i.default).interactable = !1
                    }
                },
                e
            }
            (a.default);
            cc._RF.pop()
        }, {
            "../common/Const": "Const",
            "../extensions/BaseConst": "BaseConst",
            "../extensions/component/UIButton": "UIButton",
            "../extensions/mgr/mgrAdv": "mgrAdv",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/module/BaseFacade": "BaseFacade",
            "../extensions/module/mQuest": "mQuest",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/ui/ViewBase": "ViewBase",
            "../extensions/utils/Mathf": "Mathf",
            "../extensions/utils/Timer": "Timer",
            "../extensions/utils/Tools": "Tools",
            "../extensions/utils/UiHelper": "UiHelper",
            "../game/GameUtility": "GameUtility",
            "../generate/db": "db",
            "../manager/mgrAlert": "mgrAlert",
            "../manager/mgrGuide": "mgrGuide",
            "../utils/AdvInstOrBanner": "AdvInstOrBanner",
            "./WidgetNativeAdv": "WidgetNativeAdv"
        }
    ],
    PanelQueue: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "93bf5lSK/lN0o/iVxh+VaUG", "PanelQueue");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../MsgHandler"),
            r = t("../mgr/mgrPanel"),
            a = t("../BaseConst"),
            s = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_Dirty = !1,
                    e.m_panelQueue = [],
                    e
                }
                return o(e, t),
                e.prototype.onLoad = function () {
                    var t;
                    this.m_MsgHandler = new i.default,
                    this.m_MsgHandler.registerListeners(((t = {})[a.BASE_MSG.UI_PANEL_CLOSED] = this.onMsgPanelClosed.bind(this), t)),
                    this.m_MsgHandler.startProcMsg()
                },
                e.prototype.onDestroy = function () {
                    this.m_MsgHandler.stopProcMsg()
                },
                e.prototype.update = function (t) {
                    this.m_Dirty && (this.m_Dirty = !1, this.openPanelFromQueue())
                },
                e.prototype.onMsgPanelClosed = function (t) {
                    this.m_Dirty = !0
                },
                e.prototype.openPanelWithPriority = function (t, e, n, o) {
                    void 0 === n && (n = 0),
                    void 0 === o && (o = !0),
                    o && (this.m_Dirty = !0);
                    var i = this.m_panelQueue;
                    if (i.length > 0)
                        for (var r = 0; r < i.length; r++)
                            if (i[r].priority > n)
                                return void i.splice(r, 0, {
                                    panel: t,
                                    context: e,
                                    priority: n
                                });
                    i.push({
                        panel: t,
                        context: e,
                        priority: n
                    })
                },
                e.prototype.openPanelFromQueue = function () {
                    if (this.m_panelQueue.length > 0) {
                        var t = this.m_panelQueue.pop();
                        r.default.openPanel(t.panel, t.context, this.m_panelQueue.length > 0)
                    }
                },
                e
            }
            (cc.Component);
            n.default = s,
            cc._RF.pop()
        }, {
            "../BaseConst": "BaseConst",
            "../MsgHandler": "MsgHandler",
            "../mgr/mgrPanel": "mgrPanel"
        }
    ],
    PanelRankAnim: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "52407V+yrRGD4dECpY1qSul", "PanelRankAnim");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/ui/PanelBase"),
            r = t("../extensions/mgr/mgrPanel"),
            a = t("../extensions/utils/UiHelper"),
            s = t("../GameConfig"),
            c = t("../common/Const"),
            l = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.resourceName = "prefab/ui/PanelRankAnim",
                    e.mask = null,
                    e.bg = null,
                    e.scroll = null,
                    e.rankTitle = null,
                    e.upSec = null,
                    e.upMask = null,
                    e.upBg = null,
                    e.ps = null,
                    e._exportNodeInfo = [{
                            fieldName: "mask",
                            filedType: "cc.Sprite",
                            fieldPath: [0]
                        }, {
                            fieldName: "bg",
                            filedType: "cc.Sprite",
                            fieldPath: [1]
                        }, {
                            fieldName: "scroll",
                            filedType: "ReuseScrollList",
                            fieldPath: [1, 1]
                        }, {
                            fieldName: "rankTitle",
                            filedType: "cc.Label",
                            fieldPath: [1, 3]
                        }, {
                            fieldName: "upSec",
                            filedType: "cc.Node",
                            fieldPath: [2]
                        }, {
                            fieldName: "upMask",
                            filedType: "cc.Sprite",
                            fieldPath: [2, 0]
                        }, {
                            fieldName: "upBg",
                            filedType: "cc.Node",
                            fieldPath: [2, 1]
                        }, {
                            fieldName: "ps",
                            filedType: "cc.ParticleSystem",
                            fieldPath: [2, 2]
                        }
                    ],
                    e
                }
                return o(e, t),
                e.showRank = function (t, n, o, i, a, s, c) {
                    r.default.openPanel(e, {
                        rank1: t,
                        sec1: n,
                        list1: o,
                        rank2: i,
                        sec2: a,
                        list2: s,
                        onClose: c
                    })
                },
                e.prototype.buildUi = function () {
                    var t = this;
                    this._rank1 = this.context.rank1,
                    this._sec1 = this.context.sec1,
                    this._list1 = this.context.list1,
                    this._rank2 = this.context.rank2,
                    this._sec2 = this.context.sec2,
                    this._list2 = this.context.list2,
                    this.scroll.onItemCreate = function () {
                        return new RankItem
                    },
                    this.scroll.onItemChange = function (e, n) {
                        var o = t.curRankList[n];
                        o ? e.setData(o, !1, !1) : e.hide()
                    },
                    this.scroll.onItemClear = function (t) {
                        t.dispose()
                    },
                    this.curRankList = this._list1,
                    this.scroll.updateList(this.curRankList.length, this._rank1 - 1);
                    var e = s.default.RANK_DATA[c.RankName.Rank1][this._sec1];
                    this.rankTitle.string = e.subTitle + "(" + e.title + ")",
                    this._myRankItem = new RankItem,
                    this._myRankItem.setParent(this.bg.node),
                    this._myRankItem.callIfLoaded(function () {
                        t._list2 ? t._myRankItem.setData(t._list2[t._rank2 - 1], !0, !1) : t._myRankItem.setData(t._list1[t._rank2 - 1], !0, !1);
                        var e = t.scroll.getItem(t._rank1 - 1).convertToWorldSpaceAR(cc.Vec2.ZERO);
                        e = t.bg.node.convertToNodeSpaceAR(e),
                        t._myRankItem.setPosition(e),
                        t.scheduleOnce(t.startAnim.bind(t), .5)
                    })
                },
                e.prototype.dispose = function () {
                    this.scroll && this.scroll.clearAllItems(),
                    this._myRankItem && this._myRankItem.dispose(),
                    t.prototype.dispose.call(this)
                },
                e.prototype.close = function () {
                    this.context.onClose && this.context.onClose(),
                    t.prototype.close.call(this)
                },
                e.prototype.startAnim = function () {
                    this._myRankItem.runAction(cc.sequence(cc.scaleTo(.3, 1.1).easing(cc.easeBackOut()), cc.callFunc(this.startScrollAnim, this)))
                },
                e.prototype.startScrollAnim = function () {
                    this._list2 ? this.scroll.centerTo(0, .7) : this.scroll.centerTo(this._rank2 - 1, .7),
                    this.scheduleOnce(this.checkSection.bind(this), .75)
                },
                e.prototype.checkSection = function () {
                    var t = this;
                    this._list2 ? (this.upSec.active = !0, this.upMask.node.opacity = 0, this.upMask.node.runAction(cc.fadeTo(.3, 180)), this.upBg.setScale(0), this.upBg.runAction(cc.scaleTo(.4, 1).easing(cc.easeBackOut())), this.scheduleOnce(function () {
                            var e = t.rankTitle.node.convertToWorldSpaceAR(cc.Vec2.ZERO),
                            n = t.upSec.convertToNodeSpaceAR(e);
                            t.upBg.runAction(cc.sequence(cc.spawn(cc.moveTo(.5, n), cc.scaleTo(.5, 0).easing(cc.easeBackIn())), cc.callFunc(function () {
                                        var e = s.default.RANK_DATA[c.RankName.Rank1][t._sec2];
                                        t.rankTitle.string = e.subTitle + "(" + e.title + ")",
                                        a.default.playBigSmallOnce(t.rankTitle.node, .1, 1, 1.3),
                                        t.upSec.active = !1
                                    }))),
                            t.upMask.node.runAction(cc.fadeOut(.2)),
                            t.scheduleOnce(function () {
                                t.curRankList = t._list2,
                                t.scroll.updateList(t.curRankList.length, t.curRankList.length - 1),
                                t.scroll.centerTo(t._rank2 - 1, .7),
                                t.scheduleOnce(t.finishAnim.bind(t), .75)
                            }, 1)
                        }, 1)) : this.finishAnim()
                },
                e.prototype.finishAnim = function () {
                    var t = this,
                    e = this.scroll.getItem(this._rank2 - 1).convertToWorldSpaceAR(cc.Vec2.ZERO);
                    e = this.bg.node.convertToNodeSpaceAR(e),
                    this._myRankItem.runAction(cc.sequence(cc.moveTo(.5, e).easing(cc.easeInOut(2)), cc.scaleTo(.2, 1), cc.delayTime(1), cc.callFunc(function () {
                                a.default.playDialogCloseAnim(t.mask.node, t.bg.node, t.close.bind(t))
                            })))
                },
                e
            }
            (i.default);
            n.default = l,
            cc._RF.pop()
        }, {
            "../GameConfig": "GameConfig",
            "../common/Const": "Const",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/utils/UiHelper": "UiHelper"
        }
    ],
    PanelRank: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "d9fb2uxTllDppRHFfPytpuI", "PanelRank");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/ui/PanelBase"),
            r = t("../manager/mgrRank"),
            a = t("../extensions/mgr/mgrPanel"),
            s = t("../common/Const"),
            c = t("../extensions/utils/UiHelper"),
            l = t("../extensions/ui/ViewBase"),
            u = t("../extensions/mgr/mgrSdk"),
            d = t("../extensions/mgr/mgrRes"),
            p = t("../extensions/mgr/mgrAdv"),
            h = t("./WidgetNativeAdv"),
            f = t("../utils/AdvInstOrBanner"),
            _ = t("../utils/MoreGameBanner"),
            m = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.panelLayer = a.PANEL_LAYER.UI,
                    e.resourceName = "prefab/ui/PanelRank",
                    e.mask = null,
                    e.bg = null,
                    e.bgClose = null,
                    e.scroll = null,
                    e.advNode = null,
                    e.selfItem = null,
                    e.btnShare = null,
                    e.rankItem = null,
                    e._exportNodeInfo = {
                        cc_mask: "cc.Sprite",
                        cc_bg: "cc.Node",
                        cc_bgClose: "UIButton",
                        cc_scroll: "ReuseScrollList",
                        cc_advNode: "UIButton",
                        cc_selfItem: "cc.Node",
                        cc_btnShare: "UIButton",
                        cc_rankItem: "cc.Node"
                    },
                    e._instOrBanner = new f.default("enter_rank", "banner_rank"),
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    var t,
                    e = this;
                    this.mask.node.opacity = 0,
                    this.mask.node.runAction(cc.fadeIn(.2)),
                    this.rankItem.active = !1,
                    this.scroll.onItemCreate = function () {
                        var t = new g,
                        n = cc.instantiate(e.rankItem);
                        return t.createFromNode(n),
                        t.show(),
                        t.setScale(0),
                        t.runAction(cc.scaleTo(.2, 1)),
                        t
                    },
                    this.scroll.onItemChange = function (t, e) {
                        var n = r.default.rankDatas[0][e];
                        t.setData(n)
                    },
                    this.scroll.onItemClear = function (t) {},
                    this.myRank = new g,
                    this.myRank.createFromNode(this.selfItem),
                    this.myRank.hide(),
                    this.switchRank(),
                    this.btnShare.node.active = u.default.isShareEnabled,
                    p.default.getActive("emb_rank") ? this.embAdv = new h.default("emb_rank", this.advNode.node) : this.advNode.node.active = !1,
                    this.registerMsg(((t = {})[s.MSG.RECEIVE_RANK_DATA] = this.onMsgReceiveRankData.bind(this), t[s.MSG.RECEIVE_SELF_RANK_DATA] = this.onMsgReceiveSelfRankData.bind(this), t)),
                    this.startProcMsg()
                },
                e.prototype.dispose = function () {
                    this.stopProcMsg(),
                    this._instOrBanner.dispose(),
                    this.scroll && this.scroll.clearAllItems(),
                    this.embAdv && this.embAdv.dispose(),
                    t.prototype.dispose.call(this)
                },
                e.prototype.onFocus = function (e) {
                    t.prototype.onFocus.call(this, e),
                    this._instOrBanner.onFocus(e),
                    _.default.setBannerVisible(e)
                },
                e.prototype.onMsgReceiveRankData = function () {
                    u.default.h5_channel != u.H5_CHANNEL.WEIXIN && this.fillRank()
                },
                e.prototype.onMsgReceiveSelfRankData = function () {
                    u.default.h5_channel != u.H5_CHANNEL.WEIXIN && this.fillSelfRank()
                },
                e.prototype.switchRank = function () {
                    0 == r.default.rankDatas[0].length ? r.default.requestRankData() : (this.fillRank(), this.fillSelfRank())
                },
                e.prototype.fillRank = function () {
                    if (0 != r.default.rankDatas[0].length) {
                        this.scroll.isAutoScrolling() && this.scroll.stopAutoScroll();
                        var t = r.default.rankDatas[0];
                        this.scroll.updateList(t.length)
                    } else
                        cc.error("no paihang data found")
                },
                e.prototype.fillSelfRank = function () {
                    var t = this,
                    e = r.default.playerRankData[0];
                    if (e) {
                        this.myRank.show(),
                        this.myRank.setData(e);
                        for (var n = r.default.rankDatas[0], o = function (o) {
                            if (n[o].uid == e.uid)
                                return i.scroll.scheduleOnce(function () {
                                    t.scroll.isAutoScrolling() || t.scroll.centerTo(o, .5)
                                }, .6) , "break"
                            }, i = this, a = 0; a < n.length; a++) {
                                if ("break" === o(a))
                                    break
                            }
                    }
                },
                e.prototype.on_click_bgClose = function () {
                    c.default.playDialogCloseAnim(this.mask.node, this.bg, this.close.bind(this))
                },
                e.prototype.on_click_btnShare = function () {
                    u.default.share()
                },
                e.prototype.on_click_advNode = function () {},
                e
            }
            (i.default);
            n.default = m;
            var g = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.onCreateComplete = function () {
                    this._ranks = this.getChildSwitcher("ranks"),
                    this._rankl = this.getChildLabel("rankl"),
                    this._name = this.getChildLabel("name"),
                    this._scroe = this.getChildLabel("scroe")
                },
                e.prototype.setData = function (t) {
                    var e = this;
                    if (t.rank < 4 ? (this._ranks.switchSprite(t.rank - 1), this._rankl.string = "") : (this._ranks.switchSprite(-1), this._rankl.string = t.rank.toString()), this._head)
                        if (t.headUrl) {
                            this._head.enabled = !0;
                            var n = t.headUrl.replace("https://", "http://");
                            d.default.loadImageFromWeb(n, function (t) {
                                cc.isValid(e._head) && (e._head.spriteFrame = new cc.SpriteFrame(t))
                            })
                        } else
                            this._head.enabled = !1;
                    this._name.string = t.name,
                    this._scroe.string = t.score + " stages"
                },
                e
            }
            (l.default);
            cc._RF.pop()
        }, {
            "../common/Const": "Const",
            "../extensions/mgr/mgrAdv": "mgrAdv",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/mgr/mgrRes": "mgrRes",
            "../extensions/mgr/mgrSdk": "mgrSdk",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/ui/ViewBase": "ViewBase",
            "../extensions/utils/UiHelper": "UiHelper",
            "../manager/mgrRank": "mgrRank",
            "../utils/AdvInstOrBanner": "AdvInstOrBanner",
            "../utils/MoreGameBanner": "MoreGameBanner",
            "./WidgetNativeAdv": "WidgetNativeAdv"
        }
    ],
    PanelSetting: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "d8bb17XreVDXIBYLs6v49i3", "PanelSetting");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/ui/PanelBase"),
            r = t("../extensions/mgr/mgrAudio"),
            a = t("../extensions/mgr/mgrPanel"),
            s = t("../extensions/mgr/mgrSdk"),
            c = t("../manager/mgrAlert"),
            l = t("../debug/DebugMain"),
            u = t("../extensions/utils/UiHelper"),
            d = t("../utils/AdvInstOrBanner"),
            p = t("../utils/MoreGameBanner"),
            h = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.panelLayer = a.PANEL_LAYER.UI,
                    e.resourceName = "prefab/ui/PanelSetting",
                    e.mask = null,
                    e.bg = null,
                    e.btnClose = null,
                    e.btnOpenCdk = null,
                    e.toggleSound = null,
                    e.toggleVedio = null,
                    e.cdkeyNode = null,
                    e.cdKeyBox = null,
                    e.btnCdkeyOk = null,
                    e._exportNodeInfo = {
                        cc_mask: "cc.Sprite",
                        cc_bg: "cc.Sprite",
                        cc_btnClose: "UIButton",
                        cc_btnOpenCdk: "cc.Button",
                        cc_toggleSound: "cc.Toggle",
                        cc_toggleVedio: "cc.Toggle",
                        cc_cdkeyNode: "cc.Node",
                        cc_cdKeyBox: "cc.EditBox",
                        cc_btnCdkeyOk: "UIButton"
                    },
                    e._instOrBanner = new d.default("enter_setting", "banner_setting"),
                    e.clickCount = 0,
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    this.toggleSound.isChecked = r.default.musicEnabled,
                    this.toggleVedio.node.active = s.default.isSupportRecordShare,
                    this.toggleVedio.isChecked = s.default.isAutoRecordVideo,
                    this.cdkeyNode.active = s.default.cdkeyEnabled
                },
                e.prototype.dispose = function () {
                    this._instOrBanner.dispose(),
                    t.prototype.dispose.call(this)
                },
                e.prototype.onFocus = function (e) {
                    t.prototype.onFocus.call(this, e),
                    this._instOrBanner.onFocus(e),
                    p.default.setBannerVisible(e)
                },
                e.prototype.tryOpenDebug = function (t) {
                    var e = (new Date).getHours();
                    return cc.log(e),
                    t === "ul_" + e && (a.default.openPanelWithSingleton(l.default), !0)
                },
                e.prototype.on_click_btnClose = function () {
                    this.btnClose.interactable = !1,
                    u.default.playDialogCloseAnim(this.mask.node, this.bg.node, this.close.bind(this))
                },
                e.prototype.on_click_btnCdkeyOk = function () {
                    var t = this.cdKeyBox.string;
                    t ? this.tryOpenDebug(t) ? this.close() : s.default.sendCDK(t) : c.default.alertText("input code please")
                },
                e.prototype.on_click_btnOpenCdk = function () {
                    this.clickCount++,
                    this.clickCount > 20 && (this.cdkeyNode.active = !0)
                },
                e.prototype.on_click_toggleSound = function () {
                    var t = this.toggleSound.isChecked;
                    r.default.soundEnabled = t,
                    r.default.musicEnabled = t
                },
                e.prototype.on_click_toggleVedio = function () {
                    s.default.setAutoRecordVideo(this.toggleVedio.isChecked),
                    s.default.isAutoRecordVideo || (s.default.stopRecordVideo(), s.default.clearShareVideo())
                },
                e
            }
            (i.default);
            n.default = h,
            cc._RF.pop()
        }, {
            "../debug/DebugMain": "DebugMain",
            "../extensions/mgr/mgrAudio": "mgrAudio",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/mgr/mgrSdk": "mgrSdk",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/utils/UiHelper": "UiHelper",
            "../manager/mgrAlert": "mgrAlert",
            "../utils/AdvInstOrBanner": "AdvInstOrBanner",
            "../utils/MoreGameBanner": "MoreGameBanner"
        }
    ],
    PanelShare: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "9b99973hCBJqrvI8l2yyvaS", "PanelShare");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i,
            r = t("../extensions/ui/PanelBase"),
            a = t("../extensions/ui/ViewBase"),
            s = t("../GameConfig"),
            c = t("../extensions/utils/UiHelper"),
            l = t("../extensions/mgr/mgrSdk"),
            u = t("../extensions/utils/FileRecord"),
            d = t("../extensions/BaseConst"),
            p = t("../extensions/utils/Tools"),
            h = t("../extensions/utils/Mathf"),
            f = t("../extensions/mgr/mgrPanel"),
            _ = t("../extensions/module/BaseFacade"),
            m = t("../common/Const"),
            g = t("../manager/mgrAlert"),
            y = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.panelLayer = f.PANEL_LAYER.UI,
                    e.panelStyle = f.PANEL_STYLE.COMMON,
                    e.resourceName = "prefab/ui/PanelShare",
                    e.mask = null,
                    e.bg = null,
                    e.btnClose = null,
                    e.item = null,
                    e.scroll = null,
                    e.btnShare = null,
                    e._exportNodeInfo = {
                        cc_mask: "cc.Sprite",
                        cc_bg: "cc.Node",
                        cc_btnClose: "UIButton",
                        cc_item: "cc.Sprite",
                        cc_scroll: "ReuseScrollList",
                        cc_btnShare: "UIButton"
                    },
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    var t,
                    e = this;
                    this.item.node.scale = 0,
                    this.item.node.active = !1,
                    this.scroll.onItemCreate = function () {
                        var t = new v,
                        n = cc.instantiate(e.item.node);
                        return t.createFromNode(n),
                        t.show(),
                        t.runAction(cc.scaleTo(.3, 1).easing(cc.easeBackOut())),
                        t
                    },
                    this.scroll.onItemChange = function (t, e) {
                        t.setData(e)
                    },
                    this.scroll.onItemClear = function (t) {
                        t.dispose()
                    },
                    i = u.default.getData("key_share_data") || new Array(6),
                    this.scroll.updateList(6),
                    this.registerMsg(((t = {})[d.BASE_MSG.SDK_SHARE_SUC] = this.onMsgShareSuc.bind(this), t)),
                    this.startProcMsg()
                },
                e.prototype.dispose = function () {
                    this.scroll && this.scroll.clearAllItems(),
                    this.stopProcMsg(),
                    t.prototype.dispose.call(this)
                },
                e.prototype.onMsgShareSuc = function (t) {
                    var e = p.default.safeParseInt(t, -1);
                    e >= 0 && (i[e] = h.default.Random(10), u.default.setData("key_share_data", i), this.scroll.getItem(e).setData(e), _.default.mItem.addItem(m.ITEM_ID.DIAMOND, s.default.share_award, m.ITEM_CHANGE_REASON.SHARE, ""), g.default.alertItems({
                            itemId: m.ITEM_ID.DIAMOND,
                            count: s.default.share_award
                        }))
                },
                e.prototype.on_click_btnClose = function () {
                    c.default.playDialogCloseAnim(this.mask.node, this.bg, this.close.bind(this))
                },
                e.prototype.on_click_btnShare = function () {
                    for (var t = 0; t < 6; t++)
                        if (!i[t]) {
                            l.default.share(t.toString());
                            break
                        }
                },
                e
            }
            (r.default);
            n.default = y;
            var v = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.shared = !0,
                    e
                }
                return o(e, t),
                e.prototype.onCreateComplete = function () {},
                e.prototype.setData = function (t) {
                    this.index = t;
                    var e = i[t];
                    this.shared = !!e,
                    this.getChildLabel("index").string = (t + 1).toString(),
                    this.getChildLabel("count").string = "+" + s.default.share_award + "Dms";
                    var n = this.getChildLabel("state");
                    this.shared ? (n.string = "invited", n.node.color = cc.Color.WHITE.fromHEX("#00FF46"), this.getChildSprite("head").loadSpriteFrame("texture/icon/head" + e)) : (n.string = "not invited", n.node.color = cc.Color.WHITE.fromHEX("#FA822828"))
                },
                e
            }
            (a.default);
            cc._RF.pop()
        }, {
            "../GameConfig": "GameConfig",
            "../common/Const": "Const",
            "../extensions/BaseConst": "BaseConst",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/mgr/mgrSdk": "mgrSdk",
            "../extensions/module/BaseFacade": "BaseFacade",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/ui/ViewBase": "ViewBase",
            "../extensions/utils/FileRecord": "FileRecord",
            "../extensions/utils/Mathf": "Mathf",
            "../extensions/utils/Tools": "Tools",
            "../extensions/utils/UiHelper": "UiHelper",
            "../manager/mgrAlert": "mgrAlert"
        }
    ],
    PanelShop: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "1daff6YxhBAYIvOKxZ+18FH", "PanelShop");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/component/UIButton"),
            r = t("../extensions/ui/PanelBase"),
            a = t("../extensions/ui/ViewBase"),
            s = t("../extensions/mgr/mgrPanel"),
            c = t("../common/Const"),
            l = t("../extensions/_G"),
            u = t("../extensions/utils/UiHelper"),
            d = t("../extensions/module/BaseFacade"),
            p = t("../generate/db"),
            h = t("../game/GameUtility"),
            f = t("../manager/mgrAlert"),
            _ = t("../extensions/BaseConst"),
            m = t("../extensions/ui/Spine"),
            g = t("../manager/mgrGame"),
            y = t("../common/DbExt"),
            v = t("../extensions/utils/Mathf"),
            b = t("../game/unit/Role"),
            S = t("../GameConfig"),
            A = t("../game/World"),
            C = t("../extensions/module/mPay"),
            I = t("../extensions/mgr/mgrAdv"),
            T = t("./WidgetNativeAdv"),
            E = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.panelLayer = s.PANEL_LAYER.UI,
                    e.panelStyle = s.PANEL_STYLE.FULL,
                    e.resourceName = "prefab/ui/PanelShop",
                    e.btnClose = null,
                    e.scroll0 = null,
                    e.item = null,
                    e.toggle0 = null,
                    e.toggle1 = null,
                    e.coinCount = null,
                    e.diamondCount = null,
                    e.advNode = null,
                    e._exportNodeInfo = {
                        cc_btnClose: "UIButton",
                        cc_scroll0: "ReuseScrollList",
                        cc_item: "cc.Sprite",
                        cc_toggle0: "cc.Toggle",
                        cc_toggle1: "cc.Toggle",
                        cc_coinCount: "cc.Label",
                        cc_diamondCount: "cc.Label",
                        cc_advNode: "UIButton"
                    },
                    e.toggleIndex = 0,
                    e.hasAdv = !1,
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    var t,
                    e = this;
                    this.item.node.active = !1,
                    this.scroll0.onItemCreate = this.onCreateItem.bind(this),
                    this.scroll0.onItemChange = function (t, n) {
                        if (e.hasAdv && 0 == n)
                            return e._nativeAd.setParent(t.getParent()), void e._nativeAd.setPosition(t.getPosition());
                        var o = e.hasAdv ? n - 1 : n;
                        0 == e.toggleIndex ? t.setQuality(o + g.default.buyLowQuality) : t.setVipSpe(e.vipPays[o])
                    },
                    this.scroll0.onItemClear = function (t) {
                        t.dispose()
                    },
                    this.refresh(),
                    this.registerMsg(((t = {})[_.BASE_MSG.ITEM_CHANGE] = this.onMsgItemChange.bind(this), t[_.BASE_MSG.NATIVE_ADV_LOADED] = this.onMsgNativeAdvLoaded.bind(this), t)),
                    this.startProcMsg(),
                    I.default.dispatchAdv("enter_shop"),
                    this._nativeAd = new T.default("emb_shop", this.advNode.node)
                },
                e.prototype.dispose = function () {
                    this.stopProcMsg(),
                    this.scroll0 && this.scroll0.clearAllItems(),
                    this._nativeAd && this._nativeAd.dispose(),
                    t.prototype.dispose.call(this)
                },
                e.prototype.onMsgItemChange = function (t) {
                    switch (t.itemId) {
                    case c.ITEM_ID.COIN:
                        this.coinCount.string = h.default.convertCoinString(t.count);
                        break;
                    case c.ITEM_ID.DIAMOND:
                        this.diamondCount.string = t.count.toString()
                    }
                },
                e.prototype.onMsgNativeAdvLoaded = function (t) {
                    "emb_shop" == t.userData.advName && (this.hasAdv = !0, this._nativeAd.setPosition(1e4, 0), 0 == this.toggleIndex ? this.on_click_toggle0() : this.on_click_toggle1())
                },
                e.prototype.onCreateItem = function () {
                    var t = cc.instantiate(this.item.node),
                    e = new w;
                    return e.createFromNode(t),
                    e.setScale(0),
                    e.show(),
                    e.runAction(cc.scaleTo(.2, 1)),
                    e
                },
                e.prototype.refresh = function () {
                    this.refreshItems(),
                    this.vipPays = d.default.mPay.getAllPays(c.PAY_GID.VIP),
                    this.on_click_toggle0()
                },
                e.prototype.refreshItems = function () {
                    this.coinCount.string = h.default.convertCoinString(d.default.mItem.getItemCount(c.ITEM_ID.COIN)),
                    this.diamondCount.string = d.default.mItem.getItemCount(c.ITEM_ID.DIAMOND).toString()
                },
                e.prototype.on_click_btnClose = function () {
                    this.close()
                },
                e.prototype.on_click_toggle0 = function () {
                    this.toggleIndex = 0;
                    var t = this.hasAdv ? 1 : 0;
                    this.scroll0.updateList(g.default.buyMaxQuality - g.default.buyLowQuality + 1 + t)
                },
                e.prototype.on_click_toggle1 = function () {
                    this.toggleIndex = 1;
                    var t = this.hasAdv ? 1 : 0;
                    this.vipPays.sort(C.sort_pay_db_by_switch),
                    this.scroll0.updateList(this.vipPays.length + t)
                },
                e.prototype.on_click_advNode = function () {},
                e
            }
            (r.default);
            n.default = E;
            var w = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.onCreateComplete = function () {
                    var t = this,
                    e = this.getChild("layout");
                    this.btn = e.getChildComponent("btn", i.default),
                    this.priceIcon = e.getChildSprite("btn/icon"),
                    this.price = e.getChildLabel("btn/price"),
                    this.bar1 = e.getChildSprite("bar1/bar"),
                    this.bar2 = e.getChildSprite("bar2/bar"),
                    this.desc = e.getChildComponent("desc", cc.RichText),
                    this.level = this.getChildLabel("qua/level"),
                    this.name = this.getChildLabel("name"),
                    this.roleNode = this.getChild("role"),
                    this.icon = this.getChildSprite("icon"),
                    u.default.addClick(this.btn.node, function () {
                        t.roleDb ? t.buyRole() : t.payDb && t.buyVip()
                    })
                },
                e.prototype.dispose = function () {
                    this.clearAnim(),
                    t.prototype.dispose.call(this)
                },
                e.prototype.clearAnim = function () {
                    this.anim && (this.anim.setNodeColor(cc.Color.WHITE), this.anim.setNodeOpacity(255), l.default.poolManager.put(this.anim), this.anim = null)
                },
                e.prototype.buyRole = function () {
                    if (A.default.instance.getEmptyIndex(!1) >= 0) {
                        var t = g.default.getPrice(this.roleDb.quality);
                        d.default.mItem.subItem(c.ITEM_ID.COIN, t, c.ITEM_CHANGE_REASON.PAY, "") ? (g.default.accPrice(this.roleDb.quality), A.default.factoryUnit.createRole(this.roleDb.quality), f.default.alertItems({
                                itemId: this.roleDb.id,
                                count: 1
                            }), this.setRole(this.roleDb)) : f.default.alertNotEnough(c.ITEM_ID.COIN)
                    } else
                        f.default.alertDialog("Insufficient space, merge some armors first.")
                },
                e.prototype.buyVip = function () {
                    var t = this;
                    d.default.mPay.isCostEnough(this.payDb.id) ? d.default.mPay.buyGoods(this.payDb.id, function (e, n) {
                        e && t.setVipSpe(t.payDb),
                        n && f.default.alertItems(n)
                    }) : f.default.alertNotEnough(this.payDb.costItemId)
                },
                e.prototype.setQuality = function (t) {
                    this.setRole(g.default.cardDbs[t])
                },
                e.prototype.setRole = function (t) {
                    this.roleDb = t,
                    this.payDb = null,
                    this.btn.node.active = t.quality <= g.default.buyHighQuality,
                    this.btn.node.active && (this.priceIcon.loadSpriteFrame(p.default.get_item_db(c.ITEM_ID.COIN).icon), this.price.string = h.default.convertCoinString(g.default.getPrice(t.quality))),
                    this.bar1.node.parent.active = !0,
                    this.bar2.node.parent.active = !0,
                    this.level.node.parent.active = !0,
                    this.desc.node.active = !1,
                    this.name.string = t.name,
                    this.bar1.fillRange = (t.quality + 1) / (g.default.maxCardQuality + 1),
                    this.bar2.fillRange = v.default.Clamp01(1 / y.default.get_atk_delta(t) / S.default.ui_bar_max_atk_times),
                    this.level.string = (t.quality + 1).toString(),
                    this.icon.enabled = !1,
                    this.clearAnim(),
                    this.anim = l.default.poolManager.get(m.default, y.default.get_role_view(t)),
                    this.anim.setParent(this.roleNode),
                    this.btn.node.active ? this.anim.play(b.RoleAnim.Idle) : (this.anim.stop(), this.anim.setNodeColor(cc.Color.BLACK), this.anim.setNodeOpacity(200), this.anim.setScale(.9))
                },
                e.prototype.setVipSpe = function (t) {
                    this.payDb = t,
                    this.roleDb = null;
                    var e = p.default.get_item_db(t.getItemId);
                    this.btn.node.active = d.default.mPay.getActive(t.id),
                    this.btn.node.active && (this.priceIcon.loadSpriteFrame(p.default.get_item_db(t.costItemId).icon), this.price.string = h.default.convertCoinString(t.costCount)),
                    this.bar1.node.parent.active = !1,
                    this.bar2.node.parent.active = !1,
                    this.level.node.parent.active = !1,
                    this.desc.node.active = !0,
                    this.name.string = t.name,
                    this.desc.string = e.desc.replace("?", t.getCount.toString()),
                    this.icon.enabled = !0,
                    this.icon.loadSpriteFrame(t.icon),
                    this.clearAnim()
                },
                e
            }
            (a.default);
            cc._RF.pop()
        }, {
            "../GameConfig": "GameConfig",
            "../common/Const": "Const",
            "../common/DbExt": "DbExt",
            "../extensions/BaseConst": "BaseConst",
            "../extensions/_G": "_G",
            "../extensions/component/UIButton": "UIButton",
            "../extensions/mgr/mgrAdv": "mgrAdv",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/module/BaseFacade": "BaseFacade",
            "../extensions/module/mPay": "mPay",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/ui/Spine": "Spine",
            "../extensions/ui/ViewBase": "ViewBase",
            "../extensions/utils/Mathf": "Mathf",
            "../extensions/utils/UiHelper": "UiHelper",
            "../game/GameUtility": "GameUtility",
            "../game/World": "World",
            "../game/unit/Role": "Role",
            "../generate/db": "db",
            "../manager/mgrAlert": "mgrAlert",
            "../manager/mgrGame": "mgrGame",
            "./WidgetNativeAdv": "WidgetNativeAdv"
        }
    ],
    PanelSign: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "80764Y9c+pEx4dHQ0YJfTwH", "PanelSign");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/ui/PanelBase"),
            r = t("../extensions/ui/ViewBase"),
            a = t("../extensions/utils/UiHelper"),
            s = t("../generate/db"),
            c = t("../game/GameUtility"),
            l = t("../extensions/module/BaseFacade"),
            u = t("../common/Const"),
            d = t("../manager/mgrAlert"),
            p = t("../extensions/mgr/mgrAdv"),
            h = t("../extensions/mgr/mgrPanel"),
            f = t("../utils/AdvInstOrBanner"),
            _ = t("../extensions/BaseConst"),
            m = t("../extensions/module/mDrop"),
            g = t("../game/World"),
            y = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.resourceName = "prefab/ui/PanelSign",
                    e.panelLayer = h.PANEL_LAYER.UI,
                    e.panelStyle = h.PANEL_STYLE.COMMON,
                    e.mask = null,
                    e.bg = null,
                    e.btnClose = null,
                    e.btnGet = null,
                    e.btnAdv = null,
                    e.item0 = null,
                    e.item1 = null,
                    e.item2 = null,
                    e.item3 = null,
                    e.item4 = null,
                    e.item5 = null,
                    e.item6 = null,
                    e.toggleNode = null,
                    e._exportNodeInfo = {
                        cc_mask: "cc.Button",
                        cc_bg: "cc.Sprite",
                        cc_btnClose: "UIButton",
                        cc_btnGet: "cc.Button",
                        cc_btnAdv: "cc.Button",
                        cc_item0: "cc.Sprite",
                        cc_item1: "cc.Sprite",
                        cc_item2: "cc.Sprite",
                        cc_item3: "cc.Sprite",
                        cc_item4: "cc.Sprite",
                        cc_item5: "cc.Sprite",
                        cc_item6: "cc.Sprite",
                        cc_toggleNode: "cc.Node"
                    },
                    e._instOrBanner = new f.default("enter_sign", "banner_sign"),
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    var t;
                    this.mask.node.opacity = 0,
                    this.mask.node.runAction(cc.fadeIn(.2));
                    for (var e = l.default.mDrop.getAllDropItems(u.DROP_ID.SIGN), n = Math.min(e.length, 7), o = 0; o < n; o++) {
                        var i = this["item" + o].node,
                        r = new v;
                        switch (r.createFromNode(i), r.fillItem(e[o]), l.default.mDrop.getLotteryState(u.DROP_ID.SIGN, o)) {
                        case m.LOTTERY_STATE.CAN_GET:
                            r.fillToday();
                            break;
                        case m.LOTTERY_STATE.GETTED:
                            r.fillSigned();
                            break;
                        case m.LOTTERY_STATE.CANNOT_GET:
                            r.fillEmpty()
                        }
                    }
                    var a = l.default.mDrop.getLotteryActive(u.DROP_ID.SIGN);
                    this.btnGet.node.active = a;
                    var s = this.btnAdv.node;
                    s.active = a && p.default.getActive("sign_db"),
                    s.active && (this.toggleNode.active = !1),
                    this.registerMsg(((t = {})[_.BASE_MSG.ADV_SHOW_SUC] = this.onMsgShowSuc.bind(this), t)),
                    this.startProcMsg(),
                    g.default.instance.pause()
                },
                e.prototype.dispose = function () {
                    this.stopProcMsg(),
                    this._instOrBanner.dispose(),
                    t.prototype.dispose.call(this),
                    g.default.instance.resume()
                },
                e.prototype.onFocus = function (e) {
                    t.prototype.onFocus.call(this, e),
                    this._instOrBanner.onFocus(e)
                },
                e.prototype.onMsgShowSuc = function (t) {
                    "sign_db" == t.advName && (this.close(), this.getAward(!0))
                },
                e.prototype.getAward = function (t) {
                    var e = l.default.mDrop.makeLottery(u.DROP_ID.SIGN);
                    e && (t ? (e.count *= 2, l.default.mItem.addItem(e.itemId, e.count, u.ITEM_CHANGE_REASON.SIGN, " x2")) : l.default.mItem.addItem(e.itemId, e.count, u.ITEM_CHANGE_REASON.SIGN, " x1"), d.default.alertItems(e), l.default.mGoal.commit(u.ACTION_ID.SIGN, 1))
                },
                e.prototype.on_click_mask = function () {
                    a.default.playDialogCloseAnim(this.mask.node, this.bg.node, this.close.bind(this))
                },
                e.prototype.on_click_btnGet = function () {
                    a.default.playDialogCloseAnim(this.mask.node, this.bg.node, this.close.bind(this)),
                    this.getAward(!1)
                },
                e.prototype.on_click_btnAdv = function () {
                    window.tsLog("签到双倍，已添加广告");
                    window.h5api.playAd("sign award", {
                        callback: function() {
                            p.default.dispatchAdv("sign_db", null, !0)
                        }
                    });
                },
                e.prototype.on_click_btnClose = function () {
                    this.on_click_mask()
                },
                e
            }
            (i.default);
            n.default = y;
            var v = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.onCreateComplete = function () {},
                e.prototype.fillSigned = function () {
                    this.getChild("focus").active = !1,
                    this.getChild("getted").active = !0
                },
                e.prototype.fillToday = function () {
                    this.getChild("focus").active = !0,
                    this.getChild("getted").active = !1
                },
                e.prototype.fillEmpty = function () {
                    this.getChild("focus").active = !1,
                    this.getChild("getted").active = !1
                },
                e.prototype.fillItem = function (t) {
                    var e = this.getChildLabel("count"),
                    n = this.getChildSprite("icon"),
                    o = s.default.get_item_db(t.itemId);
                    o.icon && n.loadSpriteFrame(o.icon),
                    e.string = "x" + c.default.convertCoinString(t.count)
                },
                e
            }
            (r.default);
            cc._RF.pop()
        }, {
            "../common/Const": "Const",
            "../extensions/BaseConst": "BaseConst",
            "../extensions/mgr/mgrAdv": "mgrAdv",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/module/BaseFacade": "BaseFacade",
            "../extensions/module/mDrop": "mDrop",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/ui/ViewBase": "ViewBase",
            "../extensions/utils/UiHelper": "UiHelper",
            "../game/GameUtility": "GameUtility",
            "../game/World": "World",
            "../generate/db": "db",
            "../manager/mgrAlert": "mgrAlert",
            "../utils/AdvInstOrBanner": "AdvInstOrBanner"
        }
    ],
    PanelSingleItemGet: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "b1bdbACyeVJWqWDPLuNKlsQ", "PanelSingleItemGet");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/ui/PanelBase"),
            r = t("../generate/db"),
            a = t("../extensions/_G"),
            s = t("../extensions/mgr/mgrPanel"),
            c = t("../extensions/utils/UiHelper"),
            l = t("../game/GameUtility"),
            u = t("../manager/mgrAlert"),
            d = t("../common/Const"),
            p = t("../extensions/mgr/mgrAdv"),
            h = t("./WidgetNativeAdv"),
            f = t("../extensions/BaseConst"),
            _ = t("../extensions/module/BaseFacade"),
            m = t("../utils/AdvInstOrBanner"),
            g = t("../game/World"),
            y = t("../extensions/ui/Spine"),
            v = t("../common/DbExt"),
            b = t("../game/unit/Role"),
            S = t("../GameConfig"),
            A = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.panelLayer = s.PANEL_LAYER.DIALOG,
                    e.resourceName = "prefab/ui/PanelSingleItemGet",
                    e.mask = null,
                    e.bg = null,
                    e.roleNode = null,
                    e.roleLv = null,
                    e.roleView = null,
                    e.roleName = null,
                    e.itemNode = null,
                    e.itemIcon = null,
                    e.itemCount = null,
                    e.btnClose = null,
                    e.btnOk = null,
                    e.btnAdv = null,
                    e.advNode = null,
                    e._exportNodeInfo = {
                        cc_mask: "cc.Sprite",
                        cc_bg: "cc.Node",
                        cc_roleNode: "cc.Node",
                        cc_roleLv: "cc.Label",
                        cc_roleView: "cc.Node",
                        cc_roleName: "cc.Label",
                        cc_itemNode: "cc.Sprite",
                        cc_itemIcon: "SpriteSwitcher",
                        cc_itemCount: "cc.Label",
                        cc_btnClose: "UIButton",
                        cc_btnOk: "UIButton",
                        cc_btnAdv: "UIButton",
                        cc_advNode: "UIButton"
                    },
                    e._instOrBanner = new m.default("enter_item_show", "banner_item_show"),
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    var t;
                    this.mask.node.opacity = 0,
                    this.mask.node.runAction(cc.fadeIn(.3));
                    var e = this.context.item;
                    switch (e.itemId) {
                    case d.ITEM_ID.COIN:
                        this.roleNode.active = !1;
                        break;
                    case d.ITEM_ID.DIAMOND:
                        this.itemIcon.switchSprite(1),
                        this.roleNode.active = !1;
                        break;
                    default:
                        var n = r.default.get_item_db(e.itemId);
                        n.icon ? (this.itemIcon.node.setScale(1, 1), this.itemIcon.loadSpriteFrame(n.icon), this.btnAdv.node.active = !1, this.btnClose.node.active = !1, this.roleNode.active = !1) : (this._anim = a.default.poolManager.get(y.default, v.default.get_role_view(n)), this._anim.setParent(this.roleView), this._anim.setScale(1, 1), this._anim.play(b.RoleAnim.Idle), this._anim.setPosition(0, 0), this.roleName.string = n.name, this.roleLv.string = (n.quality + 1).toString(), this.itemNode.node.active = !1)
                    }
                    var o = this.context.bAdv;
                    this.btnAdv.node.active && (o && p.default.checkActive("award_db") ? (this.btnOk.node.active = S.default.show_btn_item_show, this.btnClose.node.active = !0) : (this.btnAdv.node.active = !1, this.btnClose.node.active = !1)),
                    this.itemCount.string = l.default.convertCoinString(e.count, !0),
                    this._nativeAd = new h.default("emb_item_show", this.advNode.node),
                    this.registerMsg(((t = {})[f.BASE_MSG.ADV_SHOW_SUC] = this.onMsgAdShowSuc.bind(this), t)),
                    this.startProcMsg(),
                    g.default.instance.pause()
                },
                e.prototype.dispose = function () {
                    this.stopProcMsg(),
                    this._instOrBanner.dispose(),
                    this._nativeAd && this._nativeAd.dispose(),
                    this._anim && a.default.poolManager.put(this._anim),
                    t.prototype.dispose.call(this),
                    g.default.instance.resume()
                },
                e.prototype.onFocus = function (e) {
                    t.prototype.onFocus.call(this, e),
                    this._instOrBanner.onFocus(e)
                },
                e.prototype.onMsgAdShowSuc = function (t) {
                    if ("award_db" == t.advName) {
                        var e = this.context.item;
                        _.default.mItem.addItem(e.itemId, 2 * e.count, d.ITEM_CHANGE_REASON.DB_AWARD, ""),
                        this.close(),
                        u.default.alertSingleItem({
                            itemId: e.itemId,
                            count: 3 * e.count
                        }, !1)
                    }
                },
                e.prototype.on_click_btnOk = function () {
                    this.btnOk.interactable = !1,
                    c.default.playDialogCloseAnim(this.mask.node, this.bg, this.close.bind(this)),
                    this.context.item.itemId == d.ITEM_ID.DIAMOND ? u.default.playDiamondToCurrency(this.btnOk.node.convertToWorldSpaceOut(cc.Vec2.ZERO), 20) : this.context.item.itemId == d.ITEM_ID.COIN && u.default.playCoinToCurrency(this.btnOk.node.convertToWorldSpaceOut(cc.Vec2.ZERO), 20)
                },
                e.prototype.on_click_btnAdv = function () {
                    window.tsLog("看广告按钮被点击，已添加广告");
                    window.h5api.playAd("btnAdv", {
                        callback: function() {
                            p.default.dispatchAdv("award_db", null, !0);
                        }
                    });
                },
                e.prototype.on_click_btnClose = function () {
                    this.on_click_btnOk()
                },
                e.prototype.on_click_advNode = function () {},
                e
            }
            (i.default);
            n.default = A,
            cc._RF.pop()
        }, {
            "../GameConfig": "GameConfig",
            "../common/Const": "Const",
            "../common/DbExt": "DbExt",
            "../extensions/BaseConst": "BaseConst",
            "../extensions/_G": "_G",
            "../extensions/mgr/mgrAdv": "mgrAdv",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/module/BaseFacade": "BaseFacade",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/ui/Spine": "Spine",
            "../extensions/utils/UiHelper": "UiHelper",
            "../game/GameUtility": "GameUtility",
            "../game/World": "World",
            "../game/unit/Role": "Role",
            "../generate/db": "db",
            "../manager/mgrAlert": "mgrAlert",
            "../utils/AdvInstOrBanner": "AdvInstOrBanner",
            "./WidgetNativeAdv": "WidgetNativeAdv"
        }
    ],
    PanelTime: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "5cd2cfIF0tKjqjnE8rdeUob", "PanelTime");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/ui/PanelBase"),
            r = t("../utils/AdvInstOrBanner"),
            a = t("../manager/mgrGame"),
            s = t("../extensions/utils/UiHelper"),
            c = t("../game/World"),
            l = t("../common/Const"),
            u = t("../extensions/module/BaseFacade"),
            d = t("../GameConfig"),
            p = t("../extensions/mgr/mgrAdv"),
            h = t("../extensions/BaseConst"),
            f = t("../extensions/mgr/mgrPanel"),
            _ = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.panelLayer = f.PANEL_LAYER.UI,
                    e.resourceName = "prefab/ui/PanelTime",
                    e.mask = null,
                    e.bg = null,
                    e.btnClose = null,
                    e.descLabel = null,
                    e.timeNode = null,
                    e.btnAdv = null,
                    e.btnAdvName = null,
                    e.advNode = null,
                    e._exportNodeInfo = {
                        cc_mask: "cc.Sprite",
                        cc_bg: "cc.Sprite",
                        cc_btnClose: "UIButton",
                        cc_descLabel: "cc.Label",
                        cc_timeNode: "cc.Node",
                        cc_btnAdv: "UIButton",
                        cc_btnAdvName: "cc.Label",
                        cc_advNode: "UIButton"
                    },
                    e._instOrBanner = new r.default("enter_time", "banner_time"),
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    var t;
                    this.fillTime(),
                    this.registerMsg(((t = {})[h.BASE_MSG.ADV_SHOW_SUC] = this.onMsgShowSuc.bind(this), t)),
                    this.startProcMsg(),
                    c.default.instance.pause(),
                    this.advNode.node.active = !1
                },
                e.prototype.dispose = function () {
                    this.stopProcMsg(),
                    this._instOrBanner.dispose(),
                    this._nativeAd && this._nativeAd.dispose(),
                    t.prototype.dispose.call(this),
                    c.default.instance.resume()
                },
                e.prototype.onFocus = function (e) {
                    t.prototype.onFocus.call(this, e),
                    this._instOrBanner.onFocus(e)
                },
                e.prototype.onMsgShowSuc = function (t) {
                    "coin_db" == t.advName && (this.buyDbCoinSuc(), u.default.mGoal.commit(l.ACTION_ID.OPEN_GIFT, 0), this.on_click_btnClose())
                },
                e.prototype.fillTime = function () {
                    this.descLabel.string = d.default.coin_rate.rate + " times coins during " + d.default.coin_rate.rateTime + " seconds";
                },
                e.prototype.buyDbCoinSuc = function () {
                    a.default.leftKongTouTime = d.default.coin_rate.rateTime
                },
                e.prototype.on_click_btnClose = function () {
                    s.default.playDialogCloseAnim(this.mask.node, this.bg.node, this.close.bind(this))
                },
                e.prototype.on_click_btnAdv = function () {
                    window.tsLog("空投支援，已添加广告");
                    window.h5api.playAd("drop coins", {
                        callback: function() {
                            p.default.dispatchAdv("coin_db", null, !0);
                        }
                    });
                },
                e.prototype.on_click_advNode = function () {},
                e
            }
            (i.default);
            n.default = _,
            cc._RF.pop()
        }, {
            "../GameConfig": "GameConfig",
            "../common/Const": "Const",
            "../extensions/BaseConst": "BaseConst",
            "../extensions/mgr/mgrAdv": "mgrAdv",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/module/BaseFacade": "BaseFacade",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/utils/UiHelper": "UiHelper",
            "../game/World": "World",
            "../manager/mgrGame": "mgrGame",
            "../utils/AdvInstOrBanner": "AdvInstOrBanner"
        }
    ],
    PanelTip: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "1d9b9r9bU9PZ6Z3HPkZb+i2", "PanelTip");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/ui/PanelBase"),
            r = t("../extensions/mgr/mgrPanel"),
            a = t("../extensions/BaseConst"),
            s = t("../extensions/utils/UiHelper"),
            c = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.panelLayer = r.PANEL_LAYER.TIP,
                    e.panelStyle = r.PANEL_STYLE.COMMON,
                    e.resourceName = "prefab/ui/PanelTip",
                    e.textNode = null,
                    e._exportNodeInfo = {
                        cc_textNode: "cc.Node"
                    },
                    e.itemList = [],
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    var t;
                    this.textNode.active = !1,
                    this.registerMsg(((t = {})[a.BASE_MSG.UI_SHOW_TIP] = this.onMsgShowTip.bind(this), t)),
                    this.startProcMsg()
                },
                e.prototype.dispose = function () {
                    this.stopProcMsg(),
                    t.prototype.dispose.call(this)
                },
                e.prototype.onMsgShowTip = function (t) {
                    this.playItem(t)
                },
                e.prototype.playItem = function (t) {
                    for (var e = 0; e < this.itemList.length; e++) {
                        if (!(i = this.itemList[e]).isDone && i.equals(t))
                            return void i.keepAnim()
                    }
                    var n;
                    if (this.itemList.length >= 4)
                        n = this.itemList.pop();
                    else {
                        var o = cc.instantiate(this.textNode);
                        o.setParent(this.resNode),
                        n = new l(o)
                    }
                    this.itemList.unshift(n),
                    n.setText(t),
                    n.play();
                    for (e = 0; e < this.itemList.length; e++) {
                        var i;
                        if ((i = this.itemList[e]).isDone)
                            break;
                        i.y = 150 + 70 * e
                    }
                },
                e
            }
            (i.default);
            n.default = c;
            var l = function () {
                function t(t) {
                    this.action = null,
                    this.node = null,
                    this.textLabel = null,
                    this.animNode = null,
                    this.m_isDone = !0,
                    this.m_text = "",
                    this.m_count = 0,
                    this.node = t,
                    this.action = this.createAction(),
                    this.animNode = t.getChildByName("AnimNode"),
                    this.textLabel = s.default.getChildComponent(this.animNode, "Label", cc.Label)
                }
                return t.prototype.createAction = function () {
                    return cc.sequence(cc.spawn(cc.moveTo(.2, 0, 88), cc.fadeTo(.15, 255)), cc.delayTime(2), cc.fadeTo(.2, 0), cc.callFunc(this.onActionFinish, this))
                },
                t.prototype.onActionFinish = function () {
                    this.node.active = !1,
                    this.m_isDone = !0,
                    this.m_text = "",
                    this.m_count = 0
                },
                t.prototype.resetNode = function () {
                    this.animNode.setPosition(0, 0),
                    this.animNode.opacity = 0
                },
                t.prototype.setText = function (t) {
                    this.textLabel.string = t.toString(),
                    this.m_text = t
                },
                t.prototype.equals = function (t) {
                    return this.m_text === t
                },
                t.prototype.keepAnim = function () {
                    this.animNode.stopAllActions(),
                    this.animNode.opacity = 255,
                    this.animNode.y = 88,
                    this.animNode.scale = 0,
                    this.animNode.runAction(cc.sequence(cc.scaleTo(.2, 1).easing(cc.easeBackOut()), cc.delayTime(2), cc.fadeTo(.2, 0), cc.callFunc(this.onActionFinish, this))),
                    this.textLabel.string = this.m_text
                },
                t.prototype.play = function () {
                    this.m_isDone || (this.animNode.stopAllActions(), this.action = this.createAction()),
                    this.m_isDone = !1,
                    this.node.active = !0,
                    this.resetNode(),
                    this.animNode.runAction(this.action)
                },
                Object.defineProperty(t.prototype, "isDone", {
                    get: function () {
                        return this.m_isDone
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "y", {
                    set: function (t) {
                        this.node.y = t
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                t
            }
            ();
            cc._RF.pop()
        }, {
            "../extensions/BaseConst": "BaseConst",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/utils/UiHelper": "UiHelper"
        }
    ],
    PanelTowerUp: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "0532fbNX6ZOl7jXZY+B7Fsf", "PanelTowerUp");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/ui/PanelBase"),
            r = t("../extensions/module/BaseFacade"),
            a = t("../manager/mgrGame"),
            s = t("../generate/db"),
            c = t("../extensions/BaseConst"),
            l = t("../extensions/utils/UiHelper"),
            u = t("../extensions/mgr/mgrPanel"),
            d = t("./PanelOver"),
            p = t("../extensions/component/SpriteSwitcher"),
            h = t("../utils/AdvInstOrBanner"),
            f = t("../extensions/utils/Timer"),
            _ = t("../extensions/_G"),
            m = t("../view/FlyIcon"),
            g = t("../game/World"),
            y = t("../manager/mgrAlert"),
            v = !1,
            b = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.panelLayer = u.PANEL_LAYER.UI,
                    e.resourceName = "prefab/ui/PanelTowerUp",
                    e.mask = null,
                    e.bg = null,
                    e.item = null,
                    e._exportNodeInfo = {
                        cc_mask: "cc.Sprite",
                        cc_bg: "cc.Node",
                        cc_item: "UIButton"
                    },
                    e._instOrBanner = new h.default("enter_tower_up", "banner_tower_up"),
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    v = !1;
                    for (var t = s.default.get_boss_db(a.default.lastBossIndex - 1), e = [], n = 0; n < 3; n++) {
                        var o = t.attrs[n],
                        i = a.default.attr2towerMap[o];
                        if (r.default.mItem.getItemCount(i) <= 0)
                            e.push({
                                itemId: i,
                                count: 1
                            });
                        else {
                            var l = r.default.mUp.getUpDb(o, c.UpAttrName.Base);
                            l && e.push({
                                itemId: o,
                                count: l.value
                            })
                        }
                    }
                    this._dropItems = e,
                    this.fillItems()
                },
                e.prototype.dispose = function () {
                    this._instOrBanner.dispose(),
                    t.prototype.dispose.call(this)
                },
                e.prototype.onFocus = function (e) {
                    t.prototype.onFocus.call(this, e),
                    this._instOrBanner.onFocus(e)
                },
                e.prototype.fillItems = function () {
                    for (var t = this.onClickItem.bind(this), e = 0; e < this._dropItems.length; e++) {
                        var n = this.item.node;
                        e > 0 && (n = cc.instantiate(n)).setParent(this.item.node.parent),
                        new S(n, this._dropItems[e], t)
                    }
                },
                e.prototype.onClickItem = function () {
                    var t = this;
                    l.default.playDialogCloseAnim(this.mask.node, this.bg, function () {}),
                    f.default.callLater(2.5, function () {
                        t.close(),
                        u.default.openPanelWithFadeIn(d.default, !0)
                    })
                },
                e.prototype.on_click_item = function () {},
                e
            }
            (i.default);
            n.default = b;
            var S = function () {
                return function (t, e, n) {
                    var o = s.default.get_item_db(e.itemId);
                    if (l.default.addClick(t, function () {
                            if (n(), !v) {
                                v = !0,
                                r.default.mItem.addItem(e.itemId, e.count, null, null),
                                r.default.mUp.lvupAttr(e.itemId, c.UpAttrName.Base);
                                var i,
                                l = _.default.poolManager.get(m.default),
                                u = t.getChildSprite("icon");
                                i = o.type == c.ITEM_TYPE.UP ? a.default.attr2towerMap[o.id] : e.itemId;
                                var d = s.default.get_item_db(i),
                                p = g.default.instance.getTower(d.order);
                                l.scaleAndLine(u.spriteFrame, u.node.convertToWorldSpaceOut(cc.Vec2.ZERO), p.position, 1, .1, .5, function () {
                                    var t;
                                    switch (d.order) {
                                    case 0:
                                        t = "2d/anim_node/72_dizuo/72_dizuo_huang";
                                        break;
                                    case 1:
                                        t = "2d/anim_node/72_dizuo/72_dizuo_lan";
                                        break;
                                    case 2:
                                        t = "2d/anim_node/72_dizuo/72_dizuo_hong";
                                        break;
                                    case 3:
                                        t = "2d/anim_node/72_dizuo/72_dizuo_zi"
                                    }
                                    y.default.playAnimationEffect(t, p.position, 1),
                                    y.default.playLevelNumber(p.position)
                                })
                            }
                        }), o.type == c.ITEM_TYPE.UP) {
                        var i = a.default.attr2towerMap[o.id],
                        u = s.default.get_item_db(i);
                        t.getComponent(p.default).switchSprite(u.order)
                    } else
                        t.getComponent(p.default).switchSprite(o.order);
                    t.getChildLabel("title").string = o.name,
                    t.getChildComponent("tag", p.default).switchSprite(o.quality),
                    t.getChildComponent("desc", cc.RichText).string = o.desc.replace("?", e.count.toString()),
                    t.getChildSprite("icon").loadSpriteFrame(o.icon)
                }
            }
            ();
            cc._RF.pop()
        }, {
            "../extensions/BaseConst": "BaseConst",
            "../extensions/_G": "_G",
            "../extensions/component/SpriteSwitcher": "SpriteSwitcher",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/module/BaseFacade": "BaseFacade",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/utils/Timer": "Timer",
            "../extensions/utils/UiHelper": "UiHelper",
            "../game/World": "World",
            "../generate/db": "db",
            "../manager/mgrAlert": "mgrAlert",
            "../manager/mgrGame": "mgrGame",
            "../utils/AdvInstOrBanner": "AdvInstOrBanner",
            "../view/FlyIcon": "FlyIcon",
            "./PanelOver": "PanelOver"
        }
    ],
    PanelTower: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "ecdd1baV8RKXqyFDc8y3gzL", "PanelTower");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/ui/PanelBase"),
            r = t("../manager/mgrGame"),
            a = t("../generate/db"),
            s = t("../extensions/module/BaseFacade"),
            c = t("../extensions/BaseConst"),
            l = t("../extensions/utils/UiHelper"),
            u = t("../extensions/mgr/mgrPanel"),
            d = t("../utils/AdvInstOrBanner"),
            p = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.panelLayer = u.PANEL_LAYER.UI,
                    e.resourceName = "prefab/ui/PanelTower",
                    e.mask = null,
                    e.bg = null,
                    e.levelLabel = null,
                    e.baseText = null,
                    e.ownText = null,
                    e.speText = null,
                    e._exportNodeInfo = {
                        cc_mask: "UIButton",
                        cc_bg: "cc.Node",
                        cc_levelLabel: "cc.Label",
                        cc_baseText: "cc.RichText",
                        cc_ownText: "cc.RichText",
                        cc_speText: "cc.RichText"
                    },
                    e._instOrBanner = new d.default("enter_tower", "banner_tower"),
                    e
                }
                return o(e, t),
                e.prototype.buildUi = function () {
                    var t = r.default.towerIds[this.context];
                    if (t) {
                        for (var e = a.default.get_item_db(t), n = 0, o = ["", "", ""], i = 0; i < e.st.length; i++) {
                            var l = a.default.get_item_db(e.st[i]);
                            n += s.default.mUp.getLevel(l.id, c.UpAttrName.Base);
                            var u = o[l.quality];
                            u += u ? "\n" + l.desc.replace("?", s.default.mItem.getItemCount(l.id).toString()) : l.desc.replace("?", s.default.mItem.getItemCount(l.id).toString()),
                            o[l.quality] = u
                        }
                        this.baseText.string = o[0],
                        this.ownText.string = o[1],
                        this.speText.string = o[2],
                        this.levelLabel.string = "Level " + n
                    } else
                        cc.error("no tower id found", this.context), this.close()
                },
                e.prototype.dispose = function () {
                    this._instOrBanner.dispose(),
                    t.prototype.dispose.call(this)
                },
                e.prototype.onFocus = function (e) {
                    t.prototype.onFocus.call(this, e),
                    this._instOrBanner.onFocus(e)
                },
                e.prototype.on_click_mask = function () {
                    l.default.playDialogCloseAnim(this.mask.node, this.bg, this.close.bind(this))
                },
                e
            }
            (i.default);
            n.default = p,
            cc._RF.pop()
        }, {
            "../extensions/BaseConst": "BaseConst",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/module/BaseFacade": "BaseFacade",
            "../extensions/ui/PanelBase": "PanelBase",
            "../extensions/utils/UiHelper": "UiHelper",
            "../generate/db": "db",
            "../manager/mgrGame": "mgrGame",
            "../utils/AdvInstOrBanner": "AdvInstOrBanner"
        }
    ],
    ParticleInPlist: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "39e1f9V86ZAe5E+h4wyKOyd", "ParticleInPlist");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__decorate || function (t, e, n, o) {
                var i,
                r = arguments.length,
                a = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(t, e, n, o);
                else
                    for (var s = t.length - 1; s >= 0; s--)
                        (i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, n, a) : i(e, n)) || a);
                return r > 3 && a && Object.defineProperty(e, n, a),
                a
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r = t("../AsyncObject"),
            a = t("../mgr/mgrPanel"),
            s = t("../_G"),
            c = function (t) {
                function e(e) {
                    var n = t.call(this) || this;
                    return n.resourceType = cc.ParticleAsset,
                    n.resourceName = null,
                    n.resNode = null,
                    n.resourceName = e,
                    n
                }
                return o(e, t),
                e.prototype.onResourceLoaded = function (t) {
                    var e = new cc.Node;
                    this.resNode = e;
                    var n = e.addComponent(cc.ParticleSystem);
                    n.file = t,
                    this.m_particle = n
                },
                e.prototype.dispose = function () {
                    t.prototype.dispose.call(this),
                    this.resNode && (this.resNode.destroy(), this.resNode = null)
                },
                e.prototype.reuse = function () {
                    this.tryCreate(),
                    this.show()
                },
                e.prototype.unuse = function () {
                    this.removeFromParent(),
                    this.hide(),
                    this.setScale(1),
                    this.clearDelayCalls(),
                    this.m_particle && this.m_particle.stopSystem()
                },
                Object.defineProperty(e.prototype, "active", {
                    get: function () {
                        return this.isLoaded && this.resNode.active
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                e.prototype.setName = function (t) {
                    throw new Error("Method not implemented.")
                },
                e.prototype.addNodeChild = function (t) {
                    t.setParent(this.resNode)
                },
                e.prototype.addChild = function (t) {
                    this.resNode.addChild(t)
                },
                e.prototype.getChild = function (t) {
                    return cc.find(t, this.resNode)
                },
                e.prototype.removeFromParent = function (t) {
                    this.resNode.removeFromParent(t)
                },
                e.prototype.setParent = function (t) {
                    this.resNode.setParent(t)
                },
                e.prototype.getParent = function () {
                    return this.resNode.parent
                },
                e.prototype.setPosition = function (t, e) {
                    this.resNode.setPosition(t, e)
                },
                e.prototype.setScale = function (t, e) {
                    this.resNode.setScale(t, e)
                },
                e.prototype.setRotation = function (t) {
                    this.resNode.rotation = t
                },
                e.prototype.setNodeOpacity = function (t) {
                    this.resNode.opacity = t
                },
                e.prototype.setNodeColor = function (t) {
                    this.resNode.color = t
                },
                e.prototype.show = function () {
                    this.resNode.active = !0
                },
                e.prototype.hide = function () {
                    this.resNode.active = !1
                },
                e.prototype.setSiblingIndex = function (t) {
                    this.resNode.setSiblingIndex(t)
                },
                e.prototype.setTop = function () {
                    this.setSiblingIndex(-1)
                },
                e.prototype.setBottom = function () {
                    this.setSiblingIndex(0)
                },
                e.prototype.runAction = function (t) {
                    this.resNode.runAction(t)
                },
                e.prototype.stopAction = function (t) {
                    this.resNode.stopAction(t)
                },
                e.prototype.stopAllActions = function () {
                    this.resNode.stopAllActions()
                },
                e.prototype.addComponent = function (t) {
                    return this.resNode.addComponent(t)
                },
                e.prototype.getComponent = function (t) {
                    return this.resNode.getComponent(t)
                },
                e.prototype.convertToWorldSpaceAR = function (t) {
                    return this.resNode.convertToWorldSpaceAR(t)
                },
                e.prototype.on = function (t, e, n, o) {
                    this.resNode.on(t, e, n, o)
                },
                e.prototype.setNodeGroup = function (t) {
                    this.resNode.group = t
                },
                e.prototype.play = function (t, e, n, o) {
                    if (void 0 === o && (o = a.PANEL_LAYER.TIP), t) {
                        var i = a.default.getLayerNode(o);
                        this.setParent(i),
                        this.setPosition(i.convertToNodeSpaceAR(t))
                    }
                    this.m_particle.resetSystem(),
                    e && this.m_particle.scheduleOnce(this.stopAndPutback.bind(this, n), e)
                },
                e.prototype.stopAndPutback = function (t) {
                    t ? (this.m_particle.stopSystem(), this.m_particle.scheduleOnce(this.putBack.bind(this), t)) : this.putBack()
                },
                e.prototype.stop = function () {
                    this.m_particle.stopSystem()
                },
                e.prototype.putBack = function () {
                    s.default.poolManager.put(this)
                },
                i([r.default.WaitForLoaded(1)], e.prototype, "setName", null),
                i([r.default.WaitForLoaded(1)], e.prototype, "addNodeChild", null),
                i([r.default.WaitForLoaded(1)], e.prototype, "addChild", null),
                i([r.default.WaitForLoaded(1, !0)], e.prototype, "getChild", null),
                i([r.default.WaitForLoaded(1)], e.prototype, "removeFromParent", null),
                i([r.default.WaitForLoaded(1)], e.prototype, "setParent", null),
                i([r.default.WaitForLoaded(0, !0)], e.prototype, "getParent", null),
                i([r.default.WaitForLoaded(2)], e.prototype, "setPosition", null),
                i([r.default.WaitForLoaded(2)], e.prototype, "setScale", null),
                i([r.default.WaitForLoaded(1)], e.prototype, "setRotation", null),
                i([r.default.WaitForLoaded(1)], e.prototype, "setNodeOpacity", null),
                i([r.default.WaitForLoaded(1)], e.prototype, "setNodeColor", null),
                i([r.default.WaitForLoaded(0)], e.prototype, "show", null),
                i([r.default.WaitForLoaded(0)], e.prototype, "hide", null),
                i([r.default.WaitForLoaded(1)], e.prototype, "setSiblingIndex", null),
                i([r.default.WaitForLoaded(1)], e.prototype, "runAction", null),
                i([r.default.WaitForLoaded(1)], e.prototype, "stopAction", null),
                i([r.default.WaitForLoaded(0)], e.prototype, "stopAllActions", null),
                i([r.default.WaitForLoaded(1, !0)], e.prototype, "addComponent", null),
                i([r.default.WaitForLoaded(1, !0)], e.prototype, "getComponent", null),
                i([r.default.WaitForLoaded(1, !0)], e.prototype, "convertToWorldSpaceAR", null),
                i([r.default.WaitForLoaded(4)], e.prototype, "on", null),
                i([r.default.WaitForLoaded(1)], e.prototype, "setNodeGroup", null),
                i([r.default.WaitForLoaded(4)], e.prototype, "play", null),
                i([r.default.WaitForLoaded(1)], e.prototype, "stopAndPutback", null),
                i([r.default.WaitForLoaded(0)], e.prototype, "stop", null),
                e
            }
            (r.default);
            n.default = c,
            cc._RF.pop()
        }, {
            "../AsyncObject": "AsyncObject",
            "../_G": "_G",
            "../mgr/mgrPanel": "mgrPanel"
        }
    ],
    Particle: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "f3e0fp3r6BAyJdRyrFASbRl", "Particle");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__decorate || function (t, e, n, o) {
                var i,
                r = arguments.length,
                a = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(t, e, n, o);
                else
                    for (var s = t.length - 1; s >= 0; s--)
                        (i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, n, a) : i(e, n)) || a);
                return r > 3 && a && Object.defineProperty(e, n, a),
                a
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r = t("./ViewBase"),
            a = t("../AsyncObject"),
            s = t("../mgr/mgrPanel"),
            c = t("../_G"),
            l = function (t) {
                function e(e) {
                    var n = t.call(this) || this;
                    return n.resourceName = null,
                    n.resourceName = e,
                    n
                }
                return o(e, t),
                e.prototype.onCreateComplete = function () {
                    this.m_particle = this.resNode.getComponent(cc.ParticleSystem) || this.resNode.getComponentInChildren(cc.ParticleSystem),
                    this.m_particle || cc.error("effect not found: " + this.resourceName)
                },
                e.prototype.reuse = function () {
                    this.tryCreate(),
                    this.show()
                },
                e.prototype.unuse = function () {
                    this.stop(),
                    this.removeFromParent(),
                    this.hide(),
                    this.clearDelayCalls()
                },
                e.prototype.play = function (t, e, n, o) {
                    if (void 0 === o && (o = s.PANEL_LAYER.TIP), t) {
                        var i = s.default.getLayerNode(o);
                        this.setParent(i),
                        this.setPosition(i.convertToNodeSpaceAR(t))
                    }
                    this.m_particle.resetSystem(),
                    e && this.m_particle.scheduleOnce(this.stopAndPutback.bind(this, n), e)
                },
                e.prototype.stopAndPutback = function (t) {
                    t ? (this.m_particle.stopSystem(), this.m_particle.scheduleOnce(this.putBack.bind(this), t)) : this.putBack()
                },
                e.prototype.stop = function () {
                    this.m_particle && this.m_particle.stopSystem()
                },
                e.prototype.putBack = function () {
                    c.default.poolManager.put(this)
                },
                i([a.default.WaitForLoaded(4)], e.prototype, "play", null),
                i([a.default.WaitForLoaded(1)], e.prototype, "stopAndPutback", null),
                i([a.default.WaitForLoaded(0)], e.prototype, "stop", null),
                e
            }
            (r.default);
            n.default = l,
            cc._RF.pop()
        }, {
            "../AsyncObject": "AsyncObject",
            "../_G": "_G",
            "../mgr/mgrPanel": "mgrPanel",
            "./ViewBase": "ViewBase"
        }
    ],
    PoolManager: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "10a3fSJ8ttB0Jkh9AWpxWaC", "PoolManager"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("./Queue"),
            i = function () {
                function t() {
                    this.m_queue = new o.default(16, !0),
                    this.m_referenceCount = 0
                }
                return Object.defineProperty(t.prototype, "length", {
                    get: function () {
                        return this.m_queue.size
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                t.prototype.push = function (t) {
                    this.m_queue.enqueue(t)
                },
                t.prototype.pop = function () {
                    return this.m_queue.dequeue()
                },
                t.prototype.retain = function () {
                    this.m_referenceCount++
                },
                t.prototype.release = function () {
                    this.m_referenceCount--
                },
                Object.defineProperty(t.prototype, "referenceCount", {
                    get: function () {
                        return this.m_referenceCount
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "totalCount", {
                    get: function () {
                        return this.m_referenceCount + this.m_queue.size
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                t
            }
            (),
            r = function () {
                function t() {
                    this.pools = [],
                    this.poolConfigs = []
                }
                return t.prototype._getPool = function (t, e) {
                    var n = this.pools[t];
                    n || (n = {}, this.pools[t] = n);
                    var o = n[e];
                    return o || (o = new i, n[e] = o),
                    o
                },
                t.prototype.register = function (t, e, n) {
                    if ((void 0 === n && (n = !0), t.__pool_id) && this.poolConfigs[t.__pool_id].reuseClass === t)
                        return void cc.error("PoolManager.register class is registed.", t);
                    var o = {
                        reuseClass: t,
                        maxCount: e,
                        bOverload: n
                    };
                    t.__pool_id = this.poolConfigs.length,
                    this.poolConfigs.push(o)
                },
                t.prototype.get = function (t, e) {
                    var n = t.__pool_id;
                    if (void 0 != n) {
                        var o = this.poolConfigs[n];
                        if (o) {
                            null == e && (e = "__default_pool_key__");
                            var i = this._getPool(n, e),
                            r = i.pop();
                            if (!r) {
                                if (!o.bOverload && i.totalCount >= o.maxCount)
                                    return null;
                                (r = new t(e)).__pool_id = n,
                                r.__pool_key = e
                            }
                            return i.retain(),
                            r.reuse(),
                            r.__pool_flag_inpool = !1,
                            r
                        }
                        cc.warn('"PoolManager.get config not found! poolId = ' + n + '"')
                    } else
                        cc.warn("PoolManager.get class is not register.", t)
                },
                t.prototype.put = function (t) {
                    if (!t)
                        return cc.warn("PoolManager.put node is nil!"), !1;
                    var e = t.__pool_id,
                    n = t.__pool_key;
                    if (void 0 == e)
                        return cc.warn("PoolManager.put obj[KEY_POOL_ID] not found!"), !1;
                    if (!n)
                        return cc.warn("PoolManager.put obj[KEY_POOL_KEY] not found!"), !1;
                    var o = this.poolConfigs[e];
                    if (!o)
                        return cc.warn("PoolManager.put config not found! poolId:[" + e + "] key:[" + n + "]"), !1;
                    if (t.__pool_flag_inpool)
                        return cc.warn("PoolManager.put obj is already in pool! [" + e + "] key:[" + n + "]"), !1;
                    t.unuse();
                    var i = this._getPool(e, n);
                    return i.length < o.maxCount ? (t.__pool_flag_inpool = !0, i.push(t)) : t.dispose(),
                    i.release(),
                    !0
                },
                t.prototype.clean = function (t, e) {
                    var n = t.__pool_id;
                    for (var o in this.pools)
                        if (null != n || n == o) {
                            var i = this.pools[o];
                            for (var r in i)
                                if (!e || e == r)
                                    for (var a = i[r], s = a.length, c = 0; c < s; c++) {
                                        a.pop().dispose()
                                    }
                        }
                },
                t.prototype.debugInfo = function () {
                    for (var t in cc.log("\n------ debug pools ------"), this.pools) {
                        var e = this.pools[t];
                        for (var n in e) {
                            var o = e[n],
                            i = this.poolConfigs[t].reuseClass.toString(),
                            r = i.indexOf("{");
                            r && r > 9 && (i = i.substring(9, r)),
                            cc.log("pool:" + t + "    key:" + n + "    cached:" + o.length + "    used:" + o.referenceCount + "    class:" + i)
                        }
                    }
                    cc.log("\n------ debug pool class ------"),
                    this.debugClassId(),
                    cc.log("")
                },
                t.prototype.debugClassId = function () {
                    for (var t = 0; t < this.poolConfigs.length; t++) {
                        var e = this.poolConfigs[t],
                        n = e.reuseClass.toString(),
                        o = n.indexOf("{");
                        o && o > 9 && (n = n.substring(9, o)),
                        cc.log("class:" + n + "  poolId:" + e.reuseClass.__pool_id)
                    }
                },
                t
            }
            ();
            n.default = r,
            cc._RF.pop()
        }, {
            "./Queue": "Queue"
        }
    ],
    Prefab: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "01ef71qB1NHm6sDOUEawUe5", "Prefab");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = function (t) {
                function e(e) {
                    var n = t.call(this) || this;
                    return n.resourceName = e,
                    n.create(),
                    n
                }
                return o(e, t),
                e.prototype.onCreateComplete = function () {},
                e.prototype.reuse = function () {
                    this.show()
                },
                e.prototype.unuse = function () {
                    this.removeFromParent(),
                    this.hide(),
                    this.clearDelayCalls()
                },
                e
            }
            (t("./ViewBase").default);
            n.default = i,
            cc._RF.pop()
        }, {
            "./ViewBase": "ViewBase"
        }
    ],
    Queue: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "57ac6CtBJJI0ZTok9ujk5E4", "Queue"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("./utils/Tools"),
            i = function () {
                function t(t, e) {
                    void 0 === t && (t = 128),
                    void 0 === e && (e = !0),
                    this.autoGrow = !0,
                    this.autoGrow = e,
                    this.maxLen = t,
                    this.tail = 0,
                    this.head = 0,
                    this.count = 0,
                    this.queue = new Array(t)
                }
                return Object.defineProperty(t.prototype, "size", {
                    get: function () {
                        return this.count
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "max", {
                    get: function () {
                        return this.maxLen
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                t.prototype.enqueue = function (t) {
                    if (this.autoGrow)
                        this.count >= this.maxLen - 1 && this.grow();
                    else if (this.count >= this.maxLen)
                        return !1;
                    return this.queue[this.tail] = t,
                    this.tail = ++this.tail % this.maxLen,
                    this.count++,
                    !0
                },
                t.prototype.dequeue = function () {
                    for (; this.count <= 0; )
                        return null;
                    var t = this.queue[this.head];
                    return this.queue[this.head] = null,
                    this.head = ++this.head % this.maxLen,
                    this.count--,
                    t
                },
                t.prototype.peek = function () {
                    for (; this.count <= 0; )
                        return null;
                    return this.queue[this.head]
                },
                t.prototype.grow = function () {
                    var t = this.maxLen + (this.maxLen >> 1);
                    this.maxLen = this.hugeLen(t);
                    var e = new Array(this.maxLen);
                    this.count > 0 && (this.head < this.tail ? o.default.arrayCopy(this.queue, this.head, e, 0, this.count) : (o.default.arrayCopy(this.queue, this.head, e, 0, this.queue.length - this.head), o.default.arrayCopy(this.queue, 0, e, this.queue.length - this.head, this.tail))),
                    this.queue = e,
                    this.head = 0,
                    this.tail = this.count == this.maxLen ? 0 : this.count
                },
                t.prototype.hugeLen = function (e) {
                    if (e < 0)
                        throw "Queue.hugeLen: OutOfMemoryError";
                    return e > t.MAX_ARRAY_SIZE ? t.MAX_ARRAY_SIZE : e
                },
                t.prototype.clear = function () {
                    this.tail = 0,
                    this.head = 0,
                    this.count = 0,
                    this.queue = new Array(this.queue.length)
                },
                t.prototype.reset = function () {
                    this.tail = 0,
                    this.head = 0,
                    this.count = 0
                },
                t.prototype.indexOf = function (t) {
                    return t < 0 || t >= this.count ? null : this.queue[(this.head + t) % this.maxLen]
                },
                t.prototype.contains = function (t) {
                    for (var e = 0; e < this.count; e++)
                        if (t == this.indexOf(e))
                            return !0;
                    return !1
                },
                t.MAX_ARRAY_SIZE = Number.MAX_VALUE - 8,
                t
            }
            ();
            n.default = i,
            cc._RF.pop()
        }, {
            "./utils/Tools": "Tools"
        }
    ],
    ResLoader: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "7978aHAzKhLGq3QNjhuNQMA", "ResLoader");
            var o,
            i = this && this.__awaiter || function (t, e, n, o) {
                return new(n || (n = Promise))(function (i, r) {
                    function a(t) {
                        try {
                            c(o.next(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function s(t) {
                        try {
                            c(o.throw(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function c(t) {
                        t.done ? i(t.value) : new n(function (e) {
                            e(t.value)
                        }).then(a, s)
                    }
                    c((o = o.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function (t, e) {
                var n,
                o,
                i,
                r,
                a = {
                    label: 0,
                    sent: function () {
                        if (1 & i[0])
                            throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw : s(1),
                    return : s(2)
                },
                "function" == typeof Symbol && (r[Symbol.iterator] = function () {
                    return this
                }),
                r;
                function s(t) {
                    return function (e) {
                        return c([t, e])
                    }
                }
                function c(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done)
                                return i;
                            switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                o = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1],
                                    i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2],
                                    a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            o = 0
                        }
                    finally {
                        n = i = 0
                    }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var a = t("./utils/Timer"),
            s = t("./utils/Tools"),
            c = (t("./utils/Mathf"), function () {}),
            l = ((o = {}).Prefab = cc.Prefab, o.SkeletonData = sp.SkeletonData, o.SpriteFrame = cc.SpriteFrame, o.JsonAsset = cc.JsonAsset, o.Texture2D = cc.Texture2D, o.AudioClip = cc.AudioClip, o.AnimationClip = cc.AnimationClip, o.TextAsset = cc.TextAsset, o.SpriteAtlas = cc.SpriteAtlas, o);
            function u(t) {
                for (var e = Object.keys(l), n = 0; n < e.length; n++)
                    if (l[e[n]] === t)
                        return e[n];
                var o = e.length.toString();
                return l[o] = t,
                o
            }
            function d(t) {
                for (var e = 0, n = 0; n < t.length; n++)
                    e += t[n];
                return e
            }
            var p = function () {
                function t() {
                    this.isLoaded = !1,
                    this.isLoading = !1,
                    this._urls = Object.create(null),
                    this._resCounts = [],
                    this._calls = [],
                    this._callCount = 0,
                    this._resStartTime = 0,
                    this._callStartTime = 0,
                    this._progressCallback = null,
                    this._completeCallback = null
                }
                return t.prototype.setLoadingCallback = function (t, e) {
                    e ? (this._progressCallback = t, this._completeCallback = e) : e = t = c
                },
                t.prototype.add = function (t, e) {
                    if (void 0 === e && (e = cc.Prefab), this.isLoading)
                        cc.error("ResLoader is loading!");
                    else {
                        var n = u(e);
                        0;
                        var o = this._urls[n];
                        o || (o = {
                                type: e,
                                urls: []
                            }, this._urls[n] = o),
                        t instanceof Array ? o.urls = o.urls.concat(t) : o.urls.push(t)
                    }
                },
                t.prototype.addCall = function (t) {
                    this._calls.push(t)
                },
                t.prototype.clearDuplicateRes = function () {
                    for (var t in this._urls)
                        for (var e = this._urls[t].urls, n = {}, o = e.length - 1; o >= 0; o--)
                            n[e[o]] ? e.splice(o, 1) : n[e[o]] = !0
                },
                t.prototype.loadAll = function () {
                    return i(this, void 0, void 0, function () {
                        var t,
                        e,
                        n;
                        return r(this, function (o) {
                            if (this.isLoading)
                                return cc.error("ResLoader is loading!"), [2];
                            for (e in this.isLoading = !0, this._resStartTime = a.default.time, this.clearDuplicateRes(), this._callCount = this._calls.length, t = !1, this._urls)
                                if (this._urls[e].urls.length > 0) {
                                    t = !0;
                                    break
                                }
                            return t ? (n = this, [2, new Promise(function (t, e) {
                                        for (var o = Object.keys(n._urls), i = Object.keys(n._urls).length, r = !1, a = [], s = [], c = 0; c < i; c++)
                                            a.push(0), s.push(0);
                                        var l = function (c) {
                                            var l = n._urls[o[c]];
                                            cc.loader.loadResArray(l.urls, l.type, function (t, e, o) {
                                                a[c] = t,
                                                s[c] = e,
                                                n.onProgress(d(a), d(s) + n._callCount)
                                            }, function (o, a) {
                                                i--,
                                                o && (cc.error("ResLoader resource load failed: ", o), r = !0),
                                                0 == i && (r ? e(!1) : t(!0), n._resCounts = s, n.onResLoadComplete(!r))
                                            })
                                        };
                                        for (c = i - 1; c >= 0; c--)
                                            l(c)
                                    })]) : (this.onResLoadComplete(!0), [2])
                        })
                    })
                },
                t.prototype.loadOneByOne = function (t) {
                    void 0 === t && (t = 1),
                    this.isLoading ? cc.error("ResLoader is loading!") : (this.isLoading = !0, this._resStartTime = a.default.time, this.clearDuplicateRes(), this._loadOneByOne(t))
                },
                t.prototype._loadOneByOne = function (t) {
                    for (var e, n = this, o = Object.keys(this._urls), i = "", r = 0; r < o.length; r++) {
                        var s = this._urls[o[r]];
                        if (0 != s.urls.length) {
                            e = s.type,
                            i = s.urls.shift();
                            break
                        }
                        delete this._urls[o[r]]
                    }
                    i ? cc.loader.loadRes(i, e, function (e, o) {
                        e ? (cc.error("ResLoader.loadOneByOne error, url:", i), n.onResLoadComplete(!1)) : a.default.callLater(t, n._loadOneByOne.bind(n, t))
                    }) : this.onResLoadComplete(!0)
                },
                t.prototype.onResLoadComplete = function (t) {
                    t ? this._processCalls() : this._completeCallback && this._completeCallback(!1)
                },
                t.prototype._processCalls = function () {
                    return i(this, void 0, void 0, function () {
                        var t,
                        e,
                        n,
                        o;
                        return r(this, function (i) {
                            switch (i.label) {
                            case 0:
                                0,
                                t = d(this._resCounts),
                                e = -1,
                                i.label = 1;
                            case 1:
                                i.trys.push([1, 6, , 7]),
                                n = 0,
                                i.label = 2;
                            case 2:
                                return n < this._callCount ? (e = n, [4, (0, this._calls[n])()]) : [3, 5];
                            case 3:
                                i.sent(),
                                this.onProgress(t + n + 1, t + this._callCount),
                                i.label = 4;
                            case 4:
                                return n++,
                                [3, 2];
                            case 5:
                                return this.onComplete(),
                                [3, 7];
                            case 6:
                                return o = i.sent(),
                                cc.error("ResLoader._processCalls index:" + e + " error:" + s.default.formatError(o)),
                                this._completeCallback && this._completeCallback(!1),
                                [3, 7];
                            case 7:
                                return [2]
                            }
                        })
                    })
                },
                t.prototype.onProgress = function (t, e) {
                    this._progressCallback && this._progressCallback(t, e)
                },
                t.prototype.onComplete = function () {
                    this.isLoaded = !0,
                    this._completeCallback && this._completeCallback(!0)
                },
                t
            }
            ();
            n.default = p,
            cc._RF.pop()
        }, {
            "./utils/Mathf": "Mathf",
            "./utils/Timer": "Timer",
            "./utils/Tools": "Tools"
        }
    ],
    ReuseLabel: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "af63dlYCGZPHar98YyPfZ0p", "ReuseLabel");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = function (t) {
                function e(e) {
                    var n = t.call(this, "rl", 40, null, 46) || this;
                    return n.setNodeColor(cc.color(255, 30, 30)),
                    n
                }
                return o(e, t),
                e.prototype.reuse = function () {
                    this.show()
                },
                e.prototype.unuse = function () {
                    this.removeFromParent(),
                    this.hide()
                },
                e
            }
            (t("../widget/SLabel").default);
            n.default = i,
            cc._RF.pop()
        }, {
            "../widget/SLabel": "SLabel"
        }
    ],
    ReuseScrollList: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "4a4d6OIVfJEILzziovPelV5", "ReuseScrollList");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__decorate || function (t, e, n, o) {
                var i,
                r = arguments.length,
                a = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(t, e, n, o);
                else
                    for (var s = t.length - 1; s >= 0; s--)
                        (i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, n, a) : i(e, n)) || a);
                return r > 3 && a && Object.defineProperty(e, n, a),
                a
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r = t("../AsyncObject"),
            a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.eachCount = 1,
                    e.itemSize = cc.v2(100, 100),
                    e.asyncMaskSize = !0,
                    e.itemCreateDeltaFrame = 0,
                    e.itemCreatePerCount = 1,
                    e._bCreating = !1,
                    e.m_bInit = !1,
                    e.m_maskNode = null,
                    e.m_items = [],
                    e.m_totalCount = 0,
                    e.m_itemCount = 0,
                    e.m_topIndex = 0,
                    e
                }
                return o(e, t),
                Object.defineProperty(e.prototype, "refresh", {
                    get: function () {
                        return !1
                    },
                    set: function (t) {
                        this.m_maskNode = this.content.parent,
                        this.updateSize(),
                        this.updateChildren(),
                        this.init(),
                        this.m_bInit = !1
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                e.prototype.onDestroy = function () {
                    this.node.off("scrolling", this.onScrolling, this),
                    this.m_items.length > 0 && cc.error("ReuseScrollList.onDestroy: must clear item!")
                },
                e.prototype.clearAllItems = function () {
                    if (this.onItemClear) {
                        for (var t = this.m_items.length, e = 0; e < t; e++)
                            this.m_items[e].tryClear();
                        this.m_items = []
                    }
                },
                e.prototype.foreachItems = function (t) {
                    for (var e = this.m_items.length, n = 0; n < e && !t(this.m_items[n].item); n++);
                },
                e.prototype.getItem = function (t) {
                    return t >= 0 ? this.m_items[t % this.m_itemCount].item : null
                },
                e.prototype.update = function (e) {
                    if (t.prototype.update.call(this, e), this.m_bInit && this._bCreating) {
                        var n = !0,
                        o = this.itemCreatePerCount,
                        i = this.m_items.length,
                        r = 0;
                        t: for (; r < i; ) {
                            for (var a = 0; a < o; a++)
                                if (this.m_items[r].isLoaded || (this.m_items[r].tryCreate(), n = !1), ++r >= i)
                                    break t;
                            if (!n)
                                break
                        }
                        this.onScrolling(),
                        n && (this._bCreating = !1, this.onItemCreateComplete && this.onItemCreateComplete())
                    }
                },
                e.prototype.init = function () {
                    if (!this.m_bInit) {
                        this.m_bInit = !0,
                        this.m_maskNode = this.content.parent,
                        this.vertical ? (this.content.setAnchorPoint(.5, 1), this.m_maskNode.width = this.eachCount * this.itemSize.x, this.m_itemCount = (Math.ceil(this.m_maskNode.height / this.itemSize.y) + 1) * this.eachCount) : (this.content.setAnchorPoint(0, .5), this.m_maskNode.height = this.eachCount * this.itemSize.y, this.m_itemCount = (Math.ceil(this.m_maskNode.width / this.itemSize.x) + 1) * this.eachCount),
                        this.asyncMaskSize && (this.node.width = this.m_maskNode.width, this.node.height = this.m_maskNode.height),
                        this._bCreating = 0 != this.itemCreateDeltaFrame,
                        this.node.on("scrolling", this.onScrolling, this);
                        for (var t = void 0, e = 0; e < this.m_itemCount; e++) {
                            var n = new u(this, this.itemCreateDeltaFrame);
                            this._bCreating || n.tryCreate(),
                            n.setParent(this.content),
                            t = this.getItemPositionByIndex(e),
                            n.setPosition(t),
                            this.m_items.push(n)
                        }
                        this._bCreating ? this.itemCreatePerCount = Math.max(1, this.itemCreatePerCount) : this.onItemCreateComplete && this.onItemCreateComplete()
                    }
                },
                e.prototype.getItemPositionByIndex = function (t) {
                    var e,
                    n,
                    o = cc.v2(0, 0);
                    this.vertical ? (e = t % this.eachCount, n = 0 | t / this.eachCount) : (n = t % this.eachCount, e = 0 | t / this.eachCount);
                    var i = this.content;
                    return o.x = (e + .5) * this.itemSize.x - i.width * i.anchorX,
                    o.y =  - (n + .5) * this.itemSize.y + i.height * (1 - i.anchorY),
                    o
                },
                e.prototype.updateList = function (t, e) {
                    if (this.init(), this.m_totalCount = t, null == e && (e = this.m_topIndex), this.m_topIndex = e, this.m_topIndex >= t && (this.m_topIndex = t - 1), this.m_topIndex < 0 && (this.m_topIndex = 0), this.updateSize(), this.m_topIndex >= 0) {
                        var n = this.getPercent(this.m_topIndex);
                        this.vertical ? this.scrollToPercentVertical(1 - n, .1) : this.scrollToPercentHorizontal(n, .1)
                    }
                    for (var o, i = 0; i < this.m_itemCount; i++) {
                        var r = this.m_topIndex + i,
                        a = this.m_items[r % this.m_itemCount];
                        r < t ? (o = this.getItemPositionByIndex(r), a.setPosition(o), a.show(), a.tryChange(r)) : a.hide()
                    }
                },
                e.prototype.centerTo = function (t, e) {
                    var n = this.vertical ? this.m_maskNode.height / this.itemSize.y : this.m_maskNode.width / this.itemSize.x,
                    o = this.getPercent(t - n / 2);
                    this._bCreating && cc.warn("this method may lead anim problem if load anim async"),
                    this.vertical ? this.scrollToPercentVertical(1 - o, e) : this.scrollToPercentHorizontal(o, e),
                    null == e && this.onScrolling()
                },
                e.prototype.getPercent = function (t) {
                    var e,
                    n,
                    o;
                    if (this.vertical ? (e = this.content.height, n = this.m_maskNode.height, o = this.itemSize.y) : (e = this.content.width, n = this.m_maskNode.width, o = this.itemSize.x), e - n <= 0)
                        return 0;
                    var i = Math.floor(t / this.eachCount) * o;
                    return cc.misc.clamp01(i / (e - o))
                },
                e.prototype.updateSize = function () {
                    var t,
                    e;
                    this.vertical ? (t = this.eachCount * this.itemSize.x, e = Math.ceil(this.m_totalCount / this.eachCount) * this.itemSize.y) : (t = Math.ceil(this.m_totalCount / this.eachCount) * this.itemSize.x, e = this.eachCount * this.itemSize.y),
                    this.content.width = t,
                    this.content.height = e
                },
                e.prototype.updateChildren = function () {
                    for (var t = this.content.childrenCount, e = 0; e < t; e++)
                        this.content.children[e].position = this.getItemPositionByIndex(e);
                    this.vertical ? this.content.setPosition(0, this.m_maskNode.height / 2) : this.content.setPosition(-this.m_maskNode.width / 2, 0)
                },
                e.prototype.onScrolling = function () {
                    var t,
                    e;
                    this.vertical ? (t = (this.m_topIndex / this.eachCount | 0) * this.itemSize.y, (e = this.content.y - this.m_maskNode.height / 2) < t ? this.tailToHead(Math.ceil((t - e) / this.itemSize.y)) : e > t + this.itemSize.y && this.headToTail(Math.ceil((e - t - this.itemSize.y) / this.itemSize.y))) : (t = (this.m_topIndex / this.eachCount | 0) * -this.itemSize.x, (e = this.content.x + this.m_maskNode.width / 2) > t ? this.tailToHead(Math.ceil((e - t) / this.itemSize.x)) : e < t - this.itemSize.x && this.headToTail(Math.ceil((t - this.itemSize.x - e) / this.itemSize.x)))
                },
                e.prototype.tailToHead = function (t) {
                    for (var e, n, o, i = t * this.eachCount, r = 0; r < i; r++) {
                        if (e = (this.m_topIndex + this.m_itemCount - 1) % this.m_itemCount, (n = this.m_topIndex - 1) < 0)
                            return;
                        n >= this.m_totalCount ? this.m_items[e].hide() : ((o = this.m_items[e]).show(), o.setPosition(this.getItemPositionByIndex(n)), o.tryChange(n)),
                        this.m_topIndex--
                    }
                },
                e.prototype.headToTail = function (t) {
                    for (var e, n, o, i = t * this.eachCount, r = 0; r < i; r++)
                        e = this.m_topIndex % this.m_itemCount, (n = this.m_topIndex + this.m_itemCount) < this.m_totalCount ? ((o = this.m_items[e]).show(), o.setPosition(this.getItemPositionByIndex(n)), o.tryChange(n)) : this.m_items[e].hide(), this.m_topIndex++
                },
                i([c({
                            tooltip: "items amount every row(column)",
                            min: 1
                        })], e.prototype, "eachCount", void 0),
                i([c], e.prototype, "itemSize", void 0),
                i([c({
                            tooltip: "make scroll and mask same"
                        })], e.prototype, "asyncMaskSize", void 0),
                i([c({
                            tooltip: "frame interval created by item",
                            min: 0
                        })], e.prototype, "itemCreateDeltaFrame", void 0),
                i([c({
                            tooltip: "item amount, valid for frame interval",
                            min: 1
                        })], e.prototype, "itemCreatePerCount", void 0),
                i([c], e.prototype, "refresh", null),
                e = i([s], e)
            }
            (cc.ScrollView);
            n.default = l;
            var u = function () {
                function t(t, e) {
                    this.index = null,
                    this.position = null,
                    this.parent = null,
                    this.visible = null,
                    this.isDisposed = !1,
                    this.scrollor = t,
                    this.deltaFrame = e
                }
                return t.prototype.tryCreate = function () {
                    /// ghb: 这里生成飞车，包括名字
                    if (!this.isDisposed)
                        if (this.deltaFrame <= 0) {
                            if (!this.item) {
                                var t = this.scrollor.onItemCreate();
                                this.item = t;
                                this.parent && t.setParent(this.parent);
                                this.position && t.setPosition(this.position);
                                null != this.visible && (t.active = this.visible);
                                null != this.index && this.scrollor.onItemChange(t, this.index);
                            }
                        } else
                            this.deltaFrame--
                },
                t.prototype.tryChange = function (t) {
                    this.item ? this.scrollor.onItemChange(this.item, t) : this.index = t
                },
                t.prototype.tryClear = function () {
                    this.isDisposed = !0,
                    this.item && (this.scrollor.onItemClear(this.item), this.item = null)
                },
                Object.defineProperty(t.prototype, "isLoaded", {
                    get: function () {
                        return !!this.item && (!(this.item instanceof r.default) || this.item.isLoaded)
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                t.prototype.setParent = function (t) {
                    this.item ? this.item.setParent(t) : this.parent = t
                },
                t.prototype.setPosition = function (t) {
                    this.item ? this.item.setPosition(t) : this.position = t
                },
                t.prototype.show = function () {
                    this.item ? this.item.active = !0 : this.visible = !0
                },
                t.prototype.hide = function () {
                    this.item ? this.item.active = !1 : this.visible = !1
                },
                t
            }
            ();
            cc._RF.pop()
        }, {
            "../AsyncObject": "AsyncObject"
        }
    ],
    ReuseSprite: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "24e1dzQB5tJs7jF/vtnoIuV", "ReuseSprite");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = function (t) {
                function e(e) {
                    return t.call(this, "rs", e, cc.Sprite.SizeMode.TRIMMED) || this
                }
                return o(e, t),
                e.prototype.reuse = function () {
                    this.show()
                },
                e.prototype.unuse = function () {
                    this.removeFromParent(),
                    this.hide()
                },
                e
            }
            (t("../widget/SSprite").default);
            n.default = i,
            cc._RF.pop()
        }, {
            "../widget/SSprite": "SSprite"
        }
    ],
    Role: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "ca7d5zjastGFpBIZ8MXE8BF", "Role");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i,
            r = t("./Unit"),
            a = t("../state/SRoleState"),
            s = t("../../extensions/widget/SLabel"),
            c = t("../../common/DbExt"),
            l = t("../../GameConfig"),
            u = t("../../extensions/component/UIDrag"),
            d = t("../World"),
            p = t("../../manager/mgrGame"),
            h = t("../../extensions/_G"),
            f = t("../../extensions/BaseConst"),
            _ = t("../../extensions/widget/SSprite"),
            m = t("../../extensions/Queue"),
            g = t("../../manager/mgrAlert"),
            y = t("../../common/Const"),
            v = t("../../extensions/mgr/mgrPanel"),
            b = t("../../extensions/mgr/mgrAudio");
            (function (t) {
                t.Idle = "idle",
                t.Fight = "fight"
            })(i = n.RoleState || (n.RoleState = {})),
            n.RoleAnim = {
                Atk: "atk",
                Idle: "idle",
                Move: "move",
                Die: "die",
                Hit: "hit"
            };
            cc.Vec2.ZERO;
            var S = new m.default(16, !0),
            A = (new m.default(16, !0), function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.bTouched = !1,
                    e._bCard = null,
                    e
                }
                return o(e, t),
                e.prototype.initState = function () {
                    this.registerState(i.Idle, new a.SRoleIdle),
                    this.registerState(i.Fight, new a.SRoleFight),
                    this.registerState(r.UnitState.PutBack, new a.SRolePutBack)
                },
                e.prototype.initStaticAttr = function () {
                    t.prototype.initStaticAttr.call(this),
                    this.atk = c.default.get_unit_atk(this.unitDb),
                    this.atkDeltaTime = c.default.get_atk_delta(this.unitDb),
                    this.castTime = c.default.get_cast_time(this.unitDb),
                    this.faction = r.Faction.Blue,
                    this.levelBg = new _.default("", "texture/role/num_bg_" + this.unitDb.gid, cc.Sprite.SizeMode.TRIMMED),
                    this.levelBg.setParent(this.node),
                    this.levelBg.setScale(.69),
                    this.levelLabel = new s.default("", 28, "texture/role/num_lv", 38),
                    this.levelLabel.setParent(this.node),
                    this.levelLabel.string = (this.unitDb.quality + 1).toString();
                    var e = this.node.addComponent(u.default);
                    e.onTouchStartCallback = this.onTouchStart.bind(this),
                    e.onTouchEndCallback = this.onTouchEnd.bind(this),
                    e.userData = this
                },
                e.prototype.onTouchStart = function (t, e, n) {
                    return !!(y.GuideInfo.bGuideMode && this.index < 4) || (b.default.playSound("up"), this.bTouched = !0, this.node.setSiblingIndex(-1), h.default.sendMsg(y.MSG.UI_SHOW_CARD_FOCUS, {
                            quality: this.unitDb.quality,
                            index: this.index
                        }), !1)
                },
                e.prototype.onTouchEnd = function (t, e, n) {
                    if (!this.bTouched)
                        return !0;
                    b.default.playSound("down"),
                    this.bTouched = !1,
                    h.default.sendMsg(y.MSG.UI_SHOW_CARD_FOCUS, null);
                    var o = d.default.instance.map.convertToIndex(e);
                    if (o == n.index)
                        return !1;
                    if (o < 0)
                        return !1;
                    if (y.GuideInfo.bGuideMode) {
                        if (o < 4 && y.GuideInfo.destIndex >= 0 && y.GuideInfo.destIndex != o)
                            return !1
                    } else if (o >= 0 && o <= 3 && !p.default.isTowerUnlock(o))
                        return h.default.sendMsg(f.BASE_MSG.UI_SHOW_TIP, "Challenge BOSS, unlock the platform."), h.default.sendMsg(y.MSG.UI_SHOW_BOSS_FINGER), !1;
                    return d.default.instance.moveTo(n.index, o)
                },
                e.prototype.dispose = function () {
                    this.levelLabel && (this.levelLabel.destroy(), this.levelLabel = null),
                    this.levelBg && (this.levelBg.destroy(), this.levelBg = null),
                    t.prototype.dispose.call(this)
                },
                e.prototype.reuse = function () {
                    t.prototype.reuse.call(this),
                    this.bTouched = !1
                },
                e.prototype.unuse = function () {
                    t.prototype.unuse.call(this),
                    this.bTouched = !1,
                    this.node.setScale(1),
                    this.node.setRotation(0)
                },
                e.prototype.changeToCard = function () {
                    !0 !== this._bCard && (this._bCard = !0, this.initSpriteView(c.default.get_card_view(this.unitDb)), this.node.setContentSize(l.default.cardTileW, l.default.cardTileH), this.levelBg && (this.levelBg.setPosition(-20, 34), this.levelLabel.setPosition(-20, 34)))
                },
                e.prototype.changeToRole = function () {
                    !1 !== this._bCard && (this._bCard = !1, this.initSpineView(c.default.get_role_view(this.unitDb)), this.node.setContentSize(l.default.roleTileW, l.default.roleTileH), this.levelBg.setPosition(-65, -25), this.levelLabel.setPosition(-65, -25))
                },
                e.prototype.updateIndex = function (t) {
                    this.index = t,
                    this.setPosition(d.default.instance.map.convertToWorldPos(t)),
                    t < 4 ? (this.changeToRole(), this.setNextState(i.Fight), this.viewNode.setScale(1, 1), this.setSiblingIndex(3 - t)) : (this.changeToCard(), this.viewNode.setScale(1, 1), this.setNextState(i.Idle)),
                    this.playComeAnim()
                },
                e.prototype.getBulletId = function () {
                    return c.default.get_role_bullet_id(this.unitDb)
                },
                e.prototype.playMoveAndRemoveAnim = function () {},
                e.prototype.removeWithAnim = function (t) {
                    var e = this,
                    n = cc.sequence(cc.spawn(cc.rotateBy(.3, 180), cc.scaleTo(.3, .5), cc.moveTo(.3, t)), cc.callFunc(function () {
                                e.removeDirectly()
                            }));
                    this.node.setSiblingIndex(-1),
                    this.node.stopAllActions(),
                    this.node.runAction(n)
                },
                e.prototype.playComeAnim = function () {
                    var t = S.dequeue();
                    t || (t = cc.sequence(cc.delayTime(.1), cc.scaleTo(.1, 1.1), cc.scaleTo(.1, 1), cc.callFunc(function () {
                                    S.enqueue(t)
                                }))),
                    this.index < 4 ? g.default.playEffect("2d/anim_node/72_hecheng/72_hecheng", this.position, 1, .5, v.PANEL_LAYER.UI) : g.default.playAnimationEffect("2d/anim_node/72_hecheng/72_hecheng01", this.position, 1, v.PANEL_LAYER.UI),
                    this.node.stopAllActions(),
                    this.node.runAction(t)
                },
                e.prototype.removeDirectly = function () {
                    d.default.instance.removeFSM(this)
                },
                e
            }
                (r.default));
            n.default = A,
            cc._RF.pop()
        }, {
            "../../GameConfig": "GameConfig",
            "../../common/Const": "Const",
            "../../common/DbExt": "DbExt",
            "../../extensions/BaseConst": "BaseConst",
            "../../extensions/Queue": "Queue",
            "../../extensions/_G": "_G",
            "../../extensions/component/UIDrag": "UIDrag",
            "../../extensions/mgr/mgrAudio": "mgrAudio",
            "../../extensions/mgr/mgrPanel": "mgrPanel",
            "../../extensions/widget/SLabel": "SLabel",
            "../../extensions/widget/SSprite": "SSprite",
            "../../manager/mgrAlert": "mgrAlert",
            "../../manager/mgrGame": "mgrGame",
            "../World": "World",
            "../state/SRoleState": "SRoleState",
            "./Unit": "Unit"
        }
    ],
    SBullet: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "29b91vaCxhIyouN85i6pQxP", "SBullet");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../../extensions/fsm/FSMState"),
            r = t("../../manager/mgrAlert"),
            a = t("../World"),
            s = t("../../extensions/mgr/mgrAudio"),
            c = t("../../GameConfig"),
            l = t("../../extensions/module/BaseFacade"),
            u = t("../../common/Const"),
            d = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.enter = function (t, e) {
                    this.bFollow = !0
                },
                e.prototype.execute = function (t, e) {
                    if (this.bFollow) {
                        var n = t.monster;
                        if (n.bDead)
                            this.bFollow = !1;
                        else if (!t.followTarget(e)) {
                            var o = t.tower.getSkill(0);
                            n.hitSkill(o),
                            n.bDead && o.isDropDiamond && (r.default.playDeadDiamond(n.position, c.default.drop_diamond_count), l.default.mItem.addItem(u.ITEM_ID.DIAMOND, c.default.drop_diamond_count, u.ITEM_CHANGE_REASON.LEVEL, " monster"), s.default.playSound("hit")),
                            t.dead()
                        }
                    } else
                        t.simpleMove(e) || t.dead()
                },
                e.prototype.exit = function (t) {},
                e
            }
            (i.default);
            n.SBulletMove = d;
            var p = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.enter = function (t, e) {
                    t.position.set(t.monster.position);
                    var n = t.tower.getSkill(0);
                    t.monster.hitSkill(n),
                    t.monster.bDead && n.isDropDiamond && (r.default.playDeadDiamond(t.monster.position, c.default.drop_diamond_count), l.default.mItem.addItem(u.ITEM_ID.DIAMOND, c.default.drop_diamond_count, u.ITEM_CHANGE_REASON.LEVEL, " monster"), s.default.playSound("hit")),
                    this._rayTime = 2.5
                },
                e.prototype.execute = function (t, e) {
                    this._rayTime -= e,
                    this._rayTime < 0 && t.dead()
                },
                e.prototype.exit = function (t) {},
                e
            }
            (i.default);
            n.SBulletRay = p;
            var h = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e._deadTime = 0,
                    e
                }
                return o(e, t),
                e.prototype.enter = function (t, e) {
                    t.bulletEffect ? (this._deadTime = .2, t.stopView()) : (this._deadTime = 0, this.putBack(t));
                    var n = r.default.playAnimationEffect("2d/anim_node/72_zidan01/zidan01_hit");
                    n && (n.setParent(a.default.instance.bulletLayer), n.setPosition(t.position), n.play(null, .5))
                },
                e.prototype.putBack = function (t) {
                    a.default.factoryUnit.putBullet(t)
                },
                e.prototype.execute = function (t, e) {
                    this._deadTime > 0 && (this._deadTime -= e, this._deadTime <= 0 && this.putBack(t))
                },
                e.prototype.exit = function (t) {},
                e
            }
            (i.default);
            n.SBulletDead = h,
            cc._RF.pop()
        }, {
            "../../GameConfig": "GameConfig",
            "../../common/Const": "Const",
            "../../extensions/fsm/FSMState": "FSMState",
            "../../extensions/mgr/mgrAudio": "mgrAudio",
            "../../extensions/module/BaseFacade": "BaseFacade",
            "../../manager/mgrAlert": "mgrAlert",
            "../World": "World"
        }
    ],
    SButton: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "8b0e6+QCcBE0LpeplDJCQNl", "SButton");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = function (t) {
                function e(e, n, o) {
                    var i = t.call(this, e) || this,
                    r = new cc.Node;
                    r.setParent(i),
                    r.color = cc.Color.BLACK;
                    var a = r.addComponent(cc.Label);
                    return a.fontSize = 18,
                    a.lineHeight = 20,
                    a.overflow = cc.Label.Overflow.SHRINK,
                    a.string = e,
                    a.verticalAlign = cc.Label.VerticalAlign.CENTER,
                    a.horizontalAlign = cc.Label.HorizontalAlign.CENTER,
                    a.enableWrapText = !0,
                    i.addComponent(cc.Button).transition = cc.Button.Transition.SCALE,
                    i.on("click", n),
                    i.on(cc.Node.EventType.SIZE_CHANGED, function () {
                        r.setContentSize(i.getContentSize())
                    }),
                    o ? i.setContentSize(o.x, o.y) : i.setContentSize(100, 50),
                    i
                }
                return o(e, t),
                e
            }
            (t("./SSprite").default);
            n.default = i,
            cc._RF.pop()
        }, {
            "./SSprite": "SSprite"
        }
    ],
    SDKBridge: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "4153cIn0SxIkpjdLLmT9dz7", "SDKBridge"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("../utils/mgrNative"),
            i = function () {
                function t() {}
                return t.init = function () {
                    this.bInited || (this.bInited = !0, o.default.onLoad(), o.default.setReceiver(this.recieveFromSdk.bind(this)), o.default.callNative("initULSDK"), this.m_msgSender = function (t) {
                        o.default.callNative("sendMsgToSdk", t)
                    })
                },
                t.registerCmd = function (t, e) {
                    this.m_callbacks.hasOwnProperty(t) && cc.warn("the cmd has registed:", t),
                    this.m_callbacks[t] = e
                },
                t.sendToSdk = function (t, e) {
                    var n = {
                        cmd: t,
                        data: e
                    };
                    this.m_msgSender(n)
                },
                t.recieveFromSdk = function (t) {
                    var e = t.cmd,
                    n = t.data;
                    this.m_callbacks[e] ? this.m_callbacks[e](n) : cc.warn("SDKBridge.recieveFromSdk can't find callback with cmd: " + e)
                },
                t.m_msgSender = function (t) {},
                t.m_callbacks = {},
                t.bInited = !1,
                t
            }
            ();
            n.default = i,
            cc._RF.pop()
        }, {
            "../utils/mgrNative": "mgrNative"
        }
    ],
    SEditBox: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "fba9e3e08VOY7CPMAcQTOo+", "SEditBox");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__awaiter || function (t, e, n, o) {
                return new(n || (n = Promise))(function (i, r) {
                    function a(t) {
                        try {
                            c(o.next(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function s(t) {
                        try {
                            c(o.throw(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function c(t) {
                        t.done ? i(t.value) : new n(function (e) {
                            e(t.value)
                        }).then(a, s)
                    }
                    c((o = o.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function (t, e) {
                var n,
                o,
                i,
                r,
                a = {
                    label: 0,
                    sent: function () {
                        if (1 & i[0])
                            throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw : s(1),
                    return : s(2)
                },
                "function" == typeof Symbol && (r[Symbol.iterator] = function () {
                    return this
                }),
                r;
                function s(t) {
                    return function (e) {
                        return c([t, e])
                    }
                }
                function c(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done)
                                return i;
                            switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                o = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1],
                                    i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2],
                                    a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            o = 0
                        }
                    finally {
                        n = i = 0
                    }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var a = t("../utils/Timer"),
            s = t("../mgr/mgrRes"),
            c = function (t) {
                function e(e, n) {
                    var o = t.call(this, e) || this,
                    i = new cc.Node("BACKGROUND_SPRITE");
                    i.setParent(o),
                    i.addComponent(cc.Sprite).sizeMode = cc.Sprite.SizeMode.CUSTOM;
                    var r = new cc.Node("TEXT_LABEL");
                    r.setParent(o),
                    r.active = !1;
                    var s = r.addComponent(cc.Label);
                    s.verticalAlign = cc.Label.VerticalAlign.BOTTOM,
                    s.horizontalAlign = cc.Label.HorizontalAlign.LEFT;
                    var c = new cc.Node("PLACEHOLDER_LABEL");
                    c.setParent(o);
                    var l = c.addComponent(cc.Label);
                    l.verticalAlign = cc.Label.VerticalAlign.BOTTOM,
                    l.horizontalAlign = cc.Label.HorizontalAlign.LEFT,
                    l.enableWrapText = !1;
                    var u = o.addComponent(cc.EditBox);
                    return o.m_editBox = u,
                    o.loadBtnSpriteFrame(u),
                    u.inputMode = cc.EditBox.InputMode.SINGLE_LINE,
                    u.inputFlag = cc.EditBox.InputFlag.DEFAULT,
                    u.fontColor = cc.Color.BLACK,
                    u.fontSize = 20,
                    u.lineHeight = 30,
                    u.placeholderFontSize = 20,
                    u.placeholderFontColor = cc.Color.BLACK.fromHEX("#BBBBBB"),
                    u.placeholder = e,
                    u.maxLength = 200,
                    n && (u.string = n.toString()),
                    a.default.callLater(.1, function () {
                        cc.isValid(u) && u._syncSize()
                    }),
                    o
                }
                return o(e, t),
                e.prototype.loadBtnSpriteFrame = function (t) {
                    return i(this, void 0, void 0, function () {
                        var e;
                        return r(this, function (n) {
                            switch (n.label) {
                            case 0:
                                return [4, s.default.promiseLoadAsset("texture/singleColor", cc.SpriteFrame)];
                            case 1:
                                return e = n.sent(),
                                cc.isValid(t) && (t.backgroundImage = e),
                                [2]
                            }
                        })
                    })
                },
                Object.defineProperty(e.prototype, "string", {
                    get: function () {
                        return this.m_editBox.string
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                e.prototype.setParent = function (e) {
                    return t.prototype.setParent.call(this, e),
                    this
                },
                e
            }
            (cc.Node);
            n.default = c,
            cc._RF.pop()
        }, {
            "../mgr/mgrRes": "mgrRes",
            "../utils/Timer": "Timer"
        }
    ],
    SLabel: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "230d5hS4LpIeLYcerWWAQT1", "SLabel");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = function (t) {
                function e(e, n, o, i) {
                    void 0 === n && (n = 20),
                    void 0 === i && (i = 0);
                    var r = t.call(this, e) || this,
                    a = r.addComponent(cc.Label);
                    return a.fontSize = n,
                    a.lineHeight = i,
                    a.overflow = cc.Label.Overflow.NONE,
                    a.verticalAlign = cc.Label.VerticalAlign.CENTER,
                    null != e && (a.string = e),
                    o && a.loadFont(o, cc.BitmapFont),
                    r.label = a,
                    r
                }
                return o(e, t),
                e.prototype.setAlign = function (t, e) {
                    t && (this.label.verticalAlign = t),
                    e && (this.label.horizontalAlign = e)
                },
                Object.defineProperty(e.prototype, "string", {
                    set: function (t) {
                        this.label.string = t
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                e.prototype.dispose = function () {
                    this.destroy()
                },
                e.prototype.setName = function (t) {
                    this.name = t
                },
                e.prototype.addNodeChild = function (t) {
                    t.setParent(this)
                },
                e.prototype.getChild = function (t) {
                    return cc.find(t, this)
                },
                e.prototype.setNodeOpacity = function (t) {
                    this.opacity = t
                },
                e.prototype.setNodeColor = function (t) {
                    this.color = t
                },
                e.prototype.show = function () {
                    this.active = !0
                },
                e.prototype.hide = function () {
                    this.active = !1
                },
                e.prototype.setTop = function () {
                    this.setSiblingIndex(-1)
                },
                e.prototype.setBottom = function () {
                    this.setSiblingIndex(0)
                },
                e.prototype.setNodeGroup = function (t) {
                    this.group = t
                },
                e
            }
            (cc.Node);
            n.default = i,
            cc._RF.pop()
        }, {}
    ],
    SMonsterState: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "3310bCexY5Is4UYSdqAD8q2", "SMonsterState");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../../extensions/fsm/FSMState"),
            r = (t("../../extensions/utils/Mathf"), t("../World")),
            a = t("../unit/Unit"),
            s = t("../../common/Const");
            var c = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.enter = function (t, e) {
                    var n = this;
                    t.viewNode.stopAllActions(),
                    t.viewNode.setScale(0, 0),
                    t.viewNode.setPosition(0, 30),
                    t.hpBar.active = !1;
                    var o = this.reuseAction;
                    o || (o = cc.sequence(cc.spawn(cc.scaleTo(.4, -1, 1).easing(cc.easeBackOut()), cc.jumpTo(.4, 0, 0, 60, 1)), cc.delayTime(.06), cc.callFunc(function () {
                                    n.reuseAction = o,
                                    t.hpBar.active = !0
                                }))),
                    t.viewNode.runAction(o)
                },
                e.prototype.execute = function (t, e) {
                    t.simpleMove(e) || (r.default.instance.gameOver(!1), r.default.instance.killAllMonster(), t.dead())
                },
                e.prototype.exit = function (t) {},
                e
            }
            (i.default);
            n.SMonsterMove = c;
            var l = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_idleTime = 0,
                    e
                }
                return o(e, t),
                e.prototype.enter = function (e, n) {
                    t.prototype.enter.call(this, e, n),
                    s.GuideInfo.bGuideMode && (this.m_idleTime = 1.5)
                },
                e.prototype.execute = function (e, n) {
                    this.m_idleTime > 0 ? this.m_idleTime -= n : t.prototype.execute.call(this, e, n)
                },
                e
            }
            (c);
            n.SBossMove = l;
            var u = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.enter = function (t, e) {
                    this._deadTime = .1,
                    this._state = 0
                },
                e.prototype.execute = function (t, e) {
                    0 == this._state && (this._deadTime -= e, this._deadTime <= 0 && (this._state = 1, t.setNextState(a.UnitState.PutBack)))
                },
                e.prototype.exit = function (t) {},
                e
            }
            (i.default);
            n.SMonsterDead = u;
            var d = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.enter = function (t, e) {
                    this._state = 0
                },
                e.prototype.execute = function (t, e) {
                    0 == this._state && (this._state = 1, r.default.factoryUnit.putMonster(t))
                },
                e.prototype.exit = function (t) {},
                e
            }
            (i.default);
            n.SMonsterPutBack = d,
            cc._RF.pop()
        }, {
            "../../common/Const": "Const",
            "../../extensions/fsm/FSMState": "FSMState",
            "../../extensions/utils/Mathf": "Mathf",
            "../World": "World",
            "../unit/Unit": "Unit"
        }
    ],
    SRoleState: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "c99eaYNWR9DQZ7TZ8ubUx3/", "SRoleState");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../../extensions/fsm/FSMState"),
            r = t("../unit/Role"),
            a = t("../../extensions/_G"),
            s = t("../../common/Const"),
            c = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.enter = function (t, e) {},
                e.prototype.execute = function (t, e) {},
                e.prototype.exit = function (t) {},
                e
            }
            (i.default);
            n.SRoleIdle = c;
            var l = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.enter = function (t, e) {
                    t.playAnim(r.RoleAnim.Idle),
                    a.default.sendMsg(s.MSG.GUIDE_COMPLETE_KEY, s.GUIDE_MSG.ADD_TOWER)
                },
                e.prototype.execute = function (t, e) {},
                e.prototype.exit = function (t) {},
                e
            }
            (i.default);
            n.SRoleFight = l;
            var u = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.enter = function (t, e) {
                    this._state = 0
                },
                e.prototype.execute = function (t, e) {
                    0 == this._state && (this._state = 1)
                },
                e.prototype.exit = function (t) {},
                e
            }
            (i.default);
            n.SRolePutBack = u,
            cc._RF.pop()
        }, {
            "../../common/Const": "Const",
            "../../extensions/_G": "_G",
            "../../extensions/fsm/FSMState": "FSMState",
            "../unit/Role": "Role"
        }
    ],
    SSprite: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "4d2e4GrwJ1BhZ5s62WW3o8d", "SSprite");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = function (t) {
                function e(e, n, o) {
                    void 0 === o && (o = cc.Sprite.SizeMode.CUSTOM);
                    var i = t.call(this, e) || this;
                    n || (n = "texture/singleColor");
                    var r = i.addComponent(cc.Sprite);
                    return r.sizeMode = o,
                    r.loadSpriteFrame(n),
                    i.sprite = r,
                    i
                }
                return o(e, t),
                e.prototype.dispose = function () {
                    this.destroy()
                },
                e.prototype.setName = function (t) {
                    this.name = t
                },
                e.prototype.getChild = function (t) {
                    return cc.find(t, this)
                },
                e.prototype.addNodeChild = function (t) {
                    t.setParent(this)
                },
                e.prototype.setNodeOpacity = function (t) {
                    this.opacity = t
                },
                e.prototype.setNodeColor = function (t) {
                    this.color = t
                },
                e.prototype.show = function () {
                    this.active = !0
                },
                e.prototype.hide = function () {
                    this.active = !1
                },
                e.prototype.setTop = function () {
                    this.setSiblingIndex(-1)
                },
                e.prototype.setBottom = function () {
                    this.setSiblingIndex(0)
                },
                e.prototype.setNodeGroup = function (t) {
                    this.group = t
                },
                e
            }
            (cc.Node);
            n.default = i,
            cc._RF.pop()
        }, {}
    ],
    SToggle: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "4116c1JhM1L1aBHWLwRA/V4", "SToggle");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("./SSprite"),
            r = t("./SLabel"),
            a = function (t) {
                function e(e, n) {
                    var o = t.call(this, e) || this,
                    a = new i.default("Bg");
                    a.setParent(o),
                    a.setContentSize(30, 30),
                    a.setPosition(-35, 0),
                    a.color = cc.Color.WHITE;
                    var s = new i.default("mark");
                    s.setParent(o),
                    s.setContentSize(20, 20),
                    s.setPosition(-35, 0),
                    s.color = cc.Color.BLACK;
                    var c = new r.default("label");
                    c.setParent(o),
                    c.setPosition(-10, 0),
                    c.string = e,
                    c.anchorX = 0;
                    var l = o.addComponent(cc.Toggle);
                    return l.transition = cc.Button.Transition.NONE,
                    l.checkMark = s.sprite,
                    o.on("toggle", function () {
                        n(l.isChecked)
                    }),
                    o
                }
                return o(e, t),
                e
            }
            (cc.Node);
            n.default = a,
            cc._RF.pop()
        }, {
            "./SLabel": "SLabel",
            "./SSprite": "SSprite"
        }
    ],
    STowerState: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "0baeeRRYNpN4oPgPRzckXZR", "STowerState");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../../extensions/fsm/FSMState"),
            r = t("../unit/Tower"),
            a = t("../unit/Role"),
            s = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.enter = function (t, e) {},
                e.prototype.execute = function (t, e) {
                    var n = t.getRole();
                    n && (n.playAnim(a.RoleAnim.Idle), t.setNextState(r.TowerState.Fight))
                },
                e.prototype.exit = function (t) {},
                e
            }
            (i.default);
            n.STowerIdle = s;
            var c = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e._lastQuality = -1,
                    e
                }
                return o(e, t),
                e.prototype.enter = function (t, e) {
                    t.castSkill(0),
                    this._lastQuality = t.getRole().unitDb.quality
                },
                e.prototype.execute = function (t, e) {
                    var n = t.getRole();
                    n ? (n.unitDb.quality != this._lastQuality && (this._lastQuality = n.unitDb.quality, t.stopSkill(0), t.castSkill(0)), n.bTouched || t.updateSkill(e)) : t.setNextState(r.TowerState.Idle)
                },
                e.prototype.exit = function (t) {
                    t.stopSkill(0)
                },
                e
            }
            (i.default);
            n.STowerFight = c,
            cc._RF.pop()
        }, {
            "../../extensions/fsm/FSMState": "FSMState",
            "../unit/Role": "Role",
            "../unit/Tower": "Tower"
        }
    ],
    SWorldState: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "866bbum4rxLzIP/qFHSRGAG", "SWorldState");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../../extensions/fsm/FSMState"),
            r = t("../World"),
            a = t("../MakerWave"),
            s = t("../../extensions/MsgHandler"),
            c = t("../../common/Const"),
            l = t("../../generate/db"),
            u = t("../../manager/mgrGame"),
            d = t("../../extensions/_G"),
            p = t("../../extensions/mgr/mgrPanel"),
            h = t("../../ui/PanelTowerUp"),
            f = t("../../ui/PanelOver"),
            _ = t("../../manager/mgrAlert"),
            m = t("../../extensions/mgr/mgrAudio"),
            g = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.enter = function (t, e) {},
                e.prototype.execute = function (t, e) {},
                e.prototype.exit = function (t) {},
                e
            }
            (i.default);
            n.SWorldIdle = g;
            var y = function (t) {
                function e() {
                    var e,
                    n = t.call(this) || this;
                    return n._msgHandler = new s.default,
                    n._msgHandler.registerListeners(((e = {})[c.MSG.GAME_START_BOSS] = n.onMsgGameStartBoss.bind(n), e)),
                    n._msgHandler.startProcMsg(),
                    n
                }
                return o(e, t),
                e.prototype.dispose = function () {
                    this._msgHandler.stopProcMsg(),
                    t.prototype.dispose.call(this)
                },
                e.prototype.onMsgGameStartBoss = function () {
                    if (this._maker) {
                        this._maker.stop();
                        var t = l.default.get_boss_db(u.default.lastBossIndex);
                        c.GuideInfo.bGuideMode && (t = l.default.get_boss_db(60)),
                        r.default.instance.killAllMonster(),
                        r.default.factoryUnit.createMonster(t.bossId, t.level),
                        d.default.sendMsg(c.MSG.UI_GAME_MENU_VISIBLE, !1),
                        m.default.playMusic("bgm2"),
                        m.default.playSound("warn")
                    }
                },
                e.prototype.reenter = function (t, e) {
                    this.enter(t, e)
                },
                e.prototype.enter = function (t, e) {
                    null != e && (this._maker && this._maker.dispose(), this._maker = new a.default(e.level), e.bBoss && u.default.startBoss())
                },
                e.prototype.execute = function (t, e) {
                    if (!t.isPause)
                        if (this._maker.isDone())
                            r.default.factoryUnit.monsterCount <= 0 && r.default.instance.gameOver(!0);
                        else
                            for (this._maker.updateTime(e); this._maker.check(); )
                                for (var n = void 0; n = this._maker.getWaveDb(); )
                                    r.default.factoryUnit.createMonster(n.monsterId, n.level)
                },
                e.prototype.exit = function (t) {},
                e
            }
            (i.default);
            n.SWorldNormal = y;
            var v = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e._alertGameOver = {},
                    e
                }
                return o(e, t),
                e.prototype.enter = function (t, e) {
                    this.params = e,
                    this.params.bPass ? this._openTime = .1 : this._openTime = 1,
                    d.default.sendMsg(c.MSG.GAME_END, e.bPass)
                },
                e.prototype.execute = function (t, e) {
                    this._openTime >= 0 && (this._openTime -= e, this._openTime < 0 && (this.params.bLvup ? p.default.openPanelWithFadeIn(h.default) : (m.default.stopMusic(), this.params.bPass ? (t.resume(), m.default.playSound("win")) : m.default.playSound("fail"), c.GuideInfo.bGuideMode ? _.default.playSucAnim(this.params.bPass, function () {
                                    t.loadGame(u.default.lastLevel)
                                }) : this.params.bPass ? u.default.isCoinLevel ? p.default.openPanelWithFadeIn(f.default, !0) : _.default.playSucAnim(!0, function () {
                                    t.loadGame(u.default.lastLevel)
                                }) : this._alertGameOver[u.default.lastLevel] ? _.default.playSucAnim(!1, function () {
                                    t.loadGame(u.default.lastLevel)
                                }) : (this._alertGameOver[u.default.lastLevel] = !0, p.default.openPanelWithFadeIn(f.default, !1)))))
                },
                e.prototype.exit = function (t) {},
                e
            }
            (i.default);
            n.SWorldOver = v,
            cc._RF.pop()
        }, {
            "../../common/Const": "Const",
            "../../extensions/MsgHandler": "MsgHandler",
            "../../extensions/_G": "_G",
            "../../extensions/fsm/FSMState": "FSMState",
            "../../extensions/mgr/mgrAudio": "mgrAudio",
            "../../extensions/mgr/mgrPanel": "mgrPanel",
            "../../generate/db": "db",
            "../../manager/mgrAlert": "mgrAlert",
            "../../manager/mgrGame": "mgrGame",
            "../../ui/PanelOver": "PanelOver",
            "../../ui/PanelTowerUp": "PanelTowerUp",
            "../MakerWave": "MakerWave",
            "../World": "World"
        }
    ],
    SceneBase: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "c0575gNKJtAF6rjmV57xbDt", "SceneBase"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("../MsgHandler"),
            i = function () {
                function t() {
                    this.msgHandler = null
                }
                return t.prototype.registerMsg = function (t) {
                    this.msgHandler || (this.msgHandler = new o.default),
                    this.msgHandler.registerListeners(t),
                    this.msgHandler.startProcMsg()
                },
                t.prototype.stopMsgHandler = function () {
                    this.msgHandler && this.msgHandler.stopProcMsg()
                },
                t
            }
            ();
            n.default = i,
            cc._RF.pop()
        }, {
            "../MsgHandler": "MsgHandler"
        }
    ],
    SceneMain: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "276af81XDJFVbY9z48tEQie", "SceneMain");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__awaiter || function (t, e, n, o) {
                return new(n || (n = Promise))(function (i, r) {
                    function a(t) {
                        try {
                            c(o.next(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function s(t) {
                        try {
                            c(o.throw(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function c(t) {
                        t.done ? i(t.value) : new n(function (e) {
                            e(t.value)
                        }).then(a, s)
                    }
                    c((o = o.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function (t, e) {
                var n,
                o,
                i,
                r,
                a = {
                    label: 0,
                    sent: function () {
                        if (1 & i[0])
                            throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw : s(1),
                    return : s(2)
                },
                "function" == typeof Symbol && (r[Symbol.iterator] = function () {
                    return this
                }),
                r;
                function s(t) {
                    return function (e) {
                        return c([t, e])
                    }
                }
                function c(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done)
                                return i;
                            switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                o = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1],
                                    i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2],
                                    a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            o = 0
                        }
                    finally {
                        n = i = 0
                    }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var a = t("../extensions/ui/SceneBase"),
            s = t("../extensions/ui/ViewBase"),
            c = t("../extensions/_G"),
            l = t("../extensions/mgr/mgrPanel"),
            u = t("../manager/mgrLoader"),
            d = t("./PanelGame"),
            p = t("../extensions/ui/Spine"),
            h = t("./PanelTip"),
            f = t("../view/FlyIcon"),
            _ = t("../view/FlyLabel"),
            m = t("../extensions/ui/Particle"),
            g = t("../extensions/ui/Prefab"),
            y = t("../extensions/ui/Effect"),
            v = t("../extensions/ui/Animation"),
            b = t("../extensions/ui/ParticleInPlist"),
            S = t("../extensions/ResLoader"),
            A = t("../debug/DebugKeyDown"),
            C = t("../extensions/sdk/SDKBridge"),
            I = t("../game/World"),
            T = t("../game/FactoryUnit"),
            E = t("./MenuUserInfo"),
            w = t("../extensions/ui/ReuseSprite"),
            P = t("../view/FloatIcon"),
            M = t("../extensions/BaseConst"),
            D = t("../manager/mgrAlert"),
            O = t("../extensions/mgr/mgrSdk"),
            x = t("./PanelDialog"),
            R = t("../GameConfig"),
            L = t("../extensions/mgr/mgrAdv"),
            N = t("./PanelNativeAdv"),
            k = t("./PanelAdvLoading"),
            B = t("../generate/db"),
            U = t("../extensions/utils/CfgLoader"),
            G = t("../extensions/sdk/GameStatistics"),
            F = t("../extensions/utils/FileRecord"),
            j = t("../extensions/ui/ReuseLabel"),
            H = t("../extensions/utils/mgrNative"),
            V = t("../extensions/utils/Timer"),
            W = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.getResLoader = function () {
                    var t = new S.default;
                    return t.add("2d/defaultDialogOpen", cc.AnimationClip),
                    t.add("2d/defaultDialogClose", cc.AnimationClip),
                    t.add("texture/singleColor", cc.SpriteFrame),
                    t.add(e.MAIN_RES),
                    t.add("cfg/allCfgDb", cc.TextAsset),
                    t.addCall(this.initNative),
                    t.addCall(this.initMsg.bind(this)),
                    t.addCall(this.initGameSetting),
                    t.addCall(this.initGameCfg),
                    t.addCall(this.initBaseModule),
                    t.addCall(this.initManager),
                    t.addCall(this.initPool),
                    t.addCall(this.openPanel),
                    t
                },
                e.prototype.initNative = function () {
                    return i(this, void 0, void 0, function () {
                        return r(this, function (t) {
                            return C.default.init(),
                            [2, new Promise(function (t, e) {
                                    V.default.callLoop(.05, function (e) {
                                        H.default.isAllowStartGame() && (e.stop(), t())
                                    }, !0)
                                })]
                        })
                    })
                },
                e.prototype.initMsg = function () {
                    return i(this, void 0, void 0, function () {
                        var t;
                        return r(this, function (e) {
                            return this.registerMsg(((t = {})[M.BASE_MSG.SDK_EXIT_GAME] = function () {
                                    var t = {
                                        desc: "Do you want to leave?",
                                        title: "Hint",
                                        confirm: function () {
                                            cc.log("Quit"),
                                            cc.game.end()
                                        },
                                        cancel: function () {},
                                        confirmText: "YES",
                                        cancelText: "NO"
                                    };
                                    l.default.openPanelWithSingleton(x.default, t)
                                }, t[M.BASE_MSG.CFG_LOAD_FINISH] = function () {
                                    var t = B.default.get_game_cnf_map();
                                    R.default.changeCfgValue(t)
                                }, t[M.BASE_MSG.UI_SHOW_ITEMS] = function (t) {
                                    D.default.alertItems(t)
                                }, t[M.BASE_MSG.SDK_COP_CHANGED] = function (t) {
                                    t && R.default.changeCopInfo(t)
                                }, t)),
                            [2]
                        })
                    })
                },
                e.prototype.initGameSetting = function () {
                    return i(this, void 0, void 0, function () {
                        var t;
                        return r(this, function (e) {
                            return cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, function (t) {
                                A.default.onKeyDown(t.keyCode),
                                c.default.sendMsg(M.BASE_MSG.SYS_KEY_DOWN, t.keyCode)
                            }),
                            cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, function (t) {
                                A.default.onKeyUp(t.keyCode)
                            }),
                            (t = cc.game).on(t.EVENT_HIDE, function () {
                                console.log("game.EVENT_HIDE"),
                                c.default.sendMsg(M.BASE_MSG.SYS_HIDE)
                            }),
                            t.on(t.EVENT_SHOW, function () {
                                console.log("game.EVENT_SHOW"),
                                c.default.sendMsg(M.BASE_MSG.SYS_SHOW)
                            }),
                            s.default.setClickSound("click", "click"),
                            cc.audioEngine.setMaxAudioInstance(6),
                            [2]
                        })
                    })
                },
                e.prototype.initBaseModule = function () {
                    return i(this, void 0, void 0, function () {
                        return r(this, function (t) {
                            return F.default.init(),
                            G.default.init(),
                            [2]
                        })
                    })
                },
                e.prototype.initGameCfg = function () {
                    return i(this, void 0, void 0, function () {
                        return r(this, function (t) {
                            switch (t.label) {
                            case 0:
                                return [4, U.default.init()];
                            case 1:
                                return t.sent(),
                                [2]
                            }
                        })
                    })
                },
                e.prototype.initManager = function () {
                    return i(this, void 0, void 0, function () {
                        return r(this, function (t) {
                            switch (t.label) {
                            case 0:
                                return [4, u.default.onload()];
                            case 1:
                                return t.sent(),
                                O.default.setVersion(R.default.chn_data),
                                L.default.setChannel("v1"),
                                L.default.setNativeUi(N.default, k.default, null),
                                [2]
                            }
                        })
                    })
                },
                e.prototype.initPool = function () {
                    return i(this, void 0, void 0, function () {
                        return r(this, function (t) {
                            return c.default.poolManager.register(p.default, 50),
                            c.default.poolManager.register(g.default, 10),
                            c.default.poolManager.register(m.default, 100, !1),
                            c.default.poolManager.register(v.default, 30, !1),
                            c.default.poolManager.register(y.default, 100, !1),
                            c.default.poolManager.register(b.default, 30, !1),
                            c.default.poolManager.register(w.default, 100),
                            c.default.poolManager.register(j.default, 100),
                            c.default.poolManager.register(f.default, 60, !1),
                            c.default.poolManager.register(_.default, 10),
                            c.default.poolManager.register(P.default, 100),
                            T.default.registerClass(),
                            [2]
                        })
                    })
                },
                e.prototype.openPanel = function () {
                    return i(this, void 0, void 0, function () {
                        return r(this, function (t) {
                            switch (t.label) {
                            case 0:
                                return I.default.instance.initGame(),
                                [4, l.default.openPanel(d.default)];
                            case 1:
                                return t.sent(),
                                [2]
                            }
                        })
                    })
                },
                e.prototype.onEnter = function (t) {
                    l.default.openPanelWithSingleton(h.default),
                    l.default.openPanel(E.default)
                },
                e.prototype.onExit = function () {},
                e.MAIN_RES = ["prefab/ui/PanelGame", "prefab/ui/PanelTip", "prefab/ui/PanelGuide", "prefab/ui/PanelNew"],
                e.GAME_RES = ["prefab/ui/PanelOver"],
                e
            }
            (a.default);
            n.default = W,
            cc._RF.pop()
        }, {
            "../GameConfig": "GameConfig",
            "../debug/DebugKeyDown": "DebugKeyDown",
            "../extensions/BaseConst": "BaseConst",
            "../extensions/ResLoader": "ResLoader",
            "../extensions/_G": "_G",
            "../extensions/mgr/mgrAdv": "mgrAdv",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/mgr/mgrSdk": "mgrSdk",
            "../extensions/sdk/GameStatistics": "GameStatistics",
            "../extensions/sdk/SDKBridge": "SDKBridge",
            "../extensions/ui/Animation": "Animation",
            "../extensions/ui/Effect": "Effect",
            "../extensions/ui/Particle": "Particle",
            "../extensions/ui/ParticleInPlist": "ParticleInPlist",
            "../extensions/ui/Prefab": "Prefab",
            "../extensions/ui/ReuseLabel": "ReuseLabel",
            "../extensions/ui/ReuseSprite": "ReuseSprite",
            "../extensions/ui/SceneBase": "SceneBase",
            "../extensions/ui/Spine": "Spine",
            "../extensions/ui/ViewBase": "ViewBase",
            "../extensions/utils/CfgLoader": "CfgLoader",
            "../extensions/utils/FileRecord": "FileRecord",
            "../extensions/utils/Timer": "Timer",
            "../extensions/utils/mgrNative": "mgrNative",
            "../game/FactoryUnit": "FactoryUnit",
            "../game/World": "World",
            "../generate/db": "db",
            "../manager/mgrAlert": "mgrAlert",
            "../manager/mgrLoader": "mgrLoader",
            "../view/FloatIcon": "FloatIcon",
            "../view/FlyIcon": "FlyIcon",
            "../view/FlyLabel": "FlyLabel",
            "./MenuUserInfo": "MenuUserInfo",
            "./PanelAdvLoading": "PanelAdvLoading",
            "./PanelDialog": "PanelDialog",
            "./PanelGame": "PanelGame",
            "./PanelNativeAdv": "PanelNativeAdv",
            "./PanelTip": "PanelTip"
        }
    ],
    SceneUpdater: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "70a749k1zZL1KbcJFtYF1zk", "SceneUpdater");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__awaiter || function (t, e, n, o) {
                return new(n || (n = Promise))(function (i, r) {
                    function a(t) {
                        try {
                            c(o.next(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function s(t) {
                        try {
                            c(o.throw(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function c(t) {
                        t.done ? i(t.value) : new n(function (e) {
                            e(t.value)
                        }).then(a, s)
                    }
                    c((o = o.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function (t, e) {
                var n,
                o,
                i,
                r,
                a = {
                    label: 0,
                    sent: function () {
                        if (1 & i[0])
                            throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw : s(1),
                    return : s(2)
                },
                "function" == typeof Symbol && (r[Symbol.iterator] = function () {
                    return this
                }),
                r;
                function s(t) {
                    return function (e) {
                        return c([t, e])
                    }
                }
                function c(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done)
                                return i;
                            switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                o = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1],
                                    i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2],
                                    a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            o = 0
                        }
                    finally {
                        n = i = 0
                    }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var a = t("../extensions/ui/SceneBase"),
            s = t("../extensions/mgr/mgrScene"),
            c = t("./PanelLoading"),
            l = t("../extensions/mgr/mgrPanel"),
            u = t("../extensions/utils/Timer"),
            d = t("../extensions/_G"),
            p = t("../extensions/utils/Tools"),
            h = t("../extensions/BaseConst"),
            f = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.patchInfo = null,
                    e.localPid = null,
                    e.patchs = null,
                    e.patchIdx = null,
                    e.TIMEOUT = 5,
                    e.requestPatchInfoXhr = null,
                    e.timeoutTimer = null,
                    e.bNeedRestart = !1,
                    e.bGameStarted = !1,
                    e
                }
                return o(e, t),
                e.prototype.getResLoader = function () {
                    return null
                },
                e.prototype.onEnter = function (t) {
                    return i(this, void 0, void 0, function () {
                        return r(this, function (t) {
                            switch (t.label) {
                            case 0:
                                return jsb.fileUtils.isFileExist("src/patch_info.json") ? (console.log("patch_info.json found, upgrade"), [4, l.default.openPanelWithSingleton(c.default)]) : [3, 2];
                            case 1:
                                return t.sent(),
                                d.default.sendMsg(h.BASE_MSG.RES_LOAD_START, "check data"),
                                this.prepareUpdate(),
                                [3, 3];
                            case 2:
                                console.log("patch_info.json not found, enter game"),
                                this.startGame(),
                                t.label = 3;
                            case 3:
                                return [2]
                            }
                        })
                    })
                },
                e.prototype.onExit = function () {},
                e.prototype.startGame = function (t) {
                    if (this.bGameStarted)
                        cc.warn("SceneUpdater.startGame already started!");
                    else {
                        if (this.bGameStarted = !0, t && this.patchInfo) {
                            var e = cc.sys.localStorage.getItem("GAME_VERSION");
                            if (e)
                                d.default.GAME_VERSION = e;
                            else {
                                var n = this.patchInfo.VERSION;
                                n && (cc.sys.localStorage.setItem("GAME_VERSION", n), d.default.GAME_VERSION = n)
                            }
                        }
                        if (this.releaseAssetsManager(), this.releaseRequestPatchInfoXhr(), this.bNeedRestart)
                            return console.log("-------------------------"), console.log("-----  restarting   -----"), console.log("-------------------------"), cc.audioEngine.stopAll(), void cc.game.restart();
                        console.log("-------------------------"),
                        console.log("-----   startGame   -----"),
                        console.log("-------------------------"),
                        d.default.sendMsg(h.BASE_MSG.RES_LOAD_END),
                        s.default.runScene("SceneMain", c.default)
                    }
                },
                e.prototype.prepareUpdate = function () {
                    console.log("-------------------------"),
                    console.log("----- prepareUpdate -----"),
                    console.log("-------------------------");
                    var t,
                    e = jsb.fileUtils.getStringFromFile("src/patch_info.json");
                    if (e && (t = JSON.parse(e)), !t)
                        return cc.warn("[warn] patch_info.json loading failed, enter game"), void this.startGame();
                    this.patchInfo = t,
                    d.default.PATCH_INFO = t;
                    var n = cc.sys.localStorage.getItem("GAME_VERSION");
                    n || (n = t.VERSION),
                    d.default.GAME_VERSION = n;
                    var o = t.B_ID,
                    i = t.P_ID,
                    r = t.CHANNEL,
                    a = parseInt(cc.sys.localStorage.getItem("PATCH_BID")),
                    s = parseInt(cc.sys.localStorage.getItem("PATCH_PID")),
                    c = parseInt(cc.sys.localStorage.getItem("PATCH_PACKAGE_PID")),
                    l = cc.sys.localStorage.getItem("PATCH_CHANNEL"),
                    u = null;
                    o != a ? u = "bid not match! package = " + o + ", record = " + a : r != l ? u = "channel not match! package = " + r + ", record = " + l : i != c ? u = "package pid not match! package = " + i + ", record = " + c : i > (isNaN(s) ? 0 : s) && (u = "package pid is higher! package = " + i + ", record = " + s),
                    u && this.resetPatch(u, o, i, r);
                    var p = null;
                    (s = parseInt(cc.sys.localStorage.getItem("PATCH_PID"))) ? (p = s, console.log("use record pid:", p)) : (p = t.P_ID || 0, console.log("use patch_info pid:", p)),
                    this.localPid = p;
                    var h = this.getPatchPath();
                    if (!jsb.fileUtils.createDirectory(h))
                        return console.log("patchPath create faild!", h), void this.startGame();
                    this.checkNewVersion()
                },
                e.prototype.getPatchPath = function () {
                    var t = jsb.fileUtils.getWritablePath(),
                    e = t.substr(t.length - 1, 1);
                    return "/" == e || "\\" == e ? t + "patch/" : t + "/patch/"
                },
                e.prototype.resetPatch = function (t, e, n, o) {
                    console.log("-------------------------"),
                    console.log("-----  resetPatch   -----"),
                    console.log("-------------------------"),
                    console.log("resetTip", t);
                    var i = this.getPatchPath();
                    jsb.fileUtils.isDirectoryExist(i) && jsb.fileUtils.removeDirectory(i),
                    cc.sys.localStorage.setItem("PATCH_BID", e.toString()),
                    cc.sys.localStorage.setItem("PATCH_PID", n.toString()),
                    cc.sys.localStorage.setItem("PATCH_PACKAGE_PID", n.toString()),
                    cc.sys.localStorage.setItem("PATCH_CHANNEL", o)
                },
                e.prototype.checkNewVersion = function () {
                    var t = this,
                    e = this.patchInfo,
                    n = p.default.formatString("http://%s/%s/%s/%s/%s", e.HOST, e.PATCH_PATH, e.APP, e.CHANNEL, e.PATCH_INFO_FILENAME);
                    var o = cc.loader.getXMLHttpRequest();
                    o.onreadystatechange = function () {
                        if (4 == o.readyState)
                            if (o.status >= 200 && o.status < 207) {
                                t.stopTimeoutTimer();
                                var e = void 0;
                                try {
                                    e = JSON.parse(o.response)
                                } catch (e) {
                                    cc.warn("vUpdaterScene.checkNewVersion remote patch_info parse except!", o.response),
                                    t.startGame()
                                }
                                e ? (t.releaseRequestPatchInfoXhr(), t.onPatchInfoDownloadSuccess(e)) : (cc.warn("vUpdaterScene.checkNewVersion remote patch_info parse faild!", o.response), t.startGame())
                            } else
                                cc.warn("vUpdateScene.checkNewVersion network faild."), t.startGame()
                    },
                    o.open("GET", n),
                    o.timeout = 1e3 * this.TIMEOUT,
                    this.requestPatchInfoXhr = o,
                    this.startTimeoutTimer(),
                    o.send()
                },
                e.prototype.onPatchInfoDownloadSuccess = function (t) {
                    var e = this;
                    console.log("onPatchInfoDownloadSuccess", t),
                    p.default.dump(t);
                    var n = parseInt(t.P_ID) || 0,
                    o = this.localPid;
                    if (console.log("pid:", o, n), o > n)
                        return cc.sys.localStorage.setItem("GAME_VERSION", ""), cc.warn("local version is higher than remote version"), cc.warn("stop update!"), void this.startGame();
                    for (var i = [], r = 0; r < t.PATCH_LIST.length; r++) {
                        var a = t.PATCH_LIST[r];
                        a.pid > o && (console.log("ADD PATCH ->", a.pid, a.version), i.push(a))
                    }
                    this.patchInfo = t,
                    d.default.PATCH_INFO = t,
                    i.length > 0 ? (this.patchs = i, this.patchIdx = 0, u.default.callLater(.016, function () {
                            e.downloadPatchByIndexed()
                        }, l.default.getLayerNode(0))) : this.startGame(!0)
                },
                e.prototype.downloadPatchByIndexed = function () {
                    this.releaseAssetsManager(),
                    console.log("downloadPatchByIndexed", this.patchIdx);
                    var t = this.patchInfo,
                    e = this.patchs[this.patchIdx],
                    n = p.default.formatString("http://%s/%s/%s/%s/%s/", t.HOST_CDN || t.HOST, t.PATCH_PATH, t.APP, t.CHANNEL, t.B_ID);
                    console.log("packageUrl", p.default.formatString("%s%s.zip", n, e.pid));
                    var o = {};
                    o[p.default.formatString("%s.zip", e.pid)] = {
                        size: 0,
                        md5: "",
                        compressed: !0
                    };
                    var i = JSON.stringify({
                            packageUrl: n,
                            version: (this.localPid - 1).toString()
                        }),
                    r = new jsb.Manifest(i, this.getPatchPath()),
                    a = JSON.stringify({
                            packageUrl: n,
                            version: e.pid.toString(),
                            assets: o
                        }),
                    s = new jsb.Manifest(a, this.getPatchPath()),
                    c = new jsb.AssetsManager("", this.getPatchPath());
                    c.setEventCallback(this.onAssetsManagerEvent.bind(this)),
                    this.assetsManager = c;
                    var d = new u.default(.016, -1, function () {
                            cc.isValid(c) && c.update()
                        });
                    this.assetsManagerTimer = d,
                    c.loadLocalManifest(r, this.getPatchPath()),
                    c.loadRemoteManifest(s),
                    c.setVersionCompareHandle(function (t, e) {
                        return parseFloat(t) - parseFloat(e)
                    }),
                    c.setVerifyCallback(function (t, e) {
                        return !0
                    }),
                    d.startAndBindToNode(l.default.getLayerNode(0))
                },
                e.prototype.onPatchDownloadSuccess = function () {
                    var t = this.patchs[this.patchIdx];
                    this.localPid = t.pid,
                    cc.sys.localStorage.setItem("PATCH_PID", this.localPid.toString()),
                    console.log("save PATCH_PID", this.localPid),
                    t.version && (cc.sys.localStorage.setItem("GAME_VERSION", t.version), console.log("save GAME_VERSION", t.version)),
                    this.bNeedRestart = !0,
                    console.log("check patchIdx", this.patchIdx, this.patchs.length),
                    this.patchIdx < this.patchs.length - 1 ? (this.patchIdx++, this.downloadPatchByIndexed()) : this.startGame(!0)
                },
                e.prototype.onAssetsManagerEvent = function (t) {
                    switch (t.getEventCode()) {
                    case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:
                        cc.log("onAssetsManagerEvent.ERROR_NO_LOCAL_MANIFEST"),
                        this.startGame();
                        break;
                    case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:
                        cc.log("onAssetsManagerEvent.ERROR_DOWNLOAD_MANIFEST"),
                        this.startGame();
                        break;
                    case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:
                        cc.log("onAssetsManagerEvent.ERROR_PARSE_MANIFEST"),
                        this.startGame();
                        break;
                    case jsb.EventAssetsManager.NEW_VERSION_FOUND:
                        cc.log("onAssetsManagerEvent.NEW_VERSION_FOUND");
                        break;
                    case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:
                        cc.log("onAssetsManagerEvent.ALREADY_UP_TO_DATE"),
                        this.onProgress(1),
                        this.onPatchDownloadSuccess();
                        break;
                    case jsb.EventAssetsManager.UPDATE_PROGRESSION:
                        cc.log("onAssetsManagerEvent.UPDATE_PROGRESSION"),
                        this.onProgress(t.getPercent());
                        break;
                    case jsb.EventAssetsManager.ASSET_UPDATED:
                        cc.log("onAssetsManagerEvent.ASSET_UPDATED");
                        break;
                    case jsb.EventAssetsManager.ERROR_UPDATING:
                        cc.log("onAssetsManagerEvent.ERROR_UPDATING"),
                        this.startGame();
                        break;
                    case jsb.EventAssetsManager.UPDATE_FINISHED:
                        cc.log("onAssetsManagerEvent.UPDATE_FINISHED"),
                        this.onProgress(1),
                        this.onPatchDownloadSuccess();
                        break;
                    case jsb.EventAssetsManager.UPDATE_FAILED:
                        cc.log("onAssetsManagerEvent.UPDATE_FAILED"),
                        this.startGame();
                        break;
                    case jsb.EventAssetsManager.ERROR_DECOMPRESS:
                        cc.log("onAssetsManagerEvent.ERROR_DECOMPRESS"),
                        this.startGame();
                        break;
                    default:
                        cc.log("onAssetsManagerEvent.unknown code", t.getEventCode()),
                        this.startGame()
                    }
                },
                e.prototype.onProgress = function (t) {
                    t = cc.misc.clamp01(t);
                    var e = this.patchs.length,
                    n = (t + this.patchIdx) / e;
                    d.default.sendMsg(h.BASE_MSG.RES_LOAD_PROGRESS, n)
                },
                e.prototype.onTimeout = function () {
                    this.startGame()
                },
                e.prototype.startTimeoutTimer = function () {
                    var t = this,
                    e = new u.default(this.TIMEOUT, 1, function () {
                            t.stopTimeoutTimer(),
                            t.onTimeout()
                        });
                    this.timeoutTimer = e,
                    e.startAndBindToNode(l.default.getLayerNode(0))
                },
                e.prototype.stopTimeoutTimer = function () {
                    this.timeoutTimer && (this.timeoutTimer.stop(), this.timeoutTimer = null)
                },
                e.prototype.releaseRequestPatchInfoXhr = function () {
                    this.requestPatchInfoXhr && (this.requestPatchInfoXhr.abort(), this.requestPatchInfoXhr = null)
                },
                e.prototype.releaseAssetsManager = function () {
                    this.assetsManagerTimer && (this.assetsManagerTimer.stop(), this.assetsManagerTimer = null),
                    this.assetsManager && (this.assetsManager.setEventCallback(null), this.assetsManager = null)
                },
                e
            }
            (a.default);
            n.default = f,
            cc._RF.pop()
        }, {
            "../extensions/BaseConst": "BaseConst",
            "../extensions/_G": "_G",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/mgr/mgrScene": "mgrScene",
            "../extensions/ui/SceneBase": "SceneBase",
            "../extensions/utils/Timer": "Timer",
            "../extensions/utils/Tools": "Tools",
            "./PanelLoading": "PanelLoading"
        }
    ],
    ShaderComponent: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "dbe38Eu9bZCbJeHFtq3EVSq", "ShaderComponent");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__decorate || function (t, e, n, o) {
                var i,
                r = arguments.length,
                a = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(t, e, n, o);
                else
                    for (var s = t.length - 1; s >= 0; s--)
                        (i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, n, a) : i(e, n)) || a);
                return r > 3 && a && Object.defineProperty(e, n, a),
                a
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r = t("./ShaderManager"),
            a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = a.requireComponent,
            u = a.executeInEditMode,
            d = [r.ShaderType.Fluxay, r.ShaderType.FluxaySuper],
            p = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e._shader = r.ShaderType.Default,
                    e._color = cc.color(),
                    e._start = 0,
                    e
                }
                return o(e, t),
                Object.defineProperty(e.prototype, "shader", {
                    get: function () {
                        return this._shader
                    },
                    set: function (t) {
                        this._shader = t,
                        this._applyShader()
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "material", {
                    get: function () {
                        return this._material
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                e.prototype.start = function () {
                    this.getComponent(cc.Sprite).setState(0),
                    this._applyShader()
                },
                e.prototype.update = function (t) {
                    this._material && (this._setShaderColor(), this._setShaderTime(t))
                },
                e.prototype._applyShader = function () {
                    var t = this._shader,
                    e = this.getComponent(cc.Sprite),
                    n = r.default.useShader(e, t);
                    this._material = n,
                    this._start = 0;
                    var o = this._color;
                    if (o.setR(255), o.setG(255), o.setB(255), o.setA(255), n) {
                        switch (t) {
                        case r.ShaderType.Blur:
                        case r.ShaderType.GaussBlur:
                            n.setNum(.03)
                        }
                        this._setShaderColor()
                    }
                },
                e.prototype._setShaderColor = function () {
                    var t = this.node,
                    e = t.color,
                    n = this._color,
                    o = e.getR(),
                    i = e.getG(),
                    r = e.getB(),
                    a = t.opacity,
                    s = !1;
                    n.getR() !== o && (n.setR(o), s = !0),
                    n.getG() !== i && (n.setG(i), s = !0),
                    n.getB() !== r && (n.setB(r), s = !0),
                    n.getA() !== a && (n.setA(a), s = !0),
                    s && this._material.setColor(o / 255, i / 255, r / 255, a / 255)
                },
                e.prototype._setShaderTime = function (t) {
                    if (d.indexOf(this._shader) >= 0) {
                        var e = this._start;
                        e > 65535 && (e = 0),
                        e += t,
                        this._material.setTime(e),
                        this._start = e
                    }
                },
                i([c({
                            type: cc.Enum(r.ShaderType),
                            visible: !1
                        })], e.prototype, "_shader", void 0),
                i([c({
                            type: cc.Enum(r.ShaderType)
                        })], e.prototype, "shader", null),
                e = i([s, u, l(cc.Sprite)], e)
            }
            (cc.Component);
            n.default = p,
            cc._RF.pop()
        }, {
            "./ShaderManager": "ShaderManager"
        }
    ],
    ShaderLab: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "463d9mDMEBPfaKBF4qNZ0aY", "ShaderLab"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = "\nuniform mat4 viewProj;\nattribute vec3 a_position;\nattribute vec2 a_uv0;\nvarying vec2 uv0;\nvoid main () {\n    vec4 pos = viewProj * vec4(a_position, 1);\n    gl_Position = pos;\n    uv0 = a_uv0;\n}",
            i = {
                GrayScaling: {
                    vert: o,
                    frag: "\nuniform sampler2D texture;\nuniform vec4 color;\nvarying vec2 uv0;\nvoid main () {\n    vec4 c = color * texture2D(texture, uv0);\n    float gray = dot(c.rgb, vec3(0.299 * 0.5, 0.587 * 0.5, 0.114 * 0.5));\n    gl_FragColor = vec4(gray, gray, gray, c.a * 0.5);\n}\n"
                },
                Stone: {
                    vert: o,
                    frag: "\nuniform sampler2D texture;\nuniform vec4 color;\nvarying vec2 uv0;\nvoid main () {\n    vec4 c = color * texture2D(texture, uv0);\n    float clrbright = (c.r + c.g + c.b) * (1. / 3.);\n    float gray = (0.6) * clrbright;\n    gl_FragColor = vec4(gray, gray, gray, c.a);\n}\n"
                },
                Ice: {
                    vert: o,
                    frag: "\nuniform sampler2D texture;\nuniform vec4 color;\nvarying vec2 uv0;\nvoid main () {\n    vec4 clrx = color * texture2D(texture, uv0);\n    float brightness = (clrx.r + clrx.g + clrx.b) * (1. / 3.);\n\tfloat gray = (1.5)*brightness;\n\tclrx = vec4(gray, gray, gray, clrx.a)*vec4(0.8,1.2,1.5,1);\n    gl_FragColor =clrx;\n}\n"
                },
                Frozen: {
                    vert: o,
                    frag: "\nuniform sampler2D texture;\nuniform vec4 color;\nvarying vec2 uv0;\nvoid main () {\n    vec4 c = color * texture2D(texture, uv0);\n    c *= vec4(0.8, 1, 0.8, 1);\n\tc.b += c.a * 0.2;\n    gl_FragColor = c;\n}\n"
                },
                Mirror: {
                    vert: o,
                    frag: "\nuniform sampler2D texture;\nuniform vec4 color;\nvarying vec2 uv0;\nvoid main () {\n    vec4 c = color * texture2D(texture, uv0);\n    c.r *= 0.5;\n    c.g *= 0.8;\n    c.b += c.a * 0.2;\n    gl_FragColor = c;\n}\n"
                },
                Poison: {
                    vert: o,
                    frag: "\nuniform sampler2D texture;\nuniform vec4 color;\nvarying vec2 uv0;\nvoid main () {\n    vec4 c = color * texture2D(texture, uv0);\n    c.r *= 0.8;\n\tc.r += 0.08 * c.a;\n\tc.g *= 0.8;\n    c.g += 0.2 * c.a;\n\tc.b *= 0.8;\n    gl_FragColor = c;\n}\n"
                },
                Banish: {
                    vert: o,
                    frag: "\nuniform sampler2D texture;\nuniform vec4 color;\nvarying vec2 uv0;\nvoid main () {\n    vec4 c = color * texture2D(texture, uv0);\n    float gg = (c.r + c.g + c.b) * (1.0 / 3.0);\n    c.r = gg * 0.9;\n    c.g = gg * 1.2;\n    c.b = gg * 0.8;\n    c.a *= (gg + 0.1);\n    gl_FragColor = c;\n}\n"
                },
                Vanish: {
                    vert: o,
                    frag: "\nuniform sampler2D texture;\nuniform vec4 color;\nvarying vec2 uv0;\nvoid main () {\n    vec4 c = color * texture2D(texture, uv0);\n    float gray = (c.r + c.g + c.b) * (1. / 3.);\n    float rgb = gray * 0.8;\n    gl_FragColor = vec4(rgb, rgb, rgb, c.a * (gray + 0.1));\n}\n"
                },
                Invisible: {
                    vert: o,
                    frag: "\nvoid main () {\n    gl_FragColor = vec4(0,0,0,0);\n}\n"
                },
                Blur: {
                    vert: o,
                    frag: "\nuniform sampler2D texture;\nuniform vec4 color;\nuniform float num;\nvarying vec2 uv0;\nvoid main () {\n    vec4 sum = vec4(0.0);\n    vec2 size = vec2(num,num);\n    sum += texture2D(texture, uv0 - 0.4 * size) * 0.05;\n\tsum += texture2D(texture, uv0 - 0.3 * size) * 0.09;\n\tsum += texture2D(texture, uv0 - 0.2 * size) * 0.12;\n\tsum += texture2D(texture, uv0 - 0.1 * size) * 0.15;\n\tsum += texture2D(texture, uv0             ) * 0.16;\n\tsum += texture2D(texture, uv0 + 0.1 * size) * 0.15;\n\tsum += texture2D(texture, uv0 + 0.2 * size) * 0.12;\n\tsum += texture2D(texture, uv0 + 0.3 * size) * 0.09;\n    sum += texture2D(texture, uv0 + 0.4 * size) * 0.05;\n    \n    vec4 vectemp = vec4(0,0,0,0);\n    vec4 substract = vec4(0,0,0,0);\n    vectemp = (sum - substract) * color;\n\n    float alpha = texture2D(texture, uv0).a;\n    if(alpha < 0.05) { gl_FragColor = vec4(0 , 0 , 0 , 0); }\n\telse { gl_FragColor = vectemp; }\n}\n"
                },
                GaussBlur: {
                    vert: o,
                    frag: "\n#define repeats 5.\nuniform sampler2D texture;\nuniform vec4 color;\nuniform float num;\nvarying vec2 uv0;\n\nvec4 draw(vec2 uv) {\n    return color * texture2D(texture,uv).rgba; \n}\nfloat grid(float var, float size) {\n    return floor(var*size)/size;\n}\nfloat rand(vec2 co){\n    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\nvoid main()\n{\n    vec4 blurred_image = vec4(0.);\n    for (float i = 0.; i < repeats; i++) { \n        vec2 q = vec2(cos(degrees((i/repeats)*360.)),sin(degrees((i/repeats)*360.))) * (rand(vec2(i,uv0.x+uv0.y))+num); \n        vec2 uv2 = uv0+(q*num);\n        blurred_image += draw(uv2)/2.;\n        q = vec2(cos(degrees((i/repeats)*360.)),sin(degrees((i/repeats)*360.))) * (rand(vec2(i+2.,uv0.x+uv0.y+24.))+num); \n        uv2 = uv0+(q*num);\n        blurred_image += draw(uv2)/2.;\n    }\n    blurred_image /= repeats;\n    gl_FragColor = vec4(blurred_image);\n}\n"
                },
                Dissolve: {
                    vert: o,
                    frag: "\nuniform sampler2D texture;\nuniform vec4 color;\nuniform float time;\nvarying vec2 uv0;\n\nvoid main()\n{\n    vec4 c = color * texture2D(texture,uv0);\n    float height = c.r;\n    if(height < time)\n    {\n        discard;\n    }\n    if(height < time+0.04)\n    {\n        // \u6eb6\u89e3\u989c\u8272\uff0c\u53ef\u4ee5\u81ea\u5b9a\u4e49\n        c = vec4(.9,.6,0.3,c.a);\n    }\n    gl_FragColor = c;\n}\n"
                },
                Fluxay: {
                    vert: o,
                    frag: "\nuniform sampler2D texture;\nuniform vec4 color;\nuniform float time;\nvarying vec2 uv0;\n\nvoid main()\n{\n    vec4 src_color = color * texture2D(texture, uv0).rgba;\n\n    float width = 0.08;       //\u6d41\u5149\u7684\u5bbd\u5ea6\u8303\u56f4 (\u8c03\u6574\u8be5\u503c\u6539\u53d8\u6d41\u5149\u7684\u5bbd\u5ea6)\n    float start = tan(time/1.414);  //\u6d41\u5149\u7684\u8d77\u59cbx\u5750\u6807\n    float strength = 0.008;   //\u6d41\u5149\u589e\u4eae\u5f3a\u5ea6   (\u8c03\u6574\u8be5\u503c\u6539\u53d8\u6d41\u5149\u7684\u589e\u4eae\u5f3a\u5ea6)\n    float offset = 0.5;      //\u504f\u79fb\u503c         (\u8c03\u6574\u8be5\u503c\u6539\u53d8\u6d41\u5149\u7684\u503e\u659c\u7a0b\u5ea6)\n    if(uv0.x < (start - offset * uv0.y) &&  uv0.x > (start - offset * uv0.y - width))\n    {\n        vec3 improve = strength * vec3(255, 255, 255);\n        vec3 result = improve * vec3( src_color.r, src_color.g, src_color.b);\n        gl_FragColor = vec4(result, src_color.a);\n\n    }else{\n        gl_FragColor = src_color;\n    }\n}\n"
                },
                FluxaySuper: {
                    vert: o,
                    frag: "\n#define TAU 6.12\n#define MAX_ITER 5\nuniform sampler2D texture;\nuniform vec4 color;\nuniform float time;\nvarying vec2 uv0;\n\nvoid main()\n{\n    float time = time * .5+5.;\n    // uv should be the 0-1 uv of texture...\n    vec2 uv = uv0.xy;//fragCoord.xy / iResolution.xy;\n    \n    vec2 p = mod(uv*TAU, TAU)-250.0;\n\n    vec2 i = vec2(p);\n    float c = 1.0;\n    float inten = .0045;\n\n    for (int n = 0; n < MAX_ITER; n++) \n    {\n        float t =  time * (1.0 - (3.5 / float(n+1)));\n        i = p + vec2(cos(t - i.x) + sin(t + i.y), sin(t - i.y) + cos(1.5*t + i.x));\n        c += 1.0/length(vec2(p.x / (cos(i.x+t)/inten),p.y / (cos(i.y+t)/inten)));\n    }\n    c /= float(MAX_ITER);\n    c = 1.17-pow(c, 1.4);\n    vec4 tex = texture2D(texture,uv);\n    vec3 colour = vec3(pow(abs(c), 20.0));\n    colour = clamp(colour + vec3(0.0, 0.0, .0), 0.0, tex.a);\n\n    // \u6df7\u5408\u6ce2\u5149\n    float alpha = c*tex[3];  \n    tex[0] = tex[0] + colour[0]*alpha; \n    tex[1] = tex[1] + colour[1]*alpha; \n    tex[2] = tex[2] + colour[2]*alpha; \n    gl_FragColor = color * tex;\n}\n"
                }
            };
            n.default = i,
            cc._RF.pop()
        }, {}
    ],
    ShaderManager: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "d1e19w9UihLPqSppbSLUBq8", "ShaderManager"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o,
            i = t("./ShaderLab"),
            r = t("./ShaderMaterial");
            (function (t) {
                t[t.Default = 0] = "Default",
                t[t.Gray = 1] = "Gray",
                t[t.GrayScaling = 100] = "GrayScaling",
                t[t.Stone = 101] = "Stone",
                t[t.Ice = 102] = "Ice",
                t[t.Frozen = 103] = "Frozen",
                t[t.Mirror = 104] = "Mirror",
                t[t.Poison = 105] = "Poison",
                t[t.Banish = 106] = "Banish",
                t[t.Vanish = 107] = "Vanish",
                t[t.Invisible = 108] = "Invisible",
                t[t.Blur = 109] = "Blur",
                t[t.GaussBlur = 110] = "GaussBlur",
                t[t.Dissolve = 111] = "Dissolve",
                t[t.Fluxay = 112] = "Fluxay",
                t[t.FluxaySuper = 113] = "FluxaySuper"
            })(o = n.ShaderType || (n.ShaderType = {}));
            var a = function () {
                function t() {}
                return t.useShader = function (t, e) {
                    if (cc.game.renderType !== cc.game.RENDER_TYPE_CANVAS) {
                        if (t && t.spriteFrame && t.getState() !== e) {
                            if (e > o.Gray) {
                                var n = o[e],
                                a = i.default[n];
                                if (!a)
                                    return void console.warn("Shader not defined", n);
                                cc.dynamicAtlasManager.enabled = !1;
                                var s = new r.default(n, a.vert, a.frag, a.defines || []),
                                c = t.spriteFrame.getTexture();
                                s.setTexture(c),
                                s.updateHash();
                                var l = t;
                                return l._material = s,
                                l._renderData._material = s,
                                l._state = e,
                                s
                            }
                            t.setState(e)
                        }
                    } else
                        console.warn("Shader not surpport for canvas")
                },
                t
            }
            ();
            n.default = a,
            cc._RF.pop()
        }, {
            "./ShaderLab": "ShaderLab",
            "./ShaderMaterial": "ShaderMaterial"
        }
    ],
    ShaderMaterial: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "70d0bHxjchOgLl9oySm1PPr", "ShaderMaterial");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = cc.renderer.renderEngine,
            r = function (t) {
                function e(e, n, o, i) {
                    var r = t.call(this, !1) || this,
                    a = cc.renderer._forward._programLib;
                    return !a._templates[e] && a.define(e, n, o, i),
                    r._init(e),
                    r
                }
                return o(e, t),
                e.prototype._init = function (t) {
                    var e = i.renderer,
                    n = i.gfx,
                    o = new e.Pass(t);
                    o.setDepth(!1, !1),
                    o.setCullMode(n.CULL_NONE),
                    o.setBlend(n.BLEND_FUNC_ADD, n.BLEND_SRC_ALPHA, n.BLEND_ONE_MINUS_SRC_ALPHA, n.BLEND_FUNC_ADD, n.BLEND_SRC_ALPHA, n.BLEND_ONE_MINUS_SRC_ALPHA);
                    var r = new e.Technique(["transparent"], [{
                                    name: "texture",
                                    type: e.PARAM_TEXTURE_2D
                                }, {
                                    name: "color",
                                    type: e.PARAM_COLOR4
                                }, {
                                    name: "pos",
                                    type: e.PARAM_FLOAT3
                                }, {
                                    name: "size",
                                    type: e.PARAM_FLOAT2
                                }, {
                                    name: "time",
                                    type: e.PARAM_FLOAT
                                }, {
                                    name: "num",
                                    type: e.PARAM_FLOAT
                                }
                            ], [o]);
                    this._texture = null,
                    this._color = {
                        r: 1,
                        g: 1,
                        b: 1,
                        a: 1
                    },
                    this._pos = {
                        x: 0,
                        y: 0,
                        z: 0
                    },
                    this._size = {
                        x: 0,
                        y: 0
                    },
                    this._time = 0,
                    this._num = 0,
                    this._effect = this.effect = new e.Effect([r], {
                            color: this._color,
                            pos: this._pos,
                            size: this._size,
                            time: this._time,
                            num: this._num
                        }, []),
                    this._mainTech = r
                },
                e.prototype.setTexture = function (t) {
                    this._texture = t,
                    this._texture.update({
                        flipY: !1,
                        mipmap: !1
                    }),
                    this._effect.setProperty("texture", t.getImpl()),
                    this._texIds.texture = t.getId()
                },
                e.prototype.setColor = function (t, e, n, o) {
                    this._color.r = t,
                    this._color.g = e,
                    this._color.b = n,
                    this._color.a = o,
                    this._effect.setProperty("color", this._color)
                },
                e.prototype.setPos = function (t, e, n) {
                    this._pos.x = t,
                    this._pos.y = e,
                    this._pos.z = n,
                    this._effect.setProperty("pos", this._pos)
                },
                e.prototype.setSize = function (t, e) {
                    this._size.x = t,
                    this._size.y = e,
                    this._effect.setProperty("size", this._size)
                },
                e.prototype.setTime = function (t) {
                    this._time = t,
                    this._effect.setProperty("time", this._time)
                },
                e.prototype.setNum = function (t) {
                    this._num = t,
                    this._effect.setProperty("num", this._num)
                },
                e
            }
            (i.Material);
            n.default = r,
            cc._RF.pop()
        }, {}
    ],
    Shadow: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "7b2bce85lJL/7JTOV1eMyQ+", "Shadow");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/widget/SSprite"),
            r = t("../extensions/component/UpdateCom"),
            a = t("./World"),
            s = t("../common/Const"),
            c = t("../GameConfig"),
            l = cc.Vec2.ZERO,
            u = cc.v2(15, -15),
            d = function (t) {
                function e(e, n, o, i, c) {
                    void 0 === o && (o = !1),
                    void 0 === c && (c = !0);
                    var l = t.call(this, "sd", e, cc.Sprite.SizeMode.TRIMMED) || this;
                    return l.shadowUrl = e,
                    l._target = n,
                    l._bCounvert = o,
                    l._rotRaget = i,
                    l.addComponent(r.default).onLateUpdate = l._onLateUpdate.bind(l, c),
                    l.group = s.LayerMask[s.LayerMask.Effect],
                    l.localPosition = cc.Vec2.ZERO,
                    c && l.setParent(a.default.instance.shadowLayer),
                    l._onLateUpdate(c),
                    l
                }
                return o(e, t),
                e.prototype.show = function () {
                    t.prototype.show.call(this),
                    this._onLateUpdate(!0)
                },
                e.prototype._onLateUpdate = function (t) {
                    var e = this._target;
                    if (e) {
                        var n = this.localPosition;
                        this._bCounvert ? (n.set(l), e.convertToWorldSpaceOut(n), n.x -= c.default.map_offset, n.addSelf(u), e.parent && (this.rotation = e.rotation + e.parent.rotation)) : (t ? (n.x = e.x + u.x, n.y = e.y + u.y) : (n.x = e.x, n.y = e.y), this._rotRaget ? this.rotation = this._rotRaget.rotation : this.rotation = e.rotation),
                        this.setPosition(n)
                    }
                },
                e
            }
            (i.default);
            n.default = d,
            cc._RF.pop()
        }, {
            "../GameConfig": "GameConfig",
            "../common/Const": "Const",
            "../extensions/component/UpdateCom": "UpdateCom",
            "../extensions/widget/SSprite": "SSprite",
            "./World": "World"
        }
    ],
    SimpleFSMCenter: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "f1b9eNQUsdEno3xHNrwNpEp", "SimpleFSMCenter");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("./SimpleFSM"),
            r = t("../MsgHandler"),
            a = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_fsms = [],
                    e.m_pendingRemoveFsm = [],
                    e.m_MsgHandler = null,
                    e
                }
                return o(e, t),
                e.prototype.registerMsg = function (t) {
                    this.m_MsgHandler || (this.m_MsgHandler = new r.default),
                    this.m_MsgHandler.registerListeners(t)
                },
                e.prototype.startProcMsg = function () {
                    this.m_MsgHandler && this.m_MsgHandler.startProcMsg()
                },
                e.prototype.stopProcMsg = function () {
                    this.m_MsgHandler && this.m_MsgHandler.stopProcMsg()
                },
                e.prototype.dispose = function () {
                    this.pendingRemove();
                    for (var e = 0; e < this.m_fsms.length; e++)
                        this.m_fsms[e].dispose();
                    this.m_fsms = null,
                    t.prototype.dispose.call(this)
                },
                e.prototype.update = function (e) {
                    t.prototype.update.call(this, e);
                    for (var n = this.m_fsms.length, o = 0; o < n; o++)
                        this.m_fsms[o].update(e);
                    this.pendingRemove()
                },
                e.prototype.pendingRemove = function () {
                    if (this.m_pendingRemoveFsm.length > 0) {
                        for (var t = 0; t < this.m_pendingRemoveFsm.length; t++) {
                            var e = this.m_pendingRemoveFsm[t],
                            n = this.m_fsms.indexOf(e);
                            n >= 0 && this.m_fsms.splice(n, 1)
                        }
                        this.m_pendingRemoveFsm = []
                    }
                },
                e.prototype.addFSM = function (t) {
                    this.m_fsms.push(t)
                },
                e.prototype.removeFSM = function (t) {
                    this.m_pendingRemoveFsm.push(t)
                },
                e
            }
            (i.default);
            n.default = a,
            cc._RF.pop()
        }, {
            "../MsgHandler": "MsgHandler",
            "./SimpleFSM": "SimpleFSM"
        }
    ],
    SimpleFSM: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "391f6R/mo1BDJA1Cq8H3dRb", "SimpleFSM"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = "None",
            i = function () {},
            r = function () {
                function t() {
                    var t;
                    this._isSwitchingState = !1,
                    this._currentStateName = o,
                    this._nextStateName = o,
                    this._states = ((t = {})[o] = {
                            leave: i,
                            execute: i,
                            enter: i
                        }, t)
                }
                return t.prototype.registerState = function (t, e, n, o, r) {
                    null != this._states[t] && console.warn("Warning] FSMObject.registerState state override!", t),
                    e = null == e ? i : e.bind(r),
                    n = null == n ? i : n.bind(r),
                    o = null == o ? i : o.bind(r),
                    this._states[t] = {
                        enter: e,
                        execute: n,
                        leave: o
                    }
                },
                t.prototype.removeState = function (t) {
                    this._states[t] = null
                },
                t.prototype.update = function (t) {
                    if (this._states) {
                        if (this._nextStateName != this._currentStateName) {
                            if (this._isSwitchingState = !0, this._states[this._currentStateName].leave(), this._isSwitchingState = !1, !this._states)
                                return;
                            if (this._lastStateName = this._currentStateName, this._currentStateName = this._nextStateName, this._states[this._currentStateName].enter(), !this._states)
                                return
                        }
                        this._currentStateName == this._nextStateName && this._states[this._currentStateName].execute(t)
                    }
                },
                t.prototype.setNextState = function (t) {
                    this._isSwitchingState ? console.warn("FSM.setNextState [" + this._nextStateName + "] is busy.") : this._states[t] ? this._nextStateName = t : console.warn("FSM.setNextState [" + t + "] is not exist.")
                },
                t.prototype.getState = function () {
                    return this._currentStateName
                },
                t.prototype.getLastState = function () {
                    return this._lastStateName
                },
                t.prototype.dispose = function () {
                    this._states = null
                },
                t
            }
            ();
            n.default = r,
            cc._RF.pop()
        }, {}
    ],
    SimpleToggle: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "bc379VxL/1FDq92L94EvW+M", "SimpleToggle");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__decorate || function (t, e, n, o) {
                var i,
                r = arguments.length,
                a = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(t, e, n, o);
                else
                    for (var s = t.length - 1; s >= 0; s--)
                        (i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, n, a) : i(e, n)) || a);
                return r > 3 && a && Object.defineProperty(e, n, a),
                a
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r = cc._decorator,
            a = r.ccclass,
            s = r.property,
            c = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.background = null,
                    e
                }
                return o(e, t),
                e.prototype.onEnable = function () {
                    t.prototype.onEnable.call(this),
                    this.background || (this.background = this.node.getChildByName("Background"))
                },
                e.prototype._updateCheckMark = function () {
                    t.prototype._updateCheckMark.call(this),
                    this.background && (this.background.active = !this.isChecked)
                },
                i([s], e.prototype, "background", void 0),
                e = i([a], e)
            }
            (cc.Toggle);
            n.default = c,
            cc._RF.pop()
        }, {}
    ],
    Skill01: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "fbbb9z7rAxND7w3WENqTEvq", "Skill01");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("./SkillTowerBase"),
            r = t("../World"),
            a = t("../../extensions/utils/Mathf"),
            s = t("../../extensions/mgr/mgrAudio"),
            c = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.onStart = function () {
                    t.prototype.onStart.call(this)
                },
                e.prototype.castSkill = function (t) {
                    var e = this.target.getRole();
                    if (e) {
                        for (var n = e.getBulletId(), o = r.default.factoryUnit, i = t.size; i > 0; i--) {
                            var a = t.dequeue();
                            o.createBullet(n).setTarget(this.target, a)
                        }
                        s.default.playSound("bullet1")
                    }
                },
                e.prototype.isCrit = function () {
                    return a.default.randomEnable(100 * this.attrSpe.value)
                },
                e
            }
            (i.default);
            n.default = c,
            cc._RF.pop()
        }, {
            "../../extensions/mgr/mgrAudio": "mgrAudio",
            "../../extensions/utils/Mathf": "Mathf",
            "../World": "World",
            "./SkillTowerBase": "SkillTowerBase"
        }
    ],
    Skill02: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "69a5dvfE3JIzbZfpp54sd0w", "Skill02");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("./SkillTowerBase"),
            r = t("../World"),
            a = t("../../extensions/utils/Mathf"),
            s = t("../../common/Const"),
            c = t("../../extensions/_G"),
            l = t("../buff/BuffIce"),
            u = t("../../extensions/mgr/mgrAudio"),
            d = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.onStart = function () {
                    t.prototype.onStart.call(this)
                },
                e.prototype.castSkill = function (t) {
                    var e = this.target.getRole();
                    if (e) {
                        for (var n = e.getBulletId(), o = r.default.factoryUnit, i = t.size; i > 0; i--) {
                            var a = t.dequeue();
                            o.createBullet(n).setTarget(this.target, a)
                        }
                        u.default.playSound("bullet1")
                    }
                },
                e.prototype.attachBuff = function (t) {
                    var e = t.getBuff(s.BUFF_TYPE.ICE);
                    e ? e.resetTime() : (e = c.default.poolManager.get(l.default), t.addBuff(this.target, e)),
                    e.setSpeedRate(a.default.Clamp01(1 - this.attrSpe.value))
                },
                e
            }
            (i.default);
            n.default = d,
            cc._RF.pop()
        }, {
            "../../common/Const": "Const",
            "../../extensions/_G": "_G",
            "../../extensions/mgr/mgrAudio": "mgrAudio",
            "../../extensions/utils/Mathf": "Mathf",
            "../World": "World",
            "../buff/BuffIce": "BuffIce",
            "./SkillTowerBase": "SkillTowerBase"
        }
    ],
    Skill03: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "a95e0Xd99hC+4xOxTDf3l+M", "Skill03");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("./SkillTowerBase"),
            r = t("../World"),
            a = t("../../common/Const"),
            s = t("../../extensions/_G"),
            c = t("../buff/BuffFire"),
            l = t("../../extensions/mgr/mgrAudio"),
            u = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.onStart = function () {
                    t.prototype.onStart.call(this)
                },
                e.prototype.castSkill = function (t) {
                    var e = this.target.getRole();
                    if (e) {
                        for (var n = e.getBulletId(), o = r.default.factoryUnit, i = t.size; i > 0; i--) {
                            var a = t.dequeue();
                            o.createBullet(n).setTarget(this.target, a)
                        }
                        l.default.playSound("bullet1")
                    }
                },
                e.prototype.attachBuff = function (t) {
                    var e = t.getBuff(a.BUFF_TYPE.FIRE);
                    e ? e.resetCount() : (e = s.default.poolManager.get(c.default), t.addBuff(this.target, e))
                },
                e
            }
            (i.default);
            n.default = u,
            cc._RF.pop()
        }, {
            "../../common/Const": "Const",
            "../../extensions/_G": "_G",
            "../../extensions/mgr/mgrAudio": "mgrAudio",
            "../World": "World",
            "../buff/BuffFire": "BuffFire",
            "./SkillTowerBase": "SkillTowerBase"
        }
    ],
    Skill04: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "80112Hm4vxIRq7peQOO8Pg+", "Skill04");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("./SkillTowerBase"),
            r = t("../unit/Unit"),
            a = t("../World"),
            s = t("../../common/Const"),
            c = t("../../extensions/_G"),
            l = t("../buff/BuffElc"),
            u = t("../../extensions/mgr/mgrAudio"),
            d = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.onStart = function () {
                    t.prototype.onStart.call(this)
                },
                e.prototype.castSkill = function (t) {
                    var e = this.target.getRole();
                    if (e) {
                        for (var n = e.getBulletId(), o = a.default.factoryUnit, i = t.size; i > 0; i--) {
                            var r = t.dequeue();
                            o.createBullet(n).setTarget(this.target, r)
                        }
                        u.default.playSound("bullet1")
                    }
                },
                e.prototype.attachBuff = function (t) {
                    var e = this;
                    t.bDead || t.hasBuff(s.BUFF_TYPE.ELC) || a.default.instance.foreach(function (n) {
                        if (!n.bDead && n.faction == r.Faction.Red && n.fsmObjectId != t.fsmObjectId) {
                            var o = c.default.poolManager.get(l.default);
                            return o.elcCount = e.attrSpe.value,
                            o.setNextTarget(n),
                            o.addExcludeUnit(t),
                            t.addBuff(e.target, o),
                            !0
                        }
                    }, !0)
                },
                e
            }
            (i.default);
            n.default = d,
            cc._RF.pop()
        }, {
            "../../common/Const": "Const",
            "../../extensions/_G": "_G",
            "../../extensions/mgr/mgrAudio": "mgrAudio",
            "../World": "World",
            "../buff/BuffElc": "BuffElc",
            "../unit/Unit": "Unit",
            "./SkillTowerBase": "SkillTowerBase"
        }
    ],
    SkillCdBase: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "67d01EQZGtMnaVKUUSPHTYO", "SkillCdBase");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i,
            r = t("./SkillCycleBase");
            (function (t) {
                t[t.Cd = 0] = "Cd",
                t[t.Cast = 1] = "Cast"
            })(i || (i = {}));
            var a = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.leftCdTime = 0,
                    e.castTime = 1,
                    e.cdTime = 1,
                    e
                }
                return o(e, t),
                e.prototype.onStart = function () {
                    t.prototype.onStart.call(this),
                    this._cdSkillState = i.Cd
                },
                e.prototype.setCdTime = function (t, e) {
                    this.cdTime = t,
                    this.leftCdTime = t,
                    this.castTime = e
                },
                Object.defineProperty(e.prototype, "isCasting", {
                    get: function () {
                        return this._cdSkillState == i.Cast
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                e.prototype.onUpdate = function (e) {
                    this.leftCdTime -= e,
                    this.leftCdTime <= 0 ? this._cdSkillState == i.Cd ? (this._cdSkillState = i.Cast, this.onEnterCast(), this.leftCdTime = this.castTime, this.leftDeltaTime = 0) : (this._cdSkillState = i.Cd, this.onLeaveCast(), this.leftCdTime = this.cdTime - this.castTime) : this._cdSkillState == i.Cast && t.prototype.onUpdate.call(this, e)
                },
                e.prototype.onCast = function () {},
                e.prototype.onStop = function () {
                    this._cdSkillState == i.Cast && this.onLeaveCast(),
                    t.prototype.onStop.call(this)
                },
                e
            }
            (r.default);
            n.default = a,
            cc._RF.pop()
        }, {
            "./SkillCycleBase": "SkillCycleBase"
        }
    ],
    SkillCycleBase: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "ceaf8eQwWRABr/oFTkLo/Nu", "SkillCycleBase");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.leftDeltaTime = 0,
                    e.deltaTime = 1,
                    e
                }
                return o(e, t),
                e.prototype.onStart = function () {
                    t.prototype.onStart.call(this),
                    this.leftDeltaTime = 0
                },
                e.prototype.onUpdate = function (t) {
                    this.leftDeltaTime -= t,
                    this.leftDeltaTime <= 0 && (this.leftDeltaTime = this.deltaTime, this.onCast())
                },
                e.prototype.setDeltaTime = function (t) {
                    this.deltaTime = t
                },
                e
            }
            (t("../impl/ISkill").default);
            n.default = i,
            cc._RF.pop()
        }, {
            "../impl/ISkill": "ISkill"
        }
    ],
    SkillTowerBase: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "b3f73NWLblLzLv4ynMsmbGK", "SkillTowerBase");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i,
            r = t("../../extensions/MultSoundPlayer"),
            a = t("../unit/Unit"),
            s = t("../World"),
            c = t("../../extensions/Queue"),
            l = t("./SkillCdBase"),
            u = t("../unit/Role"),
            d = t("../Attribute"),
            p = t("../../common/Const"),
            h = t("../../extensions/MsgHandler"),
            f = t("../../extensions/BaseConst"),
            _ = t("../../manager/mgrGame"),
            m = t("../../extensions/ui/Spine"),
            g = t("../../extensions/utils/Mathf"),
            y = new c.default,
            v = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e._markHeadMonster = 1,
                    e
                }
                return o(e, t),
                e.prototype.onCreate = function (e) {
                    var n;
                    t.prototype.onCreate.call(this, e),
                    i || (i = new r.default("", 1, .1));
                    var o = e.unitDb.st;
                    this.attrAtk = new d.default(o[p.ATTR_INDEX.ATK]),
                    this.attrAtkAcc = new d.default(o[p.ATTR_INDEX.ATK_ACC]),
                    this.attrSpe = new d.default(o[p.ATTR_INDEX.SPE]),
                    this.attrBulletCount = new d.default(o[p.ATTR_INDEX.BULLET_COUNT]),
                    this.attrCoinGain = new d.default(o[p.ATTR_INDEX.COIN_GAIN]),
                    this.attrDiamonRate = new d.default(o[p.ATTR_INDEX.DIAMOND_RATE]),
                    this.attrKillRate = new d.default(o[p.ATTR_INDEX.KILL_RATE]),
                    this._msgHandler = new h.default,
                    this._msgHandler.registerListeners(((n = {})[f.BASE_MSG.ITEM_CHANGE] = this.onMsgItemChange.bind(this), n[p.MSG.GAME_START] = this.updateAttr.bind(this), n)),
                    this._msgHandler.startProcMsg()
                },
                e.prototype.onDestory = function () {
                    this._msgHandler.stopProcMsg(),
                    t.prototype.onDestory.call(this)
                },
                e.prototype.getSoundPlayer = function () {
                    return i
                },
                e.prototype.onMsgItemChange = function (t) {
                    t.itemDb.type == f.ITEM_TYPE.UP && this.updateAttr()
                },
                e.prototype.onStart = function () {
                    t.prototype.onStart.call(this),
                    this.updateAttr()
                },
                e.prototype.onStop = function () {
                    t.prototype.onStop.call(this)
                },
                e.prototype.updateAttr = function () {
                    var t = this.target.getRole();
                    if (this.bStarted && t) {
                        var e = 1 + this.attrAtkAcc.value + _.default.atkAccRate;
                        this.setCdTime(t.atkDeltaTime / e, t.castTime / e);
                        var n = t.view;
                        n instanceof m.default && n.setTimeScale(e * n.spineDb.timeScale)
                    }
                },
                e.prototype.onEnterCast = function () {
                    if (s.default.factoryUnit.monsterCount > 0) {
                        var t = this.target.getRole();
                        t && t.playAnim(u.RoleAnim.Atk, u.RoleAnim.Idle)
                    }
                },
                e.prototype.onLeaveCast = function () {
                    y.reset();
                    var t,
                    e = this.attrBulletCount.value,
                    n = s.default.instance;
                    if (this._markHeadMonster = 1 - this._markHeadMonster, 1 == this._markHeadMonster && (t = n.getHeadMonster()), t && (y.enqueue(t), e--), n.foreach(function (n) {
                            if (e <= 0)
                                return !0;
                            n.bDead || n.faction != a.Faction.Red || t != n && (y.enqueue(n), e--)
                        }, !0), y.size > 0) {
                        var o = this.target.getRole();
                        if (o) {
                            var i = y.indexOf(0);
                            o.viewNode.setScale(i.position.x < 255 ? -1 : 1, 1)
                        }
                        this.castSkill(y)
                    }
                },
                e.prototype.isKill = function () {
                    var t = this.attrKillRate.value;
                    return g.default.randomEnable(100 * t)
                },
                e.prototype.getCoinRate = function () {
                    return this.attrCoinGain.value
                },
                Object.defineProperty(e.prototype, "isDropDiamond", {
                    get: function () {
                        return g.default.randomEnable(100 * this.attrDiamonRate.value)
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                e.prototype.getDamage = function () {
                    var t = this.target.getRole();
                    return t ? t.atk * (1 + _.default.VIP_ATTR.ATK_RATE.value + _.default.globalAtk) + this.attrAtk.value : 0
                },
                e
            }
            (l.default);
            n.default = v,
            cc._RF.pop()
        }, {
            "../../common/Const": "Const",
            "../../extensions/BaseConst": "BaseConst",
            "../../extensions/MsgHandler": "MsgHandler",
            "../../extensions/MultSoundPlayer": "MultSoundPlayer",
            "../../extensions/Queue": "Queue",
            "../../extensions/ui/Spine": "Spine",
            "../../extensions/utils/Mathf": "Mathf",
            "../../manager/mgrGame": "mgrGame",
            "../Attribute": "Attribute",
            "../World": "World",
            "../unit/Role": "Role",
            "../unit/Unit": "Unit",
            "./SkillCdBase": "SkillCdBase"
        }
    ],
    Spine: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "1f9dfzyyD1EWKafKk2DbAVd", "Spine");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__decorate || function (t, e, n, o) {
                var i,
                r = arguments.length,
                a = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(t, e, n, o);
                else
                    for (var s = t.length - 1; s >= 0; s--)
                        (i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, n, a) : i(e, n)) || a);
                return r > 3 && a && Object.defineProperty(e, n, a),
                a
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r = t("../AsyncObject"),
            a = t("../../generate/db"),
            s = function (t) {
                function e(e) {
                    var n = t.call(this) || this;
                    return n.resourceType = sp.SkeletonData,
                    n.resNode = null,
                    n.skeleton = null,
                    n.spineDb = a.default.get_spine_db(e),
                    n.resourceName = n.spineDb.skeletonData,
                    n
                }
                return o(e, t),
                e.prototype.onResourceLoaded = function (t) {
                    var e = new cc.Node,
                    n = this.spineDb;
                    e.setScale(n.scaleX, n.scaleY),
                    this.resNode = e;
                    var o = e.addComponent(sp.Skeleton);
                    o.skeletonData = t,
                    o.defaultSkin = n.skin,
                    o.defaultAnimation = n.anim,
                    o.premultipliedAlpha = !1,
                    o.timeScale = n.timeScale,
                    o.loop = n.loop,
                    this.skeleton = o,
                    this._skinName = n.skin
                },
                e.prototype.dispose = function () {
                    t.prototype.dispose.call(this),
                    this.resNode && (this.resNode.destroy(), this.resNode = null)
                },
                e.prototype.reuse = function () {
                    this.tryCreate(),
                    this.show()
                },
                e.prototype.unuse = function () {
                    this.stop(),
                    this.hide(),
                    this.removeFromParent(),
                    this.setScale(this.spineDb.scaleX, this.spineDb.scaleY),
                    this.setTimeScale(this.spineDb.timeScale),
                    this.clearDelayCalls()
                },
                Object.defineProperty(e.prototype, "active", {
                    get: function () {
                        return this.isLoaded && this.resNode.active
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                e.prototype.setName = function (t) {
                    this.resNode.name = t
                },
                e.prototype.play = function (t, e) {
                    void 0 === e && (e = !0),
                    this.skeleton.setAnimation(0, t, e)
                },
                e.prototype.stop = function () {
                    this.skeleton.clearTracks()
                },
                e.prototype.setTimeScale = function (t) {
                    this.skeleton.timeScale = t
                },
                e.prototype.playTwoAnim = function (t, e) {
                    e ? (this.skeleton.setAnimation(0, t, !1), this.skeleton.addAnimation(0, e, !0)) : this.play(t, !0)
                },
                e.prototype.playAnims = function () {
                    for (var t = [], e = 0; e < arguments.length; e++)
                        t[e] = arguments[e];
                    var n = t.length - 1;
                    if (n >= 0) {
                        this.skeleton.setAnimation(0, t[0], 0 == n);
                        for (var o = 1; o <= n; o++)
                            this.skeleton.addAnimation(0, t[o], o == n)
                    }
                },
                e.prototype.setCompleteListener = function (t) {
                    this.skeleton.setCompleteListener(t)
                },
                e.prototype.setEventListener = function (t) {
                    this.skeleton.setEventListener(t)
                },
                e.prototype.setSkin = function (t) {
                    t != this._skinName && (this._skinName = t, this.skeleton.setSkin(t))
                },
                e.prototype.getSkeleton = function () {
                    return this.skeleton
                },
                e.prototype.setParent = function (t) {
                    this.resNode.parent = t
                },
                e.prototype.getParent = function () {
                    return this.resNode.parent
                },
                e.prototype.addNodeChild = function (t) {
                    t.setParent(this.resNode)
                },
                e.prototype.addChild = function (t) {
                    this.resNode.addChild(t)
                },
                e.prototype.getChild = function (t) {
                    return cc.find(t, this.resNode)
                },
                e.prototype.removeFromParent = function (t) {
                    void 0 === t && (t = !1),
                    this.resNode.removeFromParent(t)
                },
                e.prototype.setPosition = function (t, e) {
                    this.resNode.setPosition(t, e)
                },
                Object.defineProperty(e.prototype, "x", {
                    get: function () {
                        return this.resNode.x
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "y", {
                    get: function () {
                        return this.resNode.y
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                e.prototype.setWorldPosition = function (t) {
                    this.resNode.parent && (t = this.resNode.parent.convertToNodeSpaceAR(t)),
                    this.resNode.position = t
                },
                e.prototype.setScale = function (t, e) {
                    this.resNode.setScale(t, e)
                },
                e.prototype.setRotation = function (t) {
                    this.resNode.rotation = t
                },
                e.prototype.setNodeOpacity = function (t) {
                    this.resNode.opacity = t
                },
                e.prototype.setNodeColor = function (t) {
                    this.resNode.color = t
                },
                e.prototype.show = function () {
                    this.resNode.active = !0
                },
                e.prototype.hide = function () {
                    this.resNode.active = !1
                },
                e.prototype.setSiblingIndex = function (t) {
                    this.resNode.setSiblingIndex(t)
                },
                e.prototype.setTop = function () {
                    this.setSiblingIndex(-1)
                },
                e.prototype.setBottom = function () {
                    this.setSiblingIndex(0)
                },
                e.prototype.runAction = function (t) {
                    this.resNode.runAction(t)
                },
                e.prototype.stopAction = function (t) {
                    this.resNode.stopAction(t)
                },
                e.prototype.stopAllActions = function () {
                    this.resNode.stopAllActions()
                },
                e.prototype.convertToWorldSpaceAR = function (t) {
                    return this.resNode.convertToWorldSpaceAR(t)
                },
                e.prototype.convertToWorldSpaceOut = function (t) {
                    this.resNode.convertToWorldSpaceOut(t)
                },
                e.prototype.setNodeGroup = function (t) {
                    this.resNode.group = t
                },
                e.prototype.addComponent = function (t) {
                    return this.resNode.addComponent(t)
                },
                e.prototype.getComponent = function (t) {
                    return this.getComponent(t)
                },
                e.prototype.on = function (t, e, n, o) {
                    this.resNode.on(t, e, n, o)
                },
                i([r.default.WaitForLoaded(1)], e.prototype, "setName", null),
                i([r.default.WaitForLoaded(2)], e.prototype, "play", null),
                i([r.default.WaitForLoaded(0)], e.prototype, "stop", null),
                i([r.default.WaitForLoaded(1)], e.prototype, "setTimeScale", null),
                i([r.default.WaitForLoaded(2)], e.prototype, "playTwoAnim", null),
                i([r.default.WaitForLoaded(-1)], e.prototype, "playAnims", null),
                i([r.default.WaitForLoaded(1)], e.prototype, "setCompleteListener", null),
                i([r.default.WaitForLoaded(1)], e.prototype, "setEventListener", null),
                i([r.default.WaitForLoaded(1)], e.prototype, "setSkin", null),
                i([r.default.WaitForLoaded(0, !0)], e.prototype, "getSkeleton", null),
                i([r.default.WaitForLoaded(1)], e.prototype, "setParent", null),
                i([r.default.WaitForLoaded(0, !0)], e.prototype, "getParent", null),
                i([r.default.WaitForLoaded(1)], e.prototype, "addNodeChild", null),
                i([r.default.WaitForLoaded(1)], e.prototype, "addChild", null),
                i([r.default.WaitForLoaded(1, !0)], e.prototype, "getChild", null),
                i([r.default.WaitForLoaded(1)], e.prototype, "removeFromParent", null),
                i([r.default.WaitForLoaded(2)], e.prototype, "setPosition", null),
                i([r.default.WaitForLoaded(1)], e.prototype, "setWorldPosition", null),
                i([r.default.WaitForLoaded(2)], e.prototype, "setScale", null),
                i([r.default.WaitForLoaded(1)], e.prototype, "setRotation", null),
                i([r.default.WaitForLoaded(1)], e.prototype, "setNodeOpacity", null),
                i([r.default.WaitForLoaded(1)], e.prototype, "setNodeColor", null),
                i([r.default.WaitForLoaded(0)], e.prototype, "show", null),
                i([r.default.WaitForLoaded(0)], e.prototype, "hide", null),
                i([r.default.WaitForLoaded(1)], e.prototype, "setSiblingIndex", null),
                i([r.default.WaitForLoaded(1)], e.prototype, "runAction", null),
                i([r.default.WaitForLoaded(1)], e.prototype, "stopAction", null),
                i([r.default.WaitForLoaded(0)], e.prototype, "stopAllActions", null),
                i([r.default.WaitForLoaded(1, !0)], e.prototype, "convertToWorldSpaceAR", null),
                i([r.default.WaitForLoaded(2)], e.prototype, "convertToWorldSpaceOut", null),
                i([r.default.WaitForLoaded(1)], e.prototype, "setNodeGroup", null),
                i([r.default.WaitForLoaded(1, !0)], e.prototype, "addComponent", null),
                i([r.default.WaitForLoaded(1, !0)], e.prototype, "getComponent", null),
                i([r.default.WaitForLoaded(4)], e.prototype, "on", null),
                e
            }
            (r.default);
            n.default = s,
            cc._RF.pop()
        }, {
            "../../generate/db": "db",
            "../AsyncObject": "AsyncObject"
        }
    ],
    SpriteSheet: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "ec5a5377TpLn7nFGRKzFYKW", "SpriteSheet");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__decorate || function (t, e, n, o) {
                var i,
                r = arguments.length,
                a = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(t, e, n, o);
                else
                    for (var s = t.length - 1; s >= 0; s--)
                        (i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, n, a) : i(e, n)) || a);
                return r > 3 && a && Object.defineProperty(e, n, a),
                a
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r = cc._decorator,
            a = r.ccclass,
            s = r.property,
            c = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.sprites = [],
                    e.fps = 30,
                    e.loop = !1,
                    e.playOnLoad = !1,
                    e.OnFinished = null,
                    e.deltaTime = 0,
                    e.curTime = 0,
                    e.bStarted = !1,
                    e.curIndex = 0,
                    e
                }
                return o(e, t),
                e.prototype.onLoad = function () {
                    this.playOnLoad && this.play()
                },
                e.prototype.play = function () {
                    this.bStarted = !0,
                    this.deltaTime = 1 / this.fps,
                    this.curTime = this.deltaTime,
                    this.curIndex = 0,
                    this.spriteFrame = this.sprites[this.curIndex]
                },
                e.prototype.stop = function () {
                    this.bStarted = !1
                },
                e.prototype.onFinish = function () {
                    this.OnFinished && this.OnFinished()
                },
                e.prototype.update = function (t) {
                    if (this.bStarted && (this.curTime -= t, this.curTime <= 0)) {
                        if (this.curTime = this.deltaTime, ++this.curIndex >= this.sprites.length) {
                            if (!this.loop)
                                return this.stop(), void this.onFinish();
                            this.curIndex = 0
                        }
                        this.spriteFrame = this.sprites[this.curIndex]
                    }
                },
                i([s([cc.SpriteFrame])], e.prototype, "sprites", void 0),
                i([s], e.prototype, "fps", void 0),
                i([s], e.prototype, "loop", void 0),
                i([s], e.prototype, "playOnLoad", void 0),
                e = i([a], e)
            }
            (cc.Sprite);
            n.default = c,
            cc._RF.pop()
        }, {}
    ],
    SpriteSwitcher: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "f1858IqJUNLdrOiWZvpgRg0", "SpriteSwitcher");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__decorate || function (t, e, n, o) {
                var i,
                r = arguments.length,
                a = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(t, e, n, o);
                else
                    for (var s = t.length - 1; s >= 0; s--)
                        (i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, n, a) : i(e, n)) || a);
                return r > 3 && a && Object.defineProperty(e, n, a),
                a
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r = cc._decorator,
            a = r.ccclass,
            s = r.property,
            c = r.executeInEditMode,
            l = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.sprites = [],
                    e._curSpriteIndex = -1,
                    e
                }
                return o(e, t),
                Object.defineProperty(e.prototype, "spriteIndex", {
                    get: function () {
                        return this._curSpriteIndex
                    },
                    set: function (t) {
                        this.switchSprite(t)
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                e.prototype.switchSprite = function (t) {
                    if (t < this.getSpritesCount() && t != this._curSpriteIndex) {
                        if (t < 0)
                            return this.enabled = !1, void(this._curSpriteIndex = t);
                        this._curSpriteIndex < 0 && (this.enabled = !0),
                        this._curSpriteIndex = t,
                        this.spriteFrame = this.sprites[t]
                    }
                },
                e.prototype.getSpritesCount = function () {
                    return this.sprites.length
                },
                i([s([cc.SpriteFrame])], e.prototype, "sprites", void 0),
                i([s({
                            serializable: !0
                        })], e.prototype, "_curSpriteIndex", void 0),
                i([s], e.prototype, "spriteIndex", null),
                e = i([a, c], e)
            }
            (cc.Sprite);
            n.default = l,
            cc._RF.pop()
        }, {}
    ],
    Timer: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "a0b5fXHuE1GoYD53qY6ftr7", "Timer");
            var o = this && this.__awaiter || function (t, e, n, o) {
                return new(n || (n = Promise))(function (i, r) {
                    function a(t) {
                        try {
                            c(o.next(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function s(t) {
                        try {
                            c(o.throw(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function c(t) {
                        t.done ? i(t.value) : new n(function (e) {
                            e(t.value)
                        }).then(a, s)
                    }
                    c((o = o.apply(t, e || [])).next())
                })
            },
            i = this && this.__generator || function (t, e) {
                var n,
                o,
                i,
                r,
                a = {
                    label: 0,
                    sent: function () {
                        if (1 & i[0])
                            throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw : s(1),
                    return : s(2)
                },
                "function" == typeof Symbol && (r[Symbol.iterator] = function () {
                    return this
                }),
                r;
                function s(t) {
                    return function (e) {
                        return c([t, e])
                    }
                }
                function c(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done)
                                return i;
                            switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                o = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1],
                                    i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2],
                                    a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            o = 0
                        }
                    finally {
                        n = i = 0
                    }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r = 0,
            a = 0,
            s = 0,
            c = 0,
            l = 0,
            u = 0,
            d = 0,
            p = function () {
                function t(t, e, n) {
                    this._repeatCount = -1,
                    this._span = 1,
                    this._callback = null,
                    this._intervalId = null,
                    this._count = 0,
                    this._bindingNode = null,
                    this._span = t,
                    this._repeatCount = e,
                    this._callback = n
                }
                return Object.defineProperty(t, "now", {
                    get: function () {
                        return Date.now() / 1e3
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(t, "time", {
                    get: function () {
                        return c + d
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(t, "deltaTime", {
                    get: function () {
                        return l
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(t, "timeFromGameStart", {
                    get: function () {
                        return u
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                t.waitTime = function (e) {
                    return o(this, void 0, void 0, function () {
                        return i(this, function (n) {
                            return [2, new Promise(function (n, o) {
                                    t.callLater(e, function () {
                                        n()
                                    })
                                })]
                        })
                    })
                },
                t.setTimeOffset = function (t) {
                    d = t
                },
                t.initTime = function () {
                    r = this.now,
                    this.updateTime()
                },
                t.updateTime = function () {
                    s = this.now,
                    c = s,
                    u = s - r,
                    l = a - s,
                    a = s
                },
                t.callLater = function (e, n, o) {
                    var i = new t(e, 1, n);
                    return o ? i.startAndBindToNode(o) : i.start(),
                    i
                },
                t.callLoop = function (e, n, o) {
                    var i = new t(e, -1, n);
                    if (1 == o) {
                        var r = o;
                        i.start(r)
                    } else if (o instanceof cc.Node) {
                        i.startAndBindToNode(o)
                    } else
                        i.start()
                },
                t.prototype._onSpan = function () {
                    if (this._count++, this._callback)
                        try {
                            this._callback(this)
                        } catch (t) {
                            cc.error("[Warning] Timer._onSpan callback has error", t)
                        }
                    this._repeatCount >= 0 && this._count >= this._repeatCount && this.stop()
                },
                t.prototype.isRunning = function () {
                    return null != this._intervalId
                },
                Object.defineProperty(t.prototype, "isDone", {
                    get: function () {
                        return this._repeatCount >= 0 && this._count >= this._repeatCount
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "count", {
                    get: function () {
                        return this._count
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "span", {
                    get: function () {
                        return this._span
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                t.prototype.startAndBindToNode = function (t) {
                    var e = this,
                    n = new cc.Node,
                    o = n.addComponent(cc.Component);
                    return 0 == o._isOnLoadCalled ? o.onLoad = function () {
                        e.start(!0)
                    }
                     : this.start(!0),
                    o.onDestroy = function () {
                        e.stop()
                    },
                    n.parent = t,
                    this._bindingNode = n,
                    this
                },
                t.prototype.start = function (t) {
                    return void 0 === t && (t = !1),
                    this.stop(),
                    this._callback ? (!t && this._repeatCount < 0 && (cc.warn("Warning] Timer.start, this timer will never stop!"), cc.warn("Warning]     please use startAndBindToNode"), cc.warn("Warning]     or your can stop timer in callback. use e:stop()")), this._count = 0, this._intervalId = setInterval(this._onSpan.bind(this), 1e3 * this.span), this) : (cc.warn("Warning] Timer.start callback not set"), this)
                },
                t.prototype.resetCount = function () {
                    this._count = 0
                },
                t.prototype.stop = function () {
                    return null != this._intervalId && (clearInterval(this._intervalId), this._intervalId = null),
                    cc.isValid(this._bindingNode) && (this._bindingNode.destroy(), this._bindingNode = null),
                    this
                },
                t
            }
            ();
            n.default = p,
            cc._RF.pop()
        }, {}
    ],
    Tools: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "56638Q3apVJnJ4jK3O3Weng", "Tools"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("./md5"),
            i = t("./pako"),
            r = t("./Base64");
            function a(t, e) {
                var n = "";
                e || (e = 0);
                for (var o = "", i = 0; i < e + 1; i++)
                    o += "    ";
                if (t instanceof Array)
                    for (var r = 0; r < t.length; r++) {
                        "object" == typeof(c = t[r]) ? (n += o + r + " ...\n", n += a(c, e + 1)) : n += "number" == typeof c ? o + r + " => " + c + "\n" : o + r + ' => "' + c + '"\n'
                    }
                else if ("object" == typeof t)
                    for (var s in t) {
                        var c;
                        "object" == typeof(c = t[s]) ? (n += o + "'" + s + "' ...\n", n += a(c, e + 1)) : n += "number" == typeof c ? o + "'" + s + "' => " + c + "\n" : o + "'" + s + "' => \"" + c + '"\n'
                    }
                else
                    n = "===>" + t + "<===(" + typeof t + ")";
                return n
            }
            var s = function () {
                function t() {}
                return t.isOneDay = function (t, e) {
                    var n = new Date(1e3 * t),
                    o = new Date(1e3 * e);
                    return n.getFullYear() == o.getFullYear() && n.getMonth() == o.getMonth() && n.getDate() == o.getDate()
                },
                t.getMidnightTime = function (t) {
                    var e;
                    return (e = null == t ? new Date(Date.now()) : new Date(1e3 * t)).setHours(0, 0, 0, 0),
                    e.getTime() / 1e3
                },
                t.getObjSize = function (e) {
                    if (!e)
                        return 0;
                    if (Array.isArray(e))
                        return e.length;
                    var n = 0;
                    return t.forEachMap(e, function (t, e) {
                        n++
                    }),
                    n
                },
                t.forEachMap = function (t, e) {
                    if (t)
                        for (var n = Object.keys(t), o = 0; o < n.length; o++) {
                            var i = n[o],
                            r = t[i];
                            if (null != r && e(i, r))
                                break
                        }
                },
                t.splitToNumber = function (t, e) {
                    if (!t || !e)
                        return [];
                    for (var n = t.split(e), o = [], i = 0; i < n.length; i++)
                        o[i] = this.safeParseInt(n[i], null);
                    return o
                },
                t.formatNumber = function (t, e, n) {
                    for (var o = t = Math.floor(t), i = 1; (o /= 10) >= 1; )
                        i++;
                    if (i >= n)
                        return t.toString();
                    for (var r = n - i, a = "", s = 0; s < r; s++)
                        a += e;
                    return a + t
                },
                t._formatTime = function (e, n) {
                    var o = Math.floor(e / 3600),
                    i = Math.floor(e / 60) % 60,
                    r = Math.floor(e) % 60;
                    return n.match("%h") && (n = n.replace("%h", o.toString())),
                    n.match("%H") && (n = n.replace("%h", t.formatNumber(o, "0", 2))),
                    n.match("%m") && (n = n.replace("%m", i.toString())),
                    n.match("%M") && (n = n.replace("%M", t.formatNumber(i, "0", 2))),
                    n.match("%s") && (n = n.replace("%s", r.toString())),
                    n.match("%S") && (n = n.replace("%S", t.formatNumber(r, "0", 2))),
                    n
                },
                t.formatTime = function (t) {
                    if ((t = Math.ceil(t)) <= 0)
                        return "00:00";
                    var e = Math.floor(t / 3600),
                    n = Math.floor(t / 60) % 60,
                    o = Math.ceil(t) % 60,
                    i = "";
                    return e > 0 && (i = e + ":"),
                    i = n > 9 ? "" + i + n + ":" : i + "0" + n + ":",
                    i = o > 9 ? "" + i + o : i + "0" + o
                },
                t.formatFullTime = function (t) {
                    void 0 === t && (t = Date.now());
                    var e = new Date(t),
                    n = e.getFullYear(),
                    o = e.getMonth() + 1,
                    i = e.getDate(),
                    r = e.getHours(),
                    a = e.getMinutes(),
                    s = e.getSeconds();
                    return n + "-" + (o < 10 ? "0" + o : o) + "-" + (i < 10 ? "0" + i : i) + " " + (r < 10 ? "0" + r : r) + ":" + (a < 10 ? "0" + a : a) + ":" + (s < 10 ? "0" + s : s)
                },
                t.formatDate = function (t) {
                    var e = new Date(t);
                    return e.getFullYear() + "-" + (e.getMonth() + 1) + "-" + e.getDate()
                },
                t.formatString = function (t) {
                    for (var e = [], n = 1; n < arguments.length; n++)
                        e[n - 1] = arguments[n];
                    for (var o = 0; o < e.length; o++)
                        t = t.replace("%s", e[o].toString());
                    return t
                },
                t.generateUUID = function () {
                    var t = (new Date).getTime();
                    return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function (e) {
                        var n = (t + 16 * Math.random()) % 16 | 0;
                        return t = Math.floor(t / 16),
                        ("x" == e ? n : 3 & n | 8).toString(16)
                    })
                },
                t.deepCopy = function (t, e) {
                    if (!t)
                        return t;
                    if (t instanceof Array) {
                        for (var n = e || [], o = t.length, i = 0; i < o; i++) {
                            var r = t[i];
                            n.push(this.deepCopy(r))
                        }
                        return n
                    }
                    if (t instanceof Object) {
                        n = e || {};
                        var a = Object.keys(t);
                        for (i = 0; i < a.length; i++) {
                            var s = a[i],
                            c = t[s];
                            n[s] = this.deepCopy(c)
                        }
                        return n
                    }
                    return t
                },
                t.testDeepCopy = function () {
                    cc.log(this.deepCopy("haha"));
                    cc.log(this.deepCopy(3));
                    cc.log(this.deepCopy(["1", "3"]));
                    cc.log(this.deepCopy({
                            a: "h",
                            b: "m"
                        }))
                },
                t.mergeArray = function (t, e) {
                    for (var n = 0; n < t.length; n++)
                        e.push(t[n])
                },
                t.swap = function (t, e, n) {
                    var o = t[e];
                    t[e] = t[n],
                    t[n] = o
                },
                t.getMd5 = function (t) {
                    return null == t ? o.default("null") : o.default(t)
                },
                t.getMax = function (t) {
                    for (var e = -Number.MAX_VALUE, n = 0; n < t.length; n++)
                        e < t[n] && (e = t[n]);
                    return e
                },
                t.getMaxIndex = function (t) {
                    for (var e = -Number.MAX_VALUE, n = -1, o = 0; o < t.length; o++)
                        e < t[o] && (e = t[o], n = o);
                    return n
                },
                t.isValueType = function (t) {
                    var e = typeof t;
                    return "number" == e || "boolean" == e || "string" == e
                },
                t.serializeObject = function (t) {
                    var e = this.deepCopy(t);
                    return JSON.stringify(e)
                },
                t.copyTo = function (t, e) {
                    if (t instanceof Array)
                        for (var n = 0; n < t.length; n++)
                            e[n] = t[n];
                    if (t instanceof Object) {
                        var o = Object.keys(t);
                        for (n = 0; n < o.length; n++) {
                            var i = o[n];
                            e[i] = t[i]
                        }
                    }
                },
                t.deserializeObject = function (t, e) {
                    var n = JSON.parse(t);
                    this.copyTo(n, e)
                },
                t.safeParseInt = function (t, e, n) {
                    var o = parseInt(t, n);
                    return isNaN(o) ? e : o
                },
                t.safeParseFloat = function (t, e) {
                    var n = parseFloat(t);
                    return isNaN(n) ? e : n
                },
                t.arrayCopy = function (t, e, n, o, i) {
                    if (t.length < e + i)
                        throw "arrayCopy: src out of bound";
                    if (n.length < o + i)
                        throw "arrayCopy: dest out of bound";
                    for (var r = 0; r < i; r++)
                        n[o + r] = t[e + r]
                },
                t.arrayFill = function (t, e) {
                    for (var n = t.length - 1; n >= 0; n--)
                        t[n] = e
                },
                t.sort_db_by_order = function (t, e) {
                    return t.order < e.order ? -1 : t.order > e.order ? 1 : 0
                },
                t.dump = function (t, e, n) {
                    var o = a(t);
                    cc.log("dump-begin", e),
                    cc.log(o),
                    cc.log("dump-end")
                },
                t.formatError = function (t) {
                    return t instanceof Error ? "msg:" + t.message + " stack:" + t.stack : t ? JSON.stringify(t) : t.toString()
                },
                t.utf8Len = function (t) {
                    var e = 0;
                    if (t)
                        for (var n = 0; n < t.length; n++) {
                            var o = t.charCodeAt(n);
                            o > 127 || 94 == o ? e += 2 : e++
                        }
                    return e
                },
                t.bitSub = function (t, e) {
                    return (t & e) > 0 ? t - e : t
                },
                t.compress = function (t) {
                    return i.gzip(t, {
                        to: "string"
                    })
                },
                t.decompress = function (t) {
                    return i.ungzip(t, {
                        to: "string"
                    })
                },
                t.decompressFromBase64 = function (t) {
                    var e = r.default.decodeToUnit8Array(t);
                    return i.ungzip(e, {
                        to: "string"
                    })
                },
                t.printTrace = function () {
                    0
                },
                t
            }
            ();
            n.default = s,
            cc._RF.pop()
        }, {
            "./Base64": "Base64",
            "./md5": "md5",
            "./pako": "pako"
        }
    ],
    Tower: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "cbc7eV+rsVOJ6BRrurrP5Gp", "Tower");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i,
            r = t("./Unit"),
            a = t("../state/STowerState"),
            s = t("../World"),
            c = t("../skill/Skill01"),
            l = t("../skill/Skill02"),
            u = t("../skill/Skill03"),
            d = t("../skill/Skill04");
            (function (t) {
                t.Idle = "idle",
                t.Fight = "fight"
            })(i = n.TowerState || (n.TowerState = {}));
            var p = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.index = 0,
                    e
                }
                return o(e, t),
                e.prototype.initState = function () {
                    this.registerState(i.Idle, new a.STowerIdle),
                    this.registerState(i.Fight, new a.STowerFight)
                },
                e.prototype.initStaticAttr = function () {
                    t.prototype.initStaticAttr.call(this),
                    this.setNextState(i.Idle)
                },
                e.prototype.setIndex = function (t) {
                    switch (this.index = t, this.setPosition(s.default.instance.map.convertToWorldPos(t)), this.removeSkill(0), t) {
                    case 0:
                        this.addSkill(new c.default);
                        break;
                    case 1:
                        this.addSkill(new l.default);
                        break;
                    case 2:
                        this.addSkill(new u.default);
                        break;
                    case 3:
                        this.addSkill(new d.default);
                        break;
                    default:
                        cc.error("invalid tower")
                    }
                },
                e.prototype.getRole = function () {
                    return s.default.instance.getRole(this.index)
                },
                e
            }
            (r.default);
            n.default = p,
            cc._RF.pop()
        }, {
            "../World": "World",
            "../skill/Skill01": "Skill01",
            "../skill/Skill02": "Skill02",
            "../skill/Skill03": "Skill03",
            "../skill/Skill04": "Skill04",
            "../state/STowerState": "STowerState",
            "./Unit": "Unit"
        }
    ],
    TweenActive: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "abd28LShlhI+YYkGAlOG6Bg", "TweenActive");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__decorate || function (t, e, n, o) {
                var i,
                r = arguments.length,
                a = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(t, e, n, o);
                else
                    for (var s = t.length - 1; s >= 0; s--)
                        (i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, n, a) : i(e, n)) || a);
                return r > 3 && a && Object.defineProperty(e, n, a),
                a
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r = t("./UITweener"),
            a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.target = null,
                    e.value = !1,
                    e
                }
                return o(e, t),
                e.prototype.start = function () {
                    this.value = this.target.active,
                    t.prototype.start.call(this)
                },
                e.prototype.OnUpdate = function (t, e) {
                    e && (this.target.active = !this.target.active)
                },
                e.prototype.ResetToBeginning = function () {
                    this.target.active = this.value,
                    t.prototype.ResetToBeginning.call(this)
                },
                e.prototype.ResetToEnd = function () {
                    this.target.active = !this.value,
                    t.prototype.ResetToEnd.call(this)
                },
                i([c(cc.Node)], e.prototype, "target", void 0),
                e = i([s], e)
            }
            (r.default);
            n.default = l,
            cc._RF.pop()
        }, {
            "./UITweener": "UITweener"
        }
    ],
    TweenAlpha: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "27c0chiNMpCs70r23Q258F2", "TweenAlpha");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__decorate || function (t, e, n, o) {
                var i,
                r = arguments.length,
                a = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(t, e, n, o);
                else
                    for (var s = t.length - 1; s >= 0; s--)
                        (i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, n, a) : i(e, n)) || a);
                return r > 3 && a && Object.defineProperty(e, n, a),
                a
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r = t("./UITweener"),
            a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.from = 255,
                    e.to = 0,
                    e
                }
                return o(e, t),
                e.prototype.OnUpdate = function (t, e) {
                    this.node.opacity = this.from * (1 - t) + this.to * t
                },
                i([c], e.prototype, "from", void 0),
                i([c], e.prototype, "to", void 0),
                e = i([s], e)
            }
            (r.default);
            n.default = l,
            cc._RF.pop()
        }, {
            "./UITweener": "UITweener"
        }
    ],
    TweenCallbackDelay: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "371eda+cCRLiL3IXikInYhu", "TweenCallbackDelay");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__decorate || function (t, e, n, o) {
                var i,
                r = arguments.length,
                a = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(t, e, n, o);
                else
                    for (var s = t.length - 1; s >= 0; s--)
                        (i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, n, a) : i(e, n)) || a);
                return r > 3 && a && Object.defineProperty(e, n, a),
                a
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r = t("./UITweener"),
            a = cc._decorator.ccclass,
            s = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.state = !1,
                    e
                }
                return o(e, t),
                e.prototype.OnUpdate = function (t, e) {
                    this.state = t < .5
                },
                e = i([a], e)
            }
            (r.default);
            n.default = s,
            cc._RF.pop()
        }, {
            "./UITweener": "UITweener"
        }
    ],
    TweenColor: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "91b374w3/FPCaOQS4Ar8nOQ", "TweenColor");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__decorate || function (t, e, n, o) {
                var i,
                r = arguments.length,
                a = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(t, e, n, o);
                else
                    for (var s = t.length - 1; s >= 0; s--)
                        (i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, n, a) : i(e, n)) || a);
                return r > 3 && a && Object.defineProperty(e, n, a),
                a
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r = t("./UITweener"),
            a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.from = new cc.Color,
                    e.to = new cc.Color,
                    e
                }
                return o(e, t),
                e.prototype.OnUpdate = function (t, e) {
                    var n = this.from.getR() * (1 - t) + this.to.getR() * t,
                    o = this.from.getG() * (1 - t) + this.to.getG() * t,
                    i = this.from.getB() * (1 - t) + this.to.getB() * t,
                    r = this.from.getA() * (1 - t) + this.to.getA() * t;
                    this.node.color = cc.color(n, o, i),
                    this.node.opacity = r
                },
                i([c(cc.Color)], e.prototype, "from", void 0),
                i([c(cc.Color)], e.prototype, "to", void 0),
                e = i([s], e)
            }
            (r.default);
            n.default = l,
            cc._RF.pop()
        }, {
            "./UITweener": "UITweener"
        }
    ],
    TweenGroup: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "80ae0b3mchADbkK9eSevX+K", "TweenGroup");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__decorate || function (t, e, n, o) {
                var i,
                r = arguments.length,
                a = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(t, e, n, o);
                else
                    for (var s = t.length - 1; s >= 0; s--)
                        (i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, n, a) : i(e, n)) || a);
                return r > 3 && a && Object.defineProperty(e, n, a),
                a
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r = t("./UITweener"),
            a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.group = 0,
                    e.tweens = [],
                    e
                }
                return o(e, t),
                e.prototype.onLoad = function () {
                    for (var t = this.getComponentsInChildren(r.default), e = 0; e < t.length; e++) {
                        var n = t[e];
                        n.tweenGroup == this.group && this.tweens.push(n)
                    }
                },
                e.prototype.ResetToBeginning = function () {
                    for (var t = 0; t < this.tweens.length; t++) {
                        this.tweens[t].ResetToBeginning()
                    }
                },
                e.prototype.PlayForward = function () {
                    for (var t = 0; t < this.tweens.length; t++) {
                        this.tweens[t].PlayForward()
                    }
                },
                e.prototype.PlayReverse = function () {
                    for (var t = 0; t < this.tweens.length; t++) {
                        this.tweens[t].PlayReverse()
                    }
                },
                e.prototype.Stop = function () {
                    for (var t = 0; t < this.tweens.length; t++) {
                        this.tweens[t].Stop()
                    }
                },
                e.prototype.SetDuration = function (t) {
                    for (var e = 0; e < this.tweens.length; e++) {
                        this.tweens[e].duration = t
                    }
                },
                e.prototype.SetDelay = function (t) {
                    for (var e = 0; e < this.tweens.length; e++) {
                        this.tweens[e].delay = t
                    }
                },
                i([c], e.prototype, "group", void 0),
                e = i([s], e)
            }
            (cc.Component);
            n.default = l,
            cc._RF.pop()
        }, {
            "./UITweener": "UITweener"
        }
    ],
    TweenPosition: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "dc5b0/XSY9LxbuTt5yD10mX", "TweenPosition");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__decorate || function (t, e, n, o) {
                var i,
                r = arguments.length,
                a = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(t, e, n, o);
                else
                    for (var s = t.length - 1; s >= 0; s--)
                        (i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, n, a) : i(e, n)) || a);
                return r > 3 && a && Object.defineProperty(e, n, a),
                a
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r = t("./UITweener"),
            a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.from = new cc.Vec2,
                    e.to = new cc.Vec2,
                    e
                }
                return o(e, t),
                e.prototype.OnUpdate = function (t, e) {
                    var n = this.from.x * (1 - t) + this.to.x * t,
                    o = this.from.y * (1 - t) + this.to.y * t;
                    this.node.setPosition(n, o)
                },
                i([c(cc.Vec2)], e.prototype, "from", void 0),
                i([c(cc.Vec2)], e.prototype, "to", void 0),
                e = i([s], e)
            }
            (r.default);
            n.default = l,
            cc._RF.pop()
        }, {
            "./UITweener": "UITweener"
        }
    ],
    TweenRotation: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "3dd8f8HcLpErZiBgorGdRPY", "TweenRotation");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__decorate || function (t, e, n, o) {
                var i,
                r = arguments.length,
                a = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(t, e, n, o);
                else
                    for (var s = t.length - 1; s >= 0; s--)
                        (i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, n, a) : i(e, n)) || a);
                return r > 3 && a && Object.defineProperty(e, n, a),
                a
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r = t("./UITweener"),
            a = t("../utils/Mathf"),
            s = cc._decorator,
            c = s.ccclass,
            l = s.property,
            u = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.from = 0,
                    e.to = 0,
                    e
                }
                return o(e, t),
                e.prototype.OnUpdate = function (t, e) {
                    this.node.rotation = a.default.Lerp(this.from, this.to, t)
                },
                i([l], e.prototype, "from", void 0),
                i([l], e.prototype, "to", void 0),
                e = i([c], e)
            }
            (r.default);
            n.default = u,
            cc._RF.pop()
        }, {
            "../utils/Mathf": "Mathf",
            "./UITweener": "UITweener"
        }
    ],
    TweenScale: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "05127sq1cBIuadh0gF6otI4", "TweenScale");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__decorate || function (t, e, n, o) {
                var i,
                r = arguments.length,
                a = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(t, e, n, o);
                else
                    for (var s = t.length - 1; s >= 0; s--)
                        (i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, n, a) : i(e, n)) || a);
                return r > 3 && a && Object.defineProperty(e, n, a),
                a
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r = t("./UITweener"),
            a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.from = new cc.Vec2(0, 0),
                    e.to = new cc.Vec2(1, 1),
                    e
                }
                return o(e, t),
                e.prototype.OnUpdate = function (t, e) {
                    var n = this.from.x * (1 - t) + this.to.x * t,
                    o = this.from.y * (1 - t) + this.to.y * t;
                    this.node.scaleX = n,
                    this.node.scaleY = o
                },
                i([c], e.prototype, "from", void 0),
                i([c], e.prototype, "to", void 0),
                e = i([s], e)
            }
            (r.default);
            n.default = l,
            cc._RF.pop()
        }, {
            "./UITweener": "UITweener"
        }
    ],
    TweenSize: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "37b80nkJT9NvZ0uwY1ubx00", "TweenSize");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__decorate || function (t, e, n, o) {
                var i,
                r = arguments.length,
                a = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(t, e, n, o);
                else
                    for (var s = t.length - 1; s >= 0; s--)
                        (i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, n, a) : i(e, n)) || a);
                return r > 3 && a && Object.defineProperty(e, n, a),
                a
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r = t("./UITweener"),
            a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.from = new cc.Vec2,
                    e.to = new cc.Vec2,
                    e
                }
                return o(e, t),
                e.prototype.OnUpdate = function (t, e) {
                    var n = this.from.x * (1 - t) + this.to.x * t,
                    o = this.from.y * (1 - t) + this.to.y * t;
                    this.node.setContentSize(n, o)
                },
                i([c(cc.Vec2)], e.prototype, "from", void 0),
                i([c(cc.Vec2)], e.prototype, "to", void 0),
                e = i([s], e)
            }
            (r.default);
            n.default = l,
            cc._RF.pop()
        }, {
            "./UITweener": "UITweener"
        }
    ],
    UIButton: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "9235dyg88NHMoQMGEKtbRjE", "UIButton");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__decorate || function (t, e, n, o) {
                var i,
                r = arguments.length,
                a = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(t, e, n, o);
                else
                    for (var s = t.length - 1; s >= 0; s--)
                        (i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, n, a) : i(e, n)) || a);
                return r > 3 && a && Object.defineProperty(e, n, a),
                a
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r,
            a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = a.executeInEditMode;
            (function (t) {
                t[t.NORMAL = 0] = "NORMAL",
                t[t.HOVER = 1] = "HOVER",
                t[t.PRESSED = 2] = "PRESSED",
                t[t.DISABLED = 3] = "DISABLED"
            })(r || (r = {}));
            var u = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e._pressed = !1,
                    e._hovered = !1,
                    e.time = 0,
                    e._transitionFinished = !0,
                    e._fromScale = cc.Vec2.ZERO,
                    e._toScale = cc.Vec2.ZERO,
                    e._originalScale = null,
                    e._lastClickTime = 0,
                    e._interactable = !0,
                    e.enableAutoGrayEffect = !1,
                    e.pressToKeepClick = !1,
                    e.target = null,
                    e.duration = .1,
                    e.zoomScale = 1.2,
                    e.clickDelta = .5,
                    e
                }
                return o(e, t),
                Object.defineProperty(e.prototype, "interactable", {
                    get: function () {
                        return this._interactable
                    },
                    set: function (t) {
                        this._interactable = t,
                        !t && this._pressed && (this._pressed = !1),
                        this._updateState()
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                e.prototype.onLoad = function () {
                    this._applyTarget(),
                    this._updateDisabledState()
                },
                e.prototype._resetState = function () {
                    this._pressed = !1,
                    this._hovered = !1;
                    var t = this._getTarget(),
                    e = this._originalScale;
                    e && t.setScale(e.x, e.y),
                    this._transitionFinished = !0
                },
                e.prototype.onEnable = function () {
                    this._registerNodeEvent()
                },
                e.prototype.onDisable = function () {
                    this._resetState(),
                    this._unregisterNodeEvent()
                },
                e.prototype._getTarget = function () {
                    return this.target ? this.target : this.node
                },
                e.prototype.update = function (t) {
                    if (this._lastClickTime -= t, !this._transitionFinished) {
                        this.time += t;
                        var e = 1;
                        this.duration > 0 && (e = this.time / this.duration),
                        e >= 1 && (e = 1);
                        var n = this._getTarget();
                        this._originalScale && n.setScale(this._fromScale.lerp(this._toScale, e)),
                        this._interactable && this._pressed && this.pressToKeepClick && this.clickDelta > 0 ? this._emitClickEvent() : 1 === e && (this._transitionFinished = !0)
                    }
                },
                e.prototype._registerNodeEvent = function () {
                    this.node.on(cc.Node.EventType.TOUCH_START, this._onTouchBegan, this),
                    this.node.on(cc.Node.EventType.TOUCH_MOVE, this._onTouchMove, this),
                    this.node.on(cc.Node.EventType.TOUCH_END, this._onTouchEnded, this),
                    this.node.on(cc.Node.EventType.TOUCH_CANCEL, this._onTouchCancel, this),
                    this.node.on(cc.Node.EventType.MOUSE_ENTER, this._onMouseMoveIn, this),
                    this.node.on(cc.Node.EventType.MOUSE_LEAVE, this._onMouseMoveOut, this)
                },
                e.prototype._unregisterNodeEvent = function () {
                    this.node.off(cc.Node.EventType.TOUCH_START, this._onTouchBegan, this),
                    this.node.off(cc.Node.EventType.TOUCH_MOVE, this._onTouchMove, this),
                    this.node.off(cc.Node.EventType.TOUCH_END, this._onTouchEnded, this),
                    this.node.off(cc.Node.EventType.TOUCH_CANCEL, this._onTouchCancel, this),
                    this.node.off(cc.Node.EventType.MOUSE_ENTER, this._onMouseMoveIn, this),
                    this.node.off(cc.Node.EventType.MOUSE_LEAVE, this._onMouseMoveOut, this)
                },
                e.prototype._applyTarget = function () {
                    var t = this._getTarget();
                    this._sprite = t.getComponent(cc.Sprite),
                    this._originalScale || (this._originalScale = cc.Vec2.ZERO),
                    this._originalScale.x = t.scaleX,
                    this._originalScale.y = t.scaleY
                },
                e.prototype._onTouchBegan = function (t) {
                    this.interactable && this.enabledInHierarchy && (this._lastClickTime > 0 || (this._pressed = !0, this._updateState(), t.stopPropagation()))
                },
                e.prototype._onTouchMove = function (t) {
                    if (this.interactable && this.enabledInHierarchy && this._pressed) {
                        var e = t.touch,
                        n = this.node._hitTest(e.getLocation()),
                        o = this._getTarget(),
                        i = this._originalScale;
                        if (i)
                            n ? (this._fromScale.set(i), this._toScale.set(i).mulSelf(this.zoomScale), this._transitionFinished = !1) : (this.time = 0, this._transitionFinished = !0, o.setScale(i.x, i.y));
                        else {
                            var a = void 0;
                            a = n ? r.PRESSED : r.NORMAL,
                            this._applyTransition(a)
                        }
                        t.stopPropagation()
                    }
                },
                e.prototype._onTouchEnded = function (t) {
                    this.interactable && this.enabledInHierarchy && (this._pressed && this._emitClickEvent(), this._pressed = !1, this._updateState(), t.stopPropagation())
                },
                e.prototype._emitClickEvent = function () {
                    this._lastClickTime <= 0 && (this._lastClickTime = this.clickDelta, this.node.emit("click", this))
                },
                e.prototype._onTouchCancel = function () {
                    this.interactable && this.enabledInHierarchy && (this._pressed = !1, this._updateState())
                },
                e.prototype._onMouseMoveIn = function () {
                    !this._pressed && this.interactable && this.enabledInHierarchy && (this._hovered || (this._hovered = !0, this._updateState()))
                },
                e.prototype._onMouseMoveOut = function () {
                    this._hovered && (this._hovered = !1, this._updateState())
                },
                e.prototype._updateState = function () {
                    var t = this._getButtonState();
                    this._applyTransition(t),
                    this._updateDisabledState()
                },
                e.prototype._getButtonState = function () {
                    return this.interactable ? this._pressed ? r.PRESSED : this._hovered ? r.HOVER : r.NORMAL : r.DISABLED
                },
                e.prototype._updateScaleTransition = function (t) {
                    t === r.PRESSED ? this._zoomUp() : this._zoomBack()
                },
                e.prototype._zoomUp = function () {
                    this._originalScale && (this._fromScale.set(this._originalScale), this._toScale.set(this._originalScale).mulSelf(this.zoomScale), this.time = 0, this._transitionFinished = !1)
                },
                e.prototype._zoomBack = function () {
                    if (this._originalScale) {
                        var t = this._getTarget();
                        this._fromScale.x = t.scaleX,
                        this._fromScale.y = t.scaleY,
                        this._toScale.set(this._originalScale),
                        this.time = 0,
                        this._transitionFinished = !1
                    }
                },
                e.prototype._applyTransition = function (t) {
                    this._updateScaleTransition(t)
                },
                e.prototype._updateDisabledState = function () {
                    if (this._sprite) {
                        if (this.enableAutoGrayEffect && !this.interactable)
                            return void this._sprite.setState(cc.Sprite.State.GRAY);
                        this._sprite.setState(cc.Sprite.State.NORMAL)
                    }
                },
                i([c({
                            serializable: !0
                        })], e.prototype, "_interactable", void 0),
                i([c], e.prototype, "interactable", null),
                i([c], e.prototype, "enableAutoGrayEffect", void 0),
                i([c({
                            tooltip: "i don not want to translate"
                        })], e.prototype, "pressToKeepClick", void 0),
                i([c(cc.Node)], e.prototype, "target", void 0),
                i([c], e.prototype, "duration", void 0),
                i([c], e.prototype, "zoomScale", void 0),
                i([c({
                            tooltip: "click interval. 0 - no interval"
                        })], e.prototype, "clickDelta", void 0),
                e = i([s, l], e)
            }
            (cc.Component);
            n.default = u,
            cc._RF.pop()
        }, {}
    ],
    UIClickAnim: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "6c775qGuoZAOpyO3Wfv4voY", "UIClickAnim");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__decorate || function (t, e, n, o) {
                var i,
                r = arguments.length,
                a = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(t, e, n, o);
                else
                    for (var s = t.length - 1; s >= 0; s--)
                        (i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, n, a) : i(e, n)) || a);
                return r > 3 && a && Object.defineProperty(e, n, a),
                a
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r = t("../utils/UiHelper"),
            a = t("../mgr/mgrAudio"),
            s = cc._decorator,
            c = s.ccclass,
            l = s.property,
            u = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.idleAnim = "",
                    e.clickAnim = "",
                    e
                }
                return o(e, t),
                e.prototype.onLoad = function () {
                    this.idleAnim && this.clickAnim || cc.error("please set anim name in node " + this.name + ".")
                },
                e.prototype.onEnable = function () {
                    r.default.registerTouchEvent(this.node, this.onTouchStart, this.onTouchMove, this.onTouchEnd, this.onTouchCancel, this)
                },
                e.prototype.onDisable = function () {
                    r.default.unregisterTouchEvent(this.node)
                },
                e.prototype.onTouchStart = function (t) {
                    t.stopPropagation()
                },
                e.prototype.onTouchMove = function (t) {
                    t.stopPropagation()
                },
                e.prototype.onTouchEnd = function (t) {
                    t.stopPropagation(),
                    this.playClickAnim()
                },
                e.prototype.onTouchCancel = function (t) {
                    this.onTouchEnd(t)
                },
                e.prototype.playClickAnim = function () {
                    var t = this.getComponentInChildren(sp.Skeleton);
                    t && (t.setAnimation(0, this.clickAnim, !1), t.addAnimation(0, this.idleAnim, !0), a.default.playSound("click4"))
                },
                i([l], e.prototype, "idleAnim", void 0),
                i([l], e.prototype, "clickAnim", void 0),
                e = i([c], e)
            }
            (cc.Component);
            n.default = u,
            cc._RF.pop()
        }, {
            "../mgr/mgrAudio": "mgrAudio",
            "../utils/UiHelper": "UiHelper"
        }
    ],
    UIDrag: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "7ff41CLcoZIU6FYwKfNaX5b", "UIDrag");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__decorate || function (t, e, n, o) {
                var i,
                r = arguments.length,
                a = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(t, e, n, o);
                else
                    for (var s = t.length - 1; s >= 0; s--)
                        (i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, n, a) : i(e, n)) || a);
                return r > 3 && a && Object.defineProperty(e, n, a),
                a
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r = t("../utils/UiHelper"),
            a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.curLocalPosition = cc.Vec2.ZERO,
                    e.lerpRatio = 1,
                    e.userData = null,
                    e.movable = !0,
                    e
                }
                return o(e, t),
                e.prototype.onEnable = function () {
                    r.default.registerTouchEvent(this.node, this.onTouchStart, this.onTouchMove, this.onTouchEnd, this.onTouchCancel, this)
                },
                e.prototype.onDisable = function () {
                    r.default.unregisterTouchEvent(this.node)
                },
                e.prototype.onDestroy = function () {
                    this.onTouchEndCallback = null
                },
                e.prototype.backToOrigin = function () {
                    this.originLocalPosition && (this.node.setPosition(this.originLocalPosition), this.originLocalPosition = null)
                },
                e.prototype.onTouchStart = function (t) {
                    this.originLocalPosition = this.node.getPosition(),
                    this.touchStart = t.getLocation(),
                    t.stopPropagation(),
                    this.onTouchStartCallback && this.onTouchStartCallback(this, this.touchStart, this.userData) && (this.originLocalPosition = null)
                },
                e.prototype.onTouchMove = function (t) {
                    if (this.movable && this.originLocalPosition) {
                        var e = t.getLocation();
                        e = e.subSelf(this.touchStart).addSelf(this.originLocalPosition),
                        this.curLocalPosition.lerp(e, this.lerpRatio, this.curLocalPosition),
                        this.node.setPosition(this.curLocalPosition),
                        t.stopPropagation()
                    }
                },
                e.prototype.onTouchEnd = function (t) {
                    t.stopPropagation(),
                    this.onTouchEndCallback && (this.onTouchEndCallback(this, t.getLocation(), this.userData) || this.movable && this.backToOrigin())
                },
                e.prototype.onTouchCancel = function (t) {
                    this.onTouchEnd(t)
                },
                i([c({
                            min: 0,
                            max: 1
                        })], e.prototype, "lerpRatio", void 0),
                e = i([s], e)
            }
            (cc.Component);
            n.default = l,
            cc._RF.pop()
        }, {
            "../utils/UiHelper": "UiHelper"
        }
    ],
    UIFullBg: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "6259d2kX71HgJ8hDjH7m1w/", "UIFullBg");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__decorate || function (t, e, n, o) {
                var i,
                r = arguments.length,
                a = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(t, e, n, o);
                else
                    for (var s = t.length - 1; s >= 0; s--)
                        (i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, n, a) : i(e, n)) || a);
                return r > 3 && a && Object.defineProperty(e, n, a),
                a
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r = t("../_G"),
            a = cc._decorator,
            s = a.ccclass,
            c = (a.property, function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.onLoad = function () {
                    this.updateSize()
                },
                e.prototype.updateSize = function () {
                    this.node.width = r.default.canvasFullWidth,
                    this.node.height = r.default.canvasFullHeight
                },
                e = i([s], e)
            }
                (cc.Component));
            n.default = c,
            cc._RF.pop()
        }, {
            "../_G": "_G"
        }
    ],
    UINumberTo: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "d7475I6kD5L07vgiONdx7sa", "UINumberTo");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__decorate || function (t, e, n, o) {
                var i,
                r = arguments.length,
                a = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(t, e, n, o);
                else
                    for (var s = t.length - 1; s >= 0; s--)
                        (i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, n, a) : i(e, n)) || a);
                return r > 3 && a && Object.defineProperty(e, n, a),
                a
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r = t("../utils/Mathf"),
            a = cc._decorator,
            s = a.ccclass,
            c = a.property,
            l = function (t) {
                return t.toString()
            },
            u = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.numberLabel = null,
                    e.updateTime = .2,
                    e.formater = l,
                    e._from = 0,
                    e._to = 0,
                    e._leftTime = 0,
                    e._delayTime = 0,
                    e
                }
                return o(e, t),
                e.prototype.onLoad = function () {
                    this.numberLabel ? cc.warn("UINumberTo: can't find cc.Label in component.") : this.numberLabel = this.getComponent(cc.Label)
                },
                e.prototype.update = function (t) {
                    this._delayTime > 0 ? this._delayTime -= t : this._leftTime > 0 && (this._leftTime -= t, this.numberLabel.string = this.formater(r.default.Lerp(this._to, this._from, this._leftTime / this.updateTime)))
                },
                e.prototype.setNumber = function (t, e) {
                    void 0 === e && (e = 0),
                    this._from = this._to,
                    this._to = t,
                    e && (this._leftTime <= 0 ? this._delayTime = e : this._leftTime < e && (this._delayTime = e, this.numberLabel.string = this.formater(this._from))),
                    this._leftTime = this.updateTime
                },
                i([c(cc.Label)], e.prototype, "numberLabel", void 0),
                i([c], e.prototype, "updateTime", void 0),
                e = i([s], e)
            }
            (cc.Component);
            n.default = u,
            cc._RF.pop()
        }, {
            "../utils/Mathf": "Mathf"
        }
    ],
    UIRoot: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "5598a9hAWROx58lw2BpbKiG", "UIRoot");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__decorate || function (t, e, n, o) {
                var i,
                r = arguments.length,
                a = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(t, e, n, o);
                else
                    for (var s = t.length - 1; s >= 0; s--)
                        (i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, n, a) : i(e, n)) || a);
                return r > 3 && a && Object.defineProperty(e, n, a),
                a
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r = cc._decorator,
            a = r.ccclass,
            s = r.property,
            c = r.requireComponent,
            l = 100,
            u = 100,
            d = 100,
            p = 100,
            h = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.minShort = 576,
                    e.minLong = 1024,
                    e.minRate = .5,
                    e.maxRate = .75,
                    e.uiCamera = null,
                    e.layerNode = [],
                    e
                }
                var n;
                return o(e, t),
                n = e,
                Object.defineProperty(e, "canvasWidth", {
                    get: function () {
                        return l
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(e, "canvasHeight", {
                    get: function () {
                        return u
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(e, "canvasFullWidth", {
                    get: function () {
                        return d
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(e, "canvasFullHeight", {
                    get: function () {
                        return p
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                e.prototype.onLoad = function () {
                    t.prototype.onLoad && t.prototype.onLoad.call(this),
                    this.fixScreenResolution(),
                    n.instance = this
                },
                e.prototype.onDestroy = function () {
                    n.instance = null,
                    t.prototype.onDestroy && t.prototype.onDestroy.call(this)
                },
                e.prototype.fixScreenResolution = function () {
                    var t = cc.view.getCanvasSize();
                    cc.log("canvas size:", t.width, t.height);
                    var e = cc.view.getFrameSize();
                    cc.log("frame size:", e.width, e.height);
                    var n = !1;
                    e.width < e.height && (n = !0);
                    var o,
                    i,
                    r,
                    a,
                    s,
                    c,
                    h = this.minShort / this.minLong;
                    (o = n ? e.width / e.height : e.height / e.width) < h ? (o < this.minRate ? (a = this.minLong * (h / this.minRate), c = this.minLong * (h / o), i = cc.ResolutionPolicy.SHOW_ALL, console.log("\u957f\u8fb9\u8d85\u51fa\uff1a\u91cd\u7f6e\u957f\u8fb9 " + a)) : (c = a = this.minLong * (h / o), i = n ? cc.ResolutionPolicy.FIXED_WIDTH : cc.ResolutionPolicy.FIXED_HEIGHT, console.log("\u77ed\u8fb9\u9002\u914d:" + a)), a = Math.round(a), s = r = this.minShort) : o > h ? (o > this.maxRate ? (r = this.minShort * (this.maxRate / h), s = this.minShort * (o / h), i = cc.ResolutionPolicy.SHOW_ALL, console.log("\u77ed\u8fb9\u8d85\u51fa\uff1a\u91cd\u7f6e\u77ed\u8fb9 " + r)) : (s = r = this.minShort * (o / h), i = n ? cc.ResolutionPolicy.FIXED_HEIGHT : cc.ResolutionPolicy.FIXED_WIDTH, console.log("\u957f\u8fb9\u9002\u914d:" + r)), r = Math.round(r), c = a = this.minLong) : (console.log("\u9ed8\u8ba4\u9002\u914d"), s = r = this.minShort, c = a = this.minLong, i = n ? cc.ResolutionPolicy.FIXED_WIDTH : cc.ResolutionPolicy.FIXED_HEIGHT),
                    n ? (this.getComponent(cc.Canvas).designResolution = cc.size(r, a), cc.view.setDesignResolutionSize(r, a, i), l = r, u = a, d = s, p = c) : (this.getComponent(cc.Canvas).designResolution = cc.size(a, r), cc.view.setDesignResolutionSize(a, r, i), l = a, u = r, d = c, p = s)
                },
                e.prototype.createLayerNode = function (t) {
                    for (var e = this.layerNode.length; e < t; e++) {
                        var n = new cc.Node;
                        n.setParent(this.node);
                        var o = n.addComponent(cc.Widget);
                        o.isAlignTop = !0,
                        o.top = 0,
                        o.isAlignBottom = !0,
                        o.bottom = 0,
                        o.isAlignRight = !0,
                        o.right = 0,
                        o.isAlignLeft = !0,
                        o.left = 0,
                        o.updateAlignment(),
                        this.layerNode.push(n)
                    }
                },
                e.prototype.getLayerNode = function (t) {
                    var e = this.layerNode[t];
                    return e || cc.error("can not find layer node :" + t),
                    e
                },
                i([s({
                            tooltip: "min short"
                        })], e.prototype, "minShort", void 0),
                i([s({
                            tooltip: "min long"
                        })], e.prototype, "minLong", void 0),
                i([s({
                            tooltip: "min rate 1:2"
                        })], e.prototype, "minRate", void 0),
                i([s({
                            tooltip: "max rate 3:4"
                        })], e.prototype, "maxRate", void 0),
                i([s(cc.Camera)], e.prototype, "uiCamera", void 0),
                e = n = i([a, c(cc.Canvas)], e)
            }
            (cc.Component);
            n.default = h,
            cc._RF.pop()
        }, {}
    ],
    UITip: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "fb94cXgAM9JIasW9QaIHiqi", "UITip");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__decorate || function (t, e, n, o) {
                var i,
                r = arguments.length,
                a = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(t, e, n, o);
                else
                    for (var s = t.length - 1; s >= 0; s--)
                        (i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, n, a) : i(e, n)) || a);
                return r > 3 && a && Object.defineProperty(e, n, a),
                a
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r = t("../extensions/tweener/TweenScale"),
            a = t("../extensions/component/SpriteSwitcher"),
            s = cc._decorator,
            c = s.ccclass,
            l = s.property,
            u = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_Dirty = !1,
                    e.m_updateTime = 0,
                    e.m_leftUpdateTime = 0,
                    e.tipSwitcher = null,
                    e.tween = null,
                    e
                }
                return o(e, t),
                e.prototype.onLoad = function () {
                    if (this.tipSwitcher) {
                        var t = this.tipSwitcher.getComponent(r.default);
                        t || ((t = this.tipSwitcher.addComponent(r.default)).from = cc.v2(1, 1), t.to = cc.v2(1.2, 1.2), t.duration = .6, t.method = r.default.Method.EaseInOut, t.style = r.default.Style.PingPong, this.tween = t)
                    }
                },
                e.prototype.update = function (t) {
                    if (this.m_Dirty)
                        if (this.m_Dirty = !1, this.tipSwitcher && this.m_checker) {
                            var e = this.m_checker();
                            this.tipSwitcher.switchSprite(e),
                            this.tween.enabled = e >= 0
                        } else
                            cc.warn("tip node ...");
                    else
                        this.m_updateTime > 0 && (this.m_leftUpdateTime -= t, this.m_leftUpdateTime <= 0 && this.updateTip())
                },
                e.prototype.updateTip = function () {
                    this.m_Dirty = !0,
                    this.m_leftUpdateTime = this.m_updateTime
                },
                e.prototype.setChecker = function (t, e) {
                    void 0 === e && (e = 0),
                    this.m_checker = t,
                    this.m_updateTime = e,
                    this.m_leftUpdateTime = e
                },
                i([l(a.default)], e.prototype, "tipSwitcher", void 0),
                e = i([c], e)
            }
            (cc.Component);
            n.default = u,
            cc._RF.pop()
        }, {
            "../extensions/component/SpriteSwitcher": "SpriteSwitcher",
            "../extensions/tweener/TweenScale": "TweenScale"
        }
    ],
    UITweener: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "9d5e8qRAyxOEIQyrpre/SNs", "UITweener");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__decorate || function (t, e, n, o) {
                var i,
                r = arguments.length,
                a = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(t, e, n, o);
                else
                    for (var s = t.length - 1; s >= 0; s--)
                        (i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, n, a) : i(e, n)) || a);
                return r > 3 && a && Object.defineProperty(e, n, a),
                a
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r,
            a,
            s,
            c = t("../_G"),
            l = t("../utils/Mathf"),
            u = cc._decorator,
            d = u.ccclass,
            p = u.property;
            (function (t) {
                t[t.Linear = 0] = "Linear",
                t[t.EaseIn = 1] = "EaseIn",
                t[t.EaseOut = 2] = "EaseOut",
                t[t.EaseInOut = 3] = "EaseInOut",
                t[t.BounceIn = 4] = "BounceIn",
                t[t.BounceOut = 5] = "BounceOut",
                t[t.BounceOnce = 6] = "BounceOnce"
            })(r || (r = {})),
            function (t) {
                t[t.Once = 0] = "Once",
                t[t.Loop = 1] = "Loop",
                t[t.PingPong = 2] = "PingPong"
            }
            (a || (a = {})),
            function (t) {
                t[t.Reverse = -1] = "Reverse",
                t[t.Toggle = 0] = "Toggle",
                t[t.Forward = 1] = "Forward"
            }
            (s || (s = {}));
            var h = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.method = r.Linear,
                    e.style = a.Once,
                    e.ignoreTimeScale = !0,
                    e.delay = 0,
                    e.duration = 1,
                    e.tweenGroup = 0,
                    e.startFromFrom = !0,
                    e.startFactor = 0,
                    e.fixedUpdateDelta = !1,
                    e._preview = 0,
                    e.mStarted = !1,
                    e.mStartTime = 0,
                    e.mDuration = 0,
                    e.mAmountPerDelta = 1e3,
                    e.mFactor = 0,
                    e
                }
                var n;
                return o(e, t),
                n = e,
                Object.defineProperty(e.prototype, "preview", {
                    get: function () {
                        return this._preview
                    },
                    set: function (t) {
                        this._preview = t,
                        this.OnUpdate(t, !1)
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "amountPerDelta", {
                    get: function () {
                        return this.mDuration != this.duration && (this.mDuration = this.duration, this.mAmountPerDelta = Math.abs(this.duration > 0 ? 1 / this.duration : 1e3) * l.default.Sign(this.mAmountPerDelta)),
                        this.mAmountPerDelta
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "direction", {
                    get: function () {
                        return this.amountPerDelta < 0 ? s.Reverse : s.Forward
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                e.prototype.onLoad = function () {
                    this.startFromFrom ? (this.mFactor = this.amountPerDelta < 0 ? 1 - this.startFactor : this.startFactor, this.Sample(this.mFactor, !1)) : this.update(0)
                },
                e.prototype.update = function (t) {
                    var e = this.ignoreTimeScale ? t : t * n.timeScale;
                    this.fixedUpdateDelta && (e = 1 / c.default.gameFrameRate),
                    this.UpdateValue(e)
                },
                e.prototype.UpdateValue = function (t) {
                    this.mStarted || (this.mStarted = !0, this.mStartTime = this.delay),
                    this.mStartTime > 0 ? this.mStartTime -= t : (this.mFactor += this.amountPerDelta * t, this.style == a.Loop ? this.mFactor > 1 && (this.mFactor -= 0 | this.mFactor) : this.style == a.PingPong && (this.mFactor > 1 ? (this.mFactor = 1 - (this.mFactor - (0 | this.mFactor)), this.mAmountPerDelta = -this.mAmountPerDelta) : this.mFactor < 0 && (this.mFactor = -this.mFactor, this.mFactor -= 0 | this.mFactor, this.mAmountPerDelta = -this.mAmountPerDelta)), this.style == a.Once && (0 == this.duration || this.mFactor > 1 || this.mFactor < 0) ? (this.mFactor = l.default.Clamp01(this.mFactor), this.Sample(this.mFactor, !0), (0 == this.duration || 1 == this.mFactor && this.mAmountPerDelta > 0 || 0 == this.mFactor && this.mAmountPerDelta < 0) && (this.enabled = !1), this.OnFinished && this.OnFinished()) : this.Sample(this.mFactor, !1))
                },
                e.prototype.Sample = function (t, e) {
                    var o = l.default.Clamp01(t);
                    this.method == r.Linear || (this.method == r.EaseIn ? o = n.EaseInLogic(o) : this.method == r.EaseOut ? o = n.EaseOutLogic(o) : this.method == r.EaseInOut ? o = n.EaseInOutLogic(o) : this.method == r.BounceIn ? o = n.BounceLogic(o) : this.method == r.BounceOut ? o = 1 - n.BounceLogic(1 - o) : this.method == r.BounceOnce && (o = n.BounceOnceLogic(o))),
                    this.OnUpdate(o, e)
                },
                e.EaseInLogic = function (t) {
                    return 1 - Math.sin(.5 * Math.PI * (1 - t))
                },
                e.EaseOutLogic = function (t) {
                    return Math.sin(.5 * Math.PI * t)
                },
                e.EaseInOutLogic = function (t) {
                    var e = 2 * Math.PI;
                    return t - Math.sin(t * e) / e
                },
                e.BounceLogic = function (t) {
                    return t < .363636 ? t *= 7.5685 * t : t = t < .727272 ? 7.5625 * (t -= .545454) * t + .75 : t < .90909 ? 7.5625 * (t -= .818181) * t + .9375 : 7.5625 * (t -= .9545454) * t + .984375,
                    t
                },
                e.BounceOnceLogic = function (t) {
                    return t < .8 ? (t = l.default.Lerp(0, 1, l.default.InverseLerp(0, .8, t)), l.default.Lerp(0, 1.2, this.EaseInLogic(t))) : (t = l.default.Lerp(0, 1, l.default.InverseLerp(.8, 1, t)), l.default.Lerp(1.2, 1, this.EaseInLogic(t)))
                },
                e.prototype.PlayForward = function () {
                    this.Play(!0)
                },
                e.prototype.PlayReverse = function () {
                    this.Play(!1)
                },
                e.prototype.Play = function (t) {
                    this.mAmountPerDelta = Math.abs(this.amountPerDelta),
                    t || (this.mAmountPerDelta = -this.mAmountPerDelta),
                    this.enabled = !0,
                    this.update(0)
                },
                e.prototype.ResetToBeginning = function () {
                    this.mStarted = !1,
                    this.mAmountPerDelta = Math.abs(this.amountPerDelta),
                    this.mFactor = this.startFactor,
                    this.Sample(this.mFactor, !1)
                },
                e.prototype.ResetToEnd = function () {
                    this.mStarted = !1,
                    this.mFactor = this.amountPerDelta < 0 ? 0 : 1,
                    this.Sample(this.mFactor, !1)
                },
                e.prototype.Stop = function () {
                    this.ResetToBeginning(),
                    this.enabled = !1
                },
                e.prototype.Pause = function () {
                    this.enabled = !1
                },
                e.prototype.Resume = function () {
                    this.enabled = !0
                },
                e.prototype.ResetTo = function (t) {
                    this.OnUpdate(t, !1)
                },
                e.prototype.Toggle = function () {
                    this.mFactor > 0 ? this.mAmountPerDelta = -this.amountPerDelta : this.mAmountPerDelta = Math.abs(this.amountPerDelta),
                    this.enabled = !0
                },
                e.Method = r,
                e.Style = a,
                e.Direction = s,
                e.timeScale = 1,
                i([p({
                            type: cc.Enum(r)
                        })], e.prototype, "method", void 0),
                i([p({
                            type: cc.Enum(a)
                        })], e.prototype, "style", void 0),
                i([p], e.prototype, "ignoreTimeScale", void 0),
                i([p], e.prototype, "delay", void 0),
                i([p], e.prototype, "duration", void 0),
                i([p, p({
                            type: cc.Integer,
                            step: 1
                        })], e.prototype, "tweenGroup", void 0),
                i([p], e.prototype, "startFromFrom", void 0),
                i([p({
                            type: cc.Float,
                            min: 0,
                            max: 1
                        })], e.prototype, "startFactor", void 0),
                i([p], e.prototype, "fixedUpdateDelta", void 0),
                i([p({
                            min: 0,
                            max: 1,
                            slide: !0,
                            tooltip: "remember set 0!!"
                        })], e.prototype, "preview", null),
                e = n = i([d], e)
            }
            (cc.Component);
            n.default = h,
            cc._RF.pop()
        }, {
            "../_G": "_G",
            "../utils/Mathf": "Mathf"
        }
    ],
    ULAdv4399MiniGameShare: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "0f117zG6bVAQZRyp4vvgaZf", "ULAdv4399MiniGameShare");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../../core/ULAdvBase"),
            r = t("../../core/ULSdkManager"),
            a = t("../../utils/ULTools"),
            s = t("../../ULConsts"),
            c = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.name = "ULAdv4399MiniGameShare",
                    e
                }
                return o(e, t),
                e.prototype.openShare = function (t) {
                    console.log("ULAdv4399MiniGameShare.triggerShare"),
                    t.showAdvType = "share",
                    r.default.getInstance().statisManager.reportAdvBranchRequest(t, this.name, ""),
                    window.h5api && (window.h5api.share(), r.default.getInstance().statisManager.reportShareSuccess(0)),
                    r.default.getInstance().advManager.onAdvFailed(t, a.default.format("%s %d", s.default.ADV_FAIL_TIP_NOAD, s.default.ADV_ERR_CODE_SHARE_NO_CALLBACK))
                },
                e.prototype.showVideoAdv = function (t) {
                    var e = t.data;
                    console.log(this.name + ".showVideoAdv", e.advId, e.advType, e.serialId),
                    this.openShare(e)
                },
                e.prototype.showInterAdv = function (t) {
                    var e = t.data;
                    console.log(this.name + ".showInterAdv", e.advId, e.advType, e.serialId),
                    this.openShare(e)
                },
                e.prototype.showBannerAdv = function (t) {
                    var e = t.data;
                    console.log(this.name + ".showBannerAdv", e.advId, e.advType, e.serialId),
                    this.openShare(e)
                },
                e.prototype.showEmbeddedAdv = function (t) {
                    var e = t.data;
                    console.log(this.name + ".showEmbeddedAdv", e.advId, e.advType, e.serialId),
                    this.openShare(e)
                },
                e.prototype.showUrlAdv = function (t) {
                    var e = t.data;
                    console.log(this.name + ".showUrlAdv", e.advId, e.advType, e.serialId),
                    this.openShare(e)
                },
                e
            }
            (i.default);
            n.default = c,
            cc._RF.pop()
        }, {
            "../../ULConsts": "ULConsts",
            "../../core/ULAdvBase": "ULAdvBase",
            "../../core/ULSdkManager": "ULSdkManager",
            "../../utils/ULTools": "ULTools"
        }
    ],
    ULAdv4399MiniGame: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "d6c1bVWO11MvoMgGRKYsrUu", "ULAdv4399MiniGame");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../../core/ULAdvBase"),
            r = t("../../core/ULSdkManager"),
            a = t("../../ULConsts"),
            s = t("../../utils/ULTools"),
            c = t("../../utils/ULTimer"),
            l = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.name = "ULAdv4399MiniGame",
                    e
                }
                return o(e, t),
                e.prototype.init = function () {
                    var e = this;
                    t.prototype.init.call(this),
                    r.default.getInstance().channelInfo.addPreparationFlag("4399_adv_valid_count"),
                    c.default.callLoop(.1, function (t) {
                        window.h5api && (t.stop(), e.requestAdvValidCount())
                    })
                },
                e.prototype.requestAdvValidCount = function () {
                    window.h5api ? window.h5api.canPlayAd(function (t) {
                        console.log("ULAdv4399MiniGame.requestAdvValidCount"),
                        console.log("  videoCount:", t.remain),
                        r.default.getInstance().response(a.default.CMD_ADV_VALID_COUNT_RESULT, {
                            video: t.remain,
                            banner: 1,
                            interstitial: 1,
                            native: 1
                        }),
                        r.default.getInstance().channelInfo.removePreparationFlag("4399_adv_valid_count")
                    }) : console.warn("ULAdv4399MiniGame.requestAdvValidCount sdk not inited")
                },
                e.prototype.showVideoAdv = function (t) {
                    var e = this;
                    t.stopImmediatePropagation();
                    var n = t.data;
                    console.log("ULAdv4399MiniGame.showVideoAdv", n.advId, n.advType, n.serialId),
                    r.default.getInstance().statisManager.reportAdvBranchRequest(n, this.name, "default"),
                    window.h5api ? (console.log("ULAdv4399MiniGame.showVideoAdv call canPlayAd"), window.h5api.canPlayAd(function (t) {
                            if (console.log("ULAdv4399MiniGame.showVideoAdv canPlayAd callback", t), !t.canPlayAd)
                                return r.default.getInstance().advManager.showNextAdv(n, s.default.format("%s %d", a.default.ADV_FAIL_TIP_NOAD, a.default.ADV_ERR_CODE_CAN_NOT_PLAY)), void e.requestAdvValidCount();
                            console.log("ULAdv4399MiniGame.showVideoAdv call playAd"),
                            window.h5api.playAd(function (t) {
                                switch (console.log("ULAdv4399MiniGame.showVideoAdv playAd callback", t), t.code) {
                                case 1e4:
                                    r.default.getInstance().advManager.onAdvShow(n);
                                    break;
                                case 10001:
                                    r.default.getInstance().advManager.onAdvClose(n);
                                    break;
                                default:
                                    r.default.getInstance().advManager.onAdvFailed(n, s.default.format("%s %d", a.default.ADV_FAIL_TIP_NOAD, t.code))
                                }
                                c.default.callLater(1, function () {
                                    e.requestAdvValidCount()
                                })
                            })
                        })) : r.default.getInstance().advManager.showNextAdv(n, s.default.format("%s %d", a.default.ADV_FAIL_TIP_BUSY, a.default.ADV_ERR_CODE_NOT_INITED))
                },
                e
            }
            (i.default);
            n.default = l,
            cc._RF.pop()
        }, {
            "../../ULConsts": "ULConsts",
            "../../core/ULAdvBase": "ULAdvBase",
            "../../core/ULSdkManager": "ULSdkManager",
            "../../utils/ULTimer": "ULTimer",
            "../../utils/ULTools": "ULTools"
        }
    ],
    ULAdvBase: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "b7c57e0OtZKKoavhYeVXged", "ULAdvBase");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../events/ULEventDispatcher"),
            r = t("../ULConsts"),
            a = t("./ULConfig"),
            s = t("./ULModuleBase"),
            c = t("../utils/ULTools"),
            l = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.videoPriority = -1,
                    e.interPriority = -1,
                    e.bannerPriority = -1,
                    e.embeddedPriority = -1,
                    e.urlPriority = -1,
                    e
                }
                return o(e, t),
                e.prototype.init = function () {
                    "ULAdvBase" == this.name && console.warn("ULAdvBase.init \u8bf7\u5728\u5b50\u7c7b\u4e2d\u4fee\u6539this.name!"),
                    i.default.getInstance().addListener(r.default.CMD_SDK_ON_COP_CHANGED, 1, this.onCopChanged.bind(this)),
                    this.refreshPriority(),
                    this.registerListeners()
                },
                e.prototype.refreshPriority = function () {
                    var t = a.default.getConfig();
                    this.videoPriority = this.calcPriority(t.s_sdk_adv_show_video_list, this.name),
                    this.interPriority = this.calcPriority(t.s_sdk_adv_show_inter_list, this.name),
                    this.bannerPriority = this.calcPriority(t.s_sdk_adv_show_banner_list, this.name),
                    this.embeddedPriority = this.calcPriority(t.s_sdk_adv_show_embedded_list, this.name),
                    this.urlPriority = this.calcPriority(t.s_sdk_adv_show_url_list, this.name),
                    this.fShowVideoCallback = this.processShowAdvCallback("video", this.showVideoAdv.bind(this)),
                    this.fShowInterCallback = this.processShowAdvCallback("interstitial", this.showInterAdv.bind(this)),
                    this.fShowBannerCallback = this.processShowAdvCallback("banner", this.showBannerAdv.bind(this)),
                    this.fShowEmbeddedCallback = this.processShowAdvCallback("embedded", this.showEmbeddedAdv.bind(this)),
                    this.fShowUrlCallback = this.processShowAdvCallback("url", this.showUrlAdv.bind(this)),
                    console.log("ULAdvBase.refreshPriority", this.name),
                    this.videoPriority <= r.default.PRIORITY_DISABLE ? console.warn(c.default.format("  %s_\u89c6\u9891\u5e7f\u544a\u88ab\u7981\u7528\uff01\u914d\u7f6e[s_sdk_adv_show_video_list]=[%s]", this.name, t.s_sdk_adv_show_video_list)) : console.log("  videoPriority", this.videoPriority),
                    this.interPriority <= r.default.PRIORITY_DISABLE ? console.warn(c.default.format("  %s_\u63d2\u5c4f\u5e7f\u544a\u88ab\u7981\u7528\uff01\u914d\u7f6e[s_sdk_adv_show_inter_list]=[%s]", this.name, t.s_sdk_adv_show_inter_list)) : console.log("  interPriority", this.interPriority),
                    this.bannerPriority <= r.default.PRIORITY_DISABLE ? console.warn(c.default.format("  %s_\u6a2a\u5e45\u5e7f\u544a\u88ab\u7981\u7528\uff01\u914d\u7f6e[s_sdk_adv_show_banner_list]=[%s]", this.name, t.s_sdk_adv_show_banner_list)) : console.log("  bannerPriority", this.bannerPriority),
                    this.embeddedPriority <= r.default.PRIORITY_DISABLE ? console.warn(c.default.format("  %s_\u5d4c\u5165\u5e7f\u544a\u88ab\u7981\u7528\uff01\u914d\u7f6e[s_sdk_adv_show_embedded_list]=[%s]", this.name, t.s_sdk_adv_show_embedded_list)) : console.log("  embeddedPriority", this.embeddedPriority),
                    this.urlPriority <= r.default.PRIORITY_DISABLE ? console.warn(c.default.format("  %s_\u4e92\u52a8\u5e7f\u544a\u88ab\u7981\u7528\uff01\u914d\u7f6e[s_sdk_adv_show_url_list]=[%s]", this.name, t.s_sdk_adv_show_url_list)) : console.log("  urlPriority", this.urlPriority)
                },
                e.prototype.processShowAdvCallback = function (t, e) {
                    return function (n) {
                        var o = n.data;
                        o ? (o.showAdvType = t, e(n)) : console.warn("ULAdvBase.on showAdvCallback advItem not found!", t)
                    }
                },
                e.prototype.registerListeners = function () {
                    var t = this;
                    i.default.getInstance().addListener(r.default.CMD_SDK_PREPARE_SHOW_VIDEO_ADV, r.default.PRIORITY_NONE, function (e) {
                        console.log("ULAdvBase on prepare video", t.name, t.videoPriority),
                        i.default.getInstance().once(r.default.CMD_SDK_SHOW_VIDEO_ADV, t.videoPriority, t.fShowVideoCallback)
                    }),
                    i.default.getInstance().addListener(r.default.CMD_SDK_PREPARE_SHOW_INTER_ADV, r.default.PRIORITY_NONE, function (e) {
                        console.log("ULAdvBase on prepare inter", t.name, t.interPriority),
                        i.default.getInstance().once(r.default.CMD_SDK_SHOW_INTER_ADV, t.interPriority, t.fShowInterCallback)
                    }),
                    i.default.getInstance().addListener(r.default.CMD_SDK_PREPARE_SHOW_BANNER_ADV, r.default.PRIORITY_NONE, function (e) {
                        console.log("ULAdvBase on prepare banner", t.name, t.bannerPriority),
                        i.default.getInstance().once(r.default.CMD_SDK_SHOW_BANNER_ADV, t.bannerPriority, t.fShowBannerCallback)
                    }),
                    i.default.getInstance().addListener(r.default.CMD_SDK_PREPARE_SHOW_EMBEDDED_ADV, r.default.PRIORITY_NONE, function (e) {
                        console.log("ULAdvBase on prepare embedded", t.name, t.embeddedPriority),
                        i.default.getInstance().once(r.default.CMD_SDK_SHOW_EMBEDDED_ADV, t.embeddedPriority, t.fShowEmbeddedCallback)
                    }),
                    i.default.getInstance().addListener(r.default.CMD_SDK_PREPARE_SHOW_URL_ADV, r.default.PRIORITY_NONE, function (e) {
                        console.log("ULAdvBase on prepare url", t.name, t.urlPriority),
                        i.default.getInstance().once(r.default.CMD_SDK_SHOW_URL_ADV, t.urlPriority, t.fShowUrlCallback)
                    }),
                    i.default.getInstance().addListener(r.default.CMD_SDK_CLOSE_VIDEO_ADV, r.default.PRIORITY_NONE, this.closeVideoAdv.bind(this)),
                    i.default.getInstance().addListener(r.default.CMD_SDK_CLOSE_INTER_ADV, r.default.PRIORITY_NONE, this.closeInterAdv.bind(this)),
                    i.default.getInstance().addListener(r.default.CMD_SDK_CLOSE_BANNER_ADV, r.default.PRIORITY_NONE, this.closeBannerAdv.bind(this)),
                    i.default.getInstance().addListener(r.default.CMD_SDK_CLOSE_EMBEDDED_ADV, r.default.PRIORITY_NONE, this.closeEmbeddedAdv.bind(this)),
                    i.default.getInstance().addListener(r.default.CMD_SDK_CLOSE_URL_ADV, r.default.PRIORITY_NONE, this.closeUrlAdv.bind(this)),
                    i.default.getInstance().addListener(r.default.CMD_SDK_CLICK_NATIVE_ADV, r.default.PRIORITY_NONE, this.onClickNativeAdv.bind(this)),
                    i.default.getInstance().addListener(r.default.CMD_SDK_CLOSE_NATIVE_ADV, r.default.PRIORITY_NONE, this.onCloseNativeAdv.bind(this))
                },
                e.prototype.calcPriority = function (t, e) {
                    if (!t)
                        return r.default.PRIORITY_DISABLE;
                    for (var n = t.split("_"), o = 0; o < n.length; o++) {
                        if (n[o] == e)
                            return n.length - o
                    }
                    return r.default.PRIORITY_DISABLE
                },
                e.prototype.onCopChanged = function (t) {
                    this.refreshPriority()
                },
                e.prototype.showVideoAdv = function (t) {
                    console.log("ULAdvBase.showVideoAdv", this.name)
                },
                e.prototype.showInterAdv = function (t) {
                    console.log("ULAdvBase.showInterAdv", this.name)
                },
                e.prototype.showBannerAdv = function (t) {
                    console.log("ULAdvBase.showBannerAdv", this.name)
                },
                e.prototype.showEmbeddedAdv = function (t) {
                    console.log("ULAdvBase.showEmbeddedAdv", this.name)
                },
                e.prototype.showUrlAdv = function (t) {
                    console.log("ULAdvBase.showUrlAdv", this.name)
                },
                e.prototype.closeVideoAdv = function (t) {
                    console.log("ULAdvBase.closeVideoAdv", this.name)
                },
                e.prototype.closeInterAdv = function (t) {
                    console.log("ULAdvBase.closeInterAdv", this.name)
                },
                e.prototype.closeBannerAdv = function (t) {
                    console.log("ULAdvBase.closeBannerAdv", this.name)
                },
                e.prototype.closeEmbeddedAdv = function (t) {
                    console.log("ULAdvBase.closeEmbeddedAdv", this.name)
                },
                e.prototype.closeUrlAdv = function (t) {
                    console.log("ULAdvBase.closeUrlAdv", this.name)
                },
                e.prototype.onClickNativeAdv = function (t) {
                    console.log("ULAdvBase.onClickNativeAdv", this.name)
                },
                e.prototype.onCloseNativeAdv = function (t) {
                    console.log("ULAdvBase.onCloseNativeAdv", this.name)
                },
                e
            }
            (s.default);
            n.default = l,
            cc._RF.pop()
        }, {
            "../ULConsts": "ULConsts",
            "../events/ULEventDispatcher": "ULEventDispatcher",
            "../utils/ULTools": "ULTools",
            "./ULConfig": "ULConfig",
            "./ULModuleBase": "ULModuleBase"
        }
    ],
    ULAdvItem: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "aca08WqLx9PRYyJmCg4x0TA", "ULAdvItem"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("./ULSdkManager"),
            i = t("../utils/ULTimer"),
            r = function () {
                function t(e, n, i) {
                    this.advId = e,
                    this.advType = o.default.getInstance().advManager.searchAdvTypeByAdvId(e),
                    this.advGroupId = o.default.getInstance().advManager.searchAdvGroupIdByAdvId(e),
                    this.userData = n,
                    this.tag = i,
                    this.serialId = t.SERIAL_ID++,
                    this.bOpenAdvResultResponsed = !1,
                    this.bClickAdvResultResponsed = !1,
                    this.lifeCycleLog = {},
                    this.bRequesting = !0,
                    this.statisChannelName = "",
                    this.statisSdkAdvId = "",
                    this.statisNativeAdTitle = ""
                }
                return t.prototype.startimeoutTimer = function (t) {
                    var e = this;
                    this.timeoutTimer || (this.timeoutTimer = new i.default(t, 1, function () {
                                o.default.getInstance().advManager.onAdvTimeout(e)
                            }), this.timeoutTimer.start())
                },
                t.prototype.stopTimeoutTimer = function () {
                    this.timeoutTimer && (this.timeoutTimer.stop(), this.timeoutTimer = null)
                },
                t.SERIAL_ID = 0,
                t
            }
            ();
            n.default = r,
            cc._RF.pop()
        }, {
            "../utils/ULTimer": "ULTimer",
            "./ULSdkManager": "ULSdkManager"
        }
    ],
    ULAdvManager: [function (t, e, n) {
            "use strict";
            var o;
            cc._RF.push(e, "c3911CtuMpBgqykaN0uXfBs", "ULAdvManager"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i,
            r = t("../events/ULEventDispatcher"),
            a = t("../ULConsts"),
            s = t("./ULConfig"),
            c = t("../utils/ULTools"),
            l = t("./ULSdkManager"),
            u = t("./ULAdvItem");
            (function (t) {
                t[t.ready = 0] = "ready",
                t[t.show = 1] = "show",
                t[t.clicked = 2] = "clicked",
                t[t.close = 3] = "close",
                t[t.failed = 4] = "failed",
                t[t.timeout = 5] = "timeout"
            })(i || (i = {}));
            var d = ((o = {})[i.ready] = "ready", o[i.show] = "show", o[i.clicked] = "clicked", o[i.close] = "close", o[i.failed] = "failed", o[i.timeout] = "timeout", o),
            p = function () {
                function t() {
                    this.serialId = 0
                }
                return t.prototype.init = function () {
                    r.default.getInstance().addListener(a.default.CMD_OPEN_ADV, a.default.PRIORITY_NONE, this.onCmdOpenAdv.bind(this)),
                    r.default.getInstance().addListener(a.default.CMD_CLOSE_ADV, a.default.PRIORITY_NONE, this.onCmdCloseAdv.bind(this)),
                    r.default.getInstance().addListener(a.default.CMD_CLOSE_NATIVE_ADV, a.default.PRIORITY_NONE, this.onCmdCloseNativeAdv.bind(this)),
                    r.default.getInstance().addListener(a.default.CMD_CLICK_NATIVE_ADV, a.default.PRIORITY_NONE, this.onCmdClickNativeAdv.bind(this)),
                    this.playingAdvItems = {}
                },
                t.prototype.searchAdvGroupIdByAdvId = function (t) {
                    var e = s.default.getConfig().s_sdk_adv_info,
                    n = null;
                    return c.default.forEachMap(e, function (e, o) {
                        if (o.group.indexOf(t) >= 0)
                            return n = e, !0
                    }),
                    n || (console.warn("ULAdvBase.calcAdvGroupIdByAdvId adbGroupId not found! advId: ", t), n = t),
                    n
                },
                t.prototype.searchAdvTypeByAdvId = function (t) {
                    var e = s.default.getConfig().s_sdk_adv_info,
                    n = null;
                    return c.default.forEachMap(e, function (e, o) {
                        if (o.group.indexOf(t) >= 0)
                            return n = o.type, !0
                    }),
                    n || console.warn("ULAdvBase.searchAdvTypeByAdvId advType not found! advId: ", t),
                    n
                },
                t.prototype.responseOpenAdvResult = function (t, e, n) {
                    var o = this.playingAdvItems[n.advId];
                    o ? o.serialId == n.serialId ? (o.stopTimeoutTimer(), o.bRequesting = !1, o.bOpenAdvResultResponsed ? console.log("ULAdvManager.responseOpenAdvResult /c/openAdvResult alredy responsed", n.advId, n.serialId) : (o.bOpenAdvResultResponsed = !0, l.default.getInstance().response(a.default.CMD_OPEN_ADV_RESULT, {
                                code: t,
                                msg: e || a.default.ADV_FAIL_TIP_NOAD,
                                advId: n.advId,
                                userData: n.userData
                            }))) : console.warn(c.default.format("ULAdvManager.responseOpenAdvResult playing advItem serialId not match! advId=[%s], arg serialId=[%d], playing serialId=[%d]", n.advId, n.serialId, o.serialId)) : console.warn(c.default.format("ULAdvManager.responseOpenAdvResult playing advItem not found! advId=[%s]", n.advId))
                },
                t.prototype.responseClickAdvResult = function (t, e, n) {
                    var o = this.playingAdvItems[n.advId];
                    o ? o.serialId == n.serialId ? o.bClickAdvResultResponsed ? console.log("ULAdvManager.responseClickAdvResult /c/clickAdvResult alredy responsed", n.advId, n.serialId) : (o.bClickAdvResultResponsed = !0, l.default.getInstance().response(a.default.CMD_CLICK_ADV_RESULT, {
                            code: t,
                            msg: e,
                            advId: n.advId,
                            userData: n.userData
                        })) : console.warn(c.default.format("ULAdvManager.responseClickAdvResult playing advItem serialId not match! advId=[%s], arg serialId=[%d], playing serialId=[%d]", n.advId, n.serialId, o.serialId)) : console.warn(c.default.format("ULAdvManager.responseClickAdvResult playing advItem not found! advId=[%s]", n.advId))
                },
                t.prototype.showNextAdv = function (t, e) {
                    var n = t.advType;
                    if (t.bOpenAdvResultResponsed)
                        console.log("ULAdvManager.showNextAdv /c/openAdvResult alredy responsed", t.advId, t.serialId);
                    else
                        switch (n) {
                        case "video":
                            r.default.getInstance().dispatch(a.default.CMD_SDK_SHOW_VIDEO_ADV, t) || this.onAdvFailed(t, e);
                            break;
                        case "banner":
                            r.default.getInstance().dispatch(a.default.CMD_SDK_SHOW_BANNER_ADV, t) || this.onAdvFailed(t, e);
                            break;
                        case "interstitial":
                            r.default.getInstance().dispatch(a.default.CMD_SDK_SHOW_INTER_ADV, t) || this.onAdvFailed(t, e);
                            break;
                        case "embedded":
                            r.default.getInstance().dispatch(a.default.CMD_SDK_SHOW_EMBEDDED_ADV, t) || this.onAdvFailed(t, e);
                            break;
                        case "url":
                            r.default.getInstance().dispatch(a.default.CMD_SDK_SHOW_URL_ADV, t) || this.onAdvFailed(t, e);
                            break;
                        default:
                            console.warn(c.default.format("ULAdvManager.showNextAdv unknown advType! advId=[%s]", t.advId)),
                            this.onAdvFailed(t, e)
                        }
                },
                t.prototype.onAdvReady = function (t, e) {
                    this.onAdvLifeCycle(t, i.ready, e)
                },
                t.prototype.onAdvShow = function (t, e, n) {
                    t.statisNativeAdTitle = n,
                    this.onAdvLifeCycle(t, i.show, e)
                },
                t.prototype.onAdvClicked = function (t, e) {
                    this.onAdvLifeCycle(t, i.clicked, e)
                },
                t.prototype.onAdvClose = function (t, e) {
                    this.onAdvLifeCycle(t, i.close, e)
                },
                t.prototype.onAdvFailed = function (t, e) {
                    this.onAdvLifeCycle(t, i.failed, e)
                },
                t.prototype.onAdvTimeout = function (t, e) {
                    this.onAdvLifeCycle(t, i.timeout, e)
                },
                t.prototype.onAdvLifeCycle = function (t, e, n) {
                    if (t.lifeCycleLog[e])
                        console.log("ULAdvManager.onAdvLifeCycle lifeCycle\u5df2\u89e6\u53d1\uff0c\u8df3\u8fc7", t.advId, t.serialId, e, d[e]);
                    else
                        switch (console.log("ULAdvManager.onAdvLifeCycle", t.advId, t.serialId, e, d[e]), t.lifeCycleLog[e] = !0, t.showAdvType) {
                        case "video":
                            switch (e) {
                            case i.show:
                                t.stopTimeoutTimer();
                                break;
                            case i.clicked:
                                t.bFinished = !0,
                                this.responseClickAdvResult(1, n || "click success", t),
                                this.responseOpenAdvResult(1, n || "watch vd success", t),
                                l.default.getInstance().statisManager.reportAdvSuccess(t);
                                break;
                            case i.close:
                                t.bFinished = !0,
                                t.lifeCycleLog[i.show] ? (this.responseOpenAdvResult(1, n || "watch vd success", t), l.default.getInstance().statisManager.reportAdvSuccess(t)) : (this.responseOpenAdvResult(0, n || "watch half", t), l.default.getInstance().statisManager.reportAdvFail(t, n || "watch half"));
                                break;
                            case i.timeout:
                            case i.failed:
                                t.bFinished = !0,
                                this.responseOpenAdvResult(0, n || c.default.format(a.default.ADV_FAIL_TIP_NOAD, a.default.ADV_ERR_CODE_UNKNOWN), t),
                                l.default.getInstance().statisManager.reportAdvFail(t, n || c.default.format(a.default.ADV_FAIL_TIP_NOAD, a.default.ADV_ERR_CODE_UNKNOWN))
                            }
                            break;
                        default:
                            switch (e) {
                            case i.show:
                                this.responseOpenAdvResult(1, n || "play success", t),
                                l.default.getInstance().statisManager.reportAdvSuccess(t);
                                break;
                            case i.clicked:
                                this.responseClickAdvResult(1, n || "click success", t),
                                l.default.getInstance().statisManager.reportAdvClicked(t);
                                break;
                            case i.timeout:
                            case i.failed:
                                this.responseOpenAdvResult(0, n || c.default.format(a.default.ADV_FAIL_TIP_NOAD, a.default.ADV_ERR_CODE_UNKNOWN), t),
                                l.default.getInstance().statisManager.reportAdvFail(t, n || c.default.format(a.default.ADV_FAIL_TIP_NOAD, a.default.ADV_ERR_CODE_UNKNOWN))
                            }
                        }
                },
                t.prototype.onCmdOpenAdv = function (t) {
                    t.stopImmediatePropagation();
                    var e = t.data,
                    n = s.default.getConfig();
                    e.serialId = this.serialId++;
                    var o = e.advId,
                    i = e.userData,
                    d = e.tag,
                    p = this.searchAdvTypeByAdvId(o);
                    this.searchAdvGroupIdByAdvId(o);
                    if (console.log(c.default.format("ULAdvManager.onCmdOpenAdv advId:[%s] advType:[%s] serialId:[%s]", o, p, this.serialId)), p) {
                        var h = new u.default(o, i, d);
                        if (this.playingAdvItems[o] && this.playingAdvItems[o].bRequesting)
                            return window.tsLog("ad is playing, re-request is not allowed!"), void this.responseOpenAdvResult(0, "ghb: ad is playing, re-request is not allowed!", h);
                        switch (this.playingAdvItems[h.advId] = h, l.default.getInstance().statisManager.reportAdvTotalRequest(h), p) {
                        case "video":
                            h.startimeoutTimer(n.i_sdk_adv_video_timeout / 1e3),
                            r.default.getInstance().dispatch(a.default.CMD_SDK_PREPARE_SHOW_VIDEO_ADV, h),
                            r.default.getInstance().dispatch(a.default.CMD_SDK_SHOW_VIDEO_ADV, h) || this.responseOpenAdvResult(0, "no module response", h);
                            break;
                        case "banner":
                            h.startimeoutTimer(n.i_sdk_adv_banner_timeout / 1e3),
                            r.default.getInstance().dispatch(a.default.CMD_SDK_PREPARE_SHOW_BANNER_ADV, h),
                            r.default.getInstance().dispatch(a.default.CMD_SDK_SHOW_BANNER_ADV, h) || this.responseOpenAdvResult(0, "no module response", h);
                            break;
                        case "interstitial":
                            h.startimeoutTimer(n.i_sdk_adv_inter_timeout / 1e3),
                            r.default.getInstance().dispatch(a.default.CMD_SDK_PREPARE_SHOW_INTER_ADV, h),
                            r.default.getInstance().dispatch(a.default.CMD_SDK_SHOW_INTER_ADV, h) || this.responseOpenAdvResult(0, "no module response", h);
                            break;
                        case "embedded":
                            h.startimeoutTimer(n.i_sdk_adv_embedded_timeout / 1e3),
                            r.default.getInstance().dispatch(a.default.CMD_SDK_PREPARE_SHOW_EMBEDDED_ADV, h),
                            r.default.getInstance().dispatch(a.default.CMD_SDK_SHOW_EMBEDDED_ADV, h) || this.responseOpenAdvResult(0, "no module response", h);
                            break;
                        case "url":
                            h.startimeoutTimer(n.i_sdk_adv_url_timeout / 1e3),
                            r.default.getInstance().dispatch(a.default.CMD_SDK_PREPARE_SHOW_URL_ADV, h),
                            r.default.getInstance().dispatch(a.default.CMD_SDK_SHOW_URL_ADV, h) || this.responseOpenAdvResult(0, "no module response", h);
                            break;
                        default:
                            console.warn(c.default.format("ULAdvManager.onCmdOpenAdv unknown advType! advId=[%s]", o)),
                            this.responseOpenAdvResult(0, "unknown advType", h)
                        }
                    } else
                        this.responseOpenAdvResult(0, "advType not found", e)
                },
                t.prototype.onCmdCloseAdv = function (t) {
                    t.stopImmediatePropagation();
                    var e = t.data,
                    n = e.advId,
                    o = e.userData,
                    i = this.searchAdvTypeByAdvId(n);
                    console.log(c.default.format("ULAdvManager.onCmdCloseAdv advId:[%s] advType:[%s]", n, i));
                    var s = this.playingAdvItems[n];
                    if (s) {
                        switch (i) {
                        case "video":
                            r.default.getInstance().dispatch(a.default.CMD_SDK_CLOSE_VIDEO_ADV, s);
                            break;
                        case "banner":
                            r.default.getInstance().dispatch(a.default.CMD_SDK_CLOSE_BANNER_ADV, s);
                            break;
                        case "interstitial":
                            r.default.getInstance().dispatch(a.default.CMD_SDK_CLOSE_INTER_ADV, s);
                            break;
                        case "embedded":
                            r.default.getInstance().dispatch(a.default.CMD_SDK_CLOSE_EMBEDDED_ADV, s);
                            break;
                        case "url":
                            r.default.getInstance().dispatch(a.default.CMD_SDK_CLOSE_URL_ADV, s);
                            break;
                        default:
                            console.warn(c.default.format("ULAdvManager.onCmdCloseAdv unknown advType! advId=[%s]", n))
                        }
                        l.default.getInstance().response(a.default.CMD_CLOSE_ADV_RESULT, {
                            code: 1,
                            msg: "close success",
                            advId: n,
                            userData: o
                        })
                    } else
                        l.default.getInstance().response(a.default.CMD_CLOSE_ADV_RESULT, {
                            code: 0,
                            msg: "adv not found!",
                            advId: n,
                            userData: o
                        })
                },
                t.prototype.onCmdCloseNativeAdv = function (t) {
                    t.stopImmediatePropagation();
                    var e = t.data,
                    n = e.advId,
                    o = e.userData,
                    i = this.playingAdvItems[n];
                    i ? (r.default.getInstance().dispatch(a.default.CMD_SDK_CLOSE_NATIVE_ADV, i), l.default.getInstance().response(a.default.CMD_CLOSE_NATIVE_ADV_RESULT, {
                            code: 1,
                            msg: "close success",
                            advId: n,
                            userData: o
                        })) : l.default.getInstance().response(a.default.CMD_CLOSE_NATIVE_ADV_RESULT, {
                        code: 0,
                        msg: "adv not found!",
                        advId: n,
                        userData: o
                    })
                },
                t.prototype.onCmdClickNativeAdv = function (t) {
                    t.stopImmediatePropagation();
                    var e = t.data,
                    n = e.advId,
                    o = e.userData,
                    i = this.playingAdvItems[n];
                    console.log("ULAdvManager.onCmdClickNativeAdv", n, i),
                    i ? (r.default.getInstance().dispatch(a.default.CMD_SDK_CLICK_NATIVE_ADV, i), l.default.getInstance().response(a.default.CMD_CLICK_NATIVE_ADV_RESULT, {
                            code: 1,
                            msg: "report success",
                            advId: n,
                            userData: o
                        })) : l.default.getInstance().response(a.default.CMD_CLICK_NATIVE_ADV_RESULT, {
                        code: 0,
                        msg: "adv not found!",
                        advId: n,
                        userData: o
                    })
                },
                t
            }
            ();
            n.default = p,
            cc._RF.pop()
        }, {
            "../ULConsts": "ULConsts",
            "../events/ULEventDispatcher": "ULEventDispatcher",
            "../utils/ULTools": "ULTools",
            "./ULAdvItem": "ULAdvItem",
            "./ULConfig": "ULConfig",
            "./ULSdkManager": "ULSdkManager"
        }
    ],
    ULChannelInfo: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "f442cCK3D5Gu75sKNsfG1u8", "ULChannelInfo"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("../utils/ULTools"),
            i = t("../events/ULEventDispatcher"),
            r = t("../ULConsts"),
            a = function () {
                function t() {
                    this.preparationFlags = {},
                    this.copInfo = "{}",
                    this.payInfo = {},
                    this.jumpInfo = [],
                    this.isSupportRecordShare = !1,
                    this.channelName = "default",
                    this.isPayEnabled = !1,
                    this.isShareEnabled = !1,
                    this.isUseSdkRank = !1,
                    this.isShowUrlAdIcon = !1,
                    this.appName = "",
                    this.cardType = 0,
                    this.isThirdExit = !1,
                    this.isAbout = !1,
                    this.isMoreGame = !1,
                    this.isULMoreGame = !1,
                    this.isSupportClipboardData = !1,
                    this.isSupportInstallShortcut = !1,
                    this.isSupportFindMinigames = !1,
                    this.isSupportRecommendationBtn = !1,
                    this.is4399Watermark = !1,
                    this.uuid = "",
                    this.sdcardPath = "",
                    this.packageVersion = "",
                    this.copChannelId = "",
                    this.ulsdkVersion = "",
                    this.cdkChannelId = "",
                    i.default.getInstance().addListener(r.default.CMD_SDK_COLLECTION_MODULE_CHECKER_CONFIG, r.default.PRIORITY_NONE, this.onCmdSdkCollectionModuleCheckerConfig.bind(this))
                }
                return t.prototype.toResponseData = function () {
                    for (var t = [], e = 0; e < this.jumpInfo.length; e++) {
                        var n = this.jumpInfo[e];
                        n.index && n.url ? t.push({
                            index: n.index,
                            url: n.url
                        }) : console.warn("ULChannelInfo.toResponseData jump data error!", n)
                    }
                    return {
                        copInfo: this.copInfo,
                        cardType: this.cardType,
                        isThirdExit: this.isThirdExit,
                        isAbout: this.isAbout,
                        payInfo: this.payInfo,
                        isMoreGame: this.isMoreGame,
                        isULMoreGame: this.isULMoreGame,
                        uuid: this.uuid,
                        sdcardPath: this.sdcardPath,
                        packageVersion: this.packageVersion,
                        copChannelId: this.copChannelId,
                        ulsdkVersion: this.ulsdkVersion,
                        isShowUrlAdIcon: this.isShowUrlAdIcon,
                        cdkChannelId: this.cdkChannelId,
                        isPayEnabled: this.isPayEnabled,
                        isShareEnabled: this.isShareEnabled,
                        isUseSdkRank: this.isUseSdkRank,
                        isSupportRecordShare: this.isSupportRecordShare,
                        isSupportInstallShortcut: this.isSupportInstallShortcut,
                        isSupportClipboardData: this.isSupportClipboardData,
                        isSupportFindMinigames: this.isSupportFindMinigames,
                        isSupportRecommendationBtn: this.isSupportRecommendationBtn,
                        is4399Watermark: this.is4399Watermark,
                        appName: this.appName.toLocaleLowerCase(),
                        jumpInfo: t
                    }
                },
                t.prototype.isReady = function () {
                    return o.default.getObjSize(this.preparationFlags) <= 0
                },
                t.prototype.getPreparationFlags = function () {
                    var t = [];
                    return o.default.forEachMap(this.preparationFlags, function (e, n) {
                        t.push(e)
                    }),
                    t
                },
                t.prototype.addPreparationFlag = function (t) {
                    this.preparationFlags[t] = !0
                },
                t.prototype.removePreparationFlag = function (t) {
                    delete this.preparationFlags[t]
                },
                t.prototype.onCmdSdkCollectionModuleCheckerConfig = function (t) {
                    var e = t.getReturnValue() || [];
                    e.push({
                        type: "newLine"
                    }),
                    e.push({
                        type: "label",
                        text: "channel info:"
                    }),
                    e.push({
                        type: "newLine"
                    });
                    var n = "",
                    i = this.toResponseData(),
                    r = Object.keys(i);
                    r.sort();
                    for (var a = 0; a < r.length; a++) {
                        var s = r[a],
                        c = i[s];
                        n += o.default.format("[%s] = [%s]\n", s, c)
                    }
                    e.push({
                        type: "labelArea",
                        text: n
                    }),
                    e.push({
                        type: "newLine"
                    }),
                    t.setReturnValue(e, !0)
                },
                t
            }
            ();
            n.default = a,
            cc._RF.pop()
        }, {
            "../ULConsts": "ULConsts",
            "../events/ULEventDispatcher": "ULEventDispatcher",
            "../utils/ULTools": "ULTools"
        }
    ],
    ULChannelModuleBase: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "aed5080O6NFML+RwAQyaFde", "ULChannelModuleBase");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("./ULModuleBase"),
            r = t("../events/ULEventDispatcher"),
            a = t("../ULConsts"),
            s = t("./ULConfig"),
            c = t("../utils/ULTools"),
            l = t("./ULStorageManager"),
            u = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.init = function () {
                    t.prototype.init.call(this),
                    r.default.getInstance().addListener(a.default.CMD_SDK_GET_STORAGE, a.default.PRIORITY_NONE, this.onCmdSdkGetStorage.bind(this)),
                    r.default.getInstance().addListener(a.default.CMD_SDK_SET_STORAGE, a.default.PRIORITY_NONE, this.onCmdSdkSetStorage.bind(this)),
                    r.default.getInstance().addListener(a.default.CMD_SDK_GET_CLIPBOARD_DATA, a.default.PRIORITY_NONE, this.onCmdSdkGetClipboardData.bind(this)),
                    r.default.getInstance().addListener(a.default.CMD_SDK_SET_CLIPBOARD_DATA, a.default.PRIORITY_NONE, this.onCmdSdkSetClipboardData.bind(this)),
                    r.default.getInstance().addListener(a.default.CMD_SDK_IS_SUPPORT_CLIPBOARD, a.default.PRIORITY_NONE, this.onCmdSdkIsSupportClipboard.bind(this)),
                    this.genSdkUserId()
                },
                e.prototype.genSdkUserId = function () {
                    var t = s.default.getConfig(),
                    e = c.default.format("mUserId_%s", t.s_sdk_cop_game_id);
                    this.sdkUserId = l.default.getInstance().getStorage(e),
                    this.sdkUserId || (this.sdkUserId = c.default.format("%s_%s_%s", t.s_sdk_cop_game_id, c.default.createRandomUserId(), t.s_sdk_cop_channel_id), l.default.getInstance().setStorage(e, this.sdkUserId))
                },
                e.prototype.onCmdSdkGetStorage = function (t) {
                    var e = t.data.key;
                    t.setReturnValue(this._hook_getStorage(e))
                },
                e.prototype.onCmdSdkSetStorage = function (t) {
                    var e = t.data.key,
                    n = t.data.data;
                    this._hook_setStorage(e, n),
                    t.stopImmediatePropagation()
                },
                e.prototype.onCmdSdkGetClipboardData = function (t) {
                    var e = t.data.finishCallback;
                    this._hook_getClipboardData(e),
                    t.stopImmediatePropagation()
                },
                e.prototype.onCmdSdkSetClipboardData = function (t) {
                    var e = t.data.data,
                    n = t.data.finishCallback;
                    this._hook_setClipboardData(e, n),
                    t.stopImmediatePropagation()
                },
                e.prototype.onCmdSdkIsSupportClipboard = function (t) {
                    t.data;
                    t.setReturnValue(this._hook_isSupportClipboard()),
                    t.stopImmediatePropagation()
                },
                e
            }
            (i.default);
            n.default = u,
            cc._RF.pop()
        }, {
            "../ULConsts": "ULConsts",
            "../events/ULEventDispatcher": "ULEventDispatcher",
            "../utils/ULTools": "ULTools",
            "./ULConfig": "ULConfig",
            "./ULModuleBase": "ULModuleBase",
            "./ULStorageManager": "ULStorageManager"
        }
    ],
    ULChannelModuleWebmobileBase: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "48fa70W9qRA1JcqOejx8sMG", "ULChannelModuleWebmobileBase");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype._hook_getStorage = function (t) {
                    return localStorage ? localStorage.getItem(t) : null
                },
                e.prototype._hook_setStorage = function (t, e) {
                    localStorage && localStorage.setItem(t, e)
                },
                e.prototype._hook_isSupportClipboard = function () {
                    return !1
                },
                e.prototype._hook_getClipboardData = function (t) {
                    t(null)
                },
                e.prototype._hook_setClipboardData = function (t, e) {
                    if (document) {
                        console.log("webmobile --- copy 2");
                        var n = document.createElement("input");
                        document.body.appendChild(n),
                        n.value = t,
                        n.focus(),
                        n.select();
                        var o = !1;
                        try {
                            o = document.execCommand("copy")
                        } catch (t) {
                            o = !1
                        }
                        document.body.removeChild(n),
                        e(o)
                    } else
                        e(!1)
                },
                e
            }
            (t("./ULChannelModuleBase").default);
            n.default = i,
            cc._RF.pop()
        }, {
            "./ULChannelModuleBase": "ULChannelModuleBase"
        }
    ],
    ULClipboardManager: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "e4e21Ds4iZO4YjWXyTi5be3", "ULClipboardManager"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("../events/ULEventDispatcher"),
            i = t("../ULConsts"),
            r = function () {
                function t() {}
                return t.getInstance = function () {
                    return this._instance || (this._instance = new t),
                    this._instance
                },
                t.prototype.getClipboardData = function (t) {
                    t instanceof Function ? o.default.getInstance().dispatch(i.default.CMD_SDK_GET_CLIPBOARD_DATA, {
                        finishCallback: t
                    }) || t(null) : console.warn("ULClipboardManager.getClipboardData finishCallback not a function")
                },
                t.prototype.setClipboardData = function (t, e) {
                    e instanceof Function ? o.default.getInstance().dispatch(i.default.CMD_SDK_SET_CLIPBOARD_DATA, {
                        data: t,
                        finishCallback: e
                    }) || e(!1) : console.warn("ULClipboardManager.setClipboardData finishCallback not a function")
                },
                t.prototype.isSupport = function () {
                    return !!o.default.getInstance().dispatchWithReturn(i.default.CMD_SDK_IS_SUPPORT_CLIPBOARD, {})
                },
                t._instance = null,
                t
            }
            ();
            n.default = r,
            cc._RF.pop()
        }, {
            "../ULConsts": "ULConsts",
            "../events/ULEventDispatcher": "ULEventDispatcher"
        }
    ],
    ULConfig: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "f083dtvu/FIjbKYe1MWaW1D", "ULConfig"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("../assets/cConfig"),
            i = t("../utils/ULTools"),
            r = t("../ULConsts"),
            a = t("../events/ULEventDispatcher"),
            s = t("./ULSdkManager"),
            c = function () {
                function t() {}
                return t.init = function () {
                    this.bInit = !0,
                    a.default.getInstance().addListener(r.default.CMD_SDK_COLLECTION_MODULE_CHECKER_CONFIG, r.default.PRIORITY_NONE, this.onCmdSdkCollectionModuleCheckerConfig.bind(this))
                },
                t.getConfig = function () {
                    return this.bInit || this.init(),
                    this.currConfig || (this.currConfig = i.default.clone(o.cConfig)),
                    this.currConfig
                },
                t.get = function (t) {
                    return this.getConfig()[t]
                },
                t.updateValueByCop = function (t) {
                    var e = i.default.clone(o.cConfig);
                    i.default.forEachMap(t, function (t, n) {
                        "nil" == n && (n = ""),
                        e[t] = n
                    }),
                    this.currConfig = e
                },
                t.onCmdSdkCollectionModuleCheckerConfig = function (t) {
                    var e = this,
                    n = t.getReturnValue() || [];
                    n.push({
                        type: "newLine"
                    }),
                    n.push({
                        type: "label",
                        text: "cConfig:"
                    }),
                    n.push({
                        type: "button",
                        text: "show cConfig",
                        onClick: function () {
                            var t = "",
                            n = e.currConfig,
                            o = Object.keys(n);
                            o.sort();
                            for (var r = 0; r < o.length; r++) {
                                var a = o[r],
                                c = n[a];
                                t += i.default.format("[%s] = [%s]\n", a, c)
                            }
                            s.default.getInstance().moduleCheckerManager.setItemText("labelConfig", t)
                        }
                    }),
                    n.push({
                        type: "newLine"
                    }),
                    n.push({
                        type: "labelArea",
                        name: "labelConfig",
                        text: "<<<cConfig>>>"
                    }),
                    n.push({
                        type: "newLine"
                    }),
                    t.setReturnValue(n, !0)
                },
                t.bInit = !1,
                t
            }
            ();
            n.default = c,
            cc._RF.pop()
        }, {
            "../ULConsts": "ULConsts",
            "../assets/cConfig": "cConfig",
            "../events/ULEventDispatcher": "ULEventDispatcher",
            "../utils/ULTools": "ULTools",
            "./ULSdkManager": "ULSdkManager"
        }
    ],
    ULConsts: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "36a50GyW6pFpausLQFWBrrz", "ULConsts"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = function () {
                function t() {}
                return t.CMD_SET_VERSION = "/c/setVersion",
                t.CMD_OPEN_MORE_GAME = "/c/openMoreGame",
                t.CMD_OPEN_UL_MORE_GAME = "/c/openUlMoreGame",
                t.CMD_OPEN_PAY = "/c/openPay",
                t.CMD_OPEN_JF = "/c/openJf",
                t.CMD_OPEN_SHARE = "/c/openShare",
                t.CMD_CALL_PHONE = "/c/callPhone",
                t.CMD_UL_WEB_VIEW = "/c/ulWebView",
                t.CMD_EXIT_GAME = "/c/exitGame",
                t.CMD_MEGADATA_SERVER = "/c/megadataServer",
                t.CMD_USE_CDKEY = "/c/useCdkey",
                t.CMD_OPEN_ADV = "/c/openAdv",
                t.CMD_CLICK_NATIVE_ADV = "/c/clickNativeAdv",
                t.CMD_CLOSE_ADV = "/c/closeAdv",
                t.CMD_CLOSE_NATIVE_ADV = "/c/closeNativeAdv",
                t.CMD_USER_LOGIN = "/c/userLogin",
                t.CMD_USER_LOGIN_REPORT = "/c/userLoginReport",
                t.CMD_USER_IS_LOGIN = "/c/userIsLogin",
                t.CMD_LOGIN_OUT = "/c/loginOut",
                t.CMD_SAVE_RANK_DATA = "/c/saveRankData",
                t.CMD_GET_RANK_DATA = "/c/getRankData",
                t.CMD_RECORDER_GAME_VIDEO = "/c/recorderGameVideo",
                t.CMD_SHARE_GAME_VIDEO = "/c/shareGameVideo",
                t.CMD_JUMP_OTHER_GAME = "/c/jumpOtherGame",
                t.CMD_OPEN_RECOMMENDATION = "/c/openRecommendation",
                t.CMD_CLOSE_RECOMMENDATION = "/c/closeRecommendation",
                t.CMD_SAVE_USER_DATA = "/c/saveUserData",
                t.CMD_GET_USER_DATA = "/c/getUserData",
                t.CMD_ADD_GAME_TO_MY_FAVORITE = "/c/addGameToMyFavorite",
                t.CMD_GET_USER_INFO_MSG = "/c/getUserInfoMsg",
                t.CMD_INSTALL_SHORTCUT = "/c/installShortcut",
                t.CMD_SET_CLIPBOARD_DATA = "/c/setClipboardData",
                t.CMD_GET_CLIPBOARD_DATA = "/c/getClipboardData",
                t.CMD_SET_ULSDKDEMO_DEBUG_MODE = "/c/setUlsdkdemoDebugMode",
                t.CMD_CHANNEL_INFO_RESULT = "/c/channelInfoResult",
                t.CMD_PAY_RESULT = "/c/payResult",
                t.CMD_PRE_PAY_RESULT = "/c/prePayResult",
                t.CMD_SHARE_RESULT = "/c/shareResult",
                t.CMD_LIFE_CYCLE_RESULT = "/c/lifeCycle",
                t.CMD_PAUSE_SOUND_RESULT = "/c/pauseSound",
                t.CMD_RESUME_SOUND_RESULT = "/c/resumeSound",
                t.CMD_COP_INFO_RESULT = "/c/copInfoResult",
                t.CMD_MEGADATA_SERVER_RESULT = "/c/megadataServer",
                t.CMD_USE_CDKEY_RESULT = "/c/useCdkey",
                t.CMD_OPEN_ADV_RESULT = "/c/openAdvResult",
                t.CMD_OPEN_NATIVE_ADV_RESULT = "/c/openNativeAdvResult",
                t.CMD_CLICK_NATIVE_ADV_RESULT = "/c/clickNativeAdvResult",
                t.CMD_CLICK_ADV_RESULT = "/c/clickAdvResult",
                t.CMD_CLOSE_ADV_RESULT = "/c/closeAdvResult",
                t.CMD_CLOSE_NATIVE_ADV_RESULT = "/c/closeNativeAdvResult",
                t.CMD_USER_LOGIN_RESULT = "/c/userLoginResult",
                t.CMD_USER_IS_LOGIN_RESULT = "/c/userIsLoginResult",
                t.CMD_USER_LOGIN_REPORT_RESULT = "/c/userLoginReportResult",
                t.CMD_LOGIN_OUT_RESULT = "/c/loginOutResult",
                t.CMD_ADV_VALID_COUNT_RESULT = "/c/advValidCountResult",
                t.CMD_SAVE_RANK_DATA_RESULT = "/c/saveRankDataResult",
                t.CMD_GET_RANK_DATA_RESULT = "/c/getRankDataResult",
                t.CMD_RECORDER_GAME_VIDEO_RESULT = "/c/recorderGameVideoResult",
                t.CMD_SHARE_GAME_VIDEO_RESULT = "/c/shareGameVideoResult",
                t.CMD_JUMP_OTHER_GAME_RESULT = "/c/jumpOtherGameResult",
                t.CMD_EXTRA_BONUS_RESULT = "/c/extraBonus",
                t.CMD_OPEN_RECOMMENDATION_RESULT = "/c/openRecommendationResult",
                t.CMD_CLOSE_RECOMMENDATION_RESULT = "/c/closeRecommendationResult",
                t.CMD_SAVE_USER_DATA_RESULT = "/c/saveUserDataResult",
                t.CMD_GET_USER_DATA_RESULT = "/c/getUserDataResult",
                t.CMD_ADD_GAME_TO_MY_FAVORITE_RESULT = "/c/addGameToMyFavoriteResult",
                t.CMD_GET_USER_INFO_MSG_RESULT = "/c/getUserInfoMsgResult",
                t.CMD_APP_SHARE_RESULT = "/c/appShareResult",
                t.CMD_INSTALL_SHORTCUT_RESULT = "/c/installShortcutResult",
                t.CMD_SET_CLIPBOARD_DATA_RESULT = "/c/setClipboardDataResult",
                t.CMD_GET_CLIPBOARD_DATA_RESULT = "/c/getClipboardDataResult",
                t.CMD_SDK_ON_COP_CHANGED = "/sdk/onCopChanged",
                t.CMD_SDK_PREPARE_SHOW_VIDEO_ADV = "/sdk/prepareShowVideoAdv",
                t.CMD_SDK_PREPARE_SHOW_INTER_ADV = "/sdk/prepareShowInterAdv",
                t.CMD_SDK_PREPARE_SHOW_BANNER_ADV = "/sdk/prepareShowBannerAdv",
                t.CMD_SDK_PREPARE_SHOW_EMBEDDED_ADV = "/sdk/prepareShowEmbeddedAdv",
                t.CMD_SDK_PREPARE_SHOW_URL_ADV = "/sdk/prepareShowUrlAdv",
                t.CMD_SDK_SHOW_VIDEO_ADV = "/sdk/showVideoAdv",
                t.CMD_SDK_SHOW_INTER_ADV = "/sdk/showInterAdv",
                t.CMD_SDK_SHOW_BANNER_ADV = "/sdk/showBannerAdv",
                t.CMD_SDK_SHOW_EMBEDDED_ADV = "/sdk/showEmbeddedAdv",
                t.CMD_SDK_SHOW_URL_ADV = "/sdk/showUrlAdv",
                t.CMD_SDK_CLOSE_VIDEO_ADV = "/sdk/closeVideoAdv",
                t.CMD_SDK_CLOSE_INTER_ADV = "/sdk/closeInterAdv",
                t.CMD_SDK_CLOSE_BANNER_ADV = "/sdk/closeBannerAdv",
                t.CMD_SDK_CLOSE_EMBEDDED_ADV = "/sdk/closeEmbeddedAdv",
                t.CMD_SDK_CLOSE_URL_ADV = "/sdk/closeUrlAdv",
                t.CMD_SDK_CLOSE_NATIVE_ADV = "/sdk/closeNativeAdv",
                t.CMD_SDK_CLICK_NATIVE_ADV = "/sdk/clickNativeAdv",
                t.CMD_SDK_GET_STORAGE = "/sdk/getStorge",
                t.CMD_SDK_SET_STORAGE = "/sdk/setStorge",
                t.CMD_SDK_GET_CLIPBOARD_DATA = "/sdk/getClipboardData",
                t.CMD_SDK_SET_CLIPBOARD_DATA = "/sdk/setClipboardData",
                t.CMD_SDK_IS_SUPPORT_CLIPBOARD = "/sdk/isSupportClipboard",
                t.CMD_SDK_COLLECTION_MODULE_CHECKER_CONFIG = "/sdk/collectionModuleCheckerConfig",
                t.CMD_SDK_ON_GAME_START = "/sdk/onGameStart",
                t.CMD_SDK_ON_GAME_PAUSE = "/sdk/onGamePause",
                t.CMD_SDK_ON_GAME_RESUME = "/sdk/onGameResume",
                t.PRIORITY_DISABLE = -2,
                t.PRIORITY_NONE = -1,
                t.COP_RETRY_TIME_SEC = 30,
                t.STATIS_TYPE_BASE_INFO = "1",
                t.STATIS_TYPE_PAY_INFO = "2",
                t.STATIS_TYPE_ADV_INFO = "3",
                t.STATIS_TYPE_COP_REQUEST = "4",
                t.STATIS_TYPE_USER_EVENT = "5",
                t.STATIS_TYPE_ONLINE_TIME = "6",
                t.STATIS_TYPE_SHARE = "7",
                t.STATIS_USER_EVENT_GAME_LEVEL_START = "gameLevelStart",
                t.STATIS_USER_EVENT_GAME_LEVEL_COMPLETE = "gameLevelComplete",
                t.STATIS_USER_EVENT_GAME_COIN_ADD = "gameCoinAdd",
                t.STATIS_USER_EVENT_GAME_COIN_LOST = "gameCoinLost",
                t.STATIS_USER_EVENT_BUY_ACTION = "buyAction",
                t.STATIS_USER_EVENT_ITEM_BUY = "itemBuy",
                t.STATIS_USER_EVENT_COMMON_EVENT = "commonEvent",
                t.STATIS_USER_EVENT_COMMON_EVENT_MULTI_FIELD = "commonEventMultiField",
                t.STATIS_UPLOAD_SPAN = 60,
                t.STATIS_UPLOAD_SINGLE_REQUEST_MAX_COUNT = 100,
                t.NATIVE_ADV_LIFE_TIME_SEC = 15,
                t.NATIVE_ADV_REQUEST_CD = 10,
                t.ADV_FAIL_TIP_NOAD = "no ad",
                t.ADV_FAIL_TIP_BUSY = "ad is preparing ...",
                t.ADV_ERR_CODE_CONSECUTIVE_FAIL = -100,
                t.ADV_ERR_CODE_CDING = -101,
                t.ADV_ERR_CODE_NATIVE_ID_ERROR = -102,
                t.ADV_ERR_CODE_NATIVE_DATA_ERROR = -102,
                t.ADV_ERR_CODE_CAN_NOT_PLAY = -103,
                t.ADV_ERR_CODE_NOT_INITED = -104,
                t.ADV_ERR_CODE_UNKNOWN = -105,
                t.ADV_ERR_CODE_SHARE_NO_CALLBACK = -106,
                t.ADV_ERR_CODE_SHARE_FAIL = -107,
                t
            }
            ();
            n.default = o,
            cc._RF.pop()
        }, {}
    ],
    ULCopManager: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "52c69olappPbZdqbWwL/OU5", "ULCopManager"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("./ULConfig"),
            i = t("../utils/ULTools"),
            r = t("./ULSdkManager"),
            a = t("../utils/ULTimer"),
            s = t("../ULConsts"),
            c = t("../events/ULEventDispatcher"),
            l = t("../modulechecker/MCConsts"),
            u = t("./ULStorageManager"),
            d = function () {
                function t() {
                    this.localCop = {},
                    this.serverCop = {},
                    this.cop = {},
                    this.simulateCityId = ""
                }
                return t.prototype.init = function () {
                    this.loadRecord();
                    var t = o.default.getConfig();
                    this.localCop = t.t_sdk_cop_default_cop,
                    this.processCop(),
                    this.requestServerCop(!1),
                    c.default.getInstance().addListener(s.default.CMD_SDK_COLLECTION_MODULE_CHECKER_CONFIG, 10, this.onCmdSdkCollectionModuleCheckerConfig.bind(this))
                },
                t.prototype.loadRecord = function () {
                    var t,
                    e = u.default.getInstance().getStorage(this._getRecordKey()) || "{}";
                    try {
                        t = JSON.parse(e)
                    } catch (e) {
                        t = {}
                    }
                    this.setSimulateCityId(t.simulateCityId || "")
                },
                t.prototype.saveRecord = function () {
                    var t = {
                        simulateCityId: this.simulateCityId || ""
                    },
                    e = JSON.stringify(t);
                    u.default.getInstance().setStorage(this._getRecordKey(), e)
                },
                t.prototype._getRecordKey = function () {
                    var t = o.default.getConfig();
                    return i.default.format("ULCopManager_record_%d", t.s_sdk_cop_game_id)
                },
                t.prototype.requestServerCop = function (t) {
                    var e = this,
                    n = o.default.getConfig();
                    if (n.s_sdk_cop_game_id) {
                        t || r.default.getInstance().channelInfo.addPreparationFlag("cop");
                        var c = n.s_sdk_cop_addr,
                        l = n.s_sdk_cop_game_id,
                        u = n.s_sdk_cop_channel_id,
                        d = n.s_sdk_cop_version,
                        p = n.i_net_timeout,
                        h = i.default.format("%s?gameid=%d&qudao=%d&version=%d", c, l, u, d);
                        this.simulateCityId && (console.warn("\u4f7f\u7528debug\u6a21\u5f0fcop\u5730\u5740"), h = h.replace("getdata/", "getdatadebug"), h += "&carrierid=0&zoneid=" + this.simulateCityId),
                        console.log("ULCopManager.requestServerCop:", h),
                        i.default.httpGet({
                            url: h,
                            timeoutMillisecond: p,
                            success: function (n) {
                                var o = null;
                                try {
                                    o = JSON.parse(n),
                                    r.default.getInstance().statisManager.reportCopSuccess(n)
                                } catch (t) {
                                    console.error(t),
                                    r.default.getInstance().statisManager.reportCopFail(t.message)
                                }
                                console.log("copJsonData", o),
                                e.serverCop = o || {},
                                e.processCop(),
                                r.default.getInstance().response(s.default.CMD_COP_INFO_RESULT, {
                                    copInfo: r.default.getInstance().channelInfo.copInfo
                                }),
                                t || r.default.getInstance().channelInfo.removePreparationFlag("cop")
                            },
                            fail: function (n) {
                                console.warn("ULCopManager.requestServerCop http fail!", n),
                                t || r.default.getInstance().channelInfo.removePreparationFlag("cop"),
                                r.default.getInstance().statisManager.reportCopFail("timeout"),
                                a.default.callLater(s.default.COP_RETRY_TIME_SEC, function () {
                                    console.log(i.default.format("ULCopManager.requestServerCop \u5931\u8d25\u540e\uff0c\u7b49\u5f85%d\u79d2\u91cd\u65b0\u8bf7\u6c42cop", s.default.COP_RETRY_TIME_SEC)),
                                    e.requestServerCop(!0)
                                })
                            }
                        })
                    } else
                        console.log("\u7981\u7528cop")
                },
                t.prototype.processCop = function () {
                    var t = this,
                    e = {};
                    i.default.forEachMap(this.localCop, function (t, n) {
                        e[t] = n
                    }),
                    i.default.forEachMap(this.serverCop, function (n, o) {
                        var i = t.localCop[n];
                        "i_" == n.substr(0, 2) && null != i && i instanceof Number && (o = parseFloat(o)),
                        e[n] = o
                    }),
                    this.cop = e;
                    var n = o.default.getConfig(),
                    a = i.default.clone(this.cop);
                    a.cop_game_id = n.s_sdk_cop_game_id || "unknown",
                    a.cop_channel_id = n.s_sdk_cop_channel_id || "unknown",
                    a.cop_version = n.s_sdk_cop_version || "unknown",
                    r.default.getInstance().channelInfo.copInfo = JSON.stringify(a),
                    o.default.updateValueByCop(this.cop),
                    c.default.getInstance().dispatch(s.default.CMD_SDK_ON_COP_CHANGED, {})
                },
                t.prototype.get = function (t, e) {
                    var n = this.cop[t];
                    return null == n && (n = e),
                    n
                },
                t.prototype.getNumberValue = function (t, e) {
                    var n = this.get(t, e),
                    o = parseFloat(n);
                    return isNaN(o) ? 0 : o
                },
                t.prototype.getNumberValueInRange = function (t, e, n, o) {
                    var r = this.getNumberValue(t, e);
                    return r = i.default.clampf(r, n, o)
                },
                t.prototype.getBooleanValue = function (t, e) {
                    return 1 == this.get(t, e)
                },
                t.prototype.setSimulateCityId = function (t) {
                    if (this.simulateCityId = t, this.saveRecord(), "" != t) {
                        var e = i.default.format("COP debug mode enabled, city %s_%s", t, l.default.COP_CITY_ID_2_NAME[t]);
                        r.default.getInstance().moduleCheckerManager.addDebugInfo("cop", e)
                    } else
                        r.default.getInstance().moduleCheckerManager.removeDebugInfo("cop")
                },
                t.prototype.onCmdSdkCollectionModuleCheckerConfig = function (t) {
                    var e = this,
                    n = t.getReturnValue() || [];
                    n.push({
                        type: "newLine"
                    }),
                    n.push({
                        type: "label",
                        text: "Cop module info:"
                    }),
                    n.push({
                        type: "newLine"
                    }),
                    n.push({
                        type: "label",
                        text: "cop debug mode, city id: "
                    }),
                    n.push({
                        type: "label",
                        text: i.default.format("%s_%s", this.simulateCityId, l.default.COP_CITY_ID_2_NAME[this.simulateCityId]),
                        name: "labelCopCity"
                    }),
                    n.push({
                        type: "button",
                        text: "select city ...",
                        onClick: function () {
                            for (var t = Object.keys(l.default.COP_CITY_ID_2_NAME), n = [], o = 0; o < t.length; o++) {
                                var a = t[o],
                                s = parseInt(a);
                                isNaN(s) || n.push(s)
                            }
                            n.sort(function (t, e) {
                                return t - e
                            }),
                            n.unshift("");
                            var c = [];
                            for (o = 0; o < Math.min(15, n.length); o++) {
                                var u = n[o];
                                c.push({
                                    text: i.default.format("%s_%s", u, l.default.COP_CITY_ID_2_NAME[u]),
                                    value: u
                                })
                            }
                            c.push({
                                text: "load other city ...",
                                value: "more"
                            });
                            var d = [];
                            for (o = 0; o < n.length; o++) {
                                u = n[o];
                                d.push({
                                    text: i.default.format("%s_%s", u, l.default.COP_CITY_ID_2_NAME[u]),
                                    value: u
                                })
                            }
                            var p = function (t) {
                                "more" != t ? (r.default.getInstance().moduleCheckerManager.setItemText("labelCopCity", i.default.format("%s_%s", t, l.default.COP_CITY_ID_2_NAME[t])), e.setSimulateCityId(t), "" != t ? r.default.getInstance().moduleCheckerManager.showMsgTip("cop mode enabled") : r.default.getInstance().moduleCheckerManager.showMsgTip("cop mode disabled")) : r.default.getInstance().moduleCheckerManager.showPickerDialog("select city", d, p)
                            };
                            r.default.getInstance().moduleCheckerManager.showPickerDialog("select ", c, p)
                        }
                    }),
                    n.push({
                        type: "button",
                        text: "request cop again",
                        onClick: function () {
                            r.default.getInstance().moduleCheckerManager.alertPrompt("Hint", "I dont want to translate this", "know it", function () {
                                r.default.getInstance().moduleCheckerManager.showMsgTip("request cop again"),
                                e.requestServerCop(!1)
                            })
                        }
                    }),
                    n.push({
                        type: "newLine"
                    }),
                    n.push({
                        type: "label",
                        text: "check cop"
                    }),
                    n.push({
                        type: "button",
                        text: "default cop",
                        onClick: function () {
                            var t = e.localCop,
                            n = Object.keys(t);
                            n.sort();
                            for (var o = "default cop:\n", a = 0; a < n.length; a++) {
                                var s = n[a],
                                c = t[s];
                                o += i.default.format("[%s] = [%s]\n", s, c)
                            }
                            r.default.getInstance().moduleCheckerManager.setItemText("labelCop", o)
                        }
                    }),
                    n.push({
                        type: "button",
                        text: "remote cop",
                        onClick: function () {
                            var t = e.serverCop,
                            n = Object.keys(t);
                            n.sort();
                            for (var o = "remote cop:\n", a = 0; a < n.length; a++) {
                                var s = n[a],
                                c = t[s];
                                o += i.default.format("[%s] = [%s]\n", s, c)
                            }
                            r.default.getInstance().moduleCheckerManager.setItemText("labelCop", o)
                        }
                    }),
                    n.push({
                        type: "button",
                        text: "enable cop",
                        onClick: function () {
                            var t = e.cop,
                            n = Object.keys(t);
                            n.sort();
                            for (var o = "enable cop:\n", a = 0; a < n.length; a++) {
                                var s = n[a],
                                c = t[s];
                                o += i.default.format("[%s] = [%s]\n", s, c)
                            }
                            r.default.getInstance().moduleCheckerManager.setItemText("labelCop", o)
                        }
                    }),
                    n.push({
                        type: "newLine"
                    }),
                    n.push({
                        type: "labelArea",
                        text: "<<show cop info here>>",
                        name: "labelCop"
                    }),
                    n.push({
                        type: "newLine"
                    }),
                    t.setReturnValue(n, !0)
                },
                t
            }
            ();
            n.default = d,
            cc._RF.pop()
        }, {
            "../ULConsts": "ULConsts",
            "../events/ULEventDispatcher": "ULEventDispatcher",
            "../modulechecker/MCConsts": "MCConsts",
            "../utils/ULTimer": "ULTimer",
            "../utils/ULTools": "ULTools",
            "./ULConfig": "ULConfig",
            "./ULSdkManager": "ULSdkManager",
            "./ULStorageManager": "ULStorageManager"
        }
    ],
    ULEventDispatcher: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "81922T0ZmJM+ZaEBsDeOiCq", "ULEventDispatcher"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("./ULEventListener"),
            i = t("./ULEvent"),
            r = t("../ULConsts"),
            a = function () {
                function t() {
                    this.allListeners = {}
                }
                return t.getInstance = function () {
                    return this._instance || (this._instance = new t),
                    this._instance
                },
                t.prototype.addListener = function (t, e, n) {
                    return this._addListener(t, e, n, !1)
                },
                t.prototype.once = function (t, e, n) {
                    return this._addListener(t, e, n, !0)
                },
                t.prototype._addListener = function (t, e, n, i) {
                    if (!(e < r.default.PRIORITY_NONE)) {
                        var a = this.allListeners[t];
                        a || (a = [], this.allListeners[t] = a);
                        for (var s = -1, c = 0; c < a.length; c++) {
                            var l = a[c];
                            if (l.callback == n)
                                return console.warn("ULEventDispatcher._addListener callback already exists:", t), !1;
                            -1 == s && l.priority < e && (s = c)
                        }
                        var u = new o.default(t, e, n, i);
                        return -1 != s ? a.splice(s, 0, u) : a.push(u),
                        !0
                    }
                    this.removeListenerByCallback(t, n)
                },
                t.prototype.removeListenerByCallback = function (t, e) {
                    var n = this.allListeners[t];
                    if (n)
                        for (var o = n.length - 1; o >= 0; o--) {
                            n[o].callback == e && n.splice(o, 1)
                        }
                },
                t.prototype.removeListenersByType = function (t) {
                    delete this.allListeners[t]
                },
                t.prototype.dispatch = function (t, e) {
                    var n = null;
                    return n = t instanceof i.default ? t : new i.default(t, e),
                    this._inner_dispatch(n).bCalled
                },
                t.prototype.dispatchWithReturn = function (t, e) {
                    var n = null;
                    return n = t instanceof i.default ? t : new i.default(t, e),
                    this._inner_dispatch(n).returnValue
                },
                t.prototype._inner_dispatch = function (t) {
                    var e = !1,
                    n = this.allListeners[t.type];
                    if (!n)
                        return {
                            bCalled: !1,
                            returnValue: null
                        };
                    for (var o = 0; o < n.length; o++) {
                        if (!(i = n[o]).isNeedRemove() && (i.isDispatchOnce() && i.markNeedRemove(), i.triggerCallback(t) && (e = !0), t.isPropagationStoped()))
                            break
                    }
                    for (o = n.length - 1; o >= 0; o--) {
                        var i;
                        (i = n[o]).isNeedRemove() && n.splice(o, 1)
                    }
                    return {
                        bCalled: e,
                        returnValue: t.getReturnValue()
                    }
                },
                t._instance = null,
                t
            }
            ();
            n.default = a,
            cc._RF.pop()
        }, {
            "../ULConsts": "ULConsts",
            "./ULEvent": "ULEvent",
            "./ULEventListener": "ULEventListener"
        }
    ],
    ULEventListener: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "af679jhrxVLrbbRFDhurL4/", "ULEventListener"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = function () {
                function t(t, e, n, o) {
                    this.type = t,
                    this.priority = e,
                    this.callback = n,
                    this.bDispatchOnce = o,
                    this.bNeedRemove = !1
                }
                return t.prototype.isDispatchOnce = function () {
                    return !!this.bDispatchOnce
                },
                t.prototype.isNeedRemove = function () {
                    return !!this.bNeedRemove
                },
                t.prototype.markNeedRemove = function () {
                    this.bNeedRemove = !0
                },
                t.prototype.triggerCallback = function (t) {
                    if (this.callback instanceof Function) {
                        try {
                            this.callback(t)
                        } catch (t) {
                            return console.error("ULEventListener.triggerCallback has exception!", t),
                            !1
                        }
                        return !0
                    }
                    return !1
                },
                t
            }
            ();
            n.default = o,
            cc._RF.pop()
        }, {}
    ],
    ULEvent: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "8d149haKgRN2r6a3tFiRLYK", "ULEvent"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = function () {
                function t(t, e) {
                    this.bPropagationStoped = !1,
                    this.type = t,
                    this.data = e,
                    this.bPropagationStoped = !1,
                    this.returnValue = null
                }
                return t.prototype.stopImmediatePropagation = function () {
                    this.bPropagationStoped = !0
                },
                t.prototype.setReturnValue = function (t, e) {
                    null != t && (this.returnValue = t, e || this.stopImmediatePropagation())
                },
                t.prototype.getReturnValue = function () {
                    return this.returnValue
                },
                t.prototype.isPropagationStoped = function () {
                    return !!this.bPropagationStoped
                },
                t
            }
            ();
            n.default = o,
            cc._RF.pop()
        }, {}
    ],
    ULMd5: [function (t, e, n) {
            "use strict";
            function o(t, e) {
                return t << e | t >>> 32 - e
            }
            function i(t, e) {
                var n,
                o,
                i,
                r,
                a;
                return i = 2147483648 & t,
                r = 2147483648 & e,
                a = (1073741823 & t) + (1073741823 & e),
                (n = 1073741824 & t) & (o = 1073741824 & e) ? 2147483648 ^ a ^ i ^ r : n | o ? 1073741824 & a ? 3221225472 ^ a ^ i ^ r : 1073741824 ^ a ^ i ^ r : a ^ i ^ r
            }
            function r(t, e, n) {
                return t & e | ~t & n
            }
            function a(t, e, n) {
                return t & n | e & ~n
            }
            function s(t, e, n) {
                return t ^ e ^ n
            }
            function c(t, e, n) {
                return e ^ (t | ~n)
            }
            function l(t, e, n, a, s, c, l) {
                return i(o(t = i(t, i(i(r(e, n, a), s), l)), c), e)
            }
            function u(t, e, n, r, s, c, l) {
                return i(o(t = i(t, i(i(a(e, n, r), s), l)), c), e)
            }
            function d(t, e, n, r, a, c, l) {
                return i(o(t = i(t, i(i(s(e, n, r), a), l)), c), e)
            }
            function p(t, e, n, r, a, s, l) {
                return i(o(t = i(t, i(i(c(e, n, r), a), l)), s), e)
            }
            function h(t) {
                for (var e, n = t.length, o = n + 8, i = 16 * ((o - o % 64) / 64 + 1), r = Array(i - 1), a = 0, s = 0; s < n; )
                    a = s % 4 * 8, r[e = (s - s % 4) / 4] = r[e] | t.charCodeAt(s) << a, s++;
                return a = s % 4 * 8,
                r[e = (s - s % 4) / 4] = r[e] | 128 << a,
                r[i - 2] = n << 3,
                r[i - 1] = n >>> 29,
                r
            }
            function f(t) {
                var e,
                n = "",
                o = "";
                for (e = 0; e <= 3; e++)
                    n += (o = "0" + (t >>> 8 * e & 255).toString(16)).substr(o.length - 2, 2);
                return n
            }
            function _(t) {
                t = t.replace(/\x0d\x0a/g, "\n");
                for (var e = "", n = 0; n < t.length; n++) {
                    var o = t.charCodeAt(n);
                    o < 128 ? e += String.fromCharCode(o) : o > 127 && o < 2048 ? (e += String.fromCharCode(o >> 6 | 192), e += String.fromCharCode(63 & o | 128)) : (e += String.fromCharCode(o >> 12 | 224), e += String.fromCharCode(o >> 6 & 63 | 128), e += String.fromCharCode(63 & o | 128))
                }
                return e
            }
            cc._RF.push(e, "d3dd5QoRtdCGatwJKkUG4Ax", "ULMd5"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            }),
            n.rotateLeft = o,
            n.addUnsigned = i,
            n.F = r,
            n.G = a,
            n.H = s,
            n.I = c,
            n.FF = l,
            n.GG = u,
            n.HH = d,
            n.II = p,
            n.convertToWordArray = h,
            n.wordToHex = f,
            n.uTF8Encode = _,
            n.md5Sign = function (t) {
                var e,
                n,
                o,
                r,
                a,
                s,
                c,
                m,
                g,
                y = Array();
                for (t = _(t), y = h(t), s = 1732584193, c = 4023233417, m = 2562383102, g = 271733878, e = 0; e < y.length; e += 16)
                    n = s, o = c, r = m, a = g, s = l(s, c, m, g, y[e + 0], 7, 3614090360), g = l(g, s, c, m, y[e + 1], 12, 3905402710), m = l(m, g, s, c, y[e + 2], 17, 606105819), c = l(c, m, g, s, y[e + 3], 22, 3250441966), s = l(s, c, m, g, y[e + 4], 7, 4118548399), g = l(g, s, c, m, y[e + 5], 12, 1200080426), m = l(m, g, s, c, y[e + 6], 17, 2821735955), c = l(c, m, g, s, y[e + 7], 22, 4249261313), s = l(s, c, m, g, y[e + 8], 7, 1770035416), g = l(g, s, c, m, y[e + 9], 12, 2336552879), m = l(m, g, s, c, y[e + 10], 17, 4294925233), c = l(c, m, g, s, y[e + 11], 22, 2304563134), s = l(s, c, m, g, y[e + 12], 7, 1804603682), g = l(g, s, c, m, y[e + 13], 12, 4254626195), m = l(m, g, s, c, y[e + 14], 17, 2792965006), c = l(c, m, g, s, y[e + 15], 22, 1236535329), s = u(s, c, m, g, y[e + 1], 5, 4129170786), g = u(g, s, c, m, y[e + 6], 9, 3225465664), m = u(m, g, s, c, y[e + 11], 14, 643717713), c = u(c, m, g, s, y[e + 0], 20, 3921069994), s = u(s, c, m, g, y[e + 5], 5, 3593408605), g = u(g, s, c, m, y[e + 10], 9, 38016083), m = u(m, g, s, c, y[e + 15], 14, 3634488961), c = u(c, m, g, s, y[e + 4], 20, 3889429448), s = u(s, c, m, g, y[e + 9], 5, 568446438), g = u(g, s, c, m, y[e + 14], 9, 3275163606), m = u(m, g, s, c, y[e + 3], 14, 4107603335), c = u(c, m, g, s, y[e + 8], 20, 1163531501), s = u(s, c, m, g, y[e + 13], 5, 2850285829), g = u(g, s, c, m, y[e + 2], 9, 4243563512), m = u(m, g, s, c, y[e + 7], 14, 1735328473), c = u(c, m, g, s, y[e + 12], 20, 2368359562), s = d(s, c, m, g, y[e + 5], 4, 4294588738), g = d(g, s, c, m, y[e + 8], 11, 2272392833), m = d(m, g, s, c, y[e + 11], 16, 1839030562), c = d(c, m, g, s, y[e + 14], 23, 4259657740), s = d(s, c, m, g, y[e + 1], 4, 2763975236), g = d(g, s, c, m, y[e + 4], 11, 1272893353), m = d(m, g, s, c, y[e + 7], 16, 4139469664), c = d(c, m, g, s, y[e + 10], 23, 3200236656), s = d(s, c, m, g, y[e + 13], 4, 681279174), g = d(g, s, c, m, y[e + 0], 11, 3936430074), m = d(m, g, s, c, y[e + 3], 16, 3572445317), c = d(c, m, g, s, y[e + 6], 23, 76029189), s = d(s, c, m, g, y[e + 9], 4, 3654602809), g = d(g, s, c, m, y[e + 12], 11, 3873151461), m = d(m, g, s, c, y[e + 15], 16, 530742520), c = d(c, m, g, s, y[e + 2], 23, 3299628645), s = p(s, c, m, g, y[e + 0], 6, 4096336452), g = p(g, s, c, m, y[e + 7], 10, 1126891415), m = p(m, g, s, c, y[e + 14], 15, 2878612391), c = p(c, m, g, s, y[e + 5], 21, 4237533241), s = p(s, c, m, g, y[e + 12], 6, 1700485571), g = p(g, s, c, m, y[e + 3], 10, 2399980690), m = p(m, g, s, c, y[e + 10], 15, 4293915773), c = p(c, m, g, s, y[e + 1], 21, 2240044497), s = p(s, c, m, g, y[e + 8], 6, 1873313359), g = p(g, s, c, m, y[e + 15], 10, 4264355552), m = p(m, g, s, c, y[e + 6], 15, 2734768916), c = p(c, m, g, s, y[e + 13], 21, 1309151649), s = p(s, c, m, g, y[e + 4], 6, 4149444226), g = p(g, s, c, m, y[e + 11], 10, 3174756917), m = p(m, g, s, c, y[e + 2], 15, 718787259), c = p(c, m, g, s, y[e + 9], 21, 3951481745), s = i(s, n), c = i(c, o), m = i(m, r), g = i(g, a);
                return (f(s) + f(c) + f(m) + f(g)).toLowerCase()
            },
            cc._RF.pop()
        }, {}
    ],
    ULModule4399MiniGame: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "59d127lOWZHOKJ91O6Oyhlt", "ULModule4399MiniGame");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../../core/ULConfig"),
            r = t("../../core/ULSdkManager"),
            a = t("../../events/ULEventDispatcher"),
            s = t("../../ULConsts"),
            c = t("../../utils/ULTools"),
            l = t("../../core/ULChannelModuleWebmobileBase"),
            u = t("./ULAdv4399MiniGame"),
            d = t("../../utils/ULTimer"),
            p = t("./ULAdv4399MiniGameShare"),
            h = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.channelUserId = null,
                    e
                }
                return o(e, t),
                e.prototype.init = function () {
                    t.prototype.init.call(this),
                    this.initSdk(),
                    a.default.getInstance().addListener(s.default.CMD_USER_LOGIN, s.default.PRIORITY_NONE, this.onCmdUserLogin.bind(this)),
                    a.default.getInstance().addListener(s.default.CMD_USER_IS_LOGIN, s.default.PRIORITY_NONE, this.onCmdUserIsLogin.bind(this)),
                    a.default.getInstance().addListener(s.default.CMD_OPEN_SHARE, s.default.PRIORITY_NONE, this.onCmdOpenShare.bind(this)),
                    a.default.getInstance().addListener(s.default.CMD_GET_RANK_DATA, s.default.PRIORITY_NONE, this.onCmdGetRankData.bind(this)),
                    a.default.getInstance().addListener(s.default.CMD_SAVE_RANK_DATA, s.default.PRIORITY_NONE, this.onCmdSaveRankData.bind(this))
                },
                e.prototype.initSdk = function () {
                    var t = i.default.getConfig();
                    console.log("ULModule4399MiniGame.initSdk loadJs"),
                    c.default.loadJs("h5api-interface.js", function () {
                        console.log("ULModule4399MiniGame.initSdk js sdk\u52a0\u8f7d\u6210\u529f")
                    }, !1);
                    var e = r.default.getInstance().channelInfo;
                    e.channelName = "4399minigame",
                    e.uuid = this.sdkUserId,
                    e.isSupportRecordShare = !1,
                    e.isShareEnabled = !!t.i_sdk_share_mode,
                    e.copChannelId = t.s_sdk_cop_channel_id,
                    e.isPayEnabled = !!t.i_sdk_pay_mode,
                    e.isUseSdkRank = !!t.i_sdk_sdk_rank_mode,
                    e.is4399Watermark = !0,
                    e.appName = "4399minigame",
                    e.payInfo = {}
                },
                e.prototype.loadSubModules = function () {
                    return [new u.default, new p.default]
                },
                e.prototype.requestRankData = function () {
                    var t = this;
                    window.h5api.getRanking(function (e) {
                        if (console.log("  getRanking callback", e), 1e4 == e.code) {
                            for (var n = {}, o = 0; o < e.data.list.length; o++) {
                                var i = e.data.list[o];
                                if (-1 != i.rank) {
                                    var a = {
                                        headUrl: window.h5api.getUserAvatar(i.uId) || "",
                                        nickName: i.userName || "",
                                        userId: i.uId || 0,
                                        score: i.score || 0,
                                        selfFlag: t.channelUserId == i.uId
                                    };
                                    n[parseInt(i.rank)] = JSON.stringify(a)
                                } else
                                    console.log("\u5f53\u524d\u7528\u6237\u6ca1\u6709\u8fdb\u5165\u6392\u884c\u699c\u8df3\u8fc7.....", i)
                            }
                            r.default.getInstance().response(s.default.CMD_GET_RANK_DATA_RESULT, {
                                code: 1,
                                msg: "get paihang succeed",
                                list: n
                            })
                        } else
                            r.default.getInstance().response(s.default.CMD_GET_RANK_DATA_RESULT, {
                                code: 0,
                                msg: c.default.format("failed to get paihang: %d", e.code),
                                list: {}
                            })
                    }, 1, 200)
                },
                e.prototype.onCmdUserLogin = function (t) {
                    var e = this;
                    t.stopImmediatePropagation();
                    i.default.getConfig();
                    var n = t.data.userData || "";
                    console.log("ULModule4399MiniGame.onCmdUserLogin"),
                    window.h5api ? window.h5api.login(function (t) {
                        console.log("ULModule4399MiniGame.onCmdUserLogin login callback", t),
                        e.channelUserId = t.uId,
                        r.default.getInstance().response(s.default.CMD_USER_LOGIN_RESULT, {
                            code: 1,
                            userData: n
                        })
                    }) : r.default.getInstance().response(s.default.CMD_USER_LOGIN_RESULT, {
                        code: 0,
                        userData: n
                    })
                },
                e.prototype.onCmdUserIsLogin = function (t) {
                    t.stopImmediatePropagation();
                    i.default.getConfig(),
                    t.data;
                    console.log("ULModule4399MiniGame.onCmdUserIsLogin"),
                    d.default.callLoop(.1, function (t) {
                        if (window.h5api) {
                            t.stop();
                            var e = window.h5api.isLogin();
                            console.log("  bLogin", e),
                            r.default.getInstance().response(s.default.CMD_USER_IS_LOGIN_RESULT, {
                                code: e ? 1 : 0
                            })
                        } else
                            t.count >= 30 && (t.stop(), r.default.getInstance().response(s.default.CMD_USER_IS_LOGIN_RESULT, {
                                    code: 0
                                }))
                    })
                },
                e.prototype.onCmdOpenShare = function (t) {
                    t.stopImmediatePropagation();
                    i.default.getConfig();
                    var e = t.data,
                    n = (e.content, e.userData || "");
                    console.log("ULModule4399MiniGame.onCmdOpenShare"),
                    window.h5api ? (window.h5api.share(), r.default.getInstance().response(s.default.CMD_SHARE_RESULT, {
                            code: 1,
                            msg: "share success",
                            userData: n
                        }), r.default.getInstance().statisManager.reportShareSuccess(0)) : r.default.getInstance().response(s.default.CMD_SHARE_RESULT, {
                        code: 0,
                        msg: "not init",
                        userData: n
                    })
                },
                e.prototype.onCmdGetRankData = function (t) {
                    var e = this;
                    t.stopImmediatePropagation();
                    i.default.getConfig();
                    var n = t.data;
                    n.dataNum,
                    n.rankName,
                    n.order,
                    n.rankType;
                    (console.log("ULModule4399MiniGame.onCmdGetRankData", n), window.h5api) ? this.channelUserId ? (console.log("  \u5df2\u7ecf\u62ff\u5230\u7528\u6237id\uff0c\u76f4\u63a5\u8bf7\u6c42\u6392\u884c\u699c\u4fe1\u606f channelUserId:", this.channelUserId), this.requestRankData()) : window.h5api.isLogin() ? (console.log("  \u7528\u6237\u5df2\u767b\u5f55\uff0c\u83b7\u53d6\u767b\u5f55\u4fe1\u606f"), window.h5api.login(function (t) {
                            console.log("  login callback", t),
                            e.channelUserId = t.uId,
                            e.requestRankData()
                        })) : (console.log("  \u672a\u767b\u5f55\uff0c\u76f4\u63a5\u83b7\u53d6\u6392\u884c\u699c\u4fe1\u606f"), this.requestRankData()) : r.default.getInstance().response(s.default.CMD_GET_RANK_DATA_RESULT, {
                        code: 0,
                        msg: "not init",
                        list: {}
                    })
                },
                e.prototype.onCmdSaveRankData = function (t) {
                    t.stopImmediatePropagation();
                    i.default.getConfig();
                    var e = t.data,
                    n = (e.startTime, e.endTime, e.rankName, e.score);
                    e.order;
                    console.log("ULModule4399MiniGame.onCmdSaveRankData", e),
                    window.h5api ? window.h5api.submitRanking(n, function (t) {
                        1e4 == t.code ? r.default.getInstance().response(s.default.CMD_SAVE_RANK_DATA_RESULT, {
                            code: 1,
                            msg: "report paihang success"
                        }) : r.default.getInstance().response(s.default.CMD_SAVE_RANK_DATA_RESULT, {
                            code: 0,
                            msg: "failed to report paihang"
                        })
                    }) : r.default.getInstance().response(s.default.CMD_SAVE_RANK_DATA_RESULT, {
                        code: 0,
                        msg: "not init"
                    })
                },
                e
            }
            (l.default);
            n.default = h,
            cc._RF.pop()
        }, {
            "../../ULConsts": "ULConsts",
            "../../core/ULChannelModuleWebmobileBase": "ULChannelModuleWebmobileBase",
            "../../core/ULConfig": "ULConfig",
            "../../core/ULSdkManager": "ULSdkManager",
            "../../events/ULEventDispatcher": "ULEventDispatcher",
            "../../utils/ULTimer": "ULTimer",
            "../../utils/ULTools": "ULTools",
            "./ULAdv4399MiniGame": "ULAdv4399MiniGame",
            "./ULAdv4399MiniGameShare": "ULAdv4399MiniGameShare"
        }
    ],
    ULModuleBase: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "548f5tw4o9ODpgNIP90iogU", "ULModuleBase"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("../events/ULEventDispatcher"),
            i = t("../ULConsts"),
            r = function () {
                function t() {}
                return t.prototype.init = function () {
                    o.default.getInstance().addListener(i.default.CMD_SDK_COLLECTION_MODULE_CHECKER_CONFIG, i.default.PRIORITY_NONE, this.onCmdSdkCollectionModuleCheckerConfig.bind(this))
                },
                t.prototype.loadSubModules = function () {
                    return []
                },
                t.prototype.loadModuleCheckerConfig = function () {
                    return []
                },
                t.prototype.onCmdSdkCollectionModuleCheckerConfig = function (t) {
                    for (var e = t.getReturnValue() || [], n = this.loadModuleCheckerConfig(), o = 0; o < n.length; o++) {
                        var i = n[o];
                        e.push(i)
                    }
                    t.setReturnValue(e, !0)
                },
                t
            }
            ();
            n.default = r,
            cc._RF.pop()
        }, {
            "../ULConsts": "ULConsts",
            "../events/ULEventDispatcher": "ULEventDispatcher"
        }
    ],
    ULModuleCdk: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "34c10us8y5LOqe3p9gwN2iR", "ULModuleCdk");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../../core/ULConfig"),
            r = t("../../utils/ULTools"),
            a = t("../../core/ULSdkManager"),
            s = t("../../ULConsts"),
            c = t("../../core/ULModuleBase"),
            l = t("../../events/ULEventDispatcher"),
            u = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.init = function () {
                    t.prototype.init.call(this),
                    l.default.getInstance().addListener(s.default.CMD_USE_CDKEY, 1, this.onCmdUseCdkey.bind(this))
                },
                e.prototype.requestUseCdk = function (t, e, n) {
                    var o = i.default.getConfig(),
                    c = o.s_sdk_cdk_app_id,
                    l = o.i_net_timeout,
                    u = r.default.format("%s?userId=%s&cdkStr=%s&appId=%s&channelId=%s", o.s_sdk_cdk_url, t, e, c, n);
                    console.log("ULModuleCdk.requestUseCdk", u),
                    r.default.httpGet({
                        url: u,
                        timeoutMillisecond: l,
                        success: function (t) {
                            t = (t = (t = (t = t.replace('"[', "[")).replace(']"', "]")).replace('"0"', '"1"')).replace("message", "data");
                            var e = JSON.parse(t);
                            1 == e.code ? a.default.getInstance().response(s.default.CMD_USE_CDKEY_RESULT, {
                                code: 1,
                                data: e.data,
                                message: "exchange success"
                            }) : a.default.getInstance().response(s.default.CMD_USE_CDKEY_RESULT, {
                                code: 0,
                                data: [],
                                message: e.data
                            })
                        },
                        fail: function () {
                            a.default.getInstance().response(s.default.CMD_USE_CDKEY_RESULT, {
                                code: 0,
                                message: "failed to exchange"
                            })
                        }
                    })
                },
                e.prototype.onCmdUseCdkey = function (t) {
                    t.stopImmediatePropagation();
                    i.default.getConfig();
                    var e = t.data,
                    n = e.userId,
                    o = e.cdkStr,
                    r = e.channelId;
                    this.requestUseCdk(n, o, r)
                },
                e
            }
            (c.default);
            n.default = u,
            cc._RF.pop()
        }, {
            "../../ULConsts": "ULConsts",
            "../../core/ULConfig": "ULConfig",
            "../../core/ULModuleBase": "ULModuleBase",
            "../../core/ULSdkManager": "ULSdkManager",
            "../../events/ULEventDispatcher": "ULEventDispatcher",
            "../../utils/ULTools": "ULTools"
        }
    ],
    ULModuleCheckerManager: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "c10f7OuUrtFCZblYQpi2huO", "ULModuleCheckerManager"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("../modulechecker/MCPanelCreator"),
            i = t("../modulechecker/MCPanelLaya"),
            r = t("../utils/ULTools"),
            a = t("../events/ULEventDispatcher"),
            s = t("../ULConsts"),
            c = function () {
                function t() {
                    this.inputCode = "",
                    this.lastInputTime = 0,
                    this.debugInfos = {},
                    this.debugInfoRenderNode = null
                }
                return t.prototype.init = function () {
                    var t = this;
                    this.registerTouchListener(),
                    this.refreshDebugInfo(),
                    window.cc && window.cc.director.on(window.cc.Director.EVENT_AFTER_SCENE_LAUNCH, function (e) {
                        console.log("ULModuleCheckerManager on EVENT_AFTER_SCENE_LAUNCH"),
                        t.registerTouchListener(),
                        t.debugInfoRenderNode = null,
                        t.refreshDebugInfo()
                    })
                },
                t.prototype.showPanel = function (t) {
                    var e = this;
                    console.log("ULModuleCheckerManager.showPanel"),
                    (t = t || []).splice(0, 0, {
                        type: "newLine"
                    }),
                    t.splice(0, 0, {
                        type: "button",
                        text: "close",
                        onClick: function () {
                            e.closePanel()
                        }
                    }),
                    t.splice(0, 0, {
                        type: "label",
                        text: "game debugger"
                    }),
                    t.splice(0, 0, {
                        type: "newLine"
                    }),
                    t.splice(0, 0, {
                        type: "newLine"
                    }),
                    t.push({
                        type: "newLine"
                    }),
                    t.push({
                        type: "newLine"
                    }),
                    t.push({
                        type: "newLine"
                    }),
                    t.push({
                        type: "label",
                        text: r.default.format("\xa9%d Ultralisk Chengdu", (new Date).getFullYear())
                    }),
                    this.closePanel();
                    var n = this.getOrCreatePanel();
                    n && n.show(t)
                },
                t.prototype.closePanel = function () {
                    console.log("ULModuleCheckerManager.closePanel"),
                    this.panel && this.panel.close()
                },
                t.prototype.getItemText = function (t) {
                    this.panel && this.panel.getItemText(t)
                },
                t.prototype.setItemText = function (t, e) {
                    this.panel && this.panel.setItemText(t, e)
                },
                t.prototype.showMsgTip = function (t) {
                    this.getOrCreatePanel(),
                    this.panel && this.panel.showMsgTip(t)
                },
                t.prototype.alertPrompt = function (t, e, n, o) {
                    return this._alertPrompt(t, e, [n], [o])
                },
                t.prototype.alertPrompt2 = function (t, e, n, o, i, r) {
                    return this._alertPrompt(t, e, [n, o], [i, r])
                },
                t.prototype._alertPrompt = function (t, e, n, o) {
                    this.getOrCreatePanel(),
                    this.panel && this.panel.showPromptDialog(t, e, n, o)
                },
                t.prototype.showPickerDialog = function (t, e, n) {
                    this.getOrCreatePanel(),
                    this.panel && this.panel.showPickerDialog(t, e, n)
                },
                t.prototype.addDebugInfo = function (t, e) {
                    this.debugInfos[t] = e,
                    this.refreshDebugInfo()
                },
                t.prototype.removeDebugInfo = function (t) {
                    delete this.debugInfos[t],
                    this.refreshDebugInfo()
                },
                t.prototype.getOrCreatePanel = function () {
                    return this.panel || (window.cc ? this.panel = new o.default : window.laya ? this.panel = new i.default : console.warn("ULModuleCheckerManager.createPanel unknown platform!")),
                    this.panel
                },
                t.prototype.registerTouchListener = function () {
                    var t = this;
                    if (window.cc && window.cc.systemEvent) {
                        console.log("ULModuleTest4.registerMouseListener");
                        window.cc;
                        var e = window.cc.director.getScene();
                        if (!e)
                            return console.log("  scene not found!"), null;
                        var n = e.getChildByName("Canvas");
                        if (!n)
                            return console.log("  nodeCanvas not found!"), null;
                        console.log("nodeCanvas", n),
                        n.on(window.cc.Node.EventType.TOUCH_START, function (e) {
                            var o = e.getLocation(),
                            i = n.getContentSize(),
                            r = window.cc.rect(0, i.height - 200, 100, 200),
                            a = window.cc.rect(i.width - 100, i.height - 200, 100, 200);
                            r.contains(o) ? t.onTouchSpecialArea("l") : a.contains(o) ? t.onTouchSpecialArea("r") : t.onTouchSpecialArea(null)
                        }, null, !0)
                    }
                },
                t.prototype.refreshDebugInfo = function () {
                    if (r.default.getObjSize(this.debugInfos) <= 0)
                        this.debugInfoRenderNode && (window.cc && window.cc.isValid(this.debugInfoRenderNode) && this.debugInfoRenderNode.destroy(), this.debugInfoRenderNode = null);
                    else {
                        var t = [];
                        r.default.forEachMap(this.debugInfos, function (e, n) {
                            t.push(n)
                        });
                        var e = t.join("\n");
                        if (!this.debugInfoRenderNode && window.cc) {
                            window.cc;
                            var n = window.cc.director.getScene();
                            if (!n)
                                return console.log("  scene not found!"), null;
                            var o = n.getChildByName("Canvas");
                            if (!o)
                                return console.log("  nodeCanvas not found!"), null;
                            (i = new window.cc.Node).parent = o,
                            i.zIndex = window.cc.macro.MAX_ZINDEX,
                            i.y = 0,
                            i.x = 0,
                            i.width = o.width - 10,
                            i.setAnchorPoint(.5, 1),
                            i.color = window.cc.Color.RED,
                            i.addComponent(window.cc.Label).fontSize = 24,
                            i.getComponent(window.cc.Label).enableWrapText = !0,
                            i.getComponent(window.cc.Label).horizontalAlign = window.cc.Label.HorizontalAlign.CENTER,
                            i.getComponent(window.cc.Label).verticalAlign = window.cc.Label.VerticalAlign.CENTER,
                            i.runAction(window.cc.repeatForever(window.cc.sequence(window.cc.fadeTo(1, 63), window.cc.fadeTo(1, 255)))),
                            this.debugInfoRenderNode = i
                        }
                        if (this.debugInfoRenderNode && window.cc) {
                            var i;
                            window.cc;
                            (i = this.debugInfoRenderNode).getComponent(window.cc.Label).string = e
                        }
                    }
                },
                t.prototype.onTouchSpecialArea = function (t) {
                    if (r.default.time() - this.lastInputTime >= 2 && this.inputCode && (console.log("ULModuleCheckerManager inputCode: touch gap is too long time, cancel."), this.inputCode = ""), t) {
                        if (this.inputCode += t, this.lastInputTime = r.default.time(), console.log("ULModuleCheckerManager inputCode:", this.inputCode), "lrlrllrr" == this.inputCode) {
                            console.log("  right!"),
                            this.inputCode = "";
                            var e = this.collectionConfig();
                            this.showPanel(e)
                        }
                    } else
                        this.inputCode && (console.log("ULModuleCheckerManager inputCode: touch invalid area, cancel."), this.inputCode = "")
                },
                t.prototype.collectionConfig = function () {
                    return a.default.getInstance().dispatchWithReturn(s.default.CMD_SDK_COLLECTION_MODULE_CHECKER_CONFIG, {})
                },
                t
            }
            ();
            n.default = c,
            cc._RF.pop()
        }, {
            "../ULConsts": "ULConsts",
            "../events/ULEventDispatcher": "ULEventDispatcher",
            "../modulechecker/MCPanelCreator": "MCPanelCreator",
            "../modulechecker/MCPanelLaya": "MCPanelLaya",
            "../utils/ULTools": "ULTools"
        }
    ],
    ULModuleClipboard: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "8803cACze5LBoGdq0xNqXdB", "ULModuleClipboard");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../../core/ULConfig"),
            r = t("../../utils/ULTools"),
            a = t("../../core/ULSdkManager"),
            s = t("../../ULConsts"),
            c = t("../../core/ULModuleBase"),
            l = t("../../events/ULEventDispatcher"),
            u = t("../../core/ULClipboardManager"),
            d = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.init = function () {
                    t.prototype.init.call(this),
                    l.default.getInstance().addListener(s.default.CMD_SET_CLIPBOARD_DATA, 1, this.onCmdSetClipboardData.bind(this)),
                    l.default.getInstance().addListener(s.default.CMD_GET_CLIPBOARD_DATA, 1, this.onCmdGetClipboardData.bind(this)),
                    l.default.getInstance().addListener(s.default.CMD_SET_VERSION, 1, this.onCmdSetVersion.bind(this))
                },
                e.prototype.onCmdSetClipboardData = function (t) {
                    t.stopImmediatePropagation();
                    i.default.getConfig();
                    var e = t.data,
                    n = e.clipboardData,
                    o = e.userData;
                    u.default.getInstance().setClipboardData(n, function (t) {
                        t ? a.default.getInstance().response(s.default.CMD_SET_CLIPBOARD_DATA_RESULT, {
                            code: 1,
                            msg: "save success",
                            clipboardData: n,
                            userData: o
                        }) : a.default.getInstance().response(s.default.CMD_SET_CLIPBOARD_DATA_RESULT, {
                            code: 0,
                            msg: "save failed",
                            clipboardData: n,
                            userData: o
                        })
                    })
                },
                e.prototype.onCmdGetClipboardData = function (t) {
                    t.stopImmediatePropagation();
                    i.default.getConfig();
                    var e = t.data.userData;
                    u.default.getInstance().getClipboardData(function (t) {
                        t ? a.default.getInstance().response(s.default.CMD_GET_CLIPBOARD_DATA_RESULT, {
                            code: 1,
                            msg: "get success",
                            clipboardData: t,
                            userData: e
                        }) : a.default.getInstance().response(s.default.CMD_GET_CLIPBOARD_DATA_RESULT, {
                            code: 0,
                            msg: "get failed",
                            clipboardData: null,
                            userData: e
                        })
                    })
                },
                e.prototype.onCmdSetVersion = function (t) {
                    var e = a.default.getInstance().channelInfo;
                    e.isSupportClipboardData = u.default.getInstance().isSupport(),
                    console.log(r.default.format("ULModuleClipboard.onCmdSetVersion mark isSupportClipboardData = %s", e.isSupportClipboardData))
                },
                e
            }
            (c.default);
            n.default = d,
            cc._RF.pop()
        }, {
            "../../ULConsts": "ULConsts",
            "../../core/ULClipboardManager": "ULClipboardManager",
            "../../core/ULConfig": "ULConfig",
            "../../core/ULModuleBase": "ULModuleBase",
            "../../core/ULSdkManager": "ULSdkManager",
            "../../events/ULEventDispatcher": "ULEventDispatcher",
            "../../utils/ULTools": "ULTools"
        }
    ],
    ULModuleMegadata: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "9f734JMGNFMAKEn3MpYPE4l", "ULModuleMegadata");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../../core/ULConfig"),
            r = t("../../core/ULSdkManager"),
            a = t("../../ULConsts"),
            s = t("../../core/ULModuleBase"),
            c = t("../../events/ULEventDispatcher"),
            l = t("../../utils/ULTools"),
            u = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.init = function () {
                    t.prototype.init.call(this),
                    c.default.getInstance().addListener(a.default.CMD_MEGADATA_SERVER, 1, this.onCmdMegadataServer.bind(this))
                },
                e.prototype.onCmdMegadataServer = function (t) {
                    t.stopImmediatePropagation();
                    i.default.getConfig();
                    var e = t.data;
                    Array.isArray(e) && e.length > 0 ? r.default.getInstance().response(a.default.CMD_MEGADATA_SERVER_RESULT, {
                        code: 1,
                        message: "report success"
                    }) : r.default.getInstance().response(a.default.CMD_MEGADATA_SERVER_RESULT, {
                        code: 0,
                        message: "report failed"
                    });
                    var n = l.default.clone(e),
                    o = n[0];
                    if (o == a.default.STATIS_USER_EVENT_GAME_LEVEL_START && (this.gameLevelStartTime = l.default.time()), o == a.default.STATIS_USER_EVENT_GAME_LEVEL_COMPLETE) {
                        var s = l.default.time() - this.gameLevelStartTime;
                        this.gameLevelStartTime = null,
                        isNaN(s) && (s = 0),
                        n.push(Math.floor(s).toString())
                    }
                    r.default.getInstance().statisManager.reportUserEvent(n)
                },
                e
            }
            (s.default);
            n.default = u,
            cc._RF.pop()
        }, {
            "../../ULConsts": "ULConsts",
            "../../core/ULConfig": "ULConfig",
            "../../core/ULModuleBase": "ULModuleBase",
            "../../core/ULSdkManager": "ULSdkManager",
            "../../events/ULEventDispatcher": "ULEventDispatcher",
            "../../utils/ULTools": "ULTools"
        }
    ],
    ULModuleUserData: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "0b9f64T1ZBFA6N0s+MKX/e0", "ULModuleUserData");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../../core/ULConfig"),
            r = t("../../core/ULSdkManager"),
            a = t("../../ULConsts"),
            s = t("../../core/ULModuleBase"),
            c = t("../../events/ULEventDispatcher"),
            l = t("../../utils/ULTools"),
            u = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.init = function () {
                    t.prototype.init.call(this),
                    c.default.getInstance().addListener(a.default.CMD_SAVE_USER_DATA, a.default.PRIORITY_DISABLE, this.onCmdSaveUserData.bind(this)),
                    c.default.getInstance().addListener(a.default.CMD_GET_USER_DATA, a.default.PRIORITY_DISABLE, this.onCmdGetUserData.bind(this))
                },
                e.prototype.requestUploadUserData = function (t, e) {
                    var n = i.default.getConfig(),
                    o = n.s_sdk_user_data_save_url,
                    s = {
                        userId: t,
                        data: e
                    };
                    l.default.httpPost({
                        url: o,
                        postData: s,
                        timeoutMillisecond: n.i_net_timeout,
                        success: function (t) {
                            var e = JSON.parse(t);
                            e && 0 == e.code ? r.default.getInstance().response(a.default.CMD_SAVE_USER_DATA_RESULT, {
                                code: 1,
                                msg: "save success"
                            }) : r.default.getInstance().response(a.default.CMD_SAVE_USER_DATA_RESULT, {
                                code: 0,
                                msg: "save failed"
                            })
                        },
                        fail: function () {
                            r.default.getInstance().response(a.default.CMD_SAVE_USER_DATA_RESULT, {
                                code: 0,
                                msg: "failed"
                            })
                        }
                    })
                },
                e.prototype.requestDownloadUserData = function (t) {
                    var e = i.default.getConfig(),
                    n = l.default.format("%s?userId=%s", e.s_sdk_user_data_get_url, t);
                    console.log("ULModuleUserData.requestDownloadUserData", t),
                    console.log("  url", n),
                    l.default.httpGet({
                        url: n,
                        timeoutMillisecond: e.i_net_timeout,
                        success: function (t) {
                            var e = JSON.parse(t);
                            console.log("  ULModuleUserData.requestDownloadUserData success", t),
                            e && 0 == e.code ? r.default.getInstance().response(a.default.CMD_GET_USER_DATA_RESULT, {
                                code: 1,
                                userData: e.data,
                                msg: "simulate success"
                            }) : r.default.getInstance().response(a.default.CMD_GET_USER_DATA_RESULT, {
                                code: 0,
                                userData: {},
                                msg: "failed to read record"
                            })
                        },
                        fail: function (t) {
                            console.log("  ULModuleUserData.requestDownloadUserData fail", t),
                            r.default.getInstance().response(a.default.CMD_GET_USER_DATA_RESULT, {
                                code: 0,
                                userData: {},
                                msg: "simulate failed"
                            })
                        }
                    })
                },
                e.prototype.onCmdSaveUserData = function (t) {
                    t.stopImmediatePropagation();
                    i.default.getConfig();
                    var e = r.default.getInstance().channelInfo,
                    n = t.data,
                    o = e.uuid,
                    a = n.userData;
                    o ? this.requestUploadUserData(o, a) : console.log("ULModuleUserData.onCmdSaveUserData userId not found!")
                },
                e.prototype.onCmdGetUserData = function (t) {
                    t.stopImmediatePropagation();
                    i.default.getConfig();
                    var e = r.default.getInstance().channelInfo,
                    n = (t.data, e.uuid);
                    this.requestDownloadUserData(n)
                },
                e
            }
            (s.default);
            n.default = u,
            cc._RF.pop()
        }, {
            "../../ULConsts": "ULConsts",
            "../../core/ULConfig": "ULConfig",
            "../../core/ULModuleBase": "ULModuleBase",
            "../../core/ULSdkManager": "ULSdkManager",
            "../../events/ULEventDispatcher": "ULEventDispatcher",
            "../../utils/ULTools": "ULTools"
        }
    ],
    ULNativeControllerHtml5: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "c8a28gqOHVNu6dhu7kRrKr/", "ULNativeControllerHtml5"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("../../ulsdk/middleware/ULSdkMiddleware"),
            i = function () {
                function t() {}
                return t.init = function (t) {
                    var e = this;
                    this.isEnabled(!0) ? (this.fOnGameCallback = t, o.default.registerOnResponseCallback(function (t) {
                            e.sendMsgToGame(t)
                        })) : console.warn("ULNativeControllerHtml5.init !isEnabled()")
                },
                t.isEnabled = function (t) {
                    if (t && (console.log("ULNativeControllerHtml5.isEnabled"), console.log("  wx", window.wx), console.log("  qq", window.qq), console.log("  tt", window.tt), console.log("  swan", window.swan), console.log("  hbs", window.hbs), console.log("  qg", window.qg), console.log("  document", document), console.log("  weibo", window.loadRuntime), console.log("  cc.sys.isBrowser", window.cc && window.cc.sys.isBrowser), console.log("  Laya.Browser.onMobile", window.Laya && window.Laya.Browser.onMobile), console.log("  Laya.Browser.onIOS", window.Laya && window.Laya.Browser.onIOS), console.log("  Laya.Browser.onMac", window.Laya && window.Laya.Browser.onMac), console.log("  Laya.Browser.onIPhone", window.Laya && window.Laya.Browser.onIPhone), console.log("  Laya.Browser.onIPad", window.Laya && window.Laya.Browser.onIPad), console.log("  Laya.Browser.onAndroid", window.Laya && window.Laya.Browser.onAndroid), console.log("  Laya.Browser.onWP", window.Laya && window.Laya.Browser.onWP), console.log("  Laya.Browser.onQQBrowser", window.Laya && window.Laya.Browser.onQQBrowser), console.log("  Laya.Browser.onMQQBrowser", window.Laya && window.Laya.Browser.onMQQBrowser), console.log("  Laya.Browser.onSafari", window.Laya && window.Laya.Browser.onSafari), console.log("  Laya.Browser.onIE", window.Laya && window.Laya.Browser.onIE), console.log("  Laya.Browser.onWeiXin", window.Laya && window.Laya.Browser.onWeiXin), console.log("  Laya.Browser.onPC", window.Laya && window.Laya.Browser.onPC), console.log("  Laya.Browser.onMiniGame", window.Laya && window.Laya.Browser.onMiniGame), console.log("  Laya.Browser.onBDMiniGame", window.Laya && window.Laya.Browser.onBDMiniGame), console.log("  Laya.Browser.onKGMiniGame", window.Laya && window.Laya.Browser.onKGMiniGame), console.log("  Laya.Browser.onQGMiniGame", window.Laya && window.Laya.Browser.onQGMiniGame), console.log("  Laya.Browser.onVVMiniGame", window.Laya && window.Laya.Browser.onVVMiniGame), console.log("  Laya.Browser.onAlipayMiniGame", window.Laya && window.Laya.Browser.onAlipayMiniGame), console.log("  Laya.Browser.onQQMiniGame", window.Laya && window.Laya.Browser.onQQMiniGame), console.log("  Laya.Browser.onFirefox", window.Laya && window.Laya.Browser.onFirefox), console.log("  Laya.Browser.onEdge", window.Laya && window.Laya.Browser.onEdge), console.log("  Laya.Browser.onLayaRuntime", window.Laya && window.Laya.Browser.onLayaRuntime)), window && window.wx)
                        return !0;
                    if (window && window.qq)
                        return !0;
                    if (window && window.tt)
                        return !0;
                    if (window && window.swan)
                        return !0;
                    if (window && window.hbs)
                        return !0;
                    if (window && window.qg)
                        return !0;
                    if (window && window.loadRuntime)
                        return !0;
                    if (window.cc && window.cc.sys.isBrowser)
                        return !0;
                    if (window.Laya) {
                        var e = window.Laya.Browser;
                        if (e) {
                            if (e.onMobile)
                                return !0;
                            if (e.onIOS)
                                return !0;
                            if (e.onMac)
                                return !0;
                            if (e.onIPhone)
                                return !0;
                            if (e.onIPad)
                                return !0;
                            if (e.onAndroid)
                                return !0;
                            if (e.onWP)
                                return !0;
                            if (e.onQQBrowser)
                                return !0;
                            if (e.onMQQBrowser)
                                return !0;
                            if (e.onSafari)
                                return !0;
                            if (e.onIE)
                                return !0;
                            if (e.onWeiXin)
                                return !0;
                            if (e.onPC)
                                return !0;
                            if (e.onMiniGame)
                                return !0;
                            if (e.onBDMiniGame)
                                return !0;
                            if (e.onKGMiniGame)
                                return !0;
                            if (e.onQGMiniGame)
                                return !0;
                            if (e.onVVMiniGame)
                                return !0;
                            if (e.onAlipayMiniGame)
                                return !0;
                            if (e.onQQMiniGame)
                                return !0;
                            if (e.onFirefox)
                                return !0;
                            if (e.onEdge)
                                return !0;
                            if (e.onLayaRuntime)
                                return !0
                        }
                    }
                    return !1
                },
                t.initUlsdk = function () {
                    var t = o.default.initUlsdk();
                    return JSON.stringify({
                        ret: t
                    })
                },
                t.sendMsgToSdk = function (t) {
                    var e = o.default.request(t);
                    return JSON.stringify({
                        ret: e
                    })
                },
                t.sendMsgToGame = function (t) {
                    this.fOnGameCallback instanceof Function && this.fOnGameCallback(t)
                },
                t.isAllowStartGame = function () {
                    return o.default.isAllowStartGame()
                },
                t.fOnGameCallback = null,
                t
            }
            ();
            n.default = i,
            cc._RF.pop()
        }, {
            "../../ulsdk/middleware/ULSdkMiddleware": "ULSdkMiddleware"
        }
    ],
    ULRsaSign: [function (t, e, n) {
            (function (t) {
                "use strict";
                cc._RF.push(e, "18efftXHxVG0rD2bnzLN4LW", "ULRsaSign"),
                Object.defineProperty(n, "__esModule", {
                    value: !0
                });
                var o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
                    return typeof t
                }
                 : function (t) {
                    return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
                };
                function i(t, e) {
                    for (var n = t.toByteArray(), o = 0; o < n.length && 0 == n[o]; )
                        ++o;
                    if (n.length - o != e - 1 || 2 != n[o])
                        return null;
                    for (++o; 0 != n[o]; )
                        if (++o >= n.length)
                            return null;
                    for (var i = ""; ++o < n.length; ) {
                        var r = 255 & n[o];
                        r < 128 ? i += String.fromCharCode(r) : r > 191 && r < 224 ? (i += String.fromCharCode((31 & r) << 6 | 63 & n[o + 1]), ++o) : (i += String.fromCharCode((15 & r) << 12 | (63 & n[o + 1]) << 6 | 63 & n[o + 2]), o += 2)
                    }
                    return i
                }
                function r(t, e, n) {
                    for (var o = "", i = 0; o.length < e; )
                        o += n(t + String.fromCharCode.apply(String, [(4278190080 & i) >> 24, (16711680 & i) >> 16, (65280 & i) >> 8, 255 & i])), i += 1;
                    return o
                }
                function a(t, e, n, o) {
                    var i = pt.crypto.MessageDigest,
                    a = pt.crypto.Util,
                    s = null;
                    for (n || (n = "sha1"), "string" == typeof n && (s = i.getCanonicalAlgName(n), o = i.getHashLength(s), n = function (t) {
                            return Ct(a.hashHex(It(t), s))
                        }), t = t.toByteArray(), c = 0; c < t.length; c += 1)
                        t[c] &= 255;
                    for (; t.length < e; )
                        t.unshift(0);
                    if ((t = String.fromCharCode.apply(String, t)).length < 2 * o + 2)
                        throw "Cipher too short";
                    var c,
                    l = t.substr(1, o),
                    u = t.substr(o + 1),
                    d = r(u, o, n),
                    p = [];
                    for (c = 0; c < l.length; c += 1)
                        p[c] = l.charCodeAt(c) ^ d.charCodeAt(c);
                    var h = r(String.fromCharCode.apply(String, p), t.length - o, n),
                    f = [];
                    for (c = 0; c < u.length; c += 1)
                        f[c] = u.charCodeAt(c) ^ h.charCodeAt(c);
                    if ((f = String.fromCharCode.apply(String, f)).substr(0, o) !== n(""))
                        throw "Hash mismatch";
                    var _ = (f = f.substr(o)).indexOf("\x01");
                    if ((-1 != _ ? f.substr(0, _).lastIndexOf("\0") : -1) + 1 != _)
                        throw "Malformed data";
                    return f.substr(_ + 1)
                }
                function s(t, e, n) {
                    if (this.isPrivate = !0, "string" != typeof t)
                        this.n = t, this.e = e, this.d = n;
                    else {
                        if (!(null != t && null != e && t.length > 0 && e.length > 0))
                            throw "Invalid RSA private key";
                        this.n = Rt(t, 16),
                        this.e = parseInt(e, 16),
                        this.d = Rt(n, 16)
                    }
                }
                function c(t, e, n, o, i, r, a, s) {
                    if (this.isPrivate = !0, this.isPublic = !1, null == t)
                        throw "RSASetPrivateEx N == null";
                    if (null == e)
                        throw "RSASetPrivateEx E == null";
                    if (0 == t.length)
                        throw "RSASetPrivateEx N.length == 0";
                    if (0 == e.length)
                        throw "RSASetPrivateEx E.length == 0";
                    if (!(null != t && null != e && t.length > 0 && e.length > 0))
                        throw "Invalid RSA private key in RSASetPrivateEx";
                    this.n = Rt(t, 16),
                    this.e = parseInt(e, 16),
                    this.d = Rt(n, 16),
                    this.p = Rt(o, 16),
                    this.q = Rt(i, 16),
                    this.dmp1 = Rt(r, 16),
                    this.dmq1 = Rt(a, 16),
                    this.coeff = Rt(s, 16)
                }
                function l(t, e) {
                    var n = new ut,
                    o = t >> 1;
                    this.e = parseInt(e, 16);
                    for (var i = new k(e, 16); ; ) {
                        for (; this.p = new k(t - o, 1, n), 0 != this.p.subtract(k.ONE).gcd(i).compareTo(k.ONE) || !this.p.isProbablePrime(10); );
                        for (; this.q = new k(o, 1, n), 0 != this.q.subtract(k.ONE).gcd(i).compareTo(k.ONE) || !this.q.isProbablePrime(10); );
                        if (this.p.compareTo(this.q) <= 0) {
                            var r = this.p;
                            this.p = this.q,
                            this.q = r
                        }
                        var a = this.p.subtract(k.ONE),
                        s = this.q.subtract(k.ONE),
                        c = a.multiply(s);
                        if (0 == c.gcd(i).compareTo(k.ONE)) {
                            this.n = this.p.multiply(this.q),
                            this.d = i.modInverse(c),
                            this.dmp1 = this.d.mod(a),
                            this.dmq1 = this.d.mod(s),
                            this.coeff = this.q.modInverse(this.p);
                            break
                        }
                    }
                    this.isPrivate = !0
                }
                function u(t) {
                    if (null == this.p || null == this.q)
                        return t.modPow(this.d, this.n);
                    for (var e = t.mod(this.p).modPow(this.dmp1, this.p), n = t.mod(this.q).modPow(this.dmq1, this.q); e.compareTo(n) < 0; )
                        e = e.add(this.p);
                    return e.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)
                }
                function d(t) {
                    var e = Rt(t, 16),
                    n = this.doPrivate(e);
                    return null == n ? null : i(n, this.n.bitLength() + 7 >> 3)
                }
                function p(t, e, n) {
                    var o = Rt(t, 16),
                    i = this.doPrivate(o);
                    return null == i ? null : a(i, this.n.bitLength() + 7 >> 3, e, n)
                }
                function h() {
                    if (this.s < 0) {
                        if (1 == this.t)
                            return this[0] - this.DV;
                        if (0 == this.t)
                            return -1
                    } else {
                        if (1 == this.t)
                            return this[0];
                        if (0 == this.t)
                            return 0
                    }
                    return (this[1] & (1 << 32 - this.DB) - 1) << this.DB | this[0]
                }
                function f() {
                    return 0 == this.t ? this.s : this[0] << 24 >> 24
                }
                function _() {
                    return 0 == this.t ? this.s : this[0] << 16 >> 16
                }
                function m(t) {
                    return Math.floor(Math.LN2 * this.DB / Math.log(t))
                }
                function g() {
                    return this.s < 0 ? -1 : this.t <= 0 || 1 == this.t && this[0] <= 0 ? 0 : 1
                }
                function y(t) {
                    if (null == t && (t = 10), 0 == this.signum() || t < 2 || t > 36)
                        return "0";
                    var e = this.chunkSize(t),
                    n = Math.pow(t, e),
                    o = W(n),
                    i = B(),
                    r = B(),
                    a = "";
                    for (this.divRemTo(o, i, r); i.signum() > 0; )
                        a = (n + r.intValue()).toString(t).substr(1) + a, i.divRemTo(o, i, r);
                    return r.intValue().toString(t) + a
                }
                function v(t, e) {
                    this.fromInt(0),
                    null == e && (e = 10);
                    for (var n = this.chunkSize(e), o = Math.pow(e, n), i = !1, r = 0, a = 0, s = 0; s < t.length; ++s) {
                        var c = V(t, s);
                        c < 0 ? "-" == t.charAt(s) && 0 == this.signum() && (i = !0) : (a = e * a + c, ++r >= n && (this.dMultiply(o), this.dAddOffset(a, 0), r = 0, a = 0))
                    }
                    r > 0 && (this.dMultiply(Math.pow(e, r)), this.dAddOffset(a, 0)),
                    i && k.ZERO.subTo(this, this)
                }
                function b(t, e, n) {
                    if ("number" == typeof e)
                        if (t < 2)
                            this.fromInt(1);
                        else
                            for (this.fromNumber(t, n), this.testBit(t - 1) || this.bitwiseTo(k.ONE.shiftLeft(t - 1), I, this), this.isEven() && this.dAddOffset(1, 0); !this.isProbablePrime(e); )
                                this.dAddOffset(2, 0), this.bitLength() > t && this.subTo(k.ONE.shiftLeft(t - 1), this);
                    else {
                        var o = new Array,
                        i = 7 & t;
                        o.length = 1 + (t >> 3),
                        e.nextBytes(o),
                        i > 0 ? o[0] &= (1 << i) - 1 : o[0] = 0,
                        this.fromString(o, 256)
                    }
                }
                function S() {
                    var t = this.t,
                    e = new Array;
                    e[0] = this.s;
                    var n,
                    o = this.DB - t * this.DB % 8,
                    i = 0;
                    if (t-- > 0)
                        for (o < this.DB && (n = this[t] >> o) != (this.s & this.DM) >> o && (e[i++] = n | this.s << this.DB - o); t >= 0; )
                            o < 8 ? (n = (this[t] & (1 << o) - 1) << 8 - o, n |= this[--t] >> (o += this.DB - 8)) : (n = this[t] >> (o -= 8) & 255, o <= 0 && (o += this.DB, --t)), 0 != (128 & n) && (n |= -256), 0 == i && (128 & this.s) != (128 & n) && ++i, (i > 0 || n != this.s) && (e[i++] = n);
                    return e
                }
                function A(t, e, n) {
                    var o,
                    i,
                    r = Math.min(t.t, this.t);
                    for (o = 0; o < r; ++o)
                        n[o] = e(this[o], t[o]);
                    if (t.t < this.t) {
                        for (i = t.s & this.DM, o = r; o < this.t; ++o)
                            n[o] = e(this[o], i);
                        n.t = this.t
                    } else {
                        for (i = this.s & this.DM, o = r; o < t.t; ++o)
                            n[o] = e(i, t[o]);
                        n.t = t.t
                    }
                    n.s = e(this.s, t.s),
                    n.clamp()
                }
                function C(t, e) {
                    return t & e
                }
                function I(t, e) {
                    return t | e
                }
                function T(t, e) {
                    return t ^ e
                }
                function E(t, e) {
                    return t & ~e
                }
                function w(t) {
                    if (0 == t)
                        return -1;
                    var e = 0;
                    return 0 == (65535 & t) && (t >>= 16, e += 16),
                    0 == (255 & t) && (t >>= 8, e += 8),
                    0 == (15 & t) && (t >>= 4, e += 4),
                    0 == (3 & t) && (t >>= 2, e += 2),
                    0 == (1 & t) && ++e,
                    e
                }
                function P(t) {
                    for (var e = 0; 0 != t; )
                        t &= t - 1, ++e;
                    return e
                }
                function M() {}
                function D(t) {
                    return t
                }
                function O(t) {
                    this.r2 = B(),
                    this.q3 = B(),
                    k.ONE.dlShiftTo(2 * t.t, this.r2),
                    this.mu = this.r2.divide(t),
                    this.m = t
                }
                n.pkcs1unpad2 = i,
                n.oaep_mgf1_str = r,
                n.oaep_unpad = a,
                n.RSASetPrivate = s,
                n.RSASetPrivateEx = c,
                n.RSAGenerate = l,
                n.RSADoPrivate = u,
                n.RSADecrypt = d,
                n.RSADecryptOAEP = p,
                n.bnIntValue = h,
                n.bnByteValue = f,
                n.bnShortValue = _,
                n.bnpChunkSize = m,
                n.bnSigNum = g,
                n.bnpToRadix = y,
                n.bnpFromRadix = v,
                n.bnpFromNumber = b,
                n.bnToByteArray = S,
                n.bnpBitwiseTo = A,
                n.hex2b64 = Z,
                n.RSAKey = Bt,
                Bt.prototype.doPrivate = u,
                Bt.prototype.setPrivate = s,
                Bt.prototype.setPrivateEx = c,
                Bt.prototype.generate = l,
                Bt.prototype.decrypt = d,
                Bt.prototype.decryptOAEP = p,
                M.prototype.convert = D,
                M.prototype.revert = D,
                M.prototype.mulTo = function (t, e, n) {
                    t.multiplyTo(e, n)
                },
                M.prototype.sqrTo = function (t, e) {
                    t.squareTo(e)
                },
                O.prototype.convert = function (t) {
                    if (t.s < 0 || t.t > 2 * this.m.t)
                        return t.mod(this.m);
                    if (t.compareTo(this.m) < 0)
                        return t;
                    var e = B();
                    return t.copyTo(e),
                    this.reduce(e),
                    e
                },
                O.prototype.revert = function (t) {
                    return t
                },
                O.prototype.reduce = function (t) {
                    for (t.drShiftTo(this.m.t - 1, this.r2), t.t > this.m.t + 1 && (t.t = this.m.t + 1, t.clamp()), this.mu.multiplyUpperTo(this.r2, this.m.t + 1, this.q3), this.m.multiplyLowerTo(this.q3, this.m.t + 1, this.r2); t.compareTo(this.r2) < 0; )
                        t.dAddOffset(1, this.m.t + 1);
                    for (t.subTo(this.r2, t); t.compareTo(this.m) >= 0; )
                        t.subTo(this.m, t)
                },
                O.prototype.mulTo = function (t, e, n) {
                    t.multiplyTo(e, n),
                    this.reduce(n)
                },
                O.prototype.sqrTo = function (t, e) {
                    t.squareTo(e),
                    this.reduce(e)
                };
                var x,
                R = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97, 101, 103, 107, 109, 113, 127, 131, 137, 139, 149, 151, 157, 163, 167, 173, 179, 181, 191, 193, 197, 199, 211, 223, 227, 229, 233, 239, 241, 251, 257, 263, 269, 271, 277, 281, 283, 293, 307, 311, 313, 317, 331, 337, 347, 349, 353, 359, 367, 373, 379, 383, 389, 397, 401, 409, 419, 421, 431, 433, 439, 443, 449, 457, 461, 463, 467, 479, 487, 491, 499, 503, 509, 521, 523, 541, 547, 557, 563, 569, 571, 577, 587, 593, 599, 601, 607, 613, 617, 619, 631, 641, 643, 647, 653, 659, 661, 673, 677, 683, 691, 701, 709, 719, 727, 733, 739, 743, 751, 757, 761, 769, 773, 787, 797, 809, 811, 821, 823, 827, 829, 839, 853, 857, 859, 863, 877, 881, 883, 887, 907, 911, 919, 929, 937, 941, 947, 953, 967, 971, 977, 983, 991, 997],
                L = (1 << 26) / R[R.length - 1];
                if (k.prototype.chunkSize = m, k.prototype.toRadix = y, k.prototype.fromRadix = v, k.prototype.fromNumber = b, k.prototype.bitwiseTo = A, k.prototype.changeBit = function (t, e) {
                    var n = k.ONE.shiftLeft(t);
                    return this.bitwiseTo(n, e, n),
                    n
                }, k.prototype.addTo = function (t, e) {
                    for (var n = 0, o = 0, i = Math.min(t.t, this.t); n < i; )
                        o += this[n] + t[n], e[n++] = o & this.DM, o >>= this.DB;
                    if (t.t < this.t) {
                        for (o += t.s; n < this.t; )
                            o += this[n], e[n++] = o & this.DM, o >>= this.DB;
                        o += this.s
                    } else {
                        for (o += this.s; n < t.t; )
                            o += t[n], e[n++] = o & this.DM, o >>= this.DB;
                        o += t.s
                    }
                    e.s = o < 0 ? -1 : 0,
                    o > 0 ? e[n++] = o : o < -1 && (e[n++] = this.DV + o),
                    e.t = n,
                    e.clamp()
                }, k.prototype.dMultiply = function (t) {
                    this[this.t] = this.am(0, t - 1, this, 0, 0, this.t),
                    ++this.t,
                    this.clamp()
                }, k.prototype.dAddOffset = function (t, e) {
                    if (0 != t) {
                        for (; this.t <= e; )
                            this[this.t++] = 0;
                        for (this[e] += t; this[e] >= this.DV; )
                            this[e] -= this.DV, ++e >= this.t && (this[this.t++] = 0) , ++this[e]
                        }
                    }, k.prototype.multiplyLowerTo = function (t, e, n) {
                        var o,
                        i = Math.min(this.t + t.t, e);
                        for (n.s = 0, n.t = i; i > 0; )
                            n[--i] = 0;
                        for (o = n.t - this.t; i < o; ++i)
                            n[i + this.t] = this.am(0, t[i], n, i, 0, this.t);
                        for (o = Math.min(t.t, e); i < o; ++i)
                            this.am(0, t[i], n, i, 0, e - i);
                        n.clamp()
                    }, k.prototype.multiplyUpperTo = function (t, e, n) {
                        --e;
                        var o = n.t = this.t + t.t - e;
                        for (n.s = 0; --o >= 0; )
                            n[o] = 0;
                        for (o = Math.max(e - this.t, 0); o < t.t; ++o)
                            n[this.t + o - e] = this.am(e - o, t[o], n, 0, 0, this.t + o - e);
                        n.clamp(),
                        n.drShiftTo(1, n)
                    }, k.prototype.modInt = function (t) {
                        if (t <= 0)
                            return 0;
                        var e = this.DV % t,
                        n = this.s < 0 ? t - 1 : 0;
                        if (this.t > 0)
                            if (0 == e)
                                n = this[0] % t;
                            else
                                for (var o = this.t - 1; o >= 0; --o)
                                    n = (e * n + this[o]) % t;
                        return n
                    }, k.prototype.millerRabin = function (t) {
                        var e = this.subtract(k.ONE),
                        n = e.getLowestSetBit();
                        if (n <= 0)
                            return !1;
                        var o = e.shiftRight(n);
                        (t = t + 1 >> 1) > R.length && (t = R.length);
                        for (var i = B(), r = 0; r < t; ++r) {
                            i.fromInt(R[Math.floor(Math.random() * R.length)]);
                            var a = i.modPow(o, this);
                            if (0 != a.compareTo(k.ONE) && 0 != a.compareTo(e)) {
                                for (var s = 1; s++ < n && 0 != a.compareTo(e); )
                                    if (0 == (a = a.modPowInt(2, this)).compareTo(k.ONE))
                                        return !1;
                                if (0 != a.compareTo(e))
                                    return !1
                            }
                        }
                        return !0
                    }, k.prototype.clone = function () {
                        var t = B();
                        return this.copyTo(t),
                        t
                    }, k.prototype.intValue = h, k.prototype.byteValue = f, k.prototype.shortValue = _, k.prototype.signum = g, k.prototype.toByteArray = S, k.prototype.equals = function (t) {
                        return 0 == this.compareTo(t)
                    }, k.prototype.min = function (t) {
                        return this.compareTo(t) < 0 ? this : t
                    }, k.prototype.max = function (t) {
                        return this.compareTo(t) > 0 ? this : t
                    }, k.prototype.and = function (t) {
                        var e = B();
                        return this.bitwiseTo(t, C, e),
                        e
                    }, k.prototype.or = function (t) {
                        var e = B();
                        return this.bitwiseTo(t, I, e),
                        e
                    }, k.prototype.xor = function (t) {
                        var e = B();
                        return this.bitwiseTo(t, T, e),
                        e
                    }, k.prototype.andNot = function (t) {
                        var e = B();
                        return this.bitwiseTo(t, E, e),
                        e
                    }, k.prototype.not = function () {
                        for (var t = B(), e = 0; e < this.t; ++e)
                            t[e] = this.DM & ~this[e];
                        return t.t = this.t,
                        t.s = ~this.s,
                        t
                    }, k.prototype.shiftLeft = function (t) {
                        var e = B();
                        return t < 0 ? this.rShiftTo(-t, e) : this.lShiftTo(t, e),
                        e
                    }, k.prototype.shiftRight = function (t) {
                        var e = B();
                        return t < 0 ? this.lShiftTo(-t, e) : this.rShiftTo(t, e),
                        e
                    }, k.prototype.getLowestSetBit = function () {
                        for (var t = 0; t < this.t; ++t)
                            if (0 != this[t])
                                return t * this.DB + w(this[t]);
                        return this.s < 0 ? this.t * this.DB : -1
                    }, k.prototype.bitCount = function () {
                        for (var t = 0, e = this.s & this.DM, n = 0; n < this.t; ++n)
                            t += P(this[n] ^ e);
                        return t
                    }, k.prototype.testBit = function (t) {
                        var e = Math.floor(t / this.DB);
                        return e >= this.t ? 0 != this.s : 0 != (this[e] & 1 << t % this.DB)
                    }, k.prototype.setBit = function (t) {
                        return this.changeBit(t, I)
                    }, k.prototype.clearBit = function (t) {
                        return this.changeBit(t, E)
                    }, k.prototype.flipBit = function (t) {
                        return this.changeBit(t, T)
                    }, k.prototype.add = function (t) {
                        var e = B();
                        return this.addTo(t, e),
                        e
                    }, k.prototype.subtract = function (t) {
                        var e = B();
                        return this.subTo(t, e),
                        e
                    }, k.prototype.multiply = function (t) {
                        var e = B();
                        return this.multiplyTo(t, e),
                        e
                    }, k.prototype.divide = function (t) {
                        var e = B();
                        return this.divRemTo(t, e, null),
                        e
                    }, k.prototype.remainder = function (t) {
                        var e = B();
                        return this.divRemTo(t, null, e),
                        e
                    }, k.prototype.divideAndRemainder = function (t) {
                        var e = B(),
                        n = B();
                        return this.divRemTo(t, e, n),
                        new Array(e, n)
                    }, k.prototype.modPow = function (t, e) {
                        var n,
                        o,
                        i = t.bitLength(),
                        r = W(1);
                        if (i <= 0)
                            return r;
                        n = i < 18 ? 1 : i < 48 ? 3 : i < 144 ? 4 : i < 768 ? 5 : 6,
                        o = i < 8 ? new K(e) : e.isEven() ? new O(e) : new z(e);
                        var a = new Array,
                        s = 3,
                        c = n - 1,
                        l = (1 << n) - 1;
                        if (a[1] = o.convert(this), n > 1) {
                            var u = B();
                            for (o.sqrTo(a[1], u); s <= l; )
                                a[s] = B(), o.mulTo(u, a[s - 2], a[s]), s += 2
                        }
                        var d,
                        p,
                        h = t.t - 1,
                        f = !0,
                        _ = B();
                        for (i = Y(t[h]) - 1; h >= 0; ) {
                            for (i >= c ? d = t[h] >> i - c & l : (d = (t[h] & (1 << i + 1) - 1) << c - i, h > 0 && (d |= t[h - 1] >> this.DB + i - c)), s = n; 0 == (1 & d); )
                                d >>= 1, --s;
                            if ((i -= s) < 0 && (i += this.DB, --h), f)
                                a[d].copyTo(r), f = !1;
                            else {
                                for (; s > 1; )
                                    o.sqrTo(r, _), o.sqrTo(_, r), s -= 2;
                                s > 0 ? o.sqrTo(r, _) : (p = r, r = _, _ = p),
                                o.mulTo(_, a[d], r)
                            }
                            for (; h >= 0 && 0 == (t[h] & 1 << i); )
                                o.sqrTo(r, _), p = r, r = _, _ = p, --i < 0 && (i = this.DB - 1, --h)
                        }
                        return o.revert(r)
                    }, k.prototype.modInverse = function (t) {
                        var e = t.isEven();
                        if (this.isEven() && e || 0 == t.signum())
                            return k.ZERO;
                        for (var n = t.clone(), o = this.clone(), i = W(1), r = W(0), a = W(0), s = W(1); 0 != n.signum(); ) {
                            for (; n.isEven(); )
                                n.rShiftTo(1, n), e ? (i.isEven() && r.isEven() || (i.addTo(this, i), r.subTo(t, r)), i.rShiftTo(1, i)) : r.isEven() || r.subTo(t, r), r.rShiftTo(1, r);
                            for (; o.isEven(); )
                                o.rShiftTo(1, o), e ? (a.isEven() && s.isEven() || (a.addTo(this, a), s.subTo(t, s)), a.rShiftTo(1, a)) : s.isEven() || s.subTo(t, s), s.rShiftTo(1, s);
                            n.compareTo(o) >= 0 ? (n.subTo(o, n), e && i.subTo(a, i), r.subTo(s, r)) : (o.subTo(n, o), e && a.subTo(i, a), s.subTo(r, s))
                        }
                        return 0 != o.compareTo(k.ONE) ? k.ZERO : s.compareTo(t) >= 0 ? s.subtract(t) : s.signum() < 0 ? (s.addTo(t, s), s.signum() < 0 ? s.add(t) : s) : s
                    }, k.prototype.pow = function (t) {
                        return this.exp(t, new M)
                    }, k.prototype.gcd = function (t) {
                        var e = this.s < 0 ? this.negate() : this.clone(),
                        n = t.s < 0 ? t.negate() : t.clone();
                        if (e.compareTo(n) < 0) {
                            var o = e;
                            e = n,
                            n = o
                        }
                        var i = e.getLowestSetBit(),
                        r = n.getLowestSetBit();
                        if (r < 0)
                            return e;
                        for (i < r && (r = i), r > 0 && (e.rShiftTo(r, e), n.rShiftTo(r, n)); e.signum() > 0; )
                            (i = e.getLowestSetBit()) > 0 && e.rShiftTo(i, e), (i = n.getLowestSetBit()) > 0 && n.rShiftTo(i, n), e.compareTo(n) >= 0 ? (e.subTo(n, e), e.rShiftTo(1, e)) : (n.subTo(e, n), n.rShiftTo(1, n));
                        return r > 0 && n.lShiftTo(r, n),
                        n
                    }, k.prototype.isProbablePrime = function (t) {
                        var e,
                        n = this.abs();
                        if (1 == n.t && n[0] <= R[R.length - 1]) {
                            for (e = 0; e < R.length; ++e)
                                if (n[0] == R[e])
                                    return !0;
                            return !1
                        }
                        if (n.isEven())
                            return !1;
                        for (e = 1; e < R.length; ) {
                            for (var o = R[e], i = e + 1; i < R.length && o < L; )
                                o *= R[i++];
                            for (o = n.modInt(o); e < i; )
                                if (o % R[e++] == 0)
                                    return !1
                        }
                        return n.millerRabin(t)
                    }, k.prototype.square = function () {
                        var t = B();
                        return this.squareTo(t),
                        t
                    }, void 0 === N)var N = {};
                N.lang = {
                    extend: function (t, e, n) {
                        if (!e || !t)
                            throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");
                        var o = function () {};
                        if (o.prototype = e.prototype, t.prototype = new o, t.prototype.constructor = t, t.superclass = e.prototype, e.prototype.constructor == Object.prototype.constructor && (e.prototype.constructor = e), n) {
                            var i;
                            for (i in n)
                                t.prototype[i] = n[i];
                            var r = function () {},
                            a = ["toString", "valueOf"];
                            try {
                                /MSIE/.test(navigator.userAgent) && (r = function (t, e) {
                                    for (i = 0; i < a.length; i += 1) {
                                        var n = a[i],
                                        o = e[n];
                                        "function" == typeof o && o != Object.prototype[n] && (t[n] = o)
                                    }
                                })
                            } catch (t) {}
                            r(t.prototype, n)
                        }
                    }
                },
                void 0 !== pt && pt || (pt = {}),
                void 0 !== pt.asn1 && pt.asn1 || (pt.asn1 = {}),
                pt.asn1.ASN1Util = new function () {
                    this.integerToByteHex = function (t) {
                        var e = t.toString(16);
                        return e.length % 2 == 1 && (e = "0" + e),
                        e
                    },
                    this.bigIntToMinTwosComplementsHex = function (t) {
                        var e = t.toString(16);
                        if ("-" != e.substr(0, 1))
                            e.length % 2 == 1 ? e = "0" + e : e.match(/^[0-7]/) || (e = "00" + e);
                        else {
                            var n = e.substr(1).length;
                            n % 2 == 1 ? n += 1 : e.match(/^[0-7]/) || (n += 2);
                            for (var o = "", i = 0; i < n; i++)
                                o += "f";
                            e = new k(o, 16).xor(t).add(k.ONE).toString(16).replace(/^-/, "")
                        }
                        return e
                    },
                    this.getPEMStringFromHex = function (t, e) {
                        return Pt(t, e)
                    },
                    this.newObject = function (t) {
                        var e = pt.asn1,
                        n = e.DERBoolean,
                        o = e.DERInteger,
                        i = e.DERBitString,
                        r = e.DEROctetString,
                        a = e.DERNull,
                        s = e.DERObjectIdentifier,
                        c = e.DEREnumerated,
                        l = e.DERUTF8String,
                        u = e.DERNumericString,
                        d = e.DERPrintableString,
                        p = e.DERTeletexString,
                        h = e.DERIA5String,
                        f = e.DERUTCTime,
                        _ = e.DERGeneralizedTime,
                        m = e.DERSequence,
                        g = e.DERSet,
                        y = e.DERTaggedObject,
                        v = e.ASN1Util.newObject,
                        b = Object.keys(t);
                        if (1 != b.length)
                            throw "key of param shall be only one.";
                        var S = b[0];
                        if (-1 == ":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":" + S + ":"))
                            throw "undefined key: " + S;
                        if ("bool" == S)
                            return new n(t[S]);
                        if ("int" == S)
                            return new o(t[S]);
                        if ("bitstr" == S)
                            return new i(t[S]);
                        if ("octstr" == S)
                            return new r(t[S]);
                        if ("null" == S)
                            return new a(t[S]);
                        if ("oid" == S)
                            return new s(t[S]);
                        if ("enum" == S)
                            return new c(t[S]);
                        if ("utf8str" == S)
                            return new l(t[S]);
                        if ("numstr" == S)
                            return new u(t[S]);
                        if ("prnstr" == S)
                            return new d(t[S]);
                        if ("telstr" == S)
                            return new p(t[S]);
                        if ("ia5str" == S)
                            return new h(t[S]);
                        if ("utctime" == S)
                            return new f(t[S]);
                        if ("gentime" == S)
                            return new _(t[S]);
                        if ("seq" == S) {
                            for (var A = t[S], C = [], I = 0; I < A.length; I++) {
                                var T = v(A[I]);
                                C.push(T)
                            }
                            return new m({
                                array: C
                            })
                        }
                        if ("set" == S) {
                            for (A = t[S], C = [], I = 0; I < A.length; I++) {
                                T = v(A[I]);
                                C.push(T)
                            }
                            return new g({
                                array: C
                            })
                        }
                        if ("tag" == S) {
                            var E = t[S];
                            if ("[object Array]" === Object.prototype.toString.call(E) && 3 == E.length) {
                                var w = v(E[2]);
                                return new y({
                                    tag: E[0],
                                    explicit: E[1],
                                    obj: w
                                })
                            }
                            var P = {};
                            if (void 0 !== E.explicit && (P.explicit = E.explicit), void 0 !== E.tag && (P.tag = E.tag), void 0 === E.obj)
                                throw "obj shall be specified for 'tag'.";
                            return P.obj = v(E.obj),
                            new y(P)
                        }
                    },
                    this.jsonToASN1HEX = function (t) {
                        return this.newObject(t).getEncodedHex()
                    }
                },
                pt.asn1.ASN1Util.oidHexToInt = function (t) {
                    for (var e = "", n = parseInt(t.substr(0, 2), 16), o = (e = Math.floor(n / 40) + "." + n % 40, ""), i = 2; i < t.length; i += 2) {
                        var r = ("00000000" + parseInt(t.substr(i, 2), 16).toString(2)).slice(-8);
                        if (o += r.substr(1, 7), "0" == r.substr(0, 1))
                            e = e + "." + new k(o, 2).toString(10), o = ""
                    }
                    return e
                },
                pt.asn1.ASN1Util.oidIntToHex = function (t) {
                    var e = function (t) {
                        var e = t.toString(16);
                        return 1 == e.length && (e = "0" + e),
                        e
                    },
                    n = function (t) {
                        var n = "",
                        o = new k(t, 10).toString(2),
                        i = 7 - o.length % 7;
                        7 == i && (i = 0);
                        for (var r = "", a = 0; a < i; a++)
                            r += "0";
                        o = r + o;
                        for (a = 0; a < o.length - 1; a += 7) {
                            var s = o.substr(a, 7);
                            a != o.length - 7 && (s = "1" + s),
                            n += e(parseInt(s, 2))
                        }
                        return n
                    };
                    if (!t.match(/^[0-9.]+$/))
                        throw "malformed oid string: " + t;
                    var o = "",
                    i = t.split("."),
                    r = 40 * parseInt(i[0]) + parseInt(i[1]);
                    o += e(r),
                    i.splice(0, 2);
                    for (var a = 0; a < i.length; a++)
                        o += n(i[a]);
                    return o
                },
                pt.asn1.ASN1Object = function () {
                    this.getLengthHexFromValue = function () {
                        if (void 0 === this.hV || null == this.hV)
                            throw "this.hV is null or undefined.";
                        if (this.hV.length % 2 == 1)
                            throw "value hex must be even length: n=" + "".length + ",v=" + this.hV;
                        var t = this.hV.length / 2,
                        e = t.toString(16);
                        if (e.length % 2 == 1 && (e = "0" + e), t < 128)
                            return e;
                        var n = e.length / 2;
                        if (n > 15)
                            throw "ASN.1 length too long to represent by 8x: n = " + t.toString(16);
                        return (128 + n).toString(16) + e
                    },
                    this.getEncodedHex = function () {
                        return (null == this.hTLV || this.isModified) && (this.hV = this.getFreshValueHex(), this.hL = this.getLengthHexFromValue(), this.hTLV = this.hT + this.hL + this.hV, this.isModified = !1),
                        this.hTLV
                    },
                    this.getValueHex = function () {
                        return this.getEncodedHex(),
                        this.hV
                    },
                    this.getFreshValueHex = function () {
                        return ""
                    }
                },
                pt.asn1.DERAbstractString = function (t) {
                    pt.asn1.DERAbstractString.superclass.constructor.call(this);
                    this.getString = function () {
                        return this.s
                    },
                    this.setString = function (t) {
                        this.hTLV = null,
                        this.isModified = !0,
                        this.s = t,
                        this.hV = St(this.s).toLowerCase()
                    },
                    this.setStringHex = function (t) {
                        this.hTLV = null,
                        this.isModified = !0,
                        this.s = null,
                        this.hV = t
                    },
                    this.getFreshValueHex = function () {
                        return this.hV
                    },
                    void 0 !== t && ("string" == typeof t ? this.setString(t) : void 0 !== t.str ? this.setString(t.str) : void 0 !== t.hex && this.setStringHex(t.hex))
                },
                N.lang.extend(pt.asn1.DERAbstractString, pt.asn1.ASN1Object),
                pt.asn1.DERAbstractTime = function (t) {
                    pt.asn1.DERAbstractTime.superclass.constructor.call(this);
                    this.localDateToUTC = function (t) {
                        return utc = t.getTime() + 6e4 * t.getTimezoneOffset(),
                        new Date(utc)
                    },
                    this.formatDate = function (t, e, n) {
                        var o = this.zeroPadding,
                        i = this.localDateToUTC(t),
                        r = String(i.getFullYear());
                        "utc" == e && (r = r.substr(2, 2));
                        var a = r + o(String(i.getMonth() + 1), 2) + o(String(i.getDate()), 2) + o(String(i.getHours()), 2) + o(String(i.getMinutes()), 2) + o(String(i.getSeconds()), 2);
                        if (!0 === n) {
                            var s = i.getMilliseconds();
                            if (0 != s) {
                                var c = o(String(s), 3);
                                a = a + "." + (c = c.replace(/[0]+$/, ""))
                            }
                        }
                        return a + "Z"
                    },
                    this.zeroPadding = function (t, e) {
                        return t.length >= e ? t : new Array(e - t.length + 1).join("0") + t
                    },
                    this.getString = function () {
                        return this.s
                    },
                    this.setString = function (t) {
                        this.hTLV = null,
                        this.isModified = !0,
                        this.s = t,
                        this.hV = mt(t)
                    },
                    this.setByDateValue = function (t, e, n, o, i, r) {
                        var a = new Date(Date.UTC(t, e - 1, n, o, i, r, 0));
                        this.setByDate(a)
                    },
                    this.getFreshValueHex = function () {
                        return this.hV
                    }
                },
                N.lang.extend(pt.asn1.DERAbstractTime, pt.asn1.ASN1Object),
                pt.asn1.DERAbstractStructured = function (t) {
                    pt.asn1.DERAbstractString.superclass.constructor.call(this);
                    this.setByASN1ObjectArray = function (t) {
                        this.hTLV = null,
                        this.isModified = !0,
                        this.asn1Array = t
                    },
                    this.appendASN1Object = function (t) {
                        this.hTLV = null,
                        this.isModified = !0,
                        this.asn1Array.push(t)
                    },
                    this.asn1Array = new Array,
                    void 0 !== t && void 0 !== t.array && (this.asn1Array = t.array)
                },
                N.lang.extend(pt.asn1.DERAbstractStructured, pt.asn1.ASN1Object),
                pt.asn1.DERBoolean = function () {
                    pt.asn1.DERBoolean.superclass.constructor.call(this),
                    this.hT = "01",
                    this.hTLV = "0101ff"
                },
                N.lang.extend(pt.asn1.DERBoolean, pt.asn1.ASN1Object),
                pt.asn1.DERInteger = function (t) {
                    pt.asn1.DERInteger.superclass.constructor.call(this),
                    this.hT = "02",
                    this.setByBigInteger = function (t) {
                        this.hTLV = null,
                        this.isModified = !0,
                        this.hV = pt.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)
                    },
                    this.setByInteger = function (t) {
                        var e = new k(String(t), 10);
                        this.setByBigInteger(e)
                    },
                    this.setValueHex = function (t) {
                        this.hV = t
                    },
                    this.getFreshValueHex = function () {
                        return this.hV
                    },
                    void 0 !== t && (void 0 !== t.bigint ? this.setByBigInteger(t.bigint) : void 0 !== t.int ? this.setByInteger(t.int) : "number" == typeof t ? this.setByInteger(t) : void 0 !== t.hex && this.setValueHex(t.hex))
                },
                N.lang.extend(pt.asn1.DERInteger, pt.asn1.ASN1Object),
                pt.asn1.DERBitString = function (t) {
                    if (void 0 !== t && void 0 !== t.obj) {
                        var e = pt.asn1.ASN1Util.newObject(t.obj);
                        t.hex = "00" + e.getEncodedHex()
                    }
                    pt.asn1.DERBitString.superclass.constructor.call(this),
                    this.hT = "03",
                    this.setHexValueIncludingUnusedBits = function (t) {
                        this.hTLV = null,
                        this.isModified = !0,
                        this.hV = t
                    },
                    this.setUnusedBitsAndHexValue = function (t, e) {
                        if (t < 0 || 7 < t)
                            throw "unused bits shall be from 0 to 7: u = " + t;
                        var n = "0" + t;
                        this.hTLV = null,
                        this.isModified = !0,
                        this.hV = n + e
                    },
                    this.setByBinaryString = function (t) {
                        var e = 8 - (t = t.replace(/0+$/, "")).length % 8;
                        8 == e && (e = 0);
                        for (var n = 0; n <= e; n++)
                            t += "0";
                        var o = "";
                        for (n = 0; n < t.length - 1; n += 8) {
                            var i = t.substr(n, 8),
                            r = parseInt(i, 2).toString(16);
                            1 == r.length && (r = "0" + r),
                            o += r
                        }
                        this.hTLV = null,
                        this.isModified = !0,
                        this.hV = "0" + e + o
                    },
                    this.setByBooleanArray = function (t) {
                        for (var e = "", n = 0; n < t.length; n++)
                            1 == t[n] ? e += "1" : e += "0";
                        this.setByBinaryString(e)
                    },
                    this.newFalseArray = function (t) {
                        for (var e = new Array(t), n = 0; n < t; n++)
                            e[n] = !1;
                        return e
                    },
                    this.getFreshValueHex = function () {
                        return this.hV
                    },
                    void 0 !== t && ("string" == typeof t && t.toLowerCase().match(/^[0-9a-f]+$/) ? this.setHexValueIncludingUnusedBits(t) : void 0 !== t.hex ? this.setHexValueIncludingUnusedBits(t.hex) : void 0 !== t.bin ? this.setByBinaryString(t.bin) : void 0 !== t.array && this.setByBooleanArray(t.array))
                },
                N.lang.extend(pt.asn1.DERBitString, pt.asn1.ASN1Object),
                pt.asn1.DEROctetString = function (t) {
                    if (void 0 !== t && void 0 !== t.obj) {
                        var e = pt.asn1.ASN1Util.newObject(t.obj);
                        t.hex = e.getEncodedHex()
                    }
                    pt.asn1.DEROctetString.superclass.constructor.call(this, t),
                    this.hT = "04"
                },
                N.lang.extend(pt.asn1.DEROctetString, pt.asn1.DERAbstractString),
                pt.asn1.DERNull = function () {
                    pt.asn1.DERNull.superclass.constructor.call(this),
                    this.hT = "05",
                    this.hTLV = "0500"
                },
                N.lang.extend(pt.asn1.DERNull, pt.asn1.ASN1Object),
                pt.asn1.DERObjectIdentifier = function (t) {
                    var e = function (t) {
                        var e = t.toString(16);
                        return 1 == e.length && (e = "0" + e),
                        e
                    },
                    n = function (t) {
                        var n = "",
                        o = new k(t, 10).toString(2),
                        i = 7 - o.length % 7;
                        7 == i && (i = 0);
                        for (var r = "", a = 0; a < i; a++)
                            r += "0";
                        o = r + o;
                        for (a = 0; a < o.length - 1; a += 7) {
                            var s = o.substr(a, 7);
                            a != o.length - 7 && (s = "1" + s),
                            n += e(parseInt(s, 2))
                        }
                        return n
                    };
                    pt.asn1.DERObjectIdentifier.superclass.constructor.call(this),
                    this.hT = "06",
                    this.setValueHex = function (t) {
                        this.hTLV = null,
                        this.isModified = !0,
                        this.s = null,
                        this.hV = t
                    },
                    this.setValueOidString = function (t) {
                        if (!t.match(/^[0-9.]+$/))
                            throw "malformed oid string: " + t;
                        var o = "",
                        i = t.split("."),
                        r = 40 * parseInt(i[0]) + parseInt(i[1]);
                        o += e(r),
                        i.splice(0, 2);
                        for (var a = 0; a < i.length; a++)
                            o += n(i[a]);
                        this.hTLV = null,
                        this.isModified = !0,
                        this.s = null,
                        this.hV = o
                    },
                    this.setValueName = function (t) {
                        var e = pt.asn1.x509.OID.name2oid(t);
                        if ("" === e)
                            throw "DERObjectIdentifier oidName undefined: " + t;
                        this.setValueOidString(e)
                    },
                    this.getFreshValueHex = function () {
                        return this.hV
                    },
                    void 0 !== t && ("string" == typeof t ? t.match(/^[0-2].[0-9.]+$/) ? this.setValueOidString(t) : this.setValueName(t) : void 0 !== t.oid ? this.setValueOidString(t.oid) : void 0 !== t.hex ? this.setValueHex(t.hex) : void 0 !== t.name && this.setValueName(t.name))
                },
                N.lang.extend(pt.asn1.DERObjectIdentifier, pt.asn1.ASN1Object),
                pt.asn1.DEREnumerated = function (t) {
                    pt.asn1.DEREnumerated.superclass.constructor.call(this),
                    this.hT = "0a",
                    this.setByBigInteger = function (t) {
                        this.hTLV = null,
                        this.isModified = !0,
                        this.hV = pt.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)
                    },
                    this.setByInteger = function (t) {
                        var e = new k(String(t), 10);
                        this.setByBigInteger(e)
                    },
                    this.setValueHex = function (t) {
                        this.hV = t
                    },
                    this.getFreshValueHex = function () {
                        return this.hV
                    },
                    void 0 !== t && (void 0 !== t.int ? this.setByInteger(t.int) : "number" == typeof t ? this.setByInteger(t) : void 0 !== t.hex && this.setValueHex(t.hex))
                },
                N.lang.extend(pt.asn1.DEREnumerated, pt.asn1.ASN1Object),
                pt.asn1.DERUTF8String = function (t) {
                    pt.asn1.DERUTF8String.superclass.constructor.call(this, t),
                    this.hT = "0c"
                },
                N.lang.extend(pt.asn1.DERUTF8String, pt.asn1.DERAbstractString),
                pt.asn1.DERNumericString = function (t) {
                    pt.asn1.DERNumericString.superclass.constructor.call(this, t),
                    this.hT = "12"
                },
                N.lang.extend(pt.asn1.DERNumericString, pt.asn1.DERAbstractString),
                pt.asn1.DERPrintableString = function (t) {
                    pt.asn1.DERPrintableString.superclass.constructor.call(this, t),
                    this.hT = "13"
                },
                N.lang.extend(pt.asn1.DERPrintableString, pt.asn1.DERAbstractString),
                pt.asn1.DERTeletexString = function (t) {
                    pt.asn1.DERTeletexString.superclass.constructor.call(this, t),
                    this.hT = "14"
                },
                N.lang.extend(pt.asn1.DERTeletexString, pt.asn1.DERAbstractString),
                pt.asn1.DERIA5String = function (t) {
                    pt.asn1.DERIA5String.superclass.constructor.call(this, t),
                    this.hT = "16"
                },
                N.lang.extend(pt.asn1.DERIA5String, pt.asn1.DERAbstractString),
                pt.asn1.DERUTCTime = function (t) {
                    pt.asn1.DERUTCTime.superclass.constructor.call(this, t),
                    this.hT = "17",
                    this.setByDate = function (t) {
                        this.hTLV = null,
                        this.isModified = !0,
                        this.date = t,
                        this.s = this.formatDate(this.date, "utc"),
                        this.hV = mt(this.s)
                    },
                    this.getFreshValueHex = function () {
                        return void 0 === this.date && void 0 === this.s && (this.date = new Date, this.s = this.formatDate(this.date, "utc"), this.hV = mt(this.s)),
                        this.hV
                    },
                    void 0 !== t && (void 0 !== t.str ? this.setString(t.str) : "string" == typeof t && t.match(/^[0-9]{12}Z$/) ? this.setString(t) : void 0 !== t.hex ? this.setStringHex(t.hex) : void 0 !== t.date && this.setByDate(t.date))
                },
                N.lang.extend(pt.asn1.DERUTCTime, pt.asn1.DERAbstractTime),
                pt.asn1.DERGeneralizedTime = function (t) {
                    pt.asn1.DERGeneralizedTime.superclass.constructor.call(this, t),
                    this.hT = "18",
                    this.withMillis = !1,
                    this.setByDate = function (t) {
                        this.hTLV = null,
                        this.isModified = !0,
                        this.date = t,
                        this.s = this.formatDate(this.date, "gen", this.withMillis),
                        this.hV = mt(this.s)
                    },
                    this.getFreshValueHex = function () {
                        return void 0 === this.date && void 0 === this.s && (this.date = new Date, this.s = this.formatDate(this.date, "gen", this.withMillis), this.hV = mt(this.s)),
                        this.hV
                    },
                    void 0 !== t && (void 0 !== t.str ? this.setString(t.str) : "string" == typeof t && t.match(/^[0-9]{14}Z$/) ? this.setString(t) : void 0 !== t.hex ? this.setStringHex(t.hex) : void 0 !== t.date && this.setByDate(t.date), !0 === t.millis && (this.withMillis = !0))
                },
                N.lang.extend(pt.asn1.DERGeneralizedTime, pt.asn1.DERAbstractTime),
                pt.asn1.DERSequence = function (t) {
                    pt.asn1.DERSequence.superclass.constructor.call(this, t),
                    this.hT = "30",
                    this.getFreshValueHex = function () {
                        for (var t = "", e = 0; e < this.asn1Array.length; e++) {
                            t += this.asn1Array[e].getEncodedHex()
                        }
                        return this.hV = t,
                        this.hV
                    }
                },
                N.lang.extend(pt.asn1.DERSequence, pt.asn1.DERAbstractStructured),
                pt.asn1.DERSet = function (t) {
                    pt.asn1.DERSet.superclass.constructor.call(this, t),
                    this.hT = "31",
                    this.sortFlag = !0,
                    this.getFreshValueHex = function () {
                        for (var t = new Array, e = 0; e < this.asn1Array.length; e++) {
                            var n = this.asn1Array[e];
                            t.push(n.getEncodedHex())
                        }
                        return 1 == this.sortFlag && t.sort(),
                        this.hV = t.join(""),
                        this.hV
                    },
                    void 0 !== t && void 0 !== t.sortflag && 0 == t.sortflag && (this.sortFlag = !1)
                },
                N.lang.extend(pt.asn1.DERSet, pt.asn1.DERAbstractStructured),
                pt.asn1.DERTaggedObject = function (t) {
                    pt.asn1.DERTaggedObject.superclass.constructor.call(this),
                    this.hT = "a0",
                    this.hV = "",
                    this.isExplicit = !0,
                    this.asn1Object = null,
                    this.setASN1Object = function (t, e, n) {
                        this.hT = e,
                        this.isExplicit = t,
                        this.asn1Object = n,
                        this.isExplicit ? (this.hV = this.asn1Object.getEncodedHex(), this.hTLV = null, this.isModified = !0) : (this.hV = null, this.hTLV = n.getEncodedHex(), this.hTLV = this.hTLV.replace(/^../, e), this.isModified = !1)
                    },
                    this.getFreshValueHex = function () {
                        return this.hV
                    },
                    void 0 !== t && (void 0 !== t.tag && (this.hT = t.tag), void 0 !== t.explicit && (this.isExplicit = t.explicit), void 0 !== t.obj && (this.asn1Object = t.obj, this.setASN1Object(this.isExplicit, this.hT, this.asn1Object)))
                },
                N.lang.extend(pt.asn1.DERTaggedObject, pt.asn1.ASN1Object);
                function k(t, e, n) {
                    null != t && ("number" == typeof t ? this.fromNumber(t, e, n) : null == e && "string" != typeof t ? this.fromString(t, 256) : this.fromString(t, e))
                }
                function B() {
                    return new k(null)
                }
                "Microsoft Internet Explorer" == navigator.appName ? (k.prototype.am = function (t, e, n, o, i, r) {
                    for (var a = 32767 & e, s = e >> 15; --r >= 0; ) {
                        var c = 32767 & this[t],
                        l = this[t++] >> 15,
                        u = s * c + l * a;
                        i = ((c = a * c + ((32767 & u) << 15) + n[o] + (1073741823 & i)) >>> 30) + (u >>> 15) + s * l + (i >>> 30),
                        n[o++] = 1073741823 & c
                    }
                    return i
                }, x = 30) : "Netscape" != navigator.appName ? (k.prototype.am = function (t, e, n, o, i, r) {
                    for (; --r >= 0; ) {
                        var a = e * this[t++] + n[o] + i;
                        i = Math.floor(a / 67108864),
                        n[o++] = 67108863 & a
                    }
                    return i
                }, x = 26) : (k.prototype.am = function (t, e, n, o, i, r) {
                    for (var a = 16383 & e, s = e >> 14; --r >= 0; ) {
                        var c = 16383 & this[t],
                        l = this[t++] >> 14,
                        u = s * c + l * a;
                        i = ((c = a * c + ((16383 & u) << 14) + n[o] + i) >> 28) + (u >> 14) + s * l,
                        n[o++] = 268435455 & c
                    }
                    return i
                }, x = 28),
                k.prototype.DB = x,
                k.prototype.DM = (1 << x) - 1,
                k.prototype.DV = 1 << x;
                k.prototype.FV = Math.pow(2, 52),
                k.prototype.F1 = 52 - x,
                k.prototype.F2 = 2 * x - 52;
                var U,
                G,
                F = "0123456789abcdefghijklmnopqrstuvwxyz",
                j = new Array;
                for (U = "0".charCodeAt(0), G = 0; G <= 9; ++G)
                    j[U++] = G;
                for (U = "a".charCodeAt(0), G = 10; G < 36; ++G)
                    j[U++] = G;
                for (U = "A".charCodeAt(0), G = 10; G < 36; ++G)
                    j[U++] = G;
                function H(t) {
                    return F.charAt(t)
                }
                function V(t, e) {
                    var n = j[t.charCodeAt(e)];
                    return null == n ? -1 : n
                }
                function W(t) {
                    var e = B();
                    return e.fromInt(t),
                    e
                }
                function Y(t) {
                    var e,
                    n = 1;
                    return 0 != (e = t >>> 16) && (t = e, n += 16),
                    0 != (e = t >> 8) && (t = e, n += 8),
                    0 != (e = t >> 4) && (t = e, n += 4),
                    0 != (e = t >> 2) && (t = e, n += 2),
                    0 != (e = t >> 1) && (t = e, n += 1),
                    n
                }
                function K(t) {
                    this.m = t
                }
                function z(t) {
                    this.m = t,
                    this.mp = t.invDigit(),
                    this.mpl = 32767 & this.mp,
                    this.mph = this.mp >> 15,
                    this.um = (1 << t.DB - 15) - 1,
                    this.mt2 = 2 * t.t
                }
                K.prototype.convert = function (t) {
                    return t.s < 0 || t.compareTo(this.m) >= 0 ? t.mod(this.m) : t
                },
                K.prototype.revert = function (t) {
                    return t
                },
                K.prototype.reduce = function (t) {
                    t.divRemTo(this.m, null, t)
                },
                K.prototype.mulTo = function (t, e, n) {
                    t.multiplyTo(e, n),
                    this.reduce(n)
                },
                K.prototype.sqrTo = function (t, e) {
                    t.squareTo(e),
                    this.reduce(e)
                },
                z.prototype.convert = function (t) {
                    var e = B();
                    return t.abs().dlShiftTo(this.m.t, e),
                    e.divRemTo(this.m, null, e),
                    t.s < 0 && e.compareTo(k.ZERO) > 0 && this.m.subTo(e, e),
                    e
                },
                z.prototype.revert = function (t) {
                    var e = B();
                    return t.copyTo(e),
                    this.reduce(e),
                    e
                },
                z.prototype.reduce = function (t) {
                    for (; t.t <= this.mt2; )
                        t[t.t++] = 0;
                    for (var e = 0; e < this.m.t; ++e) {
                        var n = 32767 & t[e],
                        o = n * this.mpl + ((n * this.mph + (t[e] >> 15) * this.mpl & this.um) << 15) & t.DM;
                        for (t[n = e + this.m.t] += this.m.am(0, o, t, e, 0, this.m.t); t[n] >= t.DV; )
                            t[n] -= t.DV, t[++n]++
                    }
                    t.clamp(),
                    t.drShiftTo(this.m.t, t),
                    t.compareTo(this.m) >= 0 && t.subTo(this.m, t)
                },
                z.prototype.mulTo = function (t, e, n) {
                    t.multiplyTo(e, n),
                    this.reduce(n)
                },
                z.prototype.sqrTo = function (t, e) {
                    t.squareTo(e),
                    this.reduce(e)
                },
                k.prototype.copyTo = function (t) {
                    for (var e = this.t - 1; e >= 0; --e)
                        t[e] = this[e];
                    t.t = this.t,
                    t.s = this.s
                },
                k.prototype.fromInt = function (t) {
                    this.t = 1,
                    this.s = t < 0 ? -1 : 0,
                    t > 0 ? this[0] = t : t < -1 ? this[0] = t + this.DV : this.t = 0
                },
                k.prototype.fromString = function (t, e) {
                    var n;
                    if (16 == e)
                        n = 4;
                    else if (8 == e)
                        n = 3;
                    else if (256 == e)
                        n = 8;
                    else if (2 == e)
                        n = 1;
                    else if (32 == e)
                        n = 5;
                    else {
                        if (4 != e)
                            return void this.fromRadix(t, e);
                        n = 2
                    }
                    this.t = 0,
                    this.s = 0;
                    for (var o = t.length, i = !1, r = 0; --o >= 0; ) {
                        var a = 8 == n ? 255 & t[o] : V(t, o);
                        a < 0 ? "-" == t.charAt(o) && (i = !0) : (i = !1, 0 == r ? this[this.t++] = a : r + n > this.DB ? (this[this.t - 1] |= (a & (1 << this.DB - r) - 1) << r, this[this.t++] = a >> this.DB - r) : this[this.t - 1] |= a << r, (r += n) >= this.DB && (r -= this.DB))
                    }
                    8 == n && 0 != (128 & t[0]) && (this.s = -1, r > 0 && (this[this.t - 1] |= (1 << this.DB - r) - 1 << r)),
                    this.clamp(),
                    i && k.ZERO.subTo(this, this)
                },
                k.prototype.clamp = function () {
                    for (var t = this.s & this.DM; this.t > 0 && this[this.t - 1] == t; )
                        --this.t
                },
                k.prototype.dlShiftTo = function (t, e) {
                    var n;
                    for (n = this.t - 1; n >= 0; --n)
                        e[n + t] = this[n];
                    for (n = t - 1; n >= 0; --n)
                        e[n] = 0;
                    e.t = this.t + t,
                    e.s = this.s
                },
                k.prototype.drShiftTo = function (t, e) {
                    for (var n = t; n < this.t; ++n)
                        e[n - t] = this[n];
                    e.t = Math.max(this.t - t, 0),
                    e.s = this.s
                },
                k.prototype.lShiftTo = function (t, e) {
                    var n,
                    o = t % this.DB,
                    i = this.DB - o,
                    r = (1 << i) - 1,
                    a = Math.floor(t / this.DB),
                    s = this.s << o & this.DM;
                    for (n = this.t - 1; n >= 0; --n)
                        e[n + a + 1] = this[n] >> i | s, s = (this[n] & r) << o;
                    for (n = a - 1; n >= 0; --n)
                        e[n] = 0;
                    e[a] = s,
                    e.t = this.t + a + 1,
                    e.s = this.s,
                    e.clamp()
                },
                k.prototype.rShiftTo = function (t, e) {
                    e.s = this.s;
                    var n = Math.floor(t / this.DB);
                    if (n >= this.t)
                        e.t = 0;
                    else {
                        var o = t % this.DB,
                        i = this.DB - o,
                        r = (1 << o) - 1;
                        e[0] = this[n] >> o;
                        for (var a = n + 1; a < this.t; ++a)
                            e[a - n - 1] |= (this[a] & r) << i, e[a - n] = this[a] >> o;
                        o > 0 && (e[this.t - n - 1] |= (this.s & r) << i),
                        e.t = this.t - n,
                        e.clamp()
                    }
                },
                k.prototype.subTo = function (t, e) {
                    for (var n = 0, o = 0, i = Math.min(t.t, this.t); n < i; )
                        o += this[n] - t[n], e[n++] = o & this.DM, o >>= this.DB;
                    if (t.t < this.t) {
                        for (o -= t.s; n < this.t; )
                            o += this[n], e[n++] = o & this.DM, o >>= this.DB;
                        o += this.s
                    } else {
                        for (o += this.s; n < t.t; )
                            o -= t[n], e[n++] = o & this.DM, o >>= this.DB;
                        o -= t.s
                    }
                    e.s = o < 0 ? -1 : 0,
                    o < -1 ? e[n++] = this.DV + o : o > 0 && (e[n++] = o),
                    e.t = n,
                    e.clamp()
                },
                k.prototype.multiplyTo = function (t, e) {
                    var n = this.abs(),
                    o = t.abs(),
                    i = n.t;
                    for (e.t = i + o.t; --i >= 0; )
                        e[i] = 0;
                    for (i = 0; i < o.t; ++i)
                        e[i + n.t] = n.am(0, o[i], e, i, 0, n.t);
                    e.s = 0,
                    e.clamp(),
                    this.s != t.s && k.ZERO.subTo(e, e)
                },
                k.prototype.squareTo = function (t) {
                    for (var e = this.abs(), n = t.t = 2 * e.t; --n >= 0; )
                        t[n] = 0;
                    for (n = 0; n < e.t - 1; ++n) {
                        var o = e.am(n, e[n], t, 2 * n, 0, 1);
                        (t[n + e.t] += e.am(n + 1, 2 * e[n], t, 2 * n + 1, o, e.t - n - 1)) >= e.DV && (t[n + e.t] -= e.DV, t[n + e.t + 1] = 1)
                    }
                    t.t > 0 && (t[t.t - 1] += e.am(n, e[n], t, 2 * n, 0, 1)),
                    t.s = 0,
                    t.clamp()
                },
                k.prototype.divRemTo = function (t, e, n) {
                    var o = t.abs();
                    if (!(o.t <= 0)) {
                        var i = this.abs();
                        if (i.t < o.t)
                            return null != e && e.fromInt(0), void(null != n && this.copyTo(n));
                        null == n && (n = B());
                        var r = B(),
                        a = this.s,
                        s = t.s,
                        c = this.DB - Y(o[o.t - 1]);
                        c > 0 ? (o.lShiftTo(c, r), i.lShiftTo(c, n)) : (o.copyTo(r), i.copyTo(n));
                        var l = r.t,
                        u = r[l - 1];
                        if (0 != u) {
                            var d = u * (1 << this.F1) + (l > 1 ? r[l - 2] >> this.F2 : 0),
                            p = this.FV / d,
                            h = (1 << this.F1) / d,
                            f = 1 << this.F2,
                            _ = n.t,
                            m = _ - l,
                            g = null == e ? B() : e;
                            for (r.dlShiftTo(m, g), n.compareTo(g) >= 0 && (n[n.t++] = 1, n.subTo(g, n)), k.ONE.dlShiftTo(l, g), g.subTo(r, r); r.t < l; )
                                r[r.t++] = 0;
                            for (; --m >= 0; ) {
                                var y = n[--_] == u ? this.DM : Math.floor(n[_] * p + (n[_ - 1] + f) * h);
                                if ((n[_] += r.am(0, y, n, m, 0, l)) < y)
                                    for (r.dlShiftTo(m, g), n.subTo(g, n); n[_] < --y; )
                                        n.subTo(g, n)
                            }
                            null != e && (n.drShiftTo(l, e), a != s && k.ZERO.subTo(e, e)),
                            n.t = l,
                            n.clamp(),
                            c > 0 && n.rShiftTo(c, n),
                            a < 0 && k.ZERO.subTo(n, n)
                        }
                    }
                },
                k.prototype.invDigit = function () {
                    if (this.t < 1)
                        return 0;
                    var t = this[0];
                    if (0 == (1 & t))
                        return 0;
                    var e = 3 & t;
                    return (e = (e = (e = (e = e * (2 - (15 & t) * e) & 15) * (2 - (255 & t) * e) & 255) * (2 - ((65535 & t) * e & 65535)) & 65535) * (2 - t * e % this.DV) % this.DV) > 0 ? this.DV - e : -e
                },
                k.prototype.isEven = function () {
                    return 0 == (this.t > 0 ? 1 & this[0] : this.s)
                },
                k.prototype.exp = function (t, e) {
                    if (t > 4294967295 || t < 1)
                        return k.ONE;
                    var n = B(),
                    o = B(),
                    i = e.convert(this),
                    r = Y(t) - 1;
                    for (i.copyTo(n); --r >= 0; )
                        if (e.sqrTo(n, o), (t & 1 << r) > 0)
                            e.mulTo(o, i, n);
                        else {
                            var a = n;
                            n = o,
                            o = a
                        }
                    return e.revert(n)
                },
                k.prototype.toString = function (t) {
                    if (this.s < 0)
                        return "-" + this.negate().toString(t);
                    var e;
                    if (16 == t)
                        e = 4;
                    else if (8 == t)
                        e = 3;
                    else if (2 == t)
                        e = 1;
                    else if (32 == t)
                        e = 5;
                    else {
                        if (4 != t)
                            return this.toRadix(t);
                        e = 2
                    }
                    var n,
                    o = (1 << e) - 1,
                    i = !1,
                    r = "",
                    a = this.t,
                    s = this.DB - a * this.DB % e;
                    if (a-- > 0)
                        for (s < this.DB && (n = this[a] >> s) > 0 && (i = !0, r = H(n)); a >= 0; )
                            s < e ? (n = (this[a] & (1 << s) - 1) << e - s, n |= this[--a] >> (s += this.DB - e)) : (n = this[a] >> (s -= e) & o, s <= 0 && (s += this.DB, --a)), n > 0 && (i = !0), i && (r += H(n));
                    return i ? r : "0"
                },
                k.prototype.negate = function () {
                    var t = B();
                    return k.ZERO.subTo(this, t),
                    t
                },
                k.prototype.abs = function () {
                    return this.s < 0 ? this.negate() : this
                },
                k.prototype.compareTo = function (t) {
                    var e = this.s - t.s;
                    if (0 != e)
                        return e;
                    var n = this.t;
                    if (0 != (e = n - t.t))
                        return this.s < 0 ? -e : e;
                    for (; --n >= 0; )
                        if (0 != (e = this[n] - t[n]))
                            return e;
                    return 0
                },
                k.prototype.bitLength = function () {
                    return this.t <= 0 ? 0 : this.DB * (this.t - 1) + Y(this[this.t - 1] ^ this.s & this.DM)
                },
                k.prototype.mod = function (t) {
                    var e = B();
                    return this.abs().divRemTo(t, null, e),
                    this.s < 0 && e.compareTo(k.ZERO) > 0 && t.subTo(e, e),
                    e
                },
                k.prototype.modPowInt = function (t, e) {
                    var n;
                    return n = t < 256 || e.isEven() ? new K(e) : new z(e),
                    this.exp(t, n)
                },
                k.ZERO = W(0),
                k.ONE = W(1);
                var q = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
                Q = "=";
                function Z(t) {
                    var e,
                    n,
                    o = "";
                    for (e = 0; e + 3 <= t.length; e += 3)
                        n = parseInt(t.substring(e, e + 3), 16), o += q.charAt(n >> 6) + q.charAt(63 & n);
                    if (e + 1 == t.length ? (n = parseInt(t.substring(e, e + 1), 16), o += q.charAt(n << 2)) : e + 2 == t.length && (n = parseInt(t.substring(e, e + 2), 16), o += q.charAt(n >> 2) + q.charAt((3 & n) << 4)), Q)
                        for (; (3 & o.length) > 0; )
                            o += Q;
                    return o
                }
                function J(t) {
                    var e,
                    n,
                    o,
                    i = "",
                    r = 0;
                    for (e = 0; e < t.length && t.charAt(e) != Q; ++e)
                        (o = q.indexOf(t.charAt(e))) < 0 || (0 == r ? (i += H(o >> 2), n = 3 & o, r = 1) : 1 == r ? (i += H(n << 2 | o >> 4), n = 15 & o, r = 2) : 2 == r ? (i += H(n), i += H(o >> 2), n = 3 & o, r = 3) : (i += H(n << 2 | o >> 4), i += H(15 & o), r = 0));
                    return 1 == r && (i += H(n << 2)),
                    i
                }
                function X() {
                    this.i = 0,
                    this.j = 0,
                    this.S = new Array
                }
                X.prototype.init = function (t) {
                    var e,
                    n,
                    o;
                    for (e = 0; e < 256; ++e)
                        this.S[e] = e;
                    for (n = 0, e = 0; e < 256; ++e)
                        n = n + this.S[e] + t[e % t.length] & 255, o = this.S[e], this.S[e] = this.S[n], this.S[n] = o;
                    this.i = 0,
                    this.j = 0
                },
                X.prototype.next = function () {
                    var t;
                    return this.i = this.i + 1 & 255,
                    this.j = this.j + this.S[this.i] & 255,
                    t = this.S[this.i],
                    this.S[this.i] = this.S[this.j],
                    this.S[this.j] = t,
                    this.S[t + this.S[this.i] & 255]
                };
                var $,
                tt,
                et,
                nt = 256;
                function ot(t) {
                    tt[et++] ^= 255 & t,
                    tt[et++] ^= t >> 8 & 255,
                    tt[et++] ^= t >> 16 & 255,
                    tt[et++] ^= t >> 24 & 255,
                    et >= nt && (et -= nt)
                }
                function it() {
                    ot((new Date).getTime())
                }
                if (null == tt) {
                    var rt;
                    if (tt = new Array, et = 0, void 0 !== window && (void 0 !== window.crypto || void 0 !== window.msCrypto)) {
                        var at = window.crypto || window.msCrypto;
                        if (at.getRandomValues) {
                            var st = new Uint8Array(32);
                            for (at.getRandomValues(st), rt = 0; rt < 32; ++rt)
                                tt[et++] = st[rt]
                        } else if ("Netscape" == navigator.appName && navigator.appVersion < "5") {
                            var ct = window.crypto.random(32);
                            for (rt = 0; rt < ct.length; ++rt)
                                tt[et++] = 255 & ct.charCodeAt(rt)
                        }
                    }
                    for (; et < nt; )
                        rt = Math.floor(65536 * Math.random()), tt[et++] = rt >>> 8, tt[et++] = 255 & rt;
                    et = 0,
                    it()
                }
                function lt() {
                    if (null == $) {
                        for (it(), ($ = new X).init(tt), et = 0; et < tt.length; ++et)
                            tt[et] = 0;
                        et = 0
                    }
                    return $.next()
                }
                function ut() {}
                ut.prototype.nextBytes = function (t) {
                    var e;
                    for (e = 0; e < t.length; ++e)
                        t[e] = lt()
                };
                var dt = dt || function (t, e) {
                    var n = {},
                    o = n.lib = {},
                    i = o.Base = function () {
                        function t() {}
                        return {
                            extend: function (e) {
                                t.prototype = this;
                                var n = new t;
                                return e && n.mixIn(e),
                                n.hasOwnProperty("init") || (n.init = function () {
                                    n.$super.init.apply(this, arguments)
                                }),
                                n.init.prototype = n,
                                n.$super = this,
                                n
                            },
                            create: function () {
                                var t = this.extend();
                                return t.init.apply(t, arguments),
                                t
                            },
                            init: function () {},
                            mixIn: function (t) {
                                for (var e in t)
                                    t.hasOwnProperty(e) && (this[e] = t[e]);
                                t.hasOwnProperty("toString") && (this.toString = t.toString)
                            },
                            clone: function () {
                                return this.init.prototype.extend(this)
                            }
                        }
                    }
                    (),
                    r = o.WordArray = i.extend({
                            init: function (t, e) {
                                t = this.words = t || [],
                                this.sigBytes = void 0 != e ? e : 4 * t.length
                            },
                            toString: function (t) {
                                return (t || s).stringify(this)
                            },
                            concat: function (t) {
                                var e = this.words,
                                n = t.words,
                                o = this.sigBytes,
                                i = t.sigBytes;
                                if (this.clamp(), o % 4)
                                    for (var r = 0; r < i; r++) {
                                        var a = n[r >>> 2] >>> 24 - r % 4 * 8 & 255;
                                        e[o + r >>> 2] |= a << 24 - (o + r) % 4 * 8
                                    }
                                else
                                    for (r = 0; r < i; r += 4)
                                        e[o + r >>> 2] = n[r >>> 2];
                                return this.sigBytes += i,
                                this
                            },
                            clamp: function () {
                                var e = this.words,
                                n = this.sigBytes;
                                e[n >>> 2] &= 4294967295 << 32 - n % 4 * 8,
                                e.length = t.ceil(n / 4)
                            },
                            clone: function () {
                                var t = i.clone.call(this);
                                return t.words = this.words.slice(0),
                                t
                            },
                            random: function (e) {
                                for (var n = [], o = 0; o < e; o += 4)
                                    n.push(4294967296 * t.random() | 0);
                                return new r.init(n, e)
                            }
                        }),
                    a = n.enc = {},
                    s = a.Hex = {
                        stringify: function (t) {
                            for (var e = t.words, n = t.sigBytes, o = [], i = 0; i < n; i++) {
                                var r = e[i >>> 2] >>> 24 - i % 4 * 8 & 255;
                                o.push((r >>> 4).toString(16)),
                                o.push((15 & r).toString(16))
                            }
                            return o.join("")
                        },
                        parse: function (t) {
                            for (var e = t.length, n = [], o = 0; o < e; o += 2)
                                n[o >>> 3] |= parseInt(t.substr(o, 2), 16) << 24 - o % 8 * 4;
                            return new r.init(n, e / 2)
                        }
                    },
                    c = a.Latin1 = {
                        stringify: function (t) {
                            for (var e = t.words, n = t.sigBytes, o = [], i = 0; i < n; i++) {
                                var r = e[i >>> 2] >>> 24 - i % 4 * 8 & 255;
                                o.push(String.fromCharCode(r))
                            }
                            return o.join("")
                        },
                        parse: function (t) {
                            for (var e = t.length, n = [], o = 0; o < e; o++)
                                n[o >>> 2] |= (255 & t.charCodeAt(o)) << 24 - o % 4 * 8;
                            return new r.init(n, e)
                        }
                    },
                    l = a.Utf8 = {
                        stringify: function (t) {
                            try {
                                return decodeURIComponent(escape(c.stringify(t)))
                            } catch (t) {
                                throw new Error("Malformed UTF-8 data")
                            }
                        },
                        parse: function (t) {
                            return c.parse(unescape(encodeURIComponent(t)))
                        }
                    },
                    u = o.BufferedBlockAlgorithm = i.extend({
                            reset: function () {
                                this._data = new r.init,
                                this._nDataBytes = 0
                            },
                            _append: function (t) {
                                "string" == typeof t && (t = l.parse(t)),
                                this._data.concat(t),
                                this._nDataBytes += t.sigBytes
                            },
                            _process: function (e) {
                                var n = this._data,
                                o = n.words,
                                i = n.sigBytes,
                                a = this.blockSize,
                                s = i / (4 * a),
                                c = (s = e ? t.ceil(s) : t.max((0 | s) - this._minBufferSize, 0)) * a,
                                l = t.min(4 * c, i);
                                if (c) {
                                    for (var u = 0; u < c; u += a)
                                        this._doProcessBlock(o, u);
                                    var d = o.splice(0, c);
                                    n.sigBytes -= l
                                }
                                return new r.init(d, l)
                            },
                            clone: function () {
                                var t = i.clone.call(this);
                                return t._data = this._data.clone(),
                                t
                            },
                            _minBufferSize: 0
                        }),
                    d = (o.Hasher = u.extend({
                                cfg: i.extend(),
                                init: function (t) {
                                    this.cfg = this.cfg.extend(t),
                                    this.reset()
                                },
                                reset: function () {
                                    u.reset.call(this),
                                    this._doReset()
                                },
                                update: function (t) {
                                    return this._append(t),
                                    this._process(),
                                    this
                                },
                                finalize: function (t) {
                                    return t && this._append(t),
                                    this._doFinalize()
                                },
                                blockSize: 16,
                                _createHelper: function (t) {
                                    return function (e, n) {
                                        return new t.init(n).finalize(e)
                                    }
                                },
                                _createHmacHelper: function (t) {
                                    return function (e, n) {
                                        return new d.HMAC.init(t, n).finalize(e)
                                    }
                                }
                            }), n.algo = {});
                    return n
                }
                (Math);
                (function () {
                    var t = dt,
                    e = t.lib,
                    n = e.WordArray,
                    o = e.Hasher,
                    i = [],
                    r = t.algo.SHA1 = o.extend({
                            _doReset: function () {
                                this._hash = new n.init([1732584193, 4023233417, 2562383102, 271733878, 3285377520])
                            },
                            _doProcessBlock: function (t, e) {
                                for (var n = this._hash.words, o = n[0], r = n[1], a = n[2], s = n[3], c = n[4], l = 0; l < 80; l++) {
                                    if (l < 16)
                                        i[l] = 0 | t[e + l];
                                    else {
                                        var u = i[l - 3] ^ i[l - 8] ^ i[l - 14] ^ i[l - 16];
                                        i[l] = u << 1 | u >>> 31
                                    }
                                    var d = (o << 5 | o >>> 27) + c + i[l];
                                    d += l < 20 ? 1518500249 + (r & a | ~r & s) : l < 40 ? 1859775393 + (r ^ a ^ s) : l < 60 ? (r & a | r & s | a & s) - 1894007588 : (r ^ a ^ s) - 899497514,
                                    c = s,
                                    s = a,
                                    a = r << 30 | r >>> 2,
                                    r = o,
                                    o = d
                                }
                                n[0] = n[0] + o | 0,
                                n[1] = n[1] + r | 0,
                                n[2] = n[2] + a | 0,
                                n[3] = n[3] + s | 0,
                                n[4] = n[4] + c | 0
                            },
                            _doFinalize: function () {
                                var t = this._data,
                                e = t.words,
                                n = 8 * this._nDataBytes,
                                o = 8 * t.sigBytes;
                                return e[o >>> 5] |= 128 << 24 - o % 32,
                                e[14 + (o + 64 >>> 9 << 4)] = Math.floor(n / 4294967296),
                                e[15 + (o + 64 >>> 9 << 4)] = n,
                                t.sigBytes = 4 * e.length,
                                this._process(),
                                this._hash
                            },
                            clone: function () {
                                var t = o.clone.call(this);
                                return t._hash = this._hash.clone(),
                                t
                            }
                        });
                    t.SHA1 = o._createHelper(r),
                    t.HmacSHA1 = o._createHmacHelper(r)
                })(),
                function (t) {
                    var e = dt,
                    n = e.lib,
                    o = n.WordArray,
                    i = n.Hasher,
                    r = e.algo,
                    a = [],
                    s = [];
                    (function () {
                        function e(e) {
                            for (var n = t.sqrt(e), o = 2; o <= n; o++)
                                if (!(e % o))
                                    return !1;
                            return !0
                        }
                        function n(t) {
                            return 4294967296 * (t - (0 | t)) | 0
                        }
                        for (var o = 2, i = 0; i < 64; )
                            e(o) && (i < 8 && (a[i] = n(t.pow(o, .5))), s[i] = n(t.pow(o, 1 / 3)), i++), o++
                    })();
                    var c = [],
                    l = r.SHA256 = i.extend({
                            _doReset: function () {
                                this._hash = new o.init(a.slice(0))
                            },
                            _doProcessBlock: function (t, e) {
                                for (var n = this._hash.words, o = n[0], i = n[1], r = n[2], a = n[3], l = n[4], u = n[5], d = n[6], p = n[7], h = 0; h < 64; h++) {
                                    if (h < 16)
                                        c[h] = 0 | t[e + h];
                                    else {
                                        var f = c[h - 15],
                                        _ = (f << 25 | f >>> 7) ^ (f << 14 | f >>> 18) ^ f >>> 3,
                                        m = c[h - 2],
                                        g = (m << 15 | m >>> 17) ^ (m << 13 | m >>> 19) ^ m >>> 10;
                                        c[h] = _ + c[h - 7] + g + c[h - 16]
                                    }
                                    var y = o & i ^ o & r ^ i & r,
                                    v = (o << 30 | o >>> 2) ^ (o << 19 | o >>> 13) ^ (o << 10 | o >>> 22),
                                    b = p + ((l << 26 | l >>> 6) ^ (l << 21 | l >>> 11) ^ (l << 7 | l >>> 25)) + (l & u ^ ~l & d) + s[h] + c[h];
                                    p = d,
                                    d = u,
                                    u = l,
                                    l = a + b | 0,
                                    a = r,
                                    r = i,
                                    i = o,
                                    o = b + (v + y) | 0
                                }
                                n[0] = n[0] + o | 0,
                                n[1] = n[1] + i | 0,
                                n[2] = n[2] + r | 0,
                                n[3] = n[3] + a | 0,
                                n[4] = n[4] + l | 0,
                                n[5] = n[5] + u | 0,
                                n[6] = n[6] + d | 0,
                                n[7] = n[7] + p | 0
                            },
                            _doFinalize: function () {
                                var e = this._data,
                                n = e.words,
                                o = 8 * this._nDataBytes,
                                i = 8 * e.sigBytes;
                                return n[i >>> 5] |= 128 << 24 - i % 32,
                                n[14 + (i + 64 >>> 9 << 4)] = t.floor(o / 4294967296),
                                n[15 + (i + 64 >>> 9 << 4)] = o,
                                e.sigBytes = 4 * n.length,
                                this._process(),
                                this._hash
                            },
                            clone: function () {
                                var t = i.clone.call(this);
                                return t._hash = this._hash.clone(),
                                t
                            }
                        });
                    e.SHA256 = i._createHelper(l),
                    e.HmacSHA256 = i._createHmacHelper(l)
                }
                (Math);
                var pt,
                ht = new function () {};
                function ft(t) {
                    for (var e = new Array, n = 0; n < t.length; n++)
                        e[n] = t.charCodeAt(n);
                    return e
                }
                function _t(t) {
                    for (var e = "", n = 0; n < t.length; n++) {
                        var o = t[n].toString(16);
                        1 == o.length && (o = "0" + o),
                        e += o
                    }
                    return e
                }
                function mt(t) {
                    return _t(ft(t))
                }
                function gt(t) {
                    return t = (t = (t = t.replace(/\=/g, "")).replace(/\+/g, "-")).replace(/\//g, "_")
                }
                function yt(t) {
                    return t.length % 4 == 2 ? t += "==" : t.length % 4 == 3 && (t += "="),
                    t = (t = t.replace(/-/g, "+")).replace(/_/g, "/")
                }
                function vt(t) {
                    return t.length % 2 == 1 && (t = "0" + t),
                    gt(Z(t))
                }
                function bt(t) {
                    return J(yt(t))
                }
                function St(t) {
                    return Dt(xt(t))
                }
                function At(t) {
                    return decodeURIComponent(Ot(t))
                }
                function Ct(t) {
                    for (var e = "", n = 0; n < t.length - 1; n += 2)
                        e += String.fromCharCode(parseInt(t.substr(n, 2), 16));
                    return e
                }
                function It(t) {
                    for (var e = "", n = 0; n < t.length; n++)
                        e += ("0" + t.charCodeAt(n).toString(16)).slice(-2);
                    return e
                }
                function Tt(t) {
                    return Z(t)
                }
                function Et(t) {
                    var e = Tt(t).replace(/(.{64})/g, "$1\r\n");
                    return e = e.replace(/\r\n$/, "")
                }
                function wt(t) {
                    return J(t.replace(/[^0-9A-Za-z\/+=]*/g, ""))
                }
                function Pt(t, e) {
                    return "-----BEGIN " + e + "-----\r\n" + Et(t) + "\r\n-----END " + e + "-----\r\n"
                }
                function Mt(t, e) {
                    if (-1 == t.indexOf("-----BEGIN "))
                        throw "can't find PEM header: " + e;
                    return wt(t = void 0 !== e ? (t = t.replace("-----BEGIN " + e + "-----", "")).replace("-----END " + e + "-----", "") : (t = t.replace(/-----BEGIN [^-]+-----/, "")).replace(/-----END [^-]+-----/, ""))
                }
                function Dt(t) {
                    return t.replace(/%/g, "")
                }
                function Ot(t) {
                    return t.replace(/(..)/g, "%$1")
                }
                function xt(t) {
                    for (var e = encodeURIComponent(t), n = "", o = 0; o < e.length; o++)
                        "%" == e[o] ? (n += e.substr(o, 3), o += 2) : n = n + "%" + mt(e[o]);
                    return n
                }
                ht.getLblen = function (t, e) {
                    if ("8" != t.substr(e + 2, 1))
                        return 1;
                    var n = parseInt(t.substr(e + 3, 1));
                    return 0 == n ? -1 : 0 < n && n < 10 ? n + 1 : -2
                },
                ht.getL = function (t, e) {
                    var n = ht.getLblen(t, e);
                    return n < 1 ? "" : t.substr(e + 2, 2 * n)
                },
                ht.getVblen = function (t, e) {
                    var n;
                    return "" == (n = ht.getL(t, e)) ? -1 : ("8" === n.substr(0, 1) ? new k(n.substr(2), 16) : new k(n, 16)).intValue()
                },
                ht.getVidx = function (t, e) {
                    var n = ht.getLblen(t, e);
                    return n < 0 ? n : e + 2 * (n + 1)
                },
                ht.getV = function (t, e) {
                    var n = ht.getVidx(t, e),
                    o = ht.getVblen(t, e);
                    return t.substr(n, 2 * o)
                },
                ht.getTLV = function (t, e) {
                    return t.substr(e, 2) + ht.getL(t, e) + ht.getV(t, e)
                },
                ht.getNextSiblingIdx = function (t, e) {
                    return ht.getVidx(t, e) + 2 * ht.getVblen(t, e)
                },
                ht.getChildIdx = function (t, e) {
                    var n = ht,
                    o = new Array,
                    i = n.getVidx(t, e);
                    "03" == t.substr(e, 2) ? o.push(i + 2) : o.push(i);
                    for (var r = n.getVblen(t, e), a = i, s = 0; ; ) {
                        var c = n.getNextSiblingIdx(t, a);
                        if (null == c || c - i >= 2 * r)
                            break;
                        if (s >= 200)
                            break;
                        o.push(c),
                        a = c,
                        s++
                    }
                    return o
                },
                ht.getNthChildIdx = function (t, e, n) {
                    return ht.getChildIdx(t, e)[n]
                },
                ht.getIdxbyList = function (t, e, n, o) {
                    var i,
                    r,
                    a = ht;
                    if (0 == n.length) {
                        if (void 0 !== o && t.substr(e, 2) !== o)
                            throw "checking tag doesn't match: " + t.substr(e, 2) + "!=" + o;
                        return e
                    }
                    return i = n.shift(),
                    r = a.getChildIdx(t, e),
                    a.getIdxbyList(t, r[i], n, o)
                },
                ht.getTLVbyList = function (t, e, n, o) {
                    var i = ht,
                    r = i.getIdxbyList(t, e, n);
                    if (void 0 === r)
                        throw "can't find nthList object";
                    if (void 0 !== o && t.substr(r, 2) != o)
                        throw "checking tag doesn't match: " + t.substr(r, 2) + "!=" + o;
                    return i.getTLV(t, r)
                },
                ht.getVbyList = function (t, e, n, o, i) {
                    var r,
                    a,
                    s = ht;
                    if (void 0 === (r = s.getIdxbyList(t, e, n, o)))
                        throw "can't find nthList object";
                    return a = s.getV(t, r),
                    !0 === i && (a = a.substr(2)),
                    a
                },
                ht.hextooidstr = function (t) {
                    var e = function (t, e) {
                        return t.length >= e ? t : new Array(e - t.length + 1).join("0") + t
                    },
                    n = [],
                    o = t.substr(0, 2),
                    i = parseInt(o, 16);
                    n[0] = new String(Math.floor(i / 40)),
                    n[1] = new String(i % 40);
                    for (var r = t.substr(2), a = [], s = 0; s < r.length / 2; s++)
                        a.push(parseInt(r.substr(2 * s, 2), 16));
                    var c = [],
                    l = "";
                    for (s = 0; s < a.length; s++)
                        128 & a[s] ? l += e((127 & a[s]).toString(2), 7) : (l += e((127 & a[s]).toString(2), 7), c.push(new String(parseInt(l, 2))), l = "");
                    var u = n.join(".");
                    return c.length > 0 && (u = u + "." + c.join(".")),
                    u
                },
                ht.dump = function (t, e, n, o) {
                    var i = ht,
                    r = i.getV,
                    a = i.dump,
                    s = i.getChildIdx,
                    c = t;
                    t instanceof pt.asn1.ASN1Object && (c = t.getEncodedHex());
                    var l = function (t, e) {
                        return t.length <= 2 * e ? t : t.substr(0, e) + "..(total " + t.length / 2 + "bytes).." + t.substr(t.length - e, e)
                    };
                    void 0 === e && (e = {
                            ommit_long_octet: 32
                        }),
                    void 0 === n && (n = 0),
                    void 0 === o && (o = "");
                    var u = e.ommit_long_octet;
                    if ("01" == c.substr(n, 2))
                        return "00" == (d = r(c, n)) ? o + "BOOLEAN FALSE\n" : o + "BOOLEAN TRUE\n";
                    if ("02" == c.substr(n, 2))
                        return o + "INTEGER " + l(d = r(c, n), u) + "\n";
                    if ("03" == c.substr(n, 2))
                        return o + "BITSTRING " + l(d = r(c, n), u) + "\n";
                    if ("04" == c.substr(n, 2)) {
                        var d = r(c, n);
                        if (i.isASN1HEX(d)) {
                            var p = o + "OCTETSTRING, encapsulates\n";
                            return p += a(d, e, 0, o + "  ")
                        }
                        return o + "OCTETSTRING " + l(d, u) + "\n"
                    }
                    if ("05" == c.substr(n, 2))
                        return o + "NULL\n";
                    if ("06" == c.substr(n, 2)) {
                        var h = r(c, n),
                        f = pt.asn1.ASN1Util.oidHexToInt(h),
                        _ = pt.asn1.x509.OID.oid2name(f),
                        m = f.replace(/\./g, " ");
                        return "" != _ ? o + "ObjectIdentifier " + _ + " (" + m + ")\n" : o + "ObjectIdentifier (" + m + ")\n"
                    }
                    if ("0c" == c.substr(n, 2))
                        return o + "UTF8String '" + At(r(c, n)) + "'\n";
                    if ("13" == c.substr(n, 2))
                        return o + "PrintableString '" + At(r(c, n)) + "'\n";
                    if ("14" == c.substr(n, 2))
                        return o + "TeletexString '" + At(r(c, n)) + "'\n";
                    if ("16" == c.substr(n, 2))
                        return o + "IA5String '" + At(r(c, n)) + "'\n";
                    if ("17" == c.substr(n, 2))
                        return o + "UTCTime " + At(r(c, n)) + "\n";
                    if ("18" == c.substr(n, 2))
                        return o + "GeneralizedTime " + At(r(c, n)) + "\n";
                    if ("30" == c.substr(n, 2)) {
                        if ("3000" == c.substr(n, 4))
                            return o + "SEQUENCE {}\n";
                        p = o + "SEQUENCE\n";
                        var g = e;
                        if ((2 == (b = s(c, n)).length || 3 == b.length) && "06" == c.substr(b[0], 2) && "04" == c.substr(b[b.length - 1], 2)) {
                            _ = i.oidname(r(c, b[0]));
                            var y = JSON.parse(JSON.stringify(e));
                            y.x509ExtName = _,
                            g = y
                        }
                        for (var v = 0; v < b.length; v++)
                            p += a(c, g, b[v], o + "  ");
                        return p
                    }
                    if ("31" == c.substr(n, 2)) {
                        p = o + "SET\n";
                        var b = s(c, n);
                        for (v = 0; v < b.length; v++)
                            p += a(c, e, b[v], o + "  ");
                        return p
                    }
                    var S = parseInt(c.substr(n, 2), 16);
                    if (0 != (128 & S)) {
                        var A = 31 & S;
                        if (0 != (32 & S)) {
                            var p = o + "[" + A + "]\n";
                            for (b = s(c, n), v = 0; v < b.length; v++)
                                p += a(c, e, b[v], o + "  ");
                            return p
                        }
                        return "68747470" == (d = r(c, n)).substr(0, 8) && (d = At(d)),
                        "subjectAltName" === e.x509ExtName && 2 == A && (d = At(d)),
                        p = o + "[" + A + "] " + d + "\n"
                    }
                    return o + "UNKNOWN(" + c.substr(n, 2) + ") " + r(c, n) + "\n"
                },
                ht.isASN1HEX = function (t) {
                    var e = ht;
                    if (t.length % 2 == 1)
                        return !1;
                    var n = e.getVblen(t, 0),
                    o = t.substr(0, 2),
                    i = e.getL(t, 0);
                    return t.length - o.length - i.length == 2 * n
                },
                ht.oidname = function (t) {
                    var e = pt.asn1;
                    pt.lang.String.isHex(t) && (t = e.ASN1Util.oidHexToInt(t));
                    var n = e.x509.OID.oid2name(t);
                    return "" === n && (n = t),
                    n
                },
                void 0 !== pt && pt || (pt = {}),
                void 0 !== pt.lang && pt.lang || (pt.lang = {}),
                pt.lang.String = function () {},
                "function" == typeof t ? function (e) {
                    return gt(new t(e, "utf8").toString("base64"))
                }
                 : function (t) {
                    return vt(Dt(xt(t)))
                },
                pt.lang.String.isInteger = function (t) {
                    return !!t.match(/^[0-9]+$/) || !!t.match(/^-[0-9]+$/)
                },
                pt.lang.String.isHex = function (t) {
                    return !(t.length % 2 != 0 || !t.match(/^[0-9a-f]+$/) && !t.match(/^[0-9A-F]+$/))
                },
                pt.lang.String.isBase64 = function (t) {
                    return !(!(t = t.replace(/\s+/g, "")).match(/^[0-9A-Za-z+\/]+={0,3}$/) || t.length % 4 != 0)
                },
                pt.lang.String.isBase64URL = function (t) {
                    return !t.match(/[+/=]/) && (t = yt(t), pt.lang.String.isBase64(t))
                },
                pt.lang.String.isIntegerArray = function (t) {
                    return !!(t = t.replace(/\s+/g, "")).match(/^\[[0-9,]+\]$/)
                };
                function Rt(t, e) {
                    return new k(t, e)
                }
                function Lt(t, e) {
                    if (e < t.length + 11)
                        throw "Message too long for RSA";
                    for (var n = new Array, o = t.length - 1; o >= 0 && e > 0; ) {
                        var i = t.charCodeAt(o--);
                        i < 128 ? n[--e] = i : i > 127 && i < 2048 ? (n[--e] = 63 & i | 128, n[--e] = i >> 6 | 192) : (n[--e] = 63 & i | 128, n[--e] = i >> 6 & 63 | 128, n[--e] = i >> 12 | 224)
                    }
                    n[--e] = 0;
                    for (var r = new ut, a = new Array; e > 2; ) {
                        for (a[0] = 0; 0 == a[0]; )
                            r.nextBytes(a);
                        n[--e] = a[0]
                    }
                    return n[--e] = 2,
                    n[--e] = 0,
                    new k(n)
                }
                function Nt(t, e, n) {
                    for (var o = "", i = 0; o.length < e; )
                        o += n(String.fromCharCode.apply(String, t.concat([(4278190080 & i) >> 24, (16711680 & i) >> 16, (65280 & i) >> 8, 255 & i]))), i += 1;
                    return o
                }
                function kt(t, e, n, o) {
                    var i = pt.crypto.MessageDigest,
                    r = pt.crypto.Util,
                    a = null;
                    if (n || (n = "sha1"), "string" == typeof n && (a = i.getCanonicalAlgName(n), o = i.getHashLength(a), n = function (t) {
                            return Ct(r.hashHex(It(t), a))
                        }), t.length + 2 * o + 2 > e)
                        throw "Message too long for RSA";
                    var s,
                    c = "";
                    for (s = 0; s < e - t.length - 2 * o - 2; s += 1)
                        c += "\0";
                    var l = n("") + c + "\x01" + t,
                    u = new Array(o);
                    (new ut).nextBytes(u);
                    var d = Nt(u, l.length, n),
                    p = [];
                    for (s = 0; s < l.length; s += 1)
                        p[s] = l.charCodeAt(s) ^ d.charCodeAt(s);
                    var h = Nt(p, u.length, n),
                    f = [0];
                    for (s = 0; s < u.length; s += 1)
                        f[s + 1] = u[s] ^ h.charCodeAt(s);
                    return new k(f.concat(p))
                }
                function Bt() {
                    this.n = null,
                    this.e = 0,
                    this.d = null,
                    this.p = null,
                    this.q = null,
                    this.dmp1 = null,
                    this.dmq1 = null,
                    this.coeff = null
                }
                void 0 !== pt && pt || (pt = {}),
                void 0 !== pt.crypto && pt.crypto || (pt.crypto = {}),
                pt.crypto.Util = new function () {
                    this.DIGESTINFOHEAD = {
                        sha1: "3021300906052b0e03021a05000414",
                        sha224: "302d300d06096086480165030402040500041c",
                        sha256: "3031300d060960864801650304020105000420",
                        sha384: "3041300d060960864801650304020205000430",
                        sha512: "3051300d060960864801650304020305000440",
                        md2: "3020300c06082a864886f70d020205000410",
                        md5: "3020300c06082a864886f70d020505000410",
                        ripemd160: "3021300906052b2403020105000414"
                    },
                    this.DEFAULTPROVIDER = {
                        md5: "cryptojs",
                        sha1: "cryptojs",
                        sha224: "cryptojs",
                        sha256: "cryptojs",
                        sha384: "cryptojs",
                        sha512: "cryptojs",
                        ripemd160: "cryptojs",
                        hmacmd5: "cryptojs",
                        hmacsha1: "cryptojs",
                        hmacsha224: "cryptojs",
                        hmacsha256: "cryptojs",
                        hmacsha384: "cryptojs",
                        hmacsha512: "cryptojs",
                        hmacripemd160: "cryptojs",
                        MD5withRSA: "cryptojs/jsrsa",
                        SHA1withRSA: "cryptojs/jsrsa",
                        SHA224withRSA: "cryptojs/jsrsa",
                        SHA256withRSA: "cryptojs/jsrsa",
                        SHA384withRSA: "cryptojs/jsrsa",
                        SHA512withRSA: "cryptojs/jsrsa",
                        RIPEMD160withRSA: "cryptojs/jsrsa",
                        MD5withECDSA: "cryptojs/jsrsa",
                        SHA1withECDSA: "cryptojs/jsrsa",
                        SHA224withECDSA: "cryptojs/jsrsa",
                        SHA256withECDSA: "cryptojs/jsrsa",
                        SHA384withECDSA: "cryptojs/jsrsa",
                        SHA512withECDSA: "cryptojs/jsrsa",
                        RIPEMD160withECDSA: "cryptojs/jsrsa",
                        SHA1withDSA: "cryptojs/jsrsa",
                        SHA224withDSA: "cryptojs/jsrsa",
                        SHA256withDSA: "cryptojs/jsrsa",
                        MD5withRSAandMGF1: "cryptojs/jsrsa",
                        SHA1withRSAandMGF1: "cryptojs/jsrsa",
                        SHA224withRSAandMGF1: "cryptojs/jsrsa",
                        SHA256withRSAandMGF1: "cryptojs/jsrsa",
                        SHA384withRSAandMGF1: "cryptojs/jsrsa",
                        SHA512withRSAandMGF1: "cryptojs/jsrsa",
                        RIPEMD160withRSAandMGF1: "cryptojs/jsrsa"
                    },
                    this.CRYPTOJSMESSAGEDIGESTNAME = {
                        md5: dt.algo.MD5,
                        sha1: dt.algo.SHA1,
                        sha224: dt.algo.SHA224,
                        sha256: dt.algo.SHA256,
                        sha384: dt.algo.SHA384,
                        sha512: dt.algo.SHA512,
                        ripemd160: dt.algo.RIPEMD160
                    },
                    this.getDigestInfoHex = function (t, e) {
                        if (void 0 === this.DIGESTINFOHEAD[e])
                            throw "alg not supported in Util.DIGESTINFOHEAD: " + e;
                        return this.DIGESTINFOHEAD[e] + t
                    },
                    this.getPaddedDigestInfoHex = function (t, e, n) {
                        var o = this.getDigestInfoHex(t, e),
                        i = n / 4;
                        if (o.length + 22 > i)
                            throw "key is too short for SigAlg: keylen=" + n + "," + e;
                        for (var r = "00" + o, a = "", s = i - "0001".length - r.length, c = 0; c < s; c += 2)
                            a += "ff";
                        return "0001" + a + r
                    },
                    this.hashString = function (t, e) {
                        return new pt.crypto.MessageDigest({
                            alg: e
                        }).digestString(t)
                    },
                    this.hashHex = function (t, e) {
                        return new pt.crypto.MessageDigest({
                            alg: e
                        }).digestHex(t)
                    },
                    this.sha1 = function (t) {
                        return new pt.crypto.MessageDigest({
                            alg: "sha1",
                            prov: "cryptojs"
                        }).digestString(t)
                    },
                    this.sha256 = function (t) {
                        return new pt.crypto.MessageDigest({
                            alg: "sha256",
                            prov: "cryptojs"
                        }).digestString(t)
                    },
                    this.sha256Hex = function (t) {
                        return new pt.crypto.MessageDigest({
                            alg: "sha256",
                            prov: "cryptojs"
                        }).digestHex(t)
                    },
                    this.sha512 = function (t) {
                        return new pt.crypto.MessageDigest({
                            alg: "sha512",
                            prov: "cryptojs"
                        }).digestString(t)
                    },
                    this.sha512Hex = function (t) {
                        return new pt.crypto.MessageDigest({
                            alg: "sha512",
                            prov: "cryptojs"
                        }).digestHex(t)
                    }
                },
                pt.crypto.Util.md5 = function (t) {
                    return new pt.crypto.MessageDigest({
                        alg: "md5",
                        prov: "cryptojs"
                    }).digestString(t)
                },
                pt.crypto.Util.ripemd160 = function (t) {
                    return new pt.crypto.MessageDigest({
                        alg: "ripemd160",
                        prov: "cryptojs"
                    }).digestString(t)
                },
                pt.crypto.Util.SECURERANDOMGEN = new ut,
                pt.crypto.Util.getRandomHexOfNbytes = function (t) {
                    var e = new Array(t);
                    return pt.crypto.Util.SECURERANDOMGEN.nextBytes(e),
                    _t(e)
                },
                pt.crypto.Util.getRandomBigIntegerOfNbytes = function (t) {
                    return new k(pt.crypto.Util.getRandomHexOfNbytes(t), 16)
                },
                pt.crypto.Util.getRandomHexOfNbits = function (t) {
                    var e = t % 8,
                    n = new Array((t - e) / 8 + 1);
                    return pt.crypto.Util.SECURERANDOMGEN.nextBytes(n),
                    n[0] = (255 << e & 255 ^ 255) & n[0],
                    _t(n)
                },
                pt.crypto.Util.getRandomBigIntegerOfNbits = function (t) {
                    return new k(pt.crypto.Util.getRandomHexOfNbits(t), 16)
                },
                pt.crypto.Util.getRandomBigIntegerZeroToMax = function (t) {
                    for (var e = t.bitLength(); ; ) {
                        var n = pt.crypto.Util.getRandomBigIntegerOfNbits(e);
                        if (-1 != t.compareTo(n))
                            return n
                    }
                },
                pt.crypto.Util.getRandomBigIntegerMinToMax = function (t, e) {
                    var n = t.compareTo(e);
                    if (1 == n)
                        throw "biMin is greater than biMax";
                    if (0 == n)
                        return t;
                    var o = e.subtract(t);
                    return pt.crypto.Util.getRandomBigIntegerZeroToMax(o).add(t)
                },
                pt.crypto.MessageDigest = function (t) {
                    this.setAlgAndProvider = function (t, e) {
                        if (null !== (t = pt.crypto.MessageDigest.getCanonicalAlgName(t)) && void 0 === e && (e = pt.crypto.Util.DEFAULTPROVIDER[t]), -1 != ":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(t) && "cryptojs" == e) {
                            try {
                                console.log("KJUR.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[alg]--", pt.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME, t, "-----:", dt),
                                this.md = pt.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[t].create()
                            } catch (e) {
                                throw "setAlgAndProvider hash alg set fail alg=" + t + "/" + e
                            }
                            this.updateString = function (t) {
                                this.md.update(t)
                            },
                            this.updateHex = function (t) {
                                var e = dt.enc.Hex.parse(t);
                                this.md.update(e)
                            },
                            this.digest = function () {
                                return this.md.finalize().toString(dt.enc.Hex)
                            },
                            this.digestString = function (t) {
                                return this.updateString(t),
                                this.digest()
                            },
                            this.digestHex = function (t) {
                                return this.updateHex(t),
                                this.digest()
                            }
                        }
                        if (-1 != ":sha256:".indexOf(t) && "sjcl" == e) {
                            try {
                                this.md = new sjcl.hash.sha256
                            } catch (e) {
                                throw "setAlgAndProvider hash alg set fail alg=" + t + "/" + e
                            }
                            this.updateString = function (t) {
                                this.md.update(t)
                            },
                            this.updateHex = function (t) {
                                var e = sjcl.codec.hex.toBits(t);
                                this.md.update(e)
                            },
                            this.digest = function () {
                                var t = this.md.finalize();
                                return sjcl.codec.hex.fromBits(t)
                            },
                            this.digestString = function (t) {
                                return this.updateString(t),
                                this.digest()
                            },
                            this.digestHex = function (t) {
                                return this.updateHex(t),
                                this.digest()
                            }
                        }
                    },
                    this.updateString = function (t) {
                        throw "updateString(str) not supported for this alg/prov: " + this.algName + "/" + this.provName
                    },
                    this.updateHex = function (t) {
                        throw "updateHex(hex) not supported for this alg/prov: " + this.algName + "/" + this.provName
                    },
                    this.digest = function () {
                        throw "digest() not supported for this alg/prov: " + this.algName + "/" + this.provName
                    },
                    this.digestString = function (t) {
                        throw "digestString(str) not supported for this alg/prov: " + this.algName + "/" + this.provName
                    },
                    this.digestHex = function (t) {
                        throw "digestHex(hex) not supported for this alg/prov: " + this.algName + "/" + this.provName
                    },
                    void 0 !== t && void 0 !== t.alg && (this.algName = t.alg, void 0 === t.prov && (this.provName = pt.crypto.Util.DEFAULTPROVIDER[this.algName]), this.setAlgAndProvider(this.algName, this.provName))
                },
                pt.crypto.MessageDigest.getCanonicalAlgName = function (t) {
                    return "string" == typeof t && (t = (t = t.toLowerCase()).replace(/-/, "")),
                    t
                },
                pt.crypto.MessageDigest.getHashLength = function (t) {
                    var e = pt.crypto.MessageDigest,
                    n = e.getCanonicalAlgName(t);
                    if (void 0 === e.HASHLENGTH[n])
                        throw "not supported algorithm: " + t;
                    return e.HASHLENGTH[n]
                },
                pt.crypto.MessageDigest.HASHLENGTH = {
                    md5: 16,
                    sha1: 20,
                    sha224: 28,
                    sha256: 32,
                    sha384: 48,
                    sha512: 64,
                    ripemd160: 20
                },
                pt.crypto.Mac = function (t) {
                    this.setAlgAndProvider = function (t, e) {
                        if (null == (t = t.toLowerCase()) && (t = "hmacsha1"), "hmac" != (t = t.toLowerCase()).substr(0, 4))
                            throw "setAlgAndProvider unsupported HMAC alg: " + t;
                        void 0 === e && (e = pt.crypto.Util.DEFAULTPROVIDER[t]),
                        this.algProv = t + "/" + e;
                        var n = t.substr(4);
                        if (-1 != ":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(n) && "cryptojs" == e) {
                            try {
                                var o = pt.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[n];
                                this.mac = dt.algo.HMAC.create(o, this.pass)
                            } catch (t) {
                                throw "setAlgAndProvider hash alg set fail hashAlg=" + n + "/" + t
                            }
                            this.updateString = function (t) {
                                this.mac.update(t)
                            },
                            this.updateHex = function (t) {
                                var e = dt.enc.Hex.parse(t);
                                this.mac.update(e)
                            },
                            this.doFinal = function () {
                                return this.mac.finalize().toString(dt.enc.Hex)
                            },
                            this.doFinalString = function (t) {
                                return this.updateString(t),
                                this.doFinal()
                            },
                            this.doFinalHex = function (t) {
                                return this.updateHex(t),
                                this.doFinal()
                            }
                        }
                    },
                    this.updateString = function (t) {
                        throw "updateString(str) not supported for this alg/prov: " + this.algProv
                    },
                    this.updateHex = function (t) {
                        throw "updateHex(hex) not supported for this alg/prov: " + this.algProv
                    },
                    this.doFinal = function () {
                        throw "digest() not supported for this alg/prov: " + this.algProv
                    },
                    this.doFinalString = function (t) {
                        throw "digestString(str) not supported for this alg/prov: " + this.algProv
                    },
                    this.doFinalHex = function (t) {
                        throw "digestHex(hex) not supported for this alg/prov: " + this.algProv
                    },
                    this.setPassword = function (t) {
                        if ("string" == typeof t) {
                            var e = t;
                            return t.length % 2 != 1 && t.match(/^[0-9A-Fa-f]+$/) || (e = It(t)),
                            void(this.pass = dt.enc.Hex.parse(e))
                        }
                        if ("object" != (void 0 === t ? "undefined" : o(t)))
                            throw "KJUR.crypto.Mac unsupported password type: " + t;
                        e = null;
                        if (void 0 !== t.hex) {
                            if (t.hex.length % 2 != 0 || !t.hex.match(/^[0-9A-Fa-f]+$/))
                                throw "Mac: wrong hex password: " + t.hex;
                            e = t.hex
                        }
                        if (void 0 !== t.utf8 && (e = St(t.utf8)), void 0 !== t.rstr && (e = It(t.rstr)), void 0 !== t.b64 && (e = J(t.b64)), void 0 !== t.b64u && (e = bt(t.b64u)), null == e)
                            throw "KJUR.crypto.Mac unsupported password type: " + t;
                        this.pass = dt.enc.Hex.parse(e)
                    },
                    void 0 !== t && (void 0 !== t.pass && this.setPassword(t.pass), void 0 !== t.alg && (this.algName = t.alg, void 0 === t.prov && (this.provName = pt.crypto.Util.DEFAULTPROVIDER[this.algName]), this.setAlgAndProvider(this.algName, this.provName)))
                },
                pt.crypto.Signature = function (t) {
                    var e = null;
                    if (this._setAlgNames = function () {
                        var t = this.algName.match(/^(.+)with(.+)$/);
                        t && (this.mdAlgName = t[1].toLowerCase(), this.pubkeyAlgName = t[2].toLowerCase())
                    }, this._zeroPaddingOfSignature = function (t, e) {
                        for (var n = "", o = e / 4 - t.length, i = 0; i < o; i++)
                            n += "0";
                        return n + t
                    }, this.setAlgAndProvider = function (t, e) {
                        if (this._setAlgNames(), "cryptojs/jsrsa" != e)
                            throw "provider not supported: " + e;
                        if (-1 != ":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)) {
                            try {
                                this.md = new pt.crypto.MessageDigest({
                                        alg: this.mdAlgName
                                    })
                            } catch (t) {
                                throw "setAlgAndProvider hash alg set fail alg=" + this.mdAlgName + "/" + t
                            }
                            this.init = function (t, e) {
                                var n = null;
                                try {
                                    n = void 0 === e ? KEYUTIL.getKey(t) : KEYUTIL.getKey(t, e)
                                } catch (t) {
                                    throw "init failed:" + t
                                }
                                if (!0 === n.isPrivate)
                                    this.prvKey = n, this.state = "SIGN";
                                else {
                                    if (!0 !== n.isPublic)
                                        throw "init failed.:" + n;
                                    this.pubKey = n,
                                    this.state = "VERIFY"
                                }
                            },
                            this.updateString = function (t) {
                                this.md.updateString(t)
                            },
                            this.updateHex = function (t) {
                                this.md.updateHex(t)
                            },
                            this.sign = function () {
                                if (this.sHashHex = this.md.digest(), void 0 !== this.ecprvhex && void 0 !== this.eccurvename) {
                                    var t = new pt.crypto.ECDSA({
                                            curve: this.eccurvename
                                        });
                                    this.hSign = t.signHex(this.sHashHex, this.ecprvhex)
                                } else if (this.prvKey instanceof Bt && "rsaandmgf1" === this.pubkeyAlgName)
                                    this.hSign = this.prvKey.signWithMessageHashPSS(this.sHashHex, this.mdAlgName, this.pssSaltLen);
                                else if (this.prvKey instanceof Bt && "rsa" === this.pubkeyAlgName)
                                    this.hSign = this.prvKey.signWithMessageHash(this.sHashHex, this.mdAlgName);
                                else if (this.prvKey instanceof pt.crypto.ECDSA)
                                    this.hSign = this.prvKey.signWithMessageHash(this.sHashHex);
                                else {
                                    if (!(this.prvKey instanceof pt.crypto.DSA))
                                        throw "Signature: unsupported private key alg: " + this.pubkeyAlgName;
                                    this.hSign = this.prvKey.signWithMessageHash(this.sHashHex)
                                }
                                return this.hSign
                            },
                            this.signString = function (t) {
                                return this.updateString(t),
                                this.sign()
                            },
                            this.signHex = function (t) {
                                return this.updateHex(t),
                                this.sign()
                            },
                            this.verify = function (t) {
                                if (this.sHashHex = this.md.digest(), void 0 !== this.ecpubhex && void 0 !== this.eccurvename)
                                    return new pt.crypto.ECDSA({
                                        curve: this.eccurvename
                                    })
                                        .verifyHex(this.sHashHex, t, this.ecpubhex);
                                    if (this.pubKey instanceof Bt && "rsaandmgf1" === this.pubkeyAlgName)
                                        return this.pubKey.verifyWithMessageHashPSS(this.sHashHex, t, this.mdAlgName, this.pssSaltLen);
                                    if (this.pubKey instanceof Bt && "rsa" === this.pubkeyAlgName)
                                        return this.pubKey.verifyWithMessageHash(this.sHashHex, t);
                                    if (void 0 !== pt.crypto.ECDSA && this.pubKey instanceof pt.crypto.ECDSA)
                                        return this.pubKey.verifyWithMessageHash(this.sHashHex, t);
                                    if (void 0 !== pt.crypto.DSA && this.pubKey instanceof pt.crypto.DSA)
                                        return this.pubKey.verifyWithMessageHash(this.sHashHex, t);
                                    throw "Signature: unsupported public key alg: " + this.pubkeyAlgName
                                }
                            }
                        }, this.init = function (t, e) {
                            throw "init(key, pass) not supported for this alg:prov=" + this.algProvName
                        }, this.updateString = function (t) {
                            throw "updateString(str) not supported for this alg:prov=" + this.algProvName
                        }, this.updateHex = function (t) {
                            throw "updateHex(hex) not supported for this alg:prov=" + this.algProvName
                        }, this.sign = function () {
                            throw "sign() not supported for this alg:prov=" + this.algProvName
                        }, this.signString = function (t) {
                            throw "digestString(str) not supported for this alg:prov=" + this.algProvName
                        }, this.signHex = function (t) {
                            throw "digestHex(hex) not supported for this alg:prov=" + this.algProvName
                        }, this.verify = function (t) {
                            throw "verify(hSigVal) not supported for this alg:prov=" + this.algProvName
                        }, this.initParams = t, void 0 !== t && (void 0 !== t.alg && (this.algName = t.alg, void 0 === t.prov ? this.provName = pt.crypto.Util.DEFAULTPROVIDER[this.algName] : this.provName = t.prov, this.algProvName = this.algName + ":" + this.provName, this.setAlgAndProvider(this.algName, this.provName), this._setAlgNames()), void 0 !== t.psssaltlen && (this.pssSaltLen = t.psssaltlen), void 0 !== t.prvkeypem)) {
                            if (void 0 !== t.prvkeypas)
                                throw "both prvkeypem and prvkeypas parameters not supported";
                            try {
                                e = KEYUTIL.getKey(t.prvkeypem);
                                this.init(e)
                            } catch (t) {
                                throw "fatal error to load pem private key: " + t
                            }
                        }
                },
                pt.crypto.Cipher = function (t) {},
                pt.crypto.Cipher.encrypt = function (t, e, n) {
                    if (e instanceof Bt && e.isPublic) {
                        var o = pt.crypto.Cipher.getAlgByKeyAndName(e, n);
                        if ("RSA" === o)
                            return e.encrypt(t);
                        if ("RSAOAEP" === o)
                            return e.encryptOAEP(t, "sha1");
                        var i = o.match(/^RSAOAEP(\d+)$/);
                        if (null !== i)
                            return e.encryptOAEP(t, "sha" + i[1]);
                        throw "Cipher.encrypt: unsupported algorithm for RSAKey: " + n
                    }
                    throw "Cipher.encrypt: unsupported key or algorithm"
                },
                pt.crypto.Cipher.decrypt = function (t, e, n) {
                    if (e instanceof Bt && e.isPrivate) {
                        var o = pt.crypto.Cipher.getAlgByKeyAndName(e, n);
                        if ("RSA" === o)
                            return e.decrypt(t);
                        if ("RSAOAEP" === o)
                            return e.decryptOAEP(t, "sha1");
                        var i = o.match(/^RSAOAEP(\d+)$/);
                        if (null !== i)
                            return e.decryptOAEP(t, "sha" + i[1]);
                        throw "Cipher.decrypt: unsupported algorithm for RSAKey: " + n
                    }
                    throw "Cipher.decrypt: unsupported key or algorithm"
                },
                pt.crypto.Cipher.getAlgByKeyAndName = function (t, e) {
                    if (t instanceof Bt) {
                        if (-1 != ":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(e))
                            return e;
                        if (null === e || void 0 === e)
                            return "RSA";
                        throw "getAlgByKeyAndName: not supported algorithm name for RSAKey: " + e
                    }
                    throw "getAlgByKeyAndName: not supported algorithm name: " + e
                },
                pt.crypto.OID = new function () {
                    this.oidhex2name = {
                        "2a864886f70d010101": "rsaEncryption",
                        "2a8648ce3d0201": "ecPublicKey",
                        "2a8648ce380401": "dsa",
                        "2a8648ce3d030107": "secp256r1",
                        "2b8104001f": "secp192k1",
                        "2b81040021": "secp224r1",
                        "2b8104000a": "secp256k1",
                        "2b81040023": "secp521r1",
                        "2b81040022": "secp384r1",
                        "2a8648ce380403": "SHA1withDSA",
                        "608648016503040301": "SHA224withDSA",
                        "608648016503040302": "SHA256withDSA"
                    }
                },
                Bt.prototype.doPublic = function (t) {
                    return t.modPowInt(this.e, this.n)
                },
                Bt.prototype.setPublic = function (t, e) {
                    if (this.isPublic = !0, this.isPrivate = !1, "string" != typeof t)
                        this.n = t, this.e = e;
                    else {
                        if (!(null != t && null != e && t.length > 0 && e.length > 0))
                            throw "Invalid RSA public key";
                        this.n = Rt(t, 16),
                        this.e = parseInt(e, 16)
                    }
                },
                Bt.prototype.encrypt = function (t) {
                    var e = Lt(t, this.n.bitLength() + 7 >> 3);
                    if (null == e)
                        return null;
                    var n = this.doPublic(e);
                    if (null == n)
                        return null;
                    var o = n.toString(16);
                    return 0 == (1 & o.length) ? o : "0" + o
                },
                Bt.prototype.encryptOAEP = function (t, e, n) {
                    var o = kt(t, this.n.bitLength() + 7 >> 3, e, n);
                    if (null == o)
                        return null;
                    var i = this.doPublic(o);
                    if (null == i)
                        return null;
                    var r = i.toString(16);
                    return 0 == (1 & r.length) ? r : "0" + r
                },
                Bt.prototype.type = "RSA",
                Bt.getPosArrayOfChildrenFromHex = function (t) {
                    return ht.getChildIdx(t, 0)
                },
                Bt.getHexValueArrayOfChildrenFromHex = function (t) {
                    var e,
                    n = ht.getV,
                    o = n(t, (e = Bt.getPosArrayOfChildrenFromHex(t))[0]),
                    i = n(t, e[1]),
                    r = n(t, e[2]),
                    a = n(t, e[3]),
                    s = n(t, e[4]),
                    c = n(t, e[5]),
                    l = n(t, e[6]),
                    u = n(t, e[7]),
                    d = n(t, e[8]);
                    return (e = new Array).push(o, i, r, a, s, c, l, u, d),
                    e
                },
                Bt.prototype.readPrivateKeyFromPEMString = function (t) {
                    var e = Mt(t),
                    n = Bt.getHexValueArrayOfChildrenFromHex(e);
                    this.setPrivateEx(n[1], n[2], n[3], n[4], n[5], n[6], n[7], n[8])
                },
                Bt.prototype.readPKCS5PrvKeyHex = function (t) {
                    var e = Bt.getHexValueArrayOfChildrenFromHex(t);
                    this.setPrivateEx(e[1], e[2], e[3], e[4], e[5], e[6], e[7], e[8])
                },
                Bt.prototype.readPKCS8PrvKeyHex = function (t) {
                    var e,
                    n,
                    o,
                    i,
                    r,
                    a,
                    s,
                    c,
                    l = ht,
                    u = l.getVbyList;
                    if (!1 === l.isASN1HEX(t))
                        throw "not ASN.1 hex string";
                    try {
                        e = u(t, 0, [2, 0, 1], "02"),
                        n = u(t, 0, [2, 0, 2], "02"),
                        o = u(t, 0, [2, 0, 3], "02"),
                        i = u(t, 0, [2, 0, 4], "02"),
                        r = u(t, 0, [2, 0, 5], "02"),
                        a = u(t, 0, [2, 0, 6], "02"),
                        s = u(t, 0, [2, 0, 7], "02"),
                        c = u(t, 0, [2, 0, 8], "02")
                    } catch (t) {
                        throw "malformed PKCS#8 plain RSA private key"
                    }
                    this.setPrivateEx(e, n, o, i, r, a, s, c)
                },
                Bt.prototype.readPKCS5PubKeyHex = function (t) {
                    var e = ht,
                    n = e.getV;
                    if (!1 === e.isASN1HEX(t))
                        throw "keyHex is not ASN.1 hex string";
                    var o = e.getChildIdx(t, 0);
                    if (2 !== o.length || "02" !== t.substr(o[0], 2) || "02" !== t.substr(o[1], 2))
                        throw "wrong hex for PKCS#5 public key";
                    var i = n(t, o[0]),
                    r = n(t, o[1]);
                    this.setPublic(i, r)
                },
                Bt.prototype.readPKCS8PubKeyHex = function (t) {
                    var e = ht;
                    if (!1 === e.isASN1HEX(t))
                        throw "not ASN.1 hex string";
                    if ("06092a864886f70d010101" !== e.getTLVbyList(t, 0, [0, 0]))
                        throw "not PKCS8 RSA public key";
                    var n = e.getTLVbyList(t, 0, [1, 0]);
                    this.readPKCS5PubKeyHex(n)
                },
                Bt.prototype.readCertPubKeyHex = function (t, e) {
                    var n,
                    o;
                    (n = new X509).readCertHex(t),
                    o = n.getPublicKeyHex(),
                    this.readPKCS8PubKeyHex(o)
                };
                var Ut = new RegExp("");
                function Gt(t, e) {
                    for (var n = "", o = e / 4 - t.length, i = 0; i < o; i++)
                        n += "0";
                    return n + t
                }
                function Ft(t, e, n) {
                    for (var o = "", i = 0; o.length < e; )
                        o += Ct(n(It(t + String.fromCharCode.apply(String, [(4278190080 & i) >> 24, (16711680 & i) >> 16, (65280 & i) >> 8, 255 & i])))), i += 1;
                    return o
                }
                function jt(t) {
                    for (var e in pt.crypto.Util.DIGESTINFOHEAD) {
                        var n = pt.crypto.Util.DIGESTINFOHEAD[e],
                        o = n.length;
                        if (t.substring(0, o) == n)
                            return [e, t.substring(o)]
                    }
                    return []
                }
                Ut.compile("[^0-9a-f]", "gi"),
                Bt.prototype.sign = function (t, e) {
                    var n = function (t) {
                        return pt.crypto.Util.hashString(t, e)
                    }
                    (t);
                    return this.signWithMessageHash(n, e)
                },
                Bt.prototype.signWithMessageHash = function (t, e) {
                    var n = Rt(pt.crypto.Util.getPaddedDigestInfoHex(t, e, this.n.bitLength()), 16);
                    return Gt(this.doPrivate(n).toString(16), this.n.bitLength())
                },
                Bt.prototype.signPSS = function (t, e, n) {
                    var o = function (t) {
                        return pt.crypto.Util.hashHex(t, e)
                    }
                    (It(t));
                    return void 0 === n && (n = -1),
                    this.signWithMessageHashPSS(o, e, n)
                },
                Bt.prototype.signWithMessageHashPSS = function (t, e, n) {
                    var o,
                    i = Ct(t),
                    r = i.length,
                    a = this.n.bitLength() - 1,
                    s = Math.ceil(a / 8),
                    c = function (t) {
                        return pt.crypto.Util.hashHex(t, e)
                    };
                    if (-1 === n || void 0 === n)
                        n = r;
                    else if (-2 === n)
                        n = s - r - 2;
                    else if (n < -2)
                        throw "invalid salt length";
                    if (s < r + n + 2)
                        throw "data too long";
                    var l = "";
                    n > 0 && (l = new Array(n), (new ut).nextBytes(l), l = String.fromCharCode.apply(String, l));
                    var u = Ct(c(It("\0\0\0\0\0\0\0\0" + i + l))),
                    d = [];
                    for (o = 0; o < s - n - r - 2; o += 1)
                        d[o] = 0;
                    var p = String.fromCharCode.apply(String, d) + "\x01" + l,
                    h = Ft(u, p.length, c),
                    f = [];
                    for (o = 0; o < p.length; o += 1)
                        f[o] = p.charCodeAt(o) ^ h.charCodeAt(o);
                    var _ = 65280 >> 8 * s - a & 255;
                    for (f[0] &= ~_, o = 0; o < r; o++)
                        f.push(u.charCodeAt(o));
                    return f.push(188),
                    Gt(this.doPrivate(new k(f)).toString(16), this.n.bitLength())
                },
                Bt.prototype.verify = function (t, e) {
                    var n = Rt(e = (e = e.replace(Ut, "")).replace(/[ \n]+/g, ""), 16);
                    if (n.bitLength() > this.n.bitLength())
                        return 0;
                    var o = jt(this.doPublic(n).toString(16).replace(/^1f+00/, ""));
                    if (0 == o.length)
                        return !1;
                    var i = o[0];
                    return o[1] == function (t) {
                        return pt.crypto.Util.hashString(t, i)
                    }
                    (t)
                },
                Bt.prototype.verifyWithMessageHash = function (t, e) {
                    var n = Rt(e = (e = e.replace(Ut, "")).replace(/[ \n]+/g, ""), 16);
                    if (n.bitLength() > this.n.bitLength())
                        return 0;
                    var o = jt(this.doPublic(n).toString(16).replace(/^1f+00/, ""));
                    if (0 == o.length)
                        return !1;
                    o[0];
                    return o[1] == t
                },
                Bt.prototype.verifyPSS = function (t, e, n, o) {
                    var i = function (t) {
                        return pt.crypto.Util.hashHex(t, n)
                    }
                    (It(t));
                    return void 0 === o && (o = -1),
                    this.verifyWithMessageHashPSS(i, e, n, o)
                },
                Bt.prototype.verifyWithMessageHashPSS = function (t, e, n, o) {
                    var i = new k(e, 16);
                    if (i.bitLength() > this.n.bitLength())
                        return !1;
                    var r,
                    a = function (t) {
                        return pt.crypto.Util.hashHex(t, n)
                    },
                    s = Ct(t),
                    c = s.length,
                    l = this.n.bitLength() - 1,
                    u = Math.ceil(l / 8);
                    if (-1 === o || void 0 === o)
                        o = c;
                    else if (-2 === o)
                        o = u - c - 2;
                    else if (o < -2)
                        throw "invalid salt length";
                    if (u < c + o + 2)
                        throw "data too long";
                    var d = this.doPublic(i).toByteArray();
                    for (r = 0; r < d.length; r += 1)
                        d[r] &= 255;
                    for (; d.length < u; )
                        d.unshift(0);
                    if (188 !== d[u - 1])
                        throw "encoded message does not end in 0xbc";
                    var p = (d = String.fromCharCode.apply(String, d)).substr(0, u - c - 1),
                    h = d.substr(p.length, c),
                    f = 65280 >> 8 * u - l & 255;
                    if (0 != (p.charCodeAt(0) & f))
                        throw "bits beyond keysize not zero";
                    var _ = Ft(h, p.length, a),
                    m = [];
                    for (r = 0; r < p.length; r += 1)
                        m[r] = p.charCodeAt(r) ^ _.charCodeAt(r);
                    m[0] &= ~f;
                    var g = u - c - o - 2;
                    for (r = 0; r < g; r += 1)
                        if (0 !== m[r])
                            throw "leftmost octets not zero";
                    if (1 !== m[g])
                        throw "0x01 marker not found";
                    return h === Ct(a(It("\0\0\0\0\0\0\0\0" + s + String.fromCharCode.apply(String, m.slice(-o)))))
                },
                Bt.SALT_LEN_HLEN = -1,
                Bt.SALT_LEN_MAX = -2,
                Bt.SALT_LEN_RECOVER = -2,
                cc._RF.pop()
            }).call(this, t("buffer").Buffer)
        }, {
            buffer: 2
        }
    ],
    ULSdkManager: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "9ea04Wv6zpKJqktO/GWxHUt", "ULSdkManager"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("../middleware/ULSdkMiddleware"),
            i = t("../events/ULEventDispatcher"),
            r = t("./ULSdkModuleLoader"),
            a = t("./ULChannelInfo"),
            s = t("./ULCopManager"),
            c = t("../utils/ULTimer"),
            l = t("../utils/ULTools"),
            u = t("./ULConfig"),
            d = t("../ULConsts"),
            p = t("./ULAdvManager"),
            h = t("./ULStatisManager"),
            f = t("./ULModuleCheckerManager"),
            _ = function () {
                function t() {
                    this.bChannelInfoResultResponsed = !1,
                    this.bAllowStartGame = !0,
                    this.version = "0.1",
                    this.modules = [],
                    this.channelInfo = new a.default,
                    this.copManager = new s.default,
                    this.advManager = new p.default,
                    this.statisManager = new h.ULStatisManager,
                    this.moduleCheckerManager = new f.default,
                    this.bChannelInfoResultResponsed = !1,
                    this.responsePending = []
                }
                return t.getInstance = function () {
                    return this._instance || (this._instance = new t),
                    this._instance
                },
                t.prototype.initUlsdk = function () {
                    console.log("ULSdkManger.init"),
                    this.modules = r.default.initAllModules(),
                    this.advManager.init(),
                    this.statisManager.init(),
                    this.copManager.init(),
                    this.moduleCheckerManager.init(),
                    i.default.getInstance().addListener(d.default.CMD_SET_VERSION, d.default.PRIORITY_NONE, this.onCmdSetVersion.bind(this)),
                    i.default.getInstance().dispatch(d.default.CMD_SDK_ON_GAME_START, {}),
                    window.cc && window.cc.game && window.cc.game.on instanceof Function && (window.cc.game.on(window.cc.game.EVENT_SHOW, function () {
                            console.log("ULSdkManager on EVENT_SHOW"),
                            i.default.getInstance().dispatch(d.default.CMD_SDK_ON_GAME_RESUME, {})
                        }), window.cc.game.on(window.cc.game.EVENT_HIDE, function () {
                            console.log("ULSdkManager on CC_EVENT_HIDE"),
                            i.default.getInstance().dispatch(d.default.CMD_SDK_ON_GAME_PAUSE, {})
                        }))
                },
                t.prototype.onRequest = function (t) {
                    var e = null;
                    try {
                        e = JSON.parse(t)
                    } catch (t) {
                        console.error(t)
                    }
                    if (e) {
                        var n = e.cmd,
                        o = e.data || {};
                        if (n)
                            console.log("ULSdkManager.onRequest", n, o), i.default.getInstance().dispatch(n, o) || console.warn(l.default.format("\u672a\u68c0\u6d4b\u5230[%s]\u76d1\u542c\u5668", n));
                        else
                            console.error("cmd\u4e3a\u7a7a,\u8bf7\u68c0\u67e5\u662f\u5426\u6309\u7167\u6587\u6863\u89c4\u8303\u914d\u7f6e\u6d88\u606f")
                    } else
                        console.error("\u8bf7\u4ed4\u7ec6\u9605\u8bfb\u6587\u6863,\u6d88\u606f\u5fc5\u987b\u4e3ajson\u5b57\u7b26\u4e32\u7c7b\u578b")
                },
                t.prototype.response = function (t, e) {
                    if (console.log("ULSdkManager.response", t, e), !this.bChannelInfoResultResponsed) {
                        // return console.log("  \u5c1a\u672a\u53d1\u9001/c/channelInfoResult\uff0c\u6682\u5b58\u6d88\u606f"), void this.responsePending.push({
                        //     cmd: t,
                        //     data: e
                        // });
                        return;
                    }
                    var n = JSON.stringify({
                            cmd: t,
                            data: e
                        });
                    o.default.onResponse(n)
                },
                t.prototype.uploadMegadata = function (t) {
                    var e = t.join("_");
                    this.statisManager.reportUserEvent(["commonEvent", e])
                },
                t.prototype.isAllowStartGame = function () {
                    return this.bAllowStartGame
                },
                t.prototype.getModuleByName = function (t) {
                    for (var e = 0; e < this.modules.length; e++) {
                        var n = this.modules[e];
                        if (n.name == t)
                            return n
                    }
                    return null
                },
                t.prototype._doResponseChannelInfoResult = function () {
                    this.bChannelInfoResultResponsed = !0,
                    this.response(d.default.CMD_CHANNEL_INFO_RESULT, this.channelInfo.toResponseData());
                    for (var t = 0; t < this.responsePending.length; t++) {
                        var e = this.responsePending[t];
                        this.response(e.cmd, e.data)
                    }
                    this.responsePending = []
                },
                t.prototype.onCmdSetVersion = function (t) {
                    var e = this;
                    t.data;
                    if (t.stopImmediatePropagation(), this.channelInfo.isReady())
                        this._doResponseChannelInfoResult();
                    else {
                        console.log("ULSdkManager.onEventSetVersion channelInfo\u51c6\u5907\u4e2d\uff0c\u5f00\u542ftimer\u8fdb\u884c\u76d1\u542c");
                        var n = u.default.getConfig().i_channel_info_timeout / 1e3;
                        c.default.callLoop(1 / 60, function (t) {
                            if (t.usedTime >= n) {
                                t.stop();
                                var o = e.channelInfo.getPreparationFlags();
                                return console.log("\u7b49\u5f85channelInfo\u8d85\u65f6\uff01\u76f4\u63a5\u89e6\u53d1channelInfoResult\u3002flags:", o.join(",")),
                                void e._doResponseChannelInfoResult()
                            }
                            if (e.channelInfo.isReady())
                                return t.stop(), console.log("channelInfo\u51c6\u5907\u5b8c\u6bd5\uff01\u89e6\u53d1channelInfoResult"), void e._doResponseChannelInfoResult()
                        })
                    }
                },
                t._instance = null,
                t
            }
            ();
            n.default = _,
            cc._RF.pop()
        }, {
            "../ULConsts": "ULConsts",
            "../events/ULEventDispatcher": "ULEventDispatcher",
            "../middleware/ULSdkMiddleware": "ULSdkMiddleware",
            "../utils/ULTimer": "ULTimer",
            "../utils/ULTools": "ULTools",
            "./ULAdvManager": "ULAdvManager",
            "./ULChannelInfo": "ULChannelInfo",
            "./ULConfig": "ULConfig",
            "./ULCopManager": "ULCopManager",
            "./ULModuleCheckerManager": "ULModuleCheckerManager",
            "./ULSdkModuleLoader": "ULSdkModuleLoader",
            "./ULStatisManager": "ULStatisManager"
        }
    ],
    ULSdkMiddleware: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "3ba94aRgChOiZbqmo3TqC0c", "ULSdkMiddleware"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("../core/ULSdkManager"),
            i = function () {
                function t() {}
                return t.initUlsdk = function () {
                    if (o.default)
                        try {
                            return o.default.getInstance().initUlsdk(),
                            !0
                        } catch (t) {
                            return console.error(t),
                            !1
                        }
                    else
                        console.log("ULSdkMiddleware.initUlsdk ULSdkManager not found!")
                },
                t.request = function (t) {
                    if (!o.default)
                        return console.log("ULSdkMiddleware.request ULSdkManager not found!"), !1;
                    try {
                        return o.default.getInstance().onRequest(t),
                        !0
                    } catch (t) {
                        return console.error(t),
                        !1
                    }
                },
                t.isAllowStartGame = function () {
                    return o.default ? o.default.getInstance().isAllowStartGame() : (console.log("ULSdkMiddleware.isAllowStartGame ULSdkManager not found!"), !0)
                },
                t.registerOnResponseCallback = function (t) {
                    this.fOnResponseCallback = t
                },
                t.onResponse = function (t) {
                    this.fOnResponseCallback instanceof Function && this.fOnResponseCallback(t)
                },
                t.fOnResponseCallback = null,
                t
            }
            ();
            n.default = i,
            cc._RF.pop()
        }, {
            "../core/ULSdkManager": "ULSdkManager"
        }
    ],
    ULSdkModuleLoader: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "0386fiRF79HZIa91dK0h40C", "ULSdkModuleLoader"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("../modules/common/ULModuleCdk"),
            i = t("../modules/common/ULModuleMegadata"),
            r = t("../modules/common/ULModuleUserData"),
            a = t("../modules/common/ULModuleClipboard"),
            s = t("../modules/4399minigame/ULModule4399MiniGame"),
            c = function () {
                function t() {}
                return t.initAllModules = function () {
                    var t = [];
                    t.push(new o.default),
                    t.push(new i.default),
                    t.push(new r.default),
                    t.push(new a.default),
                    t.push(new s.default);
                    for (var e = 0; e < t.length; e++)
                        for (var n = (u = t[e]).loadSubModules(), c = 0; c < n.length; c++) {
                            var l = n[c];
                            t.splice(e + 1, 0, l),
                            e++
                        }
                    console.log("ULSdkModuleLoader--modules:", t);
                    for (e = 0; e < t.length; e++) {
                        var u = t[e];
                        try {
                            u.init()
                        } catch (t) {
                            console.error(t)
                        }
                    }
                    return t
                },
                t
            }
            ();
            n.default = c,
            cc._RF.pop()
        }, {
            "../modules/4399minigame/ULModule4399MiniGame": "ULModule4399MiniGame",
            "../modules/common/ULModuleCdk": "ULModuleCdk",
            "../modules/common/ULModuleClipboard": "ULModuleClipboard",
            "../modules/common/ULModuleMegadata": "ULModuleMegadata",
            "../modules/common/ULModuleUserData": "ULModuleUserData"
        }
    ],
    ULStatisManager: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "eb9e6h4M3ZCx7P51L940MfR", "ULStatisManager"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("./ULStorageManager"),
            i = t("../utils/ULTools"),
            r = t("./ULSdkManager"),
            a = t("./ULConfig"),
            s = t("../ULConsts"),
            c = t("../utils/ULTimer"),
            l = t("../events/ULEventDispatcher"),
            u = function () {
                function t() {
                    this.bUploading = !1,
                    this.lastTimerLoopTime = null
                }
                return t.prototype.init = function () {
                    this.loadRecord(),
                    c.default.callLoop(.1, this.onTimerLoop.bind(this)),
                    l.default.getInstance().addListener(s.default.CMD_SDK_ON_GAME_START, s.default.PRIORITY_NONE, this.onCmdSdkOnGameStart.bind(this)),
                    l.default.getInstance().addListener(s.default.CMD_SDK_ON_GAME_PAUSE, s.default.PRIORITY_NONE, this.onCmdSdkOnGamePause.bind(this)),
                    l.default.getInstance().addListener(s.default.CMD_SDK_ON_GAME_RESUME, s.default.PRIORITY_NONE, this.onCmdSdkOnGameResume.bind(this))
                },
                t.prototype.loadRecord = function () {
                    var t,
                    e = o.default.getInstance().getStorage(this._getRecordKey()) || "{}";
                    try {
                        t = JSON.parse(e)
                    } catch (e) {
                        t = {}
                    }
                    this.cacheItems = t.cacheItems || []
                },
                t.prototype.saveRecord = function () {
                    var t = {
                        cacheItems: this.cacheItems || []
                    },
                    e = JSON.stringify(t);
                    o.default.getInstance().setStorage(this._getRecordKey(), e)
                },
                t.prototype._getRecordKey = function () {
                    var t = a.default.getConfig();
                    return i.default.format("ULStatisManager_record_%d", t.s_sdk_cop_game_id)
                },
                t.prototype.onTimerLoop = function (t) {
                    this.lastTimerLoopTime || (this.lastTimerLoopTime = i.default.time()),
                    i.default.time() - this.lastTimerLoopTime < a.default.getConfig().i_sdk_megadata_upload_span / 1e3 || (this.lastTimerLoopTime = i.default.time(), this.cacheItems.length <= 0 || this.tryUploadToServer())
                },
                t.prototype._report = function (t, e) {
                    if (a.default.getConfig().i_sdk_megadata_mode) {
                        for (var n = 0; n < e.length; n++) {
                            var o = e[n];
                            "string" != typeof o && (o = null == o ? "" : "" + o),
                            e[n] = o
                        }
                        var i = {
                            typeid: t,
                            updata: e
                        };
                        this.cacheItems.push(i),
                        this.saveRecord(),
                        this.cacheItems.length >= s.default.STATIS_UPLOAD_SINGLE_REQUEST_MAX_COUNT && this.tryUploadToServer()
                    } else
                        console.log("ULStatisManager._report !i_sdk_megadata_mode \u5173\u95ed\u7edf\u8ba1\u529f\u80fd")
                },
                t.prototype.tryUploadToServer = function () {
                    var t = this;
                    if (!this.bUploading) {
                        this.bUploading = !0;
                        var e = Math.min(this.cacheItems.length, s.default.STATIS_UPLOAD_SINGLE_REQUEST_MAX_COUNT);
                        if (!(e <= 0)) {
                            for (var n = [], o = 0; o < e; o++) {
                                var r = this.cacheItems[o];
                                n.push(r)
                            }
                            var c = a.default.getConfig(),
                            l = c.s_sdk_megadata_url,
                            u = "updata=" + JSON.stringify(n);
                            0,
                            i.default.httpPost({
                                url: l,
                                postData: u,
                                timeoutMillisecond: c.i_net_timeout,
                                success: function (n) {
                                    "Successful" == n && (t.cacheItems.splice(0, e), t.saveRecord()),
                                    t.bUploading = !1
                                },
                                fail: function (e) {
                                    t.bUploading = !1
                                }
                            })
                        }
                    }
                },
                t.prototype.reportGameStart = function () {
                    var t = r.default.getInstance().channelInfo,
                    e = a.default.getConfig(),
                    n = i.default.format("%s-%s", e.s_sdk_megadata_server_type_id, s.default.STATIS_TYPE_BASE_INFO),
                    o = [];
                    o.push(this.gameStartTimeFormattedStr),
                    o.push(t.uuid),
                    o.push(""),
                    o.push(""),
                    o.push(""),
                    o.push(e.s_game_name),
                    o.push(e.s_sdk_cop_game_id),
                    o.push(t.appName),
                    o.push(e.s_sdk_cop_channel_id),
                    o.push(e.s_sdk_cop_version),
                    o.push(""),
                    o.push("gameStart"),
                    o.push(""),
                    o.push(e.s_sdk_version),
                    o.push(""),
                    this._report(n, o)
                },
                t.prototype.reportPayRequest = function () {
                    this.reportPayResult("", "", "requestPay")
                },
                t.prototype.reportPaySuccess = function (t, e) {
                    var n = i.default.format("%.2f", e / 100);
                    this.reportPayResult(t, n, "success")
                },
                t.prototype.reportPayCancel = function (t, e) {
                    var n = i.default.format("%.2f", e / 100);
                    this.reportPayResult(t, n, "cancel")
                },
                t.prototype.reportPayFail = function (t, e) {
                    var n = i.default.format("%.2f", e / 100);
                    this.reportPayResult(t, n, "failed")
                },
                t.prototype.reportPayResult = function (t, e, n) {
                    var o = r.default.getInstance().channelInfo,
                    c = a.default.getConfig(),
                    l = i.default.format("%s-%s", c.s_sdk_megadata_server_type_id, s.default.STATIS_TYPE_PAY_INFO),
                    u = [];
                    u.push(i.default.formatDate(new Date, "yyyy-MM-dd HH:mm:ss")),
                    u.push(o.uuid),
                    u.push(""),
                    u.push(o.channelName),
                    u.push(t || ""),
                    u.push(e || ""),
                    u.push(n || ""),
                    u.push(c.s_sdk_cop_version),
                    u.push(c.s_sdk_version),
                    this._report(l, u)
                },
                t.prototype.reportAdvBranchRequest = function (t, e, n) {
                    t.statisChannelName = e,
                    t.statisSdkAdvId = n,
                    this.reportAdvInfo(e, t.showAdvType, "branchAdvRequest", "", t.advGroupId, t.advId, t.tag, "", n)
                },
                t.prototype.reportAdvTotalRequest = function (t) {
                    this.reportAdvInfo("", t.advType, "totalAdvRequest", "", t.advGroupId, t.advId, t.tag, "", "")
                },
                t.prototype.reportAdvSuccess = function (t, e) {
                    t.statisNativeAdTitle = e,
                    this.reportAdvInfo(t.statisChannelName, t.showAdvType, "success", "", t.advGroupId, t.advId, t.tag, t.statisNativeAdTitle, t.statisSdkAdvId)
                },
                t.prototype.reportAdvClicked = function (t) {
                    this.reportAdvInfo(t.statisChannelName, t.showAdvType, "clicked", "", t.advGroupId, t.advId, t.tag, t.statisNativeAdTitle, t.statisSdkAdvId)
                },
                t.prototype.reportAdvFail = function (t, e) {
                    this.reportAdvInfo(t.statisChannelName, t.showAdvType, "failed", e, t.advGroupId, t.advId, t.tag, t.statisNativeAdTitle, t.statisSdkAdvId)
                },
                t.prototype.reportAdvInfo = function (t, e, n, o, c, l, u, d, p) {
                    var h = r.default.getInstance().channelInfo,
                    f = a.default.getConfig(),
                    _ = i.default.format("%s-%s", f.s_sdk_megadata_server_type_id, s.default.STATIS_TYPE_ADV_INFO),
                    m = [];
                    d && d.length > 6 && (d = d.substr(0, 6)),
                    m.push(i.default.formatDate(new Date, "yyyy-MM-dd HH:mm:ss")),
                    m.push(h.uuid),
                    m.push(""),
                    m.push(t || ""),
                    m.push(e || ""),
                    m.push(n || ""),
                    m.push(o || ""),
                    m.push(f.s_sdk_cop_version),
                    m.push(f.s_sdk_version),
                    m.push(c || ""),
                    m.push(l || ""),
                    m.push(u || ""),
                    m.push(d || ""),
                    m.push(p || ""),
                    this._report(_, m)
                },
                t.prototype.reportCopSuccess = function (t) {
                    this.reportCopResult("success", "", t)
                },
                t.prototype.reportCopFail = function (t) {
                    this.reportCopResult("filed", t, "")
                },
                t.prototype.reportCopResult = function (t, e, n) {
                    var o = r.default.getInstance().channelInfo,
                    c = a.default.getConfig(),
                    l = i.default.format("%s-%s", c.s_sdk_megadata_server_type_id, s.default.STATIS_TYPE_COP_REQUEST),
                    u = [];
                    u.push(i.default.formatDate(new Date, "yyyy-MM-dd HH:mm:ss")),
                    u.push(o.uuid),
                    u.push(""),
                    u.push("coprequest"),
                    u.push(t || ""),
                    u.push(c.s_sdk_cop_version),
                    u.push(c.s_sdk_version),
                    u.push(e || ""),
                    u.push(""),
                    this._report(l, u)
                },
                t.prototype.reportUserEvent = function (t) {
                    var e = r.default.getInstance().channelInfo,
                    n = a.default.getConfig(),
                    o = i.default.format("%s-%s", n.s_sdk_megadata_server_type_id, s.default.STATIS_TYPE_USER_EVENT),
                    c = [];
                    c.push(i.default.formatDate(new Date, "yyyy-MM-dd HH:mm:ss")),
                    c.push(e.uuid),
                    c.push("");
                    for (var l = 0; l < t.length; l++) {
                        var u = t[l];
                        c.push(u)
                    }
                    c.push(n.s_sdk_cop_version),
                    c.push(n.s_sdk_version),
                    c.push(e.channelName),
                    this._report(o, c)
                },
                t.prototype.reportOnlineTime = function (t) {
                    var e = r.default.getInstance().channelInfo,
                    n = a.default.getConfig(),
                    o = i.default.format("%s-%s", n.s_sdk_megadata_server_type_id, s.default.STATIS_TYPE_ONLINE_TIME),
                    c = [];
                    c.push(i.default.formatDate(new Date, "yyyy-MM-dd HH:mm:ss")),
                    c.push(e.uuid),
                    c.push(""),
                    c.push(this.gameStartTimeFormattedStr || ""),
                    c.push(t.toString() || "0"),
                    c.push(n.s_sdk_cop_version),
                    c.push(n.s_sdk_version),
                    this._report(o, c)
                },
                t.prototype.reportShareSuccess = function (t) {
                    var e = ["openShare", "success", t || 0].join("_");
                    this.reportUserEvent(["commonEvent", e])
                },
                t.prototype.reportShareFail = function (t) {
                    var e = ["openShare", "fail", t || 0].join("_");
                    this.reportUserEvent(["commonEvent", e])
                },
                t.prototype.reportAppShare = function (t) {
                    var e = ["openShare", "appShare", t || 0].join("_");
                    this.reportUserEvent(["commonEvent", e])
                },
                t.prototype.reportShareClick = function (t) {
                    var e = ["clickShare", t || ""].join("_");
                    this.reportUserEvent(["commonEvent", e])
                },
                t.prototype.reportJumpGameSuccess = function (t, e) {
                    var n = ["jumpGames", t, e, "success"].join("_");
                    this.reportUserEvent(["commonEvent", n])
                },
                t.prototype.reportJumpGameFail = function (t, e) {
                    var n = ["jumpGames", t, e, "fail"].join("_");
                    this.reportUserEvent(["commonEvent", n])
                },
                t.prototype.onCmdSdkOnGameStart = function (t) {
                    this.gameStartTimeFormattedStr = i.default.formatDate(new Date, "yyyy-MM-dd HH:mm:ss"),
                    this.gameLastResumeTime = i.default.time(),
                    this.reportGameStart()
                },
                t.prototype.onCmdSdkOnGamePause = function (t) {
                    if (this.gameLastResumeTime) {
                        var e = i.default.time() - this.gameLastResumeTime;
                        0,
                        e <= 10 || e > 86400 || (this.gameLastResumeTime = i.default.time(), this.reportOnlineTime(Math.floor(e)))
                    } else
                        console.warn("ULStatiManager.onCmdSdkOnGamePause gameLastResumeTime not found! \u65e0\u6cd5\u4e0a\u62a5\u5728\u7ebf\u65f6\u95f4")
                },
                t.prototype.onCmdSdkOnGameResume = function (t) {
                    this.gameLastResumeTime = i.default.time()
                },
                t
            }
            ();
            n.ULStatisManager = u,
            cc._RF.pop()
        }, {
            "../ULConsts": "ULConsts",
            "../events/ULEventDispatcher": "ULEventDispatcher",
            "../utils/ULTimer": "ULTimer",
            "../utils/ULTools": "ULTools",
            "./ULConfig": "ULConfig",
            "./ULSdkManager": "ULSdkManager",
            "./ULStorageManager": "ULStorageManager"
        }
    ],
    ULStorageManager: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "e69954DnkxPSZgKNKJ2xXNb", "ULStorageManager"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("../events/ULEventDispatcher"),
            i = t("../ULConsts"),
            r = t("../utils/ULTools"),
            a = function () {
                function t() {
                    this.cacheStorage = {}
                }
                return t.getInstance = function () {
                    return this._instance || (this._instance = new t),
                    this._instance
                },
                t.prototype.getStorage = function (t) {
                    var e = o.default.getInstance().dispatchWithReturn(i.default.CMD_SDK_GET_STORAGE, {
                            key: t
                        });
                    return console.log(r.default.format("ULStorageManager.getStorage(%s) => [%s]", t, e)),
                    null == e ? e = this.cacheStorage[t] : this.cacheStorage[t] = e,
                    e
                },
                t.prototype.setStorage = function (t, e) {
                    this.cacheStorage[t] = e,
                    o.default.getInstance().dispatch(i.default.CMD_SDK_SET_STORAGE, {
                        key: t,
                        data: e
                    }) || console.warn("ULStorageManager.setStorage \u672a\u627e\u5230\u5b9e\u73b0\uff01")
                },
                t._instance = null,
                t
            }
            ();
            n.default = a,
            cc._RF.pop()
        }, {
            "../ULConsts": "ULConsts",
            "../events/ULEventDispatcher": "ULEventDispatcher",
            "../utils/ULTools": "ULTools"
        }
    ],
    ULTimer: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "485f7FD24tPPayt4Fi+90pf", "ULTimer"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("./ULTools"),
            i = function () {
                function t(t, e, n) {
                    this._repeatCount = -1,
                    this._span = 1,
                    this._callback = null,
                    this._intervalId = null,
                    this._count = 0,
                    this._beginTime = -1,
                    this._usedTime = 0,
                    this._span = t,
                    this._repeatCount = e,
                    this._callback = n
                }
                return t.callLater = function (e, n) {
                    new t(e, 1, n).start()
                },
                t.callLoop = function (e, n) {
                    new t(e, -1, n).start()
                },
                t.prototype._onSpan = function () {
                    if (this._count++, this._usedTime = o.default.time() - this._beginTime, this._callback)
                        try {
                            this._callback(this)
                        } catch (t) {
                            console.warn("Warning] ULTimer._onSpan callback has error", t)
                        }
                    this._repeatCount >= 0 && this._count >= this._repeatCount && this.stop()
                },
                t.prototype.isRunning = function () {
                    return null != this._intervalId
                },
                Object.defineProperty(t.prototype, "count", {
                    get: function () {
                        return this._count
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "span", {
                    get: function () {
                        return this._span
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(t.prototype, "usedTime", {
                    get: function () {
                        return this._usedTime
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                t.prototype.start = function () {
                    return this.stop(),
                    this._callback ? (this._beginTime = o.default.time(), this._count = 0, this._intervalId = setInterval(this._onSpan.bind(this), 1e3 * this.span), this) : (console.warn("Warning] ULTimer.start callback\u672a\u8bbe\u7f6e\uff01"), this)
                },
                t.prototype.stop = function () {
                    return null != this._intervalId && (clearInterval(this._intervalId), this._intervalId = null),
                    this
                },
                t
            }
            ();
            n.default = i,
            cc._RF.pop()
        }, {
            "./ULTools": "ULTools"
        }
    ],
    ULTools: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "bba6fuZu5hD04nFaI/k7QjK", "ULTools"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("./ULTimer"),
            i = function () {
                function t() {}
                return t.time = function () {
                    return (new Date).getTime() / 1e3
                },
                t.timeInDay = function () {
                    var t = this.time(),
                    e = new Date(1e3 * t);
                    return e.setHours(0),
                    e.setMinutes(0),
                    e.setSeconds(0),
                    e.setMilliseconds(0),
                    t - e.getTime() / 1e3
                },
                t.isOneDay = function (t, e) {
                    var n = new Date(1e3 * t),
                    o = new Date(1e3 * e);
                    return n.getFullYear() == o.getFullYear() && n.getMonth() == o.getMonth() && n.getDate() == o.getDate()
                },
                t.isOneMonth = function (t, e) {
                    var n = new Date(1e3 * t),
                    o = new Date(1e3 * e);
                    return n.getFullYear() == o.getFullYear() && n.getMonth() == o.getMonth()
                },
                t.getObjSize = function (t) {
                    if (!t)
                        return 0;
                    if (Array.isArray(t))
                        return t.length;
                    var e = 0;
                    return this.forEachMap(t, function (t, n) {
                        e++
                    }),
                    e
                },
                t.random = function (t, e) {
                    return null == t && null == e ? Math.random() : null == e ? Math.floor(Math.random() * t + 1) : Math.floor(Math.random() * (e - t + 1) + t)
                },
                t.scaleInRange = function (t, e, n, o, i) {
                    return e < n ? (t < e && (t = e), t > n && (t = n)) : (t < n && (t = n), t > e && (t = e)),
                    (t - e) / (n - e) * (i - o) + o
                },
                t.clampf = function (t, e, n) {
                    return t < e ? e : t > n ? n : t
                },
                t.calcWheelTarget = function (t, e) {
                    for (var n = 0, o = 0; o < t.length; o++) {
                        var i = t[o],
                        r = parseInt(i[e]);
                        if (isNaN(r))
                            return console.warn(this.format("Tools.calcWheelTarget weight field not found! key=[%s]", e)), null;
                        n += r
                    }
                    var a = this.random(n);
                    for (o = 0; o < t.length; o++) {
                        i = t[o];
                        if (a <= (r = parseInt(i[e])))
                            return i;
                        a -= r
                    }
                    return null
                },
                t.sortArrayByField = function (t, e) {
                    e = "string" == typeof e ? [e] : e;
                    var n = [];
                    for (var o in e) {
                        if ((s = e[o]) && "" != s)
                            if ("-" === s.substring(0, 1)) {
                                var i = s.substring(1, s.length);
                                i && "" != i && n.push([i, !0])
                            } else
                                n.push([s, !1])
                    }
                    for (var r = [], a = 0; a < t.length; a++) {
                        var s = t[a];
                        r.push(s)
                    }
                    return r.sort(function (t, e) {
                        var o = 0;
                        for (var i in n) {
                            var r = n[i],
                            a = r[0],
                            s = r[1],
                            c = t[a],
                            l = e[a];
                            if (null != c && 0 != (o = s ? l - c : c - l))
                                return o
                        }
                        return o
                    }),
                    r
                },
                t.bubbleSort = function (t, e) {
                    for (var n = t.length, o = 0; o < n; o++)
                        for (var i = 0; i < n - 1 - o; i++) {
                            if (e(t[i], t[i + 1]) > 0) {
                                var r = t[i + 1];
                                t[i + 1] = t[i],
                                t[i] = r
                            }
                        }
                    return t
                },
                t.forEachMap = function (t, e) {
                    if (t)
                        for (var n = Object.keys(t), o = 0; o < n.length; o++) {
                            var i = n[o],
                            r = t[i];
                            if (null != r && e(i, r))
                                break
                        }
                },
                t.formatTime = function (t, e) {
                    var n = Math.floor(t / 3600),
                    o = Math.floor(t / 60) % 60,
                    i = Math.ceil(t) % 60;
                    return e.match("%h") && (e = e.replace("%h", n.toString())),
                    e.match("%H") && (e = e.replace("%H", this.format("%02d", n))),
                    e.match("%m") && (e = e.replace("%m", o.toString())),
                    e.match("%M") && (e = e.replace("%M", this.format("%02d", o))),
                    e.match("%s") && (e = e.replace("%s", i.toString())),
                    e.match("%S") && (e = e.replace("%S", this.format("%02d", i))),
                    e
                },
                t.formatDate = function (t, e) {
                    var n = {
                        "M+": t.getMonth() + 1,
                        "d+": t.getDate(),
                        "H+": t.getHours(),
                        "m+": t.getMinutes(),
                        "s+": t.getSeconds(),
                        "q+": Math.floor((t.getMonth() + 3) / 3),
                        "S+": t.getMilliseconds()
                    },
                    o = e;
                    for (var i in / (y + ) / .test(o) && (o = o.replace(RegExp.$1, (t.getFullYear() + "").substr(4 - RegExp.$1.length))), n)
                        new RegExp("(" + i + ")").test(o) && (o = o.replace(RegExp.$1, 1 == RegExp.$1.length ? n[i] : ("00" + n[i]).substr(("" + n[i]).length)));
                    return o
                },
                t.generateUUID = function () {
                    var t = (new Date).getTime();
                    return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function (e) {
                        var n = (t + 16 * Math.random()) % 16 | 0;
                        return t = Math.floor(t / 16),
                        ("x" == e ? n : 3 & n | 8).toString(16)
                    })
                },
                t.compressUuid = function (t) {
                    for (var e = "0123456789abcdef".split(""), n = {}, o = 0; o < e.length; o++)
                        n[e[o]] = o;
                    var i = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),
                    r = {};
                    for (o = 0; o < i.length; o++)
                        r[i[o]] = o;
                    var a = (t = t.replace(/-/g, "")).split(""),
                    s = [];
                    s.push(a[0]),
                    s.push(a[1]);
                    for (o = 2; o < a.length; o += 3) {
                        var c = n[a[o]],
                        l = n[a[o + 1]],
                        u = n[a[o + 2]];
                        s.push(i[c << 2 | l >> 2]),
                        s.push(i[(3 & l) << 4 | u])
                    }
                    return s.join("")
                },
                t.decompressUuid = function (t) {
                    var e = t.split("");
                    if (e.length < 22)
                        return t;
                    for (var n = "0123456789abcdef".split(""), o = {}, i = 0; i < n.length; i++)
                        o[n[i]] = i;
                    var r = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),
                    a = {};
                    for (i = 0; i < r.length; i++)
                        a[r[i]] = i;
                    var s = [];
                    s.push(e[0]),
                    s.push(e[1]);
                    for (i = 2; i < e.length; i += 2) {
                        var c = a[e[i]],
                        l = a[e[i + 1]];
                        s.push(n[c >> 2]),
                        s.push(n[(3 & c) << 2 | l >> 4]),
                        s.push(n[15 & l])
                    }
                    return s.splice(8, 0, "-"),
                    s.splice(13, 0, "-"),
                    s.splice(18, 0, "-"),
                    s.splice(23, 0, "-"),
                    s.join("")
                },
                t.getType = function (t) {
                    return {
                        "[object Boolean]": "boolean",
                        "[object Number]": "number",
                        "[object String]": "string",
                        "[object Function]": "function",
                        "[object Array]": "array",
                        "[object Date]": "date",
                        "[object RegExp]": "regExp",
                        "[object Undefined]": "undefined",
                        "[object Null]": "null",
                        "[object Object]": "object"
                    }
                    [Object.prototype.toString.call(t)]
                },
                t.clone = function (t) {
                    var e,
                    n = this.getType(t);
                    if (window.cc && t instanceof window.cc.Node)
                        return t;
                    if ("object" === n)
                        e = {};
                    else {
                        if ("array" !== n)
                            return t;
                        e = []
                    }
                    if ("array" === n)
                        for (var o = 0, i = t.length; o < i; o++)
                            e.push(this.clone(t[o]));
                    else if ("object" === n)
                        for (var r in t)
                            e[r] = this.clone(t[r]);
                    return e
                },
                t.toArray = function (t) {
                    return Array.isArray(t) ? t : []
                },
                t.sumNumberArray = function (t) {
                    if (!Array.isArray(t))
                        return 0;
                    for (var e = 0, n = 0; n < t.length; n++) {
                        var o = t[n];
                        isNaN(o) || (e += o)
                    }
                    return e
                },
                t.getRandomValueInArray = function (t) {
                    return Array.isArray(t) ? t[this.random(t.length) - 1] : null
                },
                t._convert = function (t, e) {
                    t.sign = e ? "" : t.negative ? "-" : t.sign;
                    var n = t.min - t.argument.length + 1 - t.sign.length,
                    o = new Array(n < 0 ? 0 : n).join(t.pad);
                    return t.left ? "0" == t.pad || e ? t.sign + t.argument + o.replace(/0/g, " ") : t.sign + t.argument + o : "0" == t.pad || e ? t.sign + o + t.argument : o + t.sign + t.argument
                },
                t.format = function () {
                    for (var t = [], e = 0; e < arguments.length; e++)
                        t[e] = arguments[e];
                    if (void 0 === arguments)
                        return null;
                    if (arguments.length < 1)
                        return null;
                    if ("string" != typeof arguments[0])
                        return null;
                    if ("undefined" == typeof RegExp)
                        return null;
                    for (var n = arguments[0], o = new RegExp(/(%([%]|(\-)?(\+|\x20)?(0)?(\d+)?(\.(\d)?)?([bcdfosxX])))/g), i = new Array, r = new Array, a = 0, s = 0, c = 0, l = 0, u = "", d = null; d = o.exec(n); )
                        d[9] && (a += 1), s = l, c = o.lastIndex - d[0].length, r[r.length] = n.substring(s, c), l = o.lastIndex, i[i.length] = {
                            match: d[0],
                            left: !!d[3],
                            sign: d[4] || "",
                            pad: d[5] || " ",
                            min: d[6] || 0,
                            precision: d[8],
                            code: d[9] || "%",
                            negative: parseInt(arguments[a]) < 0,
                            argument: String(arguments[a])
                        };
                    if (r[r.length] = n.substring(l), 0 == i.length)
                        return n;
                    if (arguments.length - 1 < a)
                        return null;
                    d = null;
                    var p = null,
                    h = null;
                    for (h = 0; h < i.length; h++)
                        "%" == i[h].code ? p = "%" : "b" == i[h].code ? (i[h].argument = String(Math.abs(parseInt(i[h].argument)).toString(2)), p = this._convert(i[h], !0)) : "c" == i[h].code ? (i[h].argument = String(String.fromCharCode(Math.abs(parseInt(i[h].argument)))), p = this._convert(i[h], !0)) : "d" == i[h].code ? (i[h].argument = String(Math.abs(parseInt(i[h].argument))), p = this._convert(i[h])) : "f" == i[h].code ? (i[h].argument = String(Math.abs(parseFloat(i[h].argument)).toFixed(i[h].precision ? i[h].precision : 6)), p = this._convert(i[h])) : "o" == i[h].code ? (i[h].argument = String(Math.abs(parseInt(i[h].argument)).toString(8)), p = this._convert(i[h])) : "s" == i[h].code ? (i[h].argument = i[h].argument.substring(0, i[h].precision ? i[h].precision : i[h].argument.length), p = this._convert(i[h], !0)) : "x" == i[h].code ? (i[h].argument = String(Math.abs(parseInt(i[h].argument)).toString(16)), p = this._convert(i[h])) : "X" == i[h].code ? (i[h].argument = String(Math.abs(parseInt(i[h].argument)).toString(16)), p = this._convert(i[h]).toUpperCase()) : p = i[h].match, u += r[h], u += p;
                    return u += r[h]
                },
                t.httpGet = function (t) {
                    var e = new XMLHttpRequest,
                    n = new o.default(t.timeoutMillisecond / 1e3, 1, function (n) {
                            if (e) {
                                var o = e;
                                e = null,
                                o.abort(),
                                t.fail instanceof Function && t.fail("timeout")
                            }
                        });
                    e.onreadystatechange = function (o) {
                        if (e && 4 == e.readyState)
                            if (n.stop(), 200 == e.status) {
                                var i = e.responseText;
                                t.success instanceof Function && t.success(i)
                            } else
                                console.warn("ULTools.httpGet on error:", e.readyState, e.status), t.fail instanceof Function && t.fail(e.status.toString())
                    },
                    e.ontimeout = function (n) {
                        if (e) {
                            var o = e;
                            e = null,
                            o.abort(),
                            t.fail instanceof Function && t.fail("timeout")
                        }
                    },
                    e.onerror = function (n) {
                        if (e) {
                            var o = e;
                            e = null,
                            o.abort(),
                            t.fail instanceof Function && t.fail("onerror")
                        }
                    },
                    n.start(),
                    e.open("get", t.url),
                    e.send()
                },
                t.httpPost = function (t) {
                    t.contentType = t.contentType || "application/x-www-form-urlencoded;charset=utf-8";
                    var e = new XMLHttpRequest,
                    n = new o.default(t.timeoutMillisecond / 1e3, 1, function (n) {
                            if (e) {
                                var o = e;
                                e = null,
                                o.abort(),
                                t.fail instanceof Function && t.fail("timeout")
                            }
                        });
                    e.onreadystatechange = function (o) {
                        if (e && 4 == e.readyState)
                            if (n.stop(), 200 == e.status) {
                                var i = e.responseText;
                                t.success instanceof Function && t.success(i)
                            } else
                                console.warn("ULTools.httpPost on error:", e.readyState, e.status), t.fail instanceof Function && t.fail(e.status.toString())
                    },
                    e.ontimeout = function (n) {
                        if (e) {
                            var o = e;
                            e = null,
                            o.abort(),
                            t.fail instanceof Function && t.fail("timeout")
                        }
                    },
                    e.onerror = function (n) {
                        if (e) {
                            var o = e;
                            e = null,
                            o.abort(),
                            t.fail instanceof Function && t.fail("onerror")
                        }
                    },
                    n.start(),
                    e.open("post", t.url, !0),
                    e.setRequestHeader("Content-Type", t.contentType),
                    e.send(t.postData)
                },
                t.httpJsonp = function (e) {
                    if (!e || !e.url)
                        throw new Error("invalid param");
                    var n = t.format("jsonp_%d", t.random(1e6));
                    e.data.callback = n;
                    var i = document.getElementsByTagName("head")[0],
                    r = [];
                    this.forEachMap(e.data, function (e, n) {
                        r.push(t.format("%s=%s", encodeURIComponent(e), encodeURIComponent(n)))
                    });
                    var a = r.join("&"),
                    s = document.createElement("script");
                    i.appendChild(s);
                    var c = new o.default(e.timeoutMillisecond / 1e3, 1, function (t) {
                            window[n] && (window[n] = null, i.removeChild(s), e.fail && e.fail("timeout"))
                        });
                    window[n] = function (t) {
                        window[n] && (i.removeChild(s), c.stop(), window[n] = null, e.success && e.success(t))
                    },
                    s.src = e.url + "?" + a
                },
                t.loadJs = function (t, e, n) {
                    var o = document.createElement("script");
                    o.type = "text/javascript",
                    o.addEventListener("load", function (t) {
                        e instanceof Function && e()
                    }),
                    o.src = t,
                    o.defer = "defer",
                    n && (o.crossOrigin = "anonymous"),
                    document.getElementsByTagName("head")[0].appendChild(o)
                },
                t.getQueryString = function (t) {
                    var e = new RegExp("(^|&)" + t + "=([^&]*)(&|$)"),
                    n = window.location.search.substr(1).match(e);
                    return null != n ? decodeURI(n[2]) : null
                },
                t.createRandomString = function (t) {
                    t = t || 32;
                    for (var e = "ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz123456789", n = e.length, o = "", i = 0; i < t; i++)
                        o += e.charAt(Math.floor(Math.random() * n));
                    return o
                },
                t.createRandomUserId = function () {
                    var t = this.generateUUID();
                    return this.compressUuid(t)
                },
                t.createRandomOrderId = function () {
                    return (new Date).getTime() + this.createRandomString(7)
                },
                t.compareVersion = function (t, e) {
                    for (var n = t.split("."), o = e.split("."), i = Math.max(n.length, o.length); n.length < i; )
                        n.push("0");
                    for (; o.length < i; )
                        o.push("0");
                    for (var r = 0; r < i; r++) {
                        var a = parseInt(n[r]),
                        s = parseInt(o[r]);
                        if (a > s)
                            return 1;
                        if (a < s)
                            return -1
                    }
                    return 0
                },
                t
            }
            ();
            n.default = i,
            cc._RF.pop()
        }, {
            "./ULTimer": "ULTimer"
        }
    ],
    UUID: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "4aa22sB0ApKA502IS+RDD4U", "UUID"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = function () {
                function t(t, e, n) {
                    this.indexMax = t || 1e12,
                    this.indexMin = e || 0,
                    this.curIndex = n || this.indexMin
                }
                return t.nextId = function () {
                    return this.globalUUID.next()
                },
                t.prototype.next = function () {
                    return ++this.curIndex >= this.indexMax && (this.curIndex = this.indexMin + 1),
                    this.curIndex % this.indexMax
                },
                t.prototype.getCurIndex = function () {
                    return this.curIndex
                },
                t.globalUUID = new t,
                t
            }
            ();
            n.default = o,
            cc._RF.pop()
        }, {}
    ],
    UiHelper: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "e1c16UzUBxB+4wObTyVbzY2", "UiHelper"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("../ui/ViewBase"),
            i = t("../component/SpriteSwitcher"),
            r = t("./Tools"),
            a = t("../../component/UITip"),
            s = t("./Timer"),
            c = t("../component/UIButton"),
            l = function () {
                function t() {}
                return t.addClick = function (t, e, n, i, r) {
                    if ("string" == typeof e) {
                        var a = cc.find(e, t);
                        this.addClick(a, n, i, r)
                    } else
                        n && (e = e.bind(n)), t.on("click", function () {
                            o.default.playButtonClickSound(i),
                            e()
                        })
                },
                t.addToggle = function (t, e, n, i, r) {
                    if ("string" == typeof e) {
                        var a = cc.find(e, t);
                        this.addToggle(a, n, i, r)
                    } else
                        n && (e = e.bind(n)), t.on("toggle", function () {
                            o.default.playButtonClickSound(i),
                            e()
                        })
                },
                t.getChildComponent = function (t, e, n) {
                    if (e && "" != e) {
                        var o = cc.find(e, t);
                        return o ? o.getComponent(n) : null
                    }
                    return t.getComponent(n)
                },
                t.getChildLabel = function (t, e) {
                    return this.getChildComponent(t, e, cc.Label)
                },
                t.getChildSprite = function (t, e) {
                    return this.getChildComponent(t, e, cc.Sprite)
                },
                t.getChildSwitcher = function (t, e) {
                    return this.getChildComponent(t, e, i.default)
                },
                t.finishAction = function (t) {
                    t._elapsed = t._duration
                },
                t.registerTouchEvent = function (t, e, n, o, i, r) {
                    t.on(cc.Node.EventType.TOUCH_START, e, r),
                    t.on(cc.Node.EventType.TOUCH_MOVE, n, r),
                    t.on(cc.Node.EventType.TOUCH_END, o, r),
                    t.on(cc.Node.EventType.TOUCH_CANCEL, i, r)
                },
                t.unregisterTouchEvent = function (t) {
                    t.off(cc.Node.EventType.TOUCH_START),
                    t.off(cc.Node.EventType.TOUCH_MOVE),
                    t.off(cc.Node.EventType.TOUCH_END),
                    t.off(cc.Node.EventType.TOUCH_CANCEL)
                },
                t.hitTest = function (t, e, n) {
                    return t._hitTest(e)
                },
                t.calcRecursiveScale = function (t) {
                    var e = 1;
                    do {
                        e *= t.getScale(),
                        t = t.parent
                    } while (null != t);
                    return e
                },
                t.convertRectToNodeSpace = function (t, e) {
                    if (!e)
                        return null;
                    var n = cc.v2(e.xMin, e.yMin),
                    o = cc.v2(e.xMax, e.yMax);
                    t.convertToNodeSpaceOut(n),
                    t.convertToNodeSpaceOut(o);
                    var i = Math.min(n.x, o.x),
                    r = Math.min(n.y, o.y),
                    a = Math.max(n.x, o.x) - i,
                    s = Math.max(n.y, o.y) - r;
                    return new cc.Rect(i, r, a, s)
                },
                t.convertRectToWorldSpace = function (t, e) {
                    if (!e)
                        return null;
                    var n = cc.v2(e.xMin, e.yMin),
                    o = cc.v2(e.xMax, e.yMax);
                    t.convertToWorldSpaceOut(n),
                    t.convertToWorldSpaceOut(o);
                    var i = Math.min(n.x, o.x),
                    r = Math.min(n.y, o.y),
                    a = Math.max(n.x, o.x) - i,
                    s = Math.max(n.y, o.y) - r;
                    return new cc.Rect(i, r, a, s)
                },
                t.calcNodeBoundingBoxToWorld = function (t, e) {
                    var n = t.getBoundingBox();
                    return e && (n.x -= e, n.y -= e, n.width += 2 * e, n.height += 2 * e),
                    this.convertRectToWorldSpace(t.parent, n)
                },
                t.setButtonToGray = function (t) {
                    if (t instanceof cc.Button)
                        t.interactable = !1;
                    else {
                        var e = t.getComponent(cc.Button) || t.getComponent(c.default);
                        e && (e.interactable = !1)
                    }
                    var n = t.getComponentsInChildren(cc.Sprite);
                    if (n)
                        for (var o = 0; o < n.length; o++)
                            n[o].setState(cc.Sprite.State.GRAY)
                },
                t.setButtonToNormal = function (t) {
                    if (t instanceof cc.Button)
                        t.interactable = !0;
                    else {
                        var e = t.getComponent(cc.Button) || t.getComponent(c.default);
                        e && (e.interactable = !0)
                    }
                    var n = t.getComponentsInChildren(cc.Sprite);
                    if (n)
                        for (var o = 0; o < n.length; o++)
                            n[o].setState(cc.Sprite.State.NORMAL)
                },
                t.formatLastTime = function (t) {
                    var e = (1e3 * s.default.now - t) / 3600 / 1e3;
                    if (e > 24)
                        return r.default.formatDate(t);
                    if (e >= 1)
                        return Math.round(e) + " hours before";
                    var n = 60 * e;
                    return n >= 1 ? Math.round(n) + " minutes before" : " just now"
                },
                t.playBigSmallOnce = function (t, e, n, o) {
                    void 0 === e && (e = .2),
                    t.stopAllActions(),
                    t.runAction(cc.sequence(cc.scaleTo(e, o), cc.scaleTo(e, n)))
                },
                t.playBreathe = function (t, e, n, o) {
                    void 0 === e && (e = 1),
                    void 0 === n && (n = .9),
                    void 0 === o && (o = 1.1),
                    t.stopAllActions(),
                    t.runAction(cc.sequence(cc.scaleTo(e, o), cc.scaleTo(e, n)).repeatForever())
                },
                t.playDialogOpenAnim = function (t, e, n) {
                    void 0 === n && (n = !0),
                    t && (t.opacity = 0, t.runAction(cc.fadeIn(.3))),
                    e && (e.setScale(0), n ? e.runAction(cc.scaleTo(.4, 1).easing(cc.easeBackOut())) : e.runAction(cc.scaleTo(.4, 1).easing(cc.easeOut(2))))
                },
                t.playDialogCloseAnim = function (t, e, n, o) {
                    void 0 === o && (o = !0),
                    t && t.runAction(cc.fadeOut(.2)),
                    e ? o ? e.runAction(cc.sequence(cc.scaleTo(.3, 0, 0).easing(cc.easeBackIn()), cc.callFunc(n))) : e.runAction(cc.sequence(cc.scaleTo(.3, 0, 0).easing(cc.easeIn(2)), cc.callFunc(n))) : n()
                },
                t.initUITip = function (t, e, n) {
                    void 0 === n && (n = 0);
                    var o = t.getComponent(a.default);
                    return o.setChecker(e, n),
                    o.updateTip(),
                    o
                },
                t.addFullWidget = function (t) {
                    var e = t.addComponent(cc.Widget);
                    e.isAlignTop = !0,
                    e.top = 0,
                    e.isAlignBottom = !0,
                    e.bottom = 0,
                    e.isAlignRight = !0,
                    e.right = 0,
                    e.isAlignLeft = !0,
                    e.left = 0,
                    e.updateAlignment()
                },
                t.playRotCycle = function (t) {
                    t.stopAllActions(),
                    t.runAction(cc.sequence(cc.sequence(cc.rotateTo(.05, 10), cc.rotateTo(.1, -10), cc.rotateTo(.05, 0)).repeat(2), cc.delayTime(1)).repeatForever())
                },
                t
            }
            ();
            n.default = l,
            cc._RF.pop()
        }, {
            "../../component/UITip": "UITip",
            "../component/SpriteSwitcher": "SpriteSwitcher",
            "../component/UIButton": "UIButton",
            "../ui/ViewBase": "ViewBase",
            "./Timer": "Timer",
            "./Tools": "Tools"
        }
    ],
    Unit: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "cb736AKlcNE15bPNPDLAZ5T", "Unit");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../../extensions/fsm/FSM"),
            r = t("../../extensions/ui/Spine"),
            a = t("../../extensions/_G"),
            s = t("../../generate/db"),
            c = t("../../extensions/module/BaseFacade"),
            l = t("../../extensions/BaseConst"),
            u = t("../../extensions/utils/Mathf"),
            d = t("../../extensions/ui/ReuseSprite"),
            p = t("../../manager/mgrAlert");
            n.UnitState = {
                None: "None",
                Enter: "Enter",
                Leave: "Leave",
                Idle: "Idle",
                Dead: "Dead",
                PutBack: "PutBack",
                Win: "Win",
                Move: "Move",
                OutOfScreen: "OutOfScreen",
                Repel: "Repel"
            },
            function (t) {
                t[t.Red = 1] = "Red",
                t[t.Blue = 2] = "Blue",
                t[t.Else = 4] = "Else"
            }
            (n.Faction || (n.Faction = {}));
            var h = .1,
            f = .8,
            _ = 1.1;
            function m(t, e) {
                var n = .3 * h;
                if (e <= n) {
                    var o = e / n;
                    t.setScale(u.default.Lerp(1, _, o), u.default.Lerp(1, f, o))
                } else {
                    o = u.default.InverseLerp(n, h, e);
                    t.setScale(u.default.Lerp(_, 1, o), u.default.Lerp(f, 1, o))
                }
            }
            var g = cc.Color.RED.fromHEX("#FF3D00"),
            y = cc.Color.WHITE,
            v = 0,
            b = function (t) {
                function e(e) {
                    var n = t.call(this) || this;
                    return n.hp = 0,
                    n.hpMax = 0,
                    n.position = cc.Vec2.ZERO,
                    n.skills = [],
                    n.buffs = [],
                    n.bDead = !1,
                    n.bMovable = !0,
                    n.bHitScale = !1,
                    n.bHitColor = !1,
                    n.bInvincible = !1,
                    n.bAccSkill = !1,
                    n.hitTime = 0,
                    n._curHitTime = 0,
                    n._curColorCount = 0,
                    n.node = new cc.Node("r:" + v++),
                    n.unitDb = s.default.get_item_db(e),
                    n.viewNode = new cc.Node("vNode"),
                    n.viewNode.setParent(n.node),
                    n.rotation = 0,
                    n.deadTime = 0,
                    n.unitGid = n.unitDb.gid,
                    n.bRotatabel = !1,
                    n.initState(),
                    n.initStaticAttr(),
                    n
                }
                return o(e, t),
                e.prototype.initStaticAttr = function () {},
                e.prototype.initDynamicAttr = function () {
                    this.bInvincible = !1,
                    this.bAccSkill = !1,
                    this.speedRate = 1,
                    this.setHpMax(this.upDb.hp),
                    this._shadow && this._shadow.setPosition(this.position)
                },
                e.prototype.dispose = function () {
                    this.removeBuff(),
                    this.removeSkill(),
                    this.removeSkill(),
                    this.view && (a.default.poolManager.put(this.view), this.view = null),
                    cc.isValid(this._shadow) && (this._shadow.destroy(), this._shadow = null),
                    this.node.destroy(),
                    t.prototype.dispose.call(this)
                },
                e.prototype.onRemoveFromCenter = function () {
                    this.removeFromParent(),
                    a.default.poolManager.put(this)
                },
                e.prototype.reuse = function () {
                    this.show(),
                    this.bDead = !1
                },
                e.prototype.unuse = function () {
                    this.hide(),
                    this.dropId = null,
                    this._curHitTime = 0,
                    this._curColorCount = 0,
                    this.setScale(1),
                    this.removeBuff()
                },
                e.prototype.show = function () {
                    this.node.active = !0,
                    this._shadow && this._shadow.show()
                },
                e.prototype.hide = function () {
                    this.node.active = !1,
                    this._shadow && this._shadow.hide()
                },
                e.prototype.initSpriteView = function (t) {
                    this.view && a.default.poolManager.put(this.view),
                    this.view = a.default.poolManager.get(d.default, t),
                    this.view.setParent(this.viewNode),
                    this.view.setScale(.69, .69)
                },
                e.prototype.initSpineView = function (t) {
                    this.view && a.default.poolManager.put(this.view),
                    this.view = a.default.poolManager.get(r.default, t),
                    this.view.setParent(this.viewNode)
                },
                e.prototype.initEffectView = function (t) {
                    this.view && a.default.poolManager.put(this.view),
                    this.view = p.default.playEffectId(t),
                    this.view ? this.view.setParent(this.viewNode) : cc.error("effect error", t)
                },
                e.prototype.updateState = function (e) {
                    t.prototype.updateState.call(this, e);
                    for (var n = this.buffs, o = 0, i = n.length; o < i; o++)
                        n[o] && n[o].onUpdate(e);
                    this.updateHitScale(e),
                    this.updateHitColor(e)
                },
                e.prototype.playAnim = function (t, e) {
                    var n = this.view;
                    n && n.playTwoAnim(t, e)
                },
                e.prototype.setAnimCompleteListener = function (t) {
                    var e = this.view;
                    e && e.setCompleteListener(t)
                },
                e.prototype.setEventListener = function (t) {
                    var e = this.view;
                    e && e.setEventListener(t)
                },
                e.prototype.setLevel = function (t) {
                    null == t && (t = c.default.mUp.getLevel(this.unitDb.id, l.UpAttrName.Base)),
                    this.level = t,
                    this.upDb = s.default.get_role_up_db(this.unitDb.baseUp, t),
                    this.initDynamicAttr()
                },
                e.prototype.setPosition = function (t, e) {
                    null == e ? this.position.set(t) : (this.position.x = t, this.position.y = e),
                    this.node.setPosition(t, e)
                },
                e.prototype.convertToWorldSpace = function (t) {
                    return this.node.convertToWorldSpaceOut(t)
                },
                e.prototype.transform = function (t) {
                    this.position.addSelf(t),
                    this.setPosition(this.position)
                },
                e.prototype.getPosition = function () {
                    return this.position
                },
                e.prototype.setScale = function (t) {
                    this.node.scale = t
                },
                e.prototype.setRotation = function (t) {
                    this.rotation = t,
                    this.bRotatabel && this.viewNode.setRotation(t)
                },
                e.prototype.getRotation = function () {
                    return this.rotation
                },
                e.prototype.setSiblingIndex = function (t) {
                    this.node.setSiblingIndex(t)
                },
                e.prototype.getSiblingIndex = function () {
                    return this.node.getSiblingIndex()
                },
                e.prototype.setParent = function (t) {
                    this.node.setParent(t)
                },
                e.prototype.removeFromParent = function () {
                    this.node.removeFromParent()
                },
                e.prototype.addSkill = function (t) {
                    t && (t.onCreate(this), this.skills.push(t))
                },
                e.prototype.getSkill = function (t) {
                    return null == t ? this.skills.length > 0 ? this.skills[this.skills.length - 1] : null : this.skills[t]
                },
                e.prototype.hasSkill = function (t) {
                    return !!this.skills[t]
                },
                e.prototype.removeSkill = function (t) {
                    var e;
                    null == t ? e = this.skills.pop() : this.hasSkill(t) && (e = this.skills.splice(t, 1)[0]),
                    e && (e.bStarted && e.onStop(), e.onDestory())
                },
                e.prototype.updateSkill = function (t) {
                    for (var e = 0; e < this.skills.length; e++)
                        this.skills[e].bStarted && this.skills[e].onUpdate(t)
                },
                e.prototype.castSkill = function (t) {
                    if (this.skills[t])
                        return this.skills[t].bStarted || this.skills[t].onStart(), this.skills[t];
                    cc.warn("Unit.castSkill \u627e\u4e0d\u5230skill idx:", t)
                },
                e.prototype.stopSkill = function (t) {
                    this.skills[t] && this.skills[t].bStarted && this.skills[t].onStop()
                },
                e.prototype.stopAllSkill = function () {
                    for (var t = this.skills.length - 1; t >= 0; t--)
                        this.stopSkill(t)
                },
                e.prototype.hasBuff = function (t) {
                    return !!this.buffs[t]
                },
                e.prototype.getBuff = function (t) {
                    return this.buffs[t]
                },
                e.prototype.addBuff = function (t, e) {
                    this.buffs[e.type] || (this.buffs[e.type] = e, e.start(t, this))
                },
                e.prototype.removeBuff = function (t) {
                    for (var e = 0, n = this.buffs.length; e < n; e++) {
                        var o = this.buffs[e];
                        !o || null != t && t != o.type || (o.bStart && o.stop(), this.buffs[e] = null)
                    }
                },
                e.prototype.setHpMax = function (t) {
                    this.hpMax = t,
                    this.setHp(t)
                },
                e.prototype.setHp = function (t) {
                    t < 0 && (t = 0),
                    this.hp = t,
                    0 == t && this.dead()
                },
                e.prototype.hitSkill = function (t) {
                    var e = t.getDamage();
                    this.hitDamage(e, t.isCrit(), t.isKill(), t.getCoinRate()),
                    t.attachBuff(this)
                },
                e.prototype.hitDamage = function (t, e, n, o) {
                    void 0 === e && (e = !1),
                    void 0 === n && (n = !1),
                    this.setHp(this.hp - t)
                },
                Object.defineProperty(e.prototype, "isHpFull", {
                    get: function () {
                        return this.hp >= this.hpMax
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                e.prototype.heal = function (t) {
                    this.hp >= this.hpMax || this.setHp(u.default.Clamp(this.hp + t, 0, this.hpMax))
                },
                e.prototype.dead = function (t) {
                    void 0 === t && (t = !0),
                    this.bDead || (this.bDead = !0, t && this.stopAllSkill(), this.setNextState(n.UnitState.Dead, this.deadTime))
                },
                e.prototype.tryCol = function (t) {
                    return cc.Intersection.circleCircle(this, t)
                },
                e.prototype.playHitScale = function () {
                    this._curHitTime = h
                },
                e.prototype.updateHitScale = function (t) {
                    this._curHitTime > 0 && (this._curHitTime -= t, m(this.viewNode, h - this._curHitTime))
                },
                e.prototype.playHitColor = function () {
                    this._curColorCount < 7 && (this._curColorCount += 7)
                },
                e.prototype.updateHitColor = function (t) {
                    if (this._curColorCount > 0 && this.view) {
                        var e = this._curColorCount-- % 7;
                        1 == e ? this.view.setNodeColor(y) : 5 == e && this.view.setNodeColor(g)
                    }
                },
                e
            }
            (i.default);
            n.default = b,
            cc._RF.pop()
        }, {
            "../../extensions/BaseConst": "BaseConst",
            "../../extensions/_G": "_G",
            "../../extensions/fsm/FSM": "FSM",
            "../../extensions/module/BaseFacade": "BaseFacade",
            "../../extensions/ui/ReuseSprite": "ReuseSprite",
            "../../extensions/ui/Spine": "Spine",
            "../../extensions/utils/Mathf": "Mathf",
            "../../generate/db": "db",
            "../../manager/mgrAlert": "mgrAlert"
        }
    ],
    UpdateCom: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "bc838J57zJHzK2rCMwRQnh1", "UpdateCom");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__decorate || function (t, e, n, o) {
                var i,
                r = arguments.length,
                a = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(t, e, n, o);
                else
                    for (var s = t.length - 1; s >= 0; s--)
                        (i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, n, a) : i(e, n)) || a);
                return r > 3 && a && Object.defineProperty(e, n, a),
                a
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r = cc._decorator.ccclass,
            a = function () {},
            s = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.onUpdate = a,
                    e.onLateUpdate = a,
                    e
                }
                return o(e, t),
                e.prototype.update = function (t) {
                    this.onUpdate(t)
                },
                e.prototype.lateUpdate = function () {
                    this.onLateUpdate()
                },
                e = i([r], e)
            }
            (cc.Component);
            n.default = s,
            cc._RF.pop()
        }, {}
    ],
    VerifyCfg: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "c7532T8KYJLWrV29Y7nWNDJ", "VerifyCfg"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("../generate/db"),
            i = t("../extensions/utils/Tools"),
            r = t("../extensions/mgr/mgrWordFilter"),
            a = t("../extensions/module/mSwitch"),
            s = t("../extensions/BaseConst"),
            c = function () {
                function t() {}
                return t.verifyAll = function () {
                    this.questDb(),
                    this.nameDb(),
                    this.itemDb(),
                    this.switchDb()
                },
                t.questDb = function () {
                    var t = o.default.get_quest_db_map();
                    i.default.forEachMap(t, function (t, e) {
                        e.type == s.QUEST_TYPE.CD && e.weight <= 0 && cc.error("CD\u4efb\u52a1\u6743\u91cd\u6709\u95ee\u9898!", t)
                    }),
                    cc.log("------ \u4efb\u52a1\u914d\u7f6e\u8868\u9a8c\u8bc1\u5b8c\u6210 ------")
                },
                t.nameDb = function () {
                    for (var t = o.default.get_name_db_arr(), e = 0; e < t.length; e++)
                        r.default.checkStr(t[e].name) && r.default.checkStr(t[e].name1) || cc.error("\u975e\u6cd5\u540d\u5b57:", t[e].name)
                },
                t.itemDb = function () {},
                t.switchDb = function () {
                    var t = o.default.get_switch_db_map();
                    i.default.forEachMap(t, function (t, e) {
                        if (e.type === a.SWITCH_TYPE.CYCLE) {
                            var n = i.default.splitToNumber(e.params, ":");
                            2 != n.length && 5 != n.length && cc.error("\u5468\u671f\u5f00\u5173\u8d77\u59cb\u65f6\u95f4\u6709\u95ee\u9898:", e.params),
                            e.delta <= 0 && cc.error("\u5468\u671f\u5f00\u5173\u95f4\u9694\u6709\u95ee\u9898:", e.delta),
                            e.delta < e.duration && cc.error("\u5468\u671f\u5f00\u5173\u95f4\u9694\u5c0f\u4e8e\u6709\u6548\u65f6\u95f4:", e.delta)
                        }
                    })
                },
                t
            }
            ();
            n.default = c,
            cc._RF.pop()
        }, {
            "../extensions/BaseConst": "BaseConst",
            "../extensions/mgr/mgrWordFilter": "mgrWordFilter",
            "../extensions/module/mSwitch": "mSwitch",
            "../extensions/utils/Tools": "Tools",
            "../generate/db": "db"
        }
    ],
    ViewBase: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "7fa68nt64tOerGSvju7Cywd", "ViewBase");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__decorate || function (t, e, n, o) {
                var i,
                r = arguments.length,
                a = r < 3 ? e : null === o ? o = Object.getOwnPropertyDescriptor(e, n) : o;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(t, e, n, o);
                else
                    for (var s = t.length - 1; s >= 0; s--)
                        (i = t[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(e, n, a) : i(e, n)) || a);
                return r > 3 && a && Object.defineProperty(e, n, a),
                a
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r = t("../MsgHandler"),
            a = t("../mgr/mgrAudio"),
            s = t("../AsyncObject"),
            c = t("../component/SpriteSwitcher"),
            l = t("../component/UpdateCom"),
            u = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.resourceType = cc.Prefab,
                    e.resNode = null,
                    e._exportNodeInfo = null,
                    e.btnsClickSound = null,
                    e.m_MsgHandler = null,
                    e
                }
                return o(e, t),
                e.prototype.onResourceLoaded = function (t) {
                    t && this.createFromNode(cc.instantiate(t))
                },
                e.prototype.createFromNode = function (t) {
                    if (t && (this._isLoaded = !0, this.resNode = t, this._exportNodeInfo && (this._exportNodeInfo instanceof Array ? (this.loadExportNode_old(), cc.warn("view\u5bfc\u51fa\u65b9\u5f0f\u6539\u53d8\uff0c\u8bf7\u53ca\u65f6\u4fee\u6b63:", this.resourceName)) : this.loadExportNode(t, this._exportNodeInfo)), this.onCreateComplete(), this.update && !this.isDisposed)) {
                        var e = this.resNode.getComponent(l.default);
                        e || (e = this.resNode.addComponent(l.default)),
                        e.onUpdate = this.update.bind(this)
                    }
                },
                e.setClickSound = function (t, e) {
                    this.m_buttonClickSoundName = t,
                    this.m_toggleClickSoundName = e
                },
                e.playButtonClickSound = function (t) {
                    t ? a.default.playSound(t) : this.m_buttonClickSoundName && a.default.playSound(this.m_buttonClickSoundName)
                },
                e.playToggleClickSound = function (t) {
                    t ? a.default.playSound(t) : this.m_toggleClickSoundName && a.default.playSound(this.m_toggleClickSoundName)
                },
                e.prototype.loadExportNode_old = function () {
                    var t = this._exportNodeInfo;
                    if (t)
                        for (var n = function (n) {
                            var i = t[n],
                            r = o._getNodeAt(i.fieldPath);
                            if ("cc.Node" == i.filedType)
                                o[i.fieldName] = r;
                            else
                                switch (o[i.fieldName] = r.getComponent(i.filedType), i.filedType) {
                                case "cc.Button":
                                case "UIButton":
                                    var a = o.btnsClickSound && o.btnsClickSound[i.fieldName],
                                    s = "on_click_" + i.fieldName;
                                    if (o[s] && "function" == typeof o[s]) {
                                        var c = o[s].bind(o);
                                        r.on("click", function () {
                                            e.playButtonClickSound(a),
                                            c()
                                        })
                                    }
                                    break;
                                case "cc.Toggle":
                                    if (a = o.btnsClickSound && o.btnsClickSound[i.fieldName], s = "on_click_" + i.fieldName, o[s] && "function" == typeof o[s]) {
                                        var l = o[s].bind(o);
                                        r.on("toggle", function () {
                                            e.playToggleClickSound(a),
                                            l()
                                        })
                                    }
                                }
                        }, o = this, i = 0; i < t.length; i++)
                            n(i)
                },
                e.prototype._getNodeAt = function (t) {
                    for (var e = this.resNode, n = 0; n < t.length; n++)
                        e = e.children[t[n]];
                    return e
                },
                e.prototype.loadExportNode = function (t, n) {
                    for (var o, i, r, a = this, s = t.children, c = function (t) {
                        if (o = s[t], r = n[o.name])
                            if (i = o.name.substring(3), "cc.Node" == r)
                                l[i] = o;
                            else
                                switch (l[i] = o.getComponent(r), r) {
                                case "cc.Button":
                                case "UIButton":
                                    var c = l.btnsClickSound && l.btnsClickSound[i],
                                    u = "on_click_" + i;
                                    l[u] && "function" == typeof l[u] && o.on("click", function () {
                                        e.playButtonClickSound(c),
                                        a[u]()
                                    });
                                    break;
                                case "cc.Toggle":
                                    c = l.btnsClickSound && l.btnsClickSound[i],
                                    l[u = "on_click_" + i] && "function" == typeof l[u] && o.on("toggle", function () {
                                        e.playToggleClickSound(c),
                                        a[u]()
                                    })
                                }
                        l.loadExportNode(o, n)
                    }, l = this, u = s.length - 1; u >= 0; u--)
                        c(u)
                },
                e.prototype.dispose = function () {
                    t.prototype.dispose.call(this);
                    var e = this.resNode;
                    e && (this.resNode = null, e.destroy())
                },
                e.prototype.setName = function (t) {
                    this.resNode.name = t
                },
                e.prototype.setNodeGroup = function (t) {
                    this.resNode.group = t
                },
                e.prototype.setRotation = function (t) {
                    this.resNode.setRotation(t)
                },
                e.prototype.setParent = function (t) {
                    this.resNode.parent = t
                },
                e.prototype.getParent = function () {
                    return this.resNode.parent
                },
                e.prototype.addNodeChild = function (t) {
                    t.setParent(this.resNode)
                },
                e.prototype.addChild = function (t) {
                    this.resNode.addChild(t)
                },
                e.prototype.getChild = function (t) {
                    return cc.find(t, this.resNode)
                },
                e.prototype.removeFromParent = function (t) {
                    void 0 === t && (t = !1),
                    this.resNode.removeFromParent(t)
                },
                e.prototype.setPosition = function (t, e) {
                    this.resNode.setPosition(t, e)
                },
                e.prototype.getPosition = function () {
                    return this.resNode.getPosition()
                },
                e.prototype.setWorldPosition = function (t) {
                    this.resNode.parent && (t = this.resNode.parent.convertToNodeSpaceAR(t)),
                    this.resNode.position = t
                },
                e.prototype.setScale = function (t, e) {
                    this.resNode.setScale(t, e)
                },
                e.prototype.setNodeOpacity = function (t) {
                    this.resNode.opacity = t
                },
                e.prototype.setNodeColor = function (t) {
                    this.resNode.color = t
                },
                e.prototype.show = function () {
                    this.resNode.active = !0
                },
                e.prototype.hide = function () {
                    this.resNode.active = !1
                },
                Object.defineProperty(e.prototype, "active", {
                    get: function () {
                        return this.isLoaded && this.resNode.active
                    },
                    set: function (t) {
                        t ? this.show() : this.hide()
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                e.prototype.runAction = function (t) {
                    return this.resNode.runAction(t)
                },
                e.prototype.stopAction = function (t) {
                    this.resNode.stopAction(t)
                },
                e.prototype.stopAllActions = function () {
                    this.resNode.stopAllActions()
                },
                e.prototype.setSiblingIndex = function (t) {
                    this.resNode.setSiblingIndex(t)
                },
                e.prototype.setTop = function () {
                    this.setSiblingIndex(-1)
                },
                e.prototype.setBottom = function () {
                    this.setSiblingIndex(0)
                },
                e.prototype.addComponent = function (t) {
                    return this.resNode.addComponent(t)
                },
                e.prototype.getComponent = function (t) {
                    return this.resNode.getComponent(t)
                },
                e.prototype.getChildComponent = function (t, e) {
                    var n = cc.find(t, this.resNode);
                    return n ? n.getComponent(e) : null
                },
                e.prototype.getChildLabel = function (t) {
                    return this.getChildComponent(t, cc.Label)
                },
                e.prototype.getChildSprite = function (t) {
                    return this.getChildComponent(t, cc.Sprite)
                },
                e.prototype.getChildSwitcher = function (t) {
                    return this.getChildComponent(t, c.default)
                },
                e.prototype.convertToWorldSpaceAR = function (t) {
                    return this.resNode.convertToWorldSpaceAR(t)
                },
                e.prototype.convertToWorldSpaceAROut = function (t, e) {
                    e.set(t),
                    this.resNode.convertToWorldSpaceOut(e)
                },
                e.prototype.on = function (t, e, n, o) {
                    this.resNode.on(t, e, n, o)
                },
                e.prototype.registerMsg = function (t) {
                    this.m_MsgHandler || (this.m_MsgHandler = new r.default),
                    this.m_MsgHandler.registerListeners(t)
                },
                e.prototype.startProcMsg = function () {
                    this.m_MsgHandler && this.m_MsgHandler.startProcMsg()
                },
                e.prototype.stopProcMsg = function () {
                    this.m_MsgHandler && this.m_MsgHandler.stopProcMsg()
                },
                e.prototype.schedule = function (t, e, n, o) {
                    void 0 === e && (e = 0),
                    void 0 === n && (n = cc.macro.REPEAT_FOREVER),
                    void 0 === o && (o = 0);
                    var i = this.getComponent(l.default);
                    i || (i = this.addComponent(l.default)),
                    i.schedule(t, e, n, o)
                },
                e.prototype.scheduleOnce = function (t, e) {
                    void 0 === e && (e = 0),
                    this.schedule(t, 0, 0, e)
                },
                e.prototype.unschedule = function (t) {
                    var e = this.getComponent(l.default);
                    e && e.unschedule(t)
                },
                e.prototype.unscheduleAllCallbacks = function () {
                    var t = this.getComponent(l.default);
                    t && t.unscheduleAllCallbacks()
                },
                e.m_buttonClickSoundName = null,
                e.m_toggleClickSoundName = null,
                i([s.default.WaitForLoaded(1)], e.prototype, "setName", null),
                i([s.default.WaitForLoaded(1)], e.prototype, "setNodeGroup", null),
                i([s.default.WaitForLoaded(1)], e.prototype, "setRotation", null),
                i([s.default.WaitForLoaded(1)], e.prototype, "setParent", null),
                i([s.default.WaitForLoaded(0, !0)], e.prototype, "getParent", null),
                i([s.default.WaitForLoaded(1)], e.prototype, "addNodeChild", null),
                i([s.default.WaitForLoaded(1)], e.prototype, "addChild", null),
                i([s.default.WaitForLoaded(1, !0)], e.prototype, "getChild", null),
                i([s.default.WaitForLoaded(1)], e.prototype, "removeFromParent", null),
                i([s.default.WaitForLoaded(2)], e.prototype, "setPosition", null),
                i([s.default.WaitForLoaded(0, !0)], e.prototype, "getPosition", null),
                i([s.default.WaitForLoaded(1)], e.prototype, "setWorldPosition", null),
                i([s.default.WaitForLoaded(2)], e.prototype, "setScale", null),
                i([s.default.WaitForLoaded(1)], e.prototype, "setNodeOpacity", null),
                i([s.default.WaitForLoaded(1)], e.prototype, "setNodeColor", null),
                i([s.default.WaitForLoaded(0)], e.prototype, "show", null),
                i([s.default.WaitForLoaded(0)], e.prototype, "hide", null),
                i([s.default.WaitForLoaded(1)], e.prototype, "runAction", null),
                i([s.default.WaitForLoaded(1)], e.prototype, "stopAction", null),
                i([s.default.WaitForLoaded(0)], e.prototype, "stopAllActions", null),
                i([s.default.WaitForLoaded(1)], e.prototype, "setSiblingIndex", null),
                i([s.default.WaitForLoaded(1, !0)], e.prototype, "addComponent", null),
                i([s.default.WaitForLoaded(1, !0)], e.prototype, "getComponent", null),
                i([s.default.WaitForLoaded(2, !0)], e.prototype, "getChildComponent", null),
                i([s.default.WaitForLoaded(1, !0)], e.prototype, "convertToWorldSpaceAR", null),
                i([s.default.WaitForLoaded(2)], e.prototype, "convertToWorldSpaceAROut", null),
                i([s.default.WaitForLoaded(4)], e.prototype, "on", null),
                e
            }
            (s.default);
            n.default = u,
            cc._RF.pop()
        }, {
            "../AsyncObject": "AsyncObject",
            "../MsgHandler": "MsgHandler",
            "../component/SpriteSwitcher": "SpriteSwitcher",
            "../component/UpdateCom": "UpdateCom",
            "../mgr/mgrAudio": "mgrAudio"
        }
    ],
    WidgetNativeAdv: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "e306cuROeVKFpOcRkiVyQv4", "WidgetNativeAdv");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i,
            r = t("../extensions/component/UIButton"),
            a = t("../extensions/mgr/mgrAdv"),
            s = t("../extensions/ui/ViewBase"),
            c = t("../extensions/utils/UiHelper"),
            l = t("../extensions/BaseConst");
            (function (t) {
                t[t.None = 0] = "None",
                t[t.Fill = 1] = "Fill",
                t[t.Empty = 2] = "Empty"
            })(i || (i = {}));
            var u = function (t) {
                function e(e, n) {
                    var o = t.call(this) || this;
                    return o.resourceName = "WidgetNativeAdv",
                    o.bg = null,
                    o.title = null,
                    o.icon = null,
                    o.loading = null,
                    o.desc = null,
                    o.btnClick = null,
                    o.btnText = null,
                    o.state = i.None,
                    o.advName = e,
                    o.createFromNode(n),
                    o
                }
                return o(e, t),
                e.prototype.onCreateComplete = function () {
                    this.bg = this.resNode.getComponent(r.default),
                    this.title = this.getChildLabel("title"),
                    this.icon = this.getChildSprite("icon"),
                    this.loading = this.getChildSprite("loading"),
                    this.btnText = this.getChildLabel("btnClick/btnText"),
                    this.desc = this.getChildLabel("desc"),
                    c.default.addClick(this.bg.node, this.on_click_bg.bind(this));
                    var t = this.getChild("btnClose");
                    t && c.default.addClick(t, this.on_click_btnClose.bind(this)),
                    this.buildUi()
                },
                e.prototype.buildUi = function () {
                    var t;
                    // console.log("ghb: open embedded ad..."),
                    this.hide(),
                    this.registerMsg(((t = {})[l.BASE_MSG.NATIVE_ADV_LOADED] = this.onMsgNativeAdvLoaded.bind(this), t[l.BASE_MSG.ADV_CLICK_SUC] = this.onMsgAdvClickSuc.bind(this), t)),
                    this.startProcMsg(),
                    this.advName && a.default.dispatchAdv(this.advName)
                },
                e.prototype.dispose = function () {
                    this.stopProcMsg(),
                    t.prototype.dispose.call(this),
                    this.advName && a.default.closeAdv(this.advName)
                },
                e.prototype.onMsgNativeAdvLoaded = function (t) {
                    t.userData.advName == this.advName && (this.userData = t.userData, this.loadFromData(t.nativeData))
                },
                e.prototype.onMsgAdvClickSuc = function (t) {
                    t.advName,
                    this.advName
                },
                e.prototype.loadFromData = function (t) {
                    cc.log("WidgetNativeAdv.loadFromData"),
                    this.show(),
                    this.fillEmpty(),
                    this.fillIcon(t)
                },
                e.prototype.canFillUi = function () {
                    return !this.isDisposed
                },
                e.prototype.fillIcon = function (t) {
                    if (this.state != i.Fill && this.canFillUi()) {
                        if (!t)
                            return cc.log("WidgetNativeAdv nativeData is nil"), void this.fillEmpty();
                        this.icon.enabled = !0,
                        this.icon.spriteFrame = new cc.SpriteFrame(t.icon),
                        this.loading.enabled = !1,
                        this.title.string = t.title,
                        this.desc.string = t.desc,
                        this.btnText.string = t.targetTitle,
                        this.state = i.Fill,
                        cc.log("WidgetNativeAdv fill native icon")
                    }
                },
                e.prototype.fillEmpty = function () {
                    this.state != i.Empty && this.canFillUi() && (this.icon.enabled = !1, this.loading.enabled = !0, this.title.string = "", this.desc.string = "", this.btnText.string = "", this.state = i.Empty, cc.log("WidgetNativeAdv fill native empty"))
                },
                e.prototype.on_click_btnClose = function () {
                    this.dispose()
                },
                e.prototype.on_click_bg = function () {
                    this.state == i.Fill && a.default.onNativeAdvClick(this.advName, this.userData)
                },
                e
            }
            (s.default);
            n.default = u,
            cc._RF.pop()
        }, {
            "../extensions/BaseConst": "BaseConst",
            "../extensions/component/UIButton": "UIButton",
            "../extensions/mgr/mgrAdv": "mgrAdv",
            "../extensions/ui/ViewBase": "ViewBase",
            "../extensions/utils/UiHelper": "UiHelper"
        }
    ],
    World: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "d890czu03BDapeKuBnv8zj/", "World");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/fsm/FSMCenter"),
            r = t("./unit/Monster"),
            a = t("../manager/mgrGame"),
            s = t("./state/SWorldState"),
            c = t("./FactoryUnit"),
            l = t("../extensions/_G"),
            u = t("./GameMap"),
            d = t("./unit/Role"),
            p = t("../extensions/utils/Mathf"),
            h = t("../extensions/utils/Tools"),
            f = t("../common/Const"),
            _ = t("./unit/Tower"),
            m = t("./unit/Unit"),
            g = t("../extensions/utils/FileRecord"),
            y = t("../extensions/module/BaseFacade"),
            v = t("../extensions/mgr/mgrAudio"),
            b = t("../manager/mgrAlert"),
            S = t("../extensions/utils/Timer"),
            A = t("./unit/Box");
            n.WorldState = {
                MainIdle: "MainIdle",
                Normal: "Normal",
                Pause: "Pause",
                Over: "Over"
            };
            var C = cc.Vec2.ZERO,
            I = new Array(30),
            T = function (t, e) {
                return t.y == e.y ? 0 : t.y > e.y ? -1 : 1
            },
            E = function (t) {
                function e() {
                    var e = t.call(this) || this;
                    return e.isRevived = !1,
                    e.isTouchStart = !1,
                    e.isSkillRate = !1,
                    e._pauseCount = 0,
                    e._roleList = new Array(16),
                    e.bIniting = !1,
                    e.speedRate = 1,
                    e._sortLayerTime = 0,
                    e
                }
                return o(e, t),
                Object.defineProperty(e, "instance", {
                    get: function () {
                        return this._instance
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                e.prototype.dispose = function () {
                    cc.error("\u5e94\u8be5\u5e38\u9a7b"),
                    this.gameRoot.destroy(),
                    t.prototype.dispose.call(this)
                },
                e.prototype.createSubLayer = function (t) {
                    var e = new cc.Node(t);
                    return e.parent = this.gameRoot,
                    e
                },
                e.prototype.saveData = function () {
                    if (!this.bIniting) {
                        for (var t = g.default.getData("key_role_data") || [], e = this._roleList.length - 1; e >= 0; e--) {
                            var n = this._roleList[e];
                            t[e] = n ? n.unitDb.id : ""
                        }
                        g.default.setData("key_role_data", t)
                    }
                },
                e.prototype.initFromData = function () {
                    this.bIniting = !0;
                    for (var t = g.default.getData("key_role_data") || [], e = 0; e < t.length; e++)
                        t[e] && c.default.createUnit(t[e], e);
                    this.bIniting = !1
                },
                e.prototype.initBox = function () {
                    if (!f.GuideInfo.bGuideMode && a.default.offlineTime > 1200)
                        for (var t = 4; t < 16; t++)
                            this._roleList[t] || c.default.createBox(f.ITEM_ID.BOX0, t)
                },
                e.prototype.updateState = function (e) {
                    if (t.prototype.updateState.call(this, e), this.isPause)
                        return this.foreach(function (t) {
                            t instanceof d.default && t.updateState(e)
                        }), void this.pendingRemove();
                    this.sortMonsterLayer(e),
                    this.updateFsms(e)
                },
                e.prototype.initGame = function () {
                    this.gameRoot || (this.gameRoot = new cc.Node, this.gameRoot.parent = cc.director.getScene(), this.shadowLayer = this.createSubLayer("shadowLayer"), this.bottomEffectLayer = this.createSubLayer("bottomEffectLayer"), this.monsterLayer = this.createSubLayer("monsterLayer"), this.heroLayer = this.createSubLayer("heroLayer"), this.bulletLayer = this.createSubLayer("bulletLayer"), this.topEffectLayer = this.createSubLayer("topEffectLayer"), this.registerState(n.WorldState.MainIdle, new s.SWorldIdle), this.registerState(n.WorldState.Normal, new s.SWorldNormal), this.registerState(n.WorldState.Pause, null), this.registerState(n.WorldState.Over, new s.SWorldOver), this.setNextState(n.WorldState.MainIdle))
                },
                e.prototype.createGame = function (t, e, n) {
                    this.map = new u.default,
                    this.map.create(t, e, n);
                    for (var o = 0; o < a.default.towerIds.length; o++)
                        a.default.isTowerUnlock(o) && this.createTower(o);
                    this.initFromData(),
                    this.initBox()
                },
                e.prototype.createTower = function (t) {
                    var e = new _.default(a.default.towerIds[t]);
                    e.setIndex(t),
                    this.addFSM(e)
                },
                e.prototype.loadGame = function (t, e) {
                    void 0 === e && (e = !1),
                    this.isRevived = !1,
                    this._pauseCount = 0,
                    this.isSkillRate = !1,
                    this.isTouchStart = !1,
                    a.default.startLevel(t);
                    var o = {
                        level: t.toString(),
                        bBoss: e
                    };
                    this.setNextState(n.WorldState.Normal, o),
                    l.default.sendMsg(f.MSG.GAME_START),
                    v.default.playMusic("bgm1")
                },
                Object.defineProperty(e.prototype, "isMainIdle", {
                    get: function () {
                        return this.getState() == n.WorldState.MainIdle
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "isPlay", {
                    get: function () {
                        return this.getState() == n.WorldState.Normal
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "isPause", {
                    get: function () {
                        return this._pauseCount > 0
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                e.prototype.killAllMonster = function () {
                    this.foreach(function (t) {
                        t instanceof r.default && t.dead()
                    })
                },
                e.prototype.gameOver = function (t) {
                    this.pause();
                    var e = !1;
                    t && a.default.bossState == a.BOSS_STATE.PLAY && a.default.lastBossIndex < a.default.maxBossIndex && (e = !0),
                    a.default.endLevel(t);
                    var o = {
                        bPass: t,
                        bLvup: e
                    };
                    this.setNextState(n.WorldState.Over, o)
                },
                e.prototype.pause = function () {
                    this._pauseCount++
                },
                e.prototype.resume = function () {
                    this._pauseCount--
                },
                e.prototype.convertToIndex = function (t) {
                    return this.map.convertToIndex(t)
                },
                e.prototype.getEmptyIndex = function (t) {
                    void 0 === t && (t = !0);
                    for (var e = this._roleList.length - 4, n = t ? 0 : p.default.Random(e), o = 0; o < e; o++) {
                        var i = (o + n) % e + 4;
                        if (!this._roleList[i])
                            return i
                    }
                    return -1
                },
                e.prototype.getRole = function (t) {
                    return this._roleList[t]
                },
                e.prototype.getTower = function (t) {
                    var e;
                    return this.foreach(function (n) {
                        if (n instanceof _.default && n.index == t)
                            return e = n, !0
                    }),
                    e
                },
                e.prototype.getRandomCard = function () {
                    for (var t = this._roleList.length - 1; t > 3; t--)
                        if (this._roleList[t])
                            return this._roleList[t];
                    return null
                },
                e.prototype.setRole = function (t, e) {
                    this._roleList[t] = e,
                    this.saveData()
                },
                e.prototype.removeRole = function (t) {
                    this.setRole(t.index, null),
                    t.removeDirectly()
                },
                e.prototype.moveTo = function (t, e) {
                    var n = this._roleList[t],
                    o = this._roleList[e];
                    if (n && o) {
                        var i = n.unitDb,
                        r = o.unitDb;
                        if (i.subType != f.PROP_TYPE.CARD)
                            return !1;
                        if (r.subType != f.PROP_TYPE.CARD)
                            return !1;
                        if (i.subType == r.subType && i.quality == r.quality)
                            return this.mergeRole(t, e);
                        this.swapRole(t, e)
                    } else
                        this.swapRole(t, e);
                    return !0
                },
                e.prototype.swapRole = function (t, e) {
                    h.default.swap(this._roleList, t, e),
                    this._roleList[t] && this._roleList[t].updateIndex(t),
                    this._roleList[e] && this._roleList[e].updateIndex(e),
                    this.saveData()
                },
                e.prototype.mergeRole = function (t, e) {
                    var n = this._roleList[t],
                    o = this._roleList[e];
                    if (n.unitDb.quality >= a.default.maxCardQuality)
                        return !1;
                    this.setRole(t, null),
                    this.setRole(e, null);
                    var i = o.unitDb.quality + 1,
                    r = c.default.createRole(i, e, !1);
                    return a.default.makeNewCard(i),
                    n.removeWithAnim(o.position),
                    o.removeDirectly(),
                    y.default.mGoal.commit(f.ACTION_ID.MERGE_CARD, 1),
                    S.default.callLater(.2, function () {
                        b.default.playAnimationEffect("2d/anim_node/72_liuguang/72_liuguang", r.position, 1.5)
                    }),
                    !0
                },
                e.prototype.tryMerge = function () {
                    h.default.arrayFill(I, null);
                    for (var t = 4; t < this._roleList.length; t++) {
                        var e = this._roleList[t];
                        if (e && e.faction == m.Faction.Blue) {
                            if (null != I[e.unitDb.quality])
                                return void this.mergeRole(t, I[e.unitDb.quality]);
                            I[e.unitDb.quality] = t
                        }
                    }
                },
                e.prototype.lvupRole = function (t, e) {
                    void 0 === e && (e = 1);
                    var n = this.getRole(t);
                    n && n.unitDb.quality + e <= a.default.maxCardQuality && (this.setRole(n.index, null), n.removeDirectly(), c.default.createRole(n.unitDb.quality + e, n.index, !1))
                },
                e.prototype.lvupAllLowRole = function (t) {
                    for (var e = 0; e < this._roleList.length; e++) {
                        var n = this._roleList[e];
                        if (n) {
                            if (n instanceof A.default)
                                continue;
                            n.unitDb.quality < t && this.lvupRole(n.index, t - n.unitDb.quality)
                        }
                    }
                },
                e.prototype.getBoss = function () {
                    var t;
                    return this.foreach(function (e) {
                        if (!e.bDead && e.faction == m.Faction.Red && 1 == e.unitGid)
                            return t = e, !0
                    }),
                    t
                },
                e.prototype.tryCol = function (t, e) {
                    var n = this.getBoss();
                    return !!n && (t.sub(n.position, C), C.magSqr() <= e * e)
                },
                e.prototype.getHeadMonster = function () {
                    var t = null,
                    e = 0;
                    return this.foreach(function (n) {
                        !n.bDead && n.faction == m.Faction.Red && n.pathIndex && n.pathIndex > e && (e = n.pathIndex, t = n)
                    }),
                    t
                },
                e.prototype.sortMonsterLayer = function (t) {
                    this._sortLayerTime -= t,
                    this._sortLayerTime < 0 && (this._sortLayerTime = 1.5, this.monsterLayer.children.sort(T))
                },
                Object.defineProperty(e.prototype, "roleCount", {
                    get: function () {
                        for (var t = 0, e = this._roleList.length - 1; e >= 0; e--)
                            this._roleList[e] && t++;
                        return t
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "cardCount", {
                    get: function () {
                        for (var t = 0, e = this._roleList.length - 1; e >= 4; e--)
                            this._roleList[e] && t++;
                        return t
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                e.factoryUnit = c.default,
                e._instance = new e,
                e
            }
            (i.default);
            n.default = E,
            cc._RF.pop()
        }, {
            "../common/Const": "Const",
            "../extensions/_G": "_G",
            "../extensions/fsm/FSMCenter": "FSMCenter",
            "../extensions/mgr/mgrAudio": "mgrAudio",
            "../extensions/module/BaseFacade": "BaseFacade",
            "../extensions/utils/FileRecord": "FileRecord",
            "../extensions/utils/Mathf": "Mathf",
            "../extensions/utils/Timer": "Timer",
            "../extensions/utils/Tools": "Tools",
            "../manager/mgrAlert": "mgrAlert",
            "../manager/mgrGame": "mgrGame",
            "./FactoryUnit": "FactoryUnit",
            "./GameMap": "GameMap",
            "./state/SWorldState": "SWorldState",
            "./unit/Box": "Box",
            "./unit/Monster": "Monster",
            "./unit/Role": "Role",
            "./unit/Tower": "Tower",
            "./unit/Unit": "Unit"
        }
    ],
    _G: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "2a2c1qY4KtAx6DuDa84jP7i", "_G"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o,
            i,
            r = t("./MsgHandler"),
            a = t("./PoolManager"),
            s = t("./component/UIRoot");
            (function (t) {
                t.V5 = "V5",
                t.V6 = "V6"
            })(o = n.SDK_VERSIONS_VALUE || (n.SDK_VERSIONS_VALUE = {})),
            i = o.V6;
            var c = function () {
                function t() {}
                return t.sendMsg = function (t, e) {
                    this.m_MsgHandler.sendMsg(t, e)
                },
                Object.defineProperty(t, "canvasWidth", {
                    get: function () {
                        return s.default.canvasWidth
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(t, "canvasHeight", {
                    get: function () {
                        return s.default.canvasHeight
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(t, "canvasFullWidth", {
                    get: function () {
                        return s.default.canvasFullWidth
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(t, "canvasFullHeight", {
                    get: function () {
                        return s.default.canvasFullHeight
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                t.SDK_VERSION = i,
                t.GAME_VERSION = "v1.0",
                t.PATCH_VERSION = "0",
                t.PATCH_INFO = {
                    PATCH_LIST: [],
                    PATCH_PATH: "",
                    B_ID: 0,
                    PATCH_INFO_FILENAME: "patch_info.json",
                    APP: "",
                    P_ID: 1,
                    HOST_CDN: "h005up.ultralisk.cn",
                    HOST: "h005.ultralisk.cn:4022",
                    VERSION: "",
                    CONF: {
                        CONFIG_VERSION: "",
                        PUBLISH_CHANNEL: "",
                        B_SKIP_PAYMENT: !0,
                        LOGO_TEXTURES: [],
                        PATCH_FILTER: {},
                        B_DISABLE_DEVTEST_BUTTON: !1
                    },
                    GIT_HASH: "",
                    CHANNEL: ""
                },
                t.RECORD_VERSION = 8,
                t.gameFrameRate = 50,
                t.isGuiding = !1,
                t.poolManager = new a.default,
                t.m_MsgHandler = new r.default,
                t
            }
            ();
            n.default = c,
            cc._RF.pop()
        }, {
            "./MsgHandler": "MsgHandler",
            "./PoolManager": "PoolManager",
            "./component/UIRoot": "UIRoot"
        }
    ],
    _mBase: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "48cd6m5I+FIRqKEUDNksISA", "_mBase"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = function () {
                function t(t) {
                    this.m_MsgHandler = null,
                    this.m_MsgHandler = t
                }
                return t.prototype.start = function () {},
                t.prototype.stop = function () {},
                t.prototype.registerMsg = function (t) {
                    this.m_MsgHandler ? (this.m_MsgHandler.registerListeners(t), this.m_MsgHandler.startProcMsg()) : cc.error("\u627e\u4e0d\u5230MsgHandler")
                },
                t.prototype.startProcMsg = function () {
                    this.m_MsgHandler && this.m_MsgHandler.startProcMsg()
                },
                t.prototype.stopProcMsg = function () {
                    this.m_MsgHandler && this.m_MsgHandler.stopProcMsg()
                },
                t.prototype.sendMsg = function (t, e) {
                    this.m_MsgHandler && this.m_MsgHandler.sendMsg(t, e)
                },
                t
            }
            ();
            n.default = o,
            cc._RF.pop()
        }, {}
    ],
    _mgrBase: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "1e080lLW6hLDqYlg1n0RRte", "_mgrBase"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("../MsgHandler"),
            i = function () {
                function t() {}
                return t.onload = function () {
                    cc.warn("please override this function")
                },
                t.start = function () {},
                t.registerMsg = function (t) {
                    this.m_MsgHandler || (this.m_MsgHandler = new o.default),
                    this.m_MsgHandler.registerListeners(t),
                    this.m_MsgHandler.startProcMsg()
                },
                t.startProcMsg = function () {
                    this.m_MsgHandler && this.m_MsgHandler.startProcMsg()
                },
                t.stopProcMsg = function () {
                    this.m_MsgHandler && this.m_MsgHandler.stopProcMsg()
                },
                t.m_MsgHandler = null,
                t
            }
            ();
            n.default = i,
            cc._RF.pop()
        }, {
            "../MsgHandler": "MsgHandler"
        }
    ],
    cConfig: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "4bc08XbP5RC+rLFEJhjK3E0", "cConfig"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            }),
            n.cConfig = JSON.parse('{\n    "_build_rem": "\u8fd9\u90e8\u5206\u5c5e\u6027\u662fbuild_system\u9700\u8981\u7684",\n    "targetProjectGitAddr": "ude2/prj.game72",\n    "targetProjectBranch": "v1_h5_release",\n    "tempCreatorProjectPaths": [\n        [\n            "game72/assets/",\n            "assets/"\n        ],\n        [\n            "game72/declare/",\n            "declare/"\n        ],\n        [\n            "game72/packages/",\n            "packages/"\n        ],\n        [\n            "game72/settings/",\n            "settings/"\n        ],\n        [\n            "game72/jsconfig.json",\n            ""\n        ],\n        [\n            "game72/project.json",\n            ""\n        ],\n        [\n            "game72/tsconfig.json",\n            ""\n        ]\n    ],\n    "//": "\u662f\u5426\u5728loading\u754c\u9762\u663e\u793a\u7248\u53f7\u4fe1\u606f\uff0c\u7531buildSystem\u6253\u5305\u5230\u9879\u76ee\u4e2d",\n    "B_SHOW_LICENCE_INFO_ON_LOADING": false,\n    "remDEBUG_TASK_TICK": "FIXED",\n    "_comment": "\u914d\u7f6e\u539f\u5219\uff1a\u539f\u5219\u4e0a\u65e5\u5e38\u51fa\u5305\u53ea\u4fee\u6539config\u4e2d\u7684\u914d\u7f6e\uff0ctaskConfig\u53ea\u5904\u7406\u6e20\u9053\u7684\u5dee\u5f02\u5316\u914d\u7f6e",\n    "s_prj_name": "prj.game72",\n    "s_game_name": "\u7206\u88c2\u98de\u8f66II",\n    "s_sdk_version": "a96cbb76",\n    "i_sdk_pay_mode": 0,\n    "i_sdk_share_mode": 0,\n    "i_sdk_sdk_rank_mode": 1,\n    "i_sdk_channel_user_id_mode": 0,\n    "s_sdk_user_data_get_url": "",\n    "s_sdk_user_data_save_url": "",\n    "i_sdk_megadata_mode": 0,\n    "s_sdk_megadata_server_type_id": "64",\n    "s_sdk_megadata_url": "",\n    "i_sdk_megadata_upload_span": 5000,\n    "s_sdk_cdk_app_id": "77",\n    "s_sdk_cdk_url": "",\n    "s_sdk_cop_addr": "",\n    "s_sdk_cop_channel_id": "140",\n    "t_sdk_cop_default_cop": {\n        "some_function": "0;0;0;0;0;0;0;0",\n        "ad_video_switchs": "100;100;100;100;0;0;0;0;0;0;0;0;0;0",\n        "ad_interstitial_radios": "0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0",\n        "ad_banner_radios": "",\n        "ad_mode": "3"\n    },\n    "s_sdk_cop_game_id": "0",\n    "s_sdk_cop_version": "100",\n    "s_sdk_adv_show_banner_list": "ULAdv4399MiniGame",\n    "s_sdk_adv_show_video_list": "ULAdv4399MiniGame",\n    "s_sdk_adv_show_inter_list": "ULAdv4399MiniGame",\n    "s_sdk_adv_show_embedded_list": "ULAdv4399MiniGame",\n    "s_sdk_adv_show_url_list": "ULAdv4399MiniGame",\n    "i_sdk_adv_banner_timeout": 30000,\n    "i_sdk_adv_video_timeout": 30000,\n    "i_sdk_adv_inter_timeout": 30000,\n    "i_sdk_adv_embedded_timeout": 30000,\n    "i_sdk_adv_url_timeout": 30000,\n    "i_sdk_adv_banner_cd": 0,\n    "i_sdk_adv_inter_cd": 0,\n    "s_sdk_adv_info": {\n        "1": {\n            "type": "interstitial",\n            "group": [\n                "1"\n            ]\n        },\n        "2": {\n            "type": "banner",\n            "group": [\n                "2"\n            ]\n        },\n        "3": {\n            "type": "embedded",\n            "group": [\n                "3"\n            ]\n        },\n        "4": {\n            "type": "video",\n            "group": [\n                "4"\n            ]\n        },\n        "5": {\n            "type": "url",\n            "group": [\n                "5"\n            ]\n        }\n    },\n    "s_sdk_4399minigame_gameres_url": "https://gamesres.ultralisk.cn/h5_games_res/game72/4399minigame/v0",\n    "i_sdk_baidu_debug_mode": 0,\n    "s_sdk_baidu_app_id": "17995019",\n    "s_sdk_baidu_adv_app_sid": "f86f49b7",\n    "s_sdk_baidu_banner_id": "6781690",\n    "s_sdk_baidu_video_id": "6781694",\n    "s_sdk_baidu_deal_id": "",\n    "s_sdk_baidu_pay_app_key": "",\n    "s_sdk_baidu_pay_private_key": "-----BEGIN RSA PRIVATE KEY-----MIICXgIBAAKBgQC46Giy1S4Zuys/c3QO6VZVWAOo1tussbIpqI0M7edU9OC732leFej2DmG3O9XRh9NlYjoAq4hyt7DxiZ6MyN8IdStZn4b0/e/CZKQA5WaCI5h71hUTwCJTzHZHvO+woDWaE2mOSsBfjAdwTsHUr32eCPzju/1zatys02W7ai4v+wIDAQABAoGAGjbAmRHF3ln9kJpCitajqae3pRkIvZvXgTZnAL09fXrV3WyX2IHMrA1v5vUxo+nYm1foly26Q2EtUaDL/HOBwshbwEtR5TR0g+kZBpA+S4wt/ujZPlALmZiGuQjjqwWFo9OfeskXer7vA5UWYemDMvy7XQ2TWoLNOzI+LaVvEPECQQDpEgY7XmrKeq8qkUFPsDjcEa7SZ2eEEOps0NKmewGvAaiavm7+8yCdS/ZPS7ZD6590TanFWy3gJtugw/vPa2tpAkEAyxlj8u+EYKchPBYehuRjm4W5SlJNAGrABqrJjM50jQ4aRVr1LbS6R0S77kTaZLTV/w8eYk1LS9cTCaY+JB+HwwJBAIXrlmscmG4ZynbCGe4JCtLg0jwRsHhBJAI8hx2jxlbhtBieXbbeypm3YSM1FNi4FdpFGczN1HFcwowAsLsBNSkCQQC9YgywQKYI1m+ILvwCPr+fCt/PrNS+mcw7q0/Lq8xEp6zZlUpgd1DoGfC/6pZXJ8UQVFG5ymd27bOD4O+7EWevAkEAzYHfclV/kP3V1aCR0KoXBHA4WIHKa+JaVuFMIDZqd/SsfsoKDn+Stsajl/e8LAwt9XXctYWNvGsVfCSfZ5Y3tw==-----END RSA PRIVATE KEY-----",\n    "s_sdk_baidu_remote_server_root": "https://gamesres.ultralisk.cn/h5_games_res/game72/baidu/v1",\n    "t_sdk_baidu_jump_games": [\n        {\n            "index": "61",\n            "id": "5ZhlGKeF7gWC6Y4Ai1WlrETeMmViqcv3",\n            "url": "https://gamesres.ultralisk.cn/h5_games_res/common/jump_games/61.png"\n        },\n        {\n            "index": "68",\n            "id": "TN2WLhuzAM82vTGVjm0VxkNMG5Tc14hz",\n            "url": "https://gamesres.ultralisk.cn/h5_games_res/common/jump_games/68.png"\n        },\n        {\n            "index": "64",\n            "id": "akffQcYfOe97bT5eZpTdX0EbfwNb1f9I",\n            "url": "https://gamesres.ultralisk.cn/h5_games_res/common/jump_games/64.png"\n        },\n        {\n            "index": "60",\n            "id": "VIn18BkLixeG93eRUlBDSyNUdrQfb0An",\n            "url": "https://gamesres.ultralisk.cn/h5_games_res/common/jump_games/60.png"\n        },\n        {\n            "index": "49",\n            "id": "wbk1Fvi8STA11iazSVOem2It13sDXgHj",\n            "url": "https://gamesres.ultralisk.cn/h5_games_res/common/jump_games/49.png"\n        },\n        {\n            "index": "52v2",\n            "id": "MZpBzItOQKeRdfrGDxxKAEgzU3uXFLiW",\n            "url": "https://gamesres.ultralisk.cn/h5_games_res/common/jump_games/52v2.png"\n        }\n    ],\n    "t_sdk_baidu_pay_code": {\n        "1": {\n            "proName": "\u8d85\u503c\u94bb\u77f3\u5305",\n            "price": "600",\n            "payCode": 1\n        },\n        "2": {\n            "proName": "\u81fb\u9009\u94bb\u77f3\u5305",\n            "price": "1800",\n            "payCode": 2\n        }\n    },\n    "s_sdk_funheadline_app_id": "a3NqSjp5a8HS",\n    "s_sdk_funheadline_gameres_url": "https://gamesres.ultralisk.cn/h5_games_res/game72/funheadline/v0",\n    "s_sdk_headline_appid": "ttd8dfae6247f5e7c9",\n    "s_sdk_headline_app_secret": "",\n    "s_sdk_headline_banner_adunit": "7dj5njb6afllea8080",\n    "s_sdk_headline_video_adunit": "12jbj62a3iaic5923m",\n    "s_sdk_headline_remote_server_root": "https://gamesres.ultralisk.cn/h5_games_res/game72/headline/v1",\n    "t_sdk_headline_share_list": [\n        {\n            "title": "\u9ed1\u6697\u5165\u4fb5\uff0c\u5feb\u6765\u6307\u6325\u673a\u7532\u5b88\u62a4\u5bb6\u56ed",\n            "imageUrl": "https://gamesres.ultralisk.cn/h5_games_res/shareimage/game72/share1.jpg",\n            "templateId": "1i9jgc5lg4g3bp1i3k"\n        },\n        {\n            "title": "\u8ba9\u4f60\u4eec\u89c1\u8bc6\u4e00\u4e0b\u6211\u7684\u7206\u88c2\u98de\u8f66\u6709\u591a\u5389\u5bb3",\n            "imageUrl": "https://gamesres.ultralisk.cn/h5_games_res/shareimage/game72/share2.jpg",\n            "templateId": "aeg7bga9j3d9kn9ge6"\n        },\n        {\n            "title": "\u8fd9\u4e2a\u673a\u7532\u70ab\u9177\u53c8\u597d\u73a9\uff0c\u6839\u672c\u505c\u4e0d\u4e0b\u6765",\n            "imageUrl": "https://gamesres.ultralisk.cn/h5_games_res/shareimage/game72/share3.jpg",\n            "templateId": "85lk5ig6d05351i67g"\n        }\n    ],\n    "s_sdk_headline_sub_context": "",\n    "t_sdk_headline_jump_games": [\n        {\n            "index": "61",\n            "id": "tt40b7360adf9dccdc",\n            "url": "https://gamesres.ultralisk.cn/h5_games_res/common/jump_games/61.png"\n        },\n        {\n            "index": "68",\n            "id": "ttc020b69d5f0a35dc",\n            "url": "https://gamesres.ultralisk.cn/h5_games_res/common/jump_games/68.png"\n        },\n        {\n            "index": "64",\n            "id": "ttc575b3c85a5f572a",\n            "url": "https://gamesres.ultralisk.cn/h5_games_res/common/jump_games/64.png"\n        },\n        {\n            "index": "60",\n            "id": "ttb6e0c05d29ca35c8",\n            "url": "https://gamesres.ultralisk.cn/h5_games_res/common/jump_games/60.png"\n        },\n        {\n            "index": "49",\n            "id": "tt94f8e2450bd22121",\n            "url": "https://gamesres.ultralisk.cn/h5_games_res/common/jump_games/49.png"\n        },\n        {\n            "index": "52v2",\n            "id": "ttf423829e6b0979e5",\n            "url": "https://gamesres.ultralisk.cn/h5_games_res/common/jump_games/52v2.png"\n        }\n    ],\n    "t_sdk_headline_tt_navigate_to_mini_game_app_id_list": [\n        "tt40b7360adf9dccdc",\n        "ttc020b69d5f0a35dc",\n        "ttc575b3c85a5f572a",\n        "ttb6e0c05d29ca35c8",\n        "tt94f8e2450bd22121",\n        "ttf423829e6b0979e5"\n    ],\n    "t_sdk_headline_pay_code": {\n        \n    },\n    "s_sdk_huawei_appid": "100874093",\n    "s_sdk_huawei_merchant_id": "890086200300024295",\n    "s_sdk_huawei_merchant_name": "\u6210\u90fd\u53cc\u6668\u79d1\u6280\u6709\u9650\u516c\u53f8",\n    "s_sdk_huawei_package_name": "cn.ultralisk.game56.vivo",\n    "s_sdk_huawei_private_key": "-----BEGIN RSA PRIVATE KEY-----MIIEowIBAAKCAQEAhkWqHmAEgXaeNV/kSxT6JHMwAXLy9+NTtCyMKQwXgBH9Rv5eCR6Z1XmcO0yMj0r8takgGG0h7s4qh3TpIs0ajRteKFa66ywS1/1ASOVpI9rwkNgQvzduFAXUs1tSzc+GG+FR8LJR+i0MSHm+weHJJOUzLnWl9PFUVM1Mo2AOhZYrd6edy6KMy9TcQgaUfuBtv85/MentrtrrlK1z9VeHJSs3kSLOu985S5tfa2YEk/7r1ijVRVJDj3DxlKm3kh6XPV5ti5HDhhz7xbOkd1vvQyJ5XEc657jkN7spPirO5NELPcOjQjgMeUQOLhtWiF4Uo6lRKkwNB7Jq1kINnzZgrwIDAQABAoIBAASToPn6aDI+J/lbbzgh8GlypasUTx96QlL3W8BVwa1OBQCOULKQi592Tt10kqvwWznD7ddMolCgpVwgSjFd+q7e78WB40rQd0ShGg0CCM895LTt2xrxbuaZe50GGrCaMhDcNsNKCLegISA39MkTWEb81ahFPqa2h8XWM5ZerVAJ+DCzEB5SYic53H+B8pJjy06HRgufFene7xzkLWI5oDLE1T8zu7aCkcJn3oVlgYnGQvv/hAJh4I87Zo/hXm29JENa5KbK0Yx0lhLhm4MHqex359jmZaNGqVP64YCBmvjE2ZSnFI5BiMlYYRMWoLqzOzKDV6XzNQTbJWIahwq6FVUCgYEAujpisZfeN2aVI89hKyUfl8ruM4BUcZxiKACkohoQXRnrC5bR67KFR1v/W80s73VS9V5Tn1ODYX4Vf9An3YiyuVpMPCLoRQ3zh9sRGamYMTA8RQlZVwxHoVBhUmT9CkPRpS1ORvUY69MWzjq1kUbvrrkT6SRHZaiZOQyQAiMJc1UCgYEAuJQM9fnCaEXnYB/aXgYSUFUwc2Vb7oaKwhvD83vtvvEs4PegB1s4fSQeyFHWkjaNAodcfyEOUk6incLpJfxn83OVmgS7tvl+N1WdDbhLgxPHPre2TdzSUQ9So/p1SCEL9vorTeY80s99mC2mKLrk2aeYO9l0c2lkxAJu7d6kS/MCgYAJigYWLL5QPivziqLij+M/ZkCvWKp6q1UH0YidWRJvgm1cyZv1I87Z6ed5r1fW6D6YnP1RkviO3OODCYmROnhVMD/pcKxPJTjNQ7Zrhxlpo5viuWjfIZzlsXVawBuKFBFAEcMJtXJSWhy38Z/tUiHi5E4VyiryFSHMH02dHmhUhQKBgASuTH3YbaOzUiDP7fvAb6p13pqukVxFMTOm/JsqI2daOmciIH7PQ2l5BwbRfH2MwJq10BSxQ+m2cM1Laho6gnBcGAkl4ZTMUvUYSLlWWSPj1oOyqP7kgLjpiJD8AwlnPSRwR7TcB+LYvDilv7b8tl0GsQejhh5/J70IysNhiA0dAoGBAJ/stJyqfwjicapAhsWCQnKa8AiD8vxoBQNeKgcE33G7JGJu65beFUN0YyscNsvdGLU3ln+iQ760O6fpsB+nNQgudHVx30s8USQkU6RqtIEMPM8ziL67DfpJhJzNOIkB5P/k8Ng2BafnigPTczxSDk1hK85CSNEyoyrz7Xa1Q9g0-----END RSA PRIVATE KEY-----",\n    "s_sdk_huawei_public_key": "MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAhkWqHmAEgXaeNV/kSxT6JHMwAXLy9+NTtCyMKQwXgBH9Rv5eCR6Z1XmcO0yMj0r8takgGG0h7s4qh3TpIs0ajRteKFa66ywS1/1ASOVpI9rwkNgQvzduFAXUs1tSzc+GG+FR8LJR+i0MSHm+weHJJOUzLnWl9PFUVM1Mo2AOhZYrd6edy6KMy9TcQgaUfuBtv85/MentrtrrlK1z9VeHJSs3kSLOu985S5tfa2YEk/7r1ijVRVJDj3DxlKm3kh6XPV5ti5HDhhz7xbOkd1vvQyJ5XEc657jkN7spPirO5NELPcOjQjgMeUQOLhtWiF4Uo6lRKkwNB7Jq1kINnzZgrwIDAQAB",\n    "s_sdk_huawei_tiny_package_server": "https://gamesres.ultralisk.cn/h5gameres/game68/vivo/v3",\n    "s_sdk_huawei_version_name": "1.0.0",\n    "s_sdk_huawei_version_code": "3",\n    "t_sdk_huawei_pay_code": {\n        "1": {\n            "proName": "\u5c11\u91cf\u91d1\u5e01",\n            "price": "600",\n            "payCode": 1\n        },\n        "2": {\n            "proName": "\u5927\u91cf\u91d1\u5e01",\n            "price": "1800",\n            "payCode": 2\n        }\n    },\n    "i_sdk_iqiyi_appid": 9163,\n    "i_sdk_iqiyi_banner_timeout": 6000,\n    "s_sdk_iqiyi_gameres_url": "https://gamesres.ultralisk.cn/h5_games_res/game70/iqiyi/v0",\n    "i_sdk_jkplay_appid": 615176774,\n    "s_sdk_jkplay_app_secret": "3bf702f3218d29fdc7baa84f11398656",\n    "s_sdk_jkplay_banner_id": "953061284",\n    "s_sdk_jkplay_banner_timeout": "6000",\n    "s_sdk_jkplay_game_key": "b88di3rlg1",\n    "s_sdk_jkplay_interstitial_id": "754062983",\n    "i_sdk_jkplay_sdkversion": 1,\n    "s_sdk_jkplay_tiny_package_server": "https://gamesres.ultralisk.cn/h5gameres/game56/jkplay/v0",\n    "s_sdk_jkplay_video_id": "807943651",\n    "i_sdk_kaixin_banner_id": 10000143,\n    "s_sdk_kaixin_interstitial_id": "",\n    "t_sdk_kaixin_share_list": [\n        {\n            "title": "\u9b54\u6cd5\u53d8\u8eab\uff0c\u5c0f\u9b54\u4ed9\u5168\u65b0\u6362\u88c5\u4e4b\u65c5\uff01",\n            "imageUrl": ""\n        }\n    ],\n    "s_sdk_kaixin_video_id": "10000142",\n    "s_sdk_kaixin_gameres_url": "https://gamesres.ultralisk.cn/h5_games_res/game70/kaixin/v0",\n    "s_sdk_moli_scene_id": "yeluoli001",\n    "s_sdk_moli_gameres_url": "https://gamesres.ultralisk.cn/h5_games_res/game70/moli/v0",\n    "b_sdk_oppoqg_debug": false,\n    "s_sdk_oppoqg_appid": "30223227",\n    "s_sdk_oppoqg_appsecret": "86A55674e5fE1E2d7E435D29D676Cc77",\n    "s_sdk_oppoqg_app_key": "1hz3n92XQ16sCw448sg08W4kg",\n    "s_sdk_oppoqg_banner_id": "142013",\n    "i_sdk_oppoqg_banner_mode": 0,\n    "s_sdk_oppoqg_video_id": "142032",\n    "s_sdk_oppoqg_interstitial_id": "142020",\n    "s_sdk_oppoqg_native_ids": {\n        "1": "142030",\n        "2": "142028"\n    },\n    "s_sdk_oppoqg_package_name": "com.ultralisk.game70.nearme.gamecenter",\n    "s_sdk_oppoqg_pre_order_url": "https://jits.open.oppomobile.com/jitsopen/api/pay/v1.0/preOrder",\n    "s_sdk_oppoqg_private_key": "-----BEGIN RSA PRIVATE KEY-----MIICXgIBAAKBgQC46Giy1S4Zuys/c3QO6VZVWAOo1tussbIpqI0M7edU9OC732leFej2DmG3O9XRh9NlYjoAq4hyt7DxiZ6MyN8IdStZn4b0/e/CZKQA5WaCI5h71hUTwCJTzHZHvO+woDWaE2mOSsBfjAdwTsHUr32eCPzju/1zatys02W7ai4v+wIDAQABAoGAGjbAmRHF3ln9kJpCitajqae3pRkIvZvXgTZnAL09fXrV3WyX2IHMrA1v5vUxo+nYm1foly26Q2EtUaDL/HOBwshbwEtR5TR0g+kZBpA+S4wt/ujZPlALmZiGuQjjqwWFo9OfeskXer7vA5UWYemDMvy7XQ2TWoLNOzI+LaVvEPECQQDpEgY7XmrKeq8qkUFPsDjcEa7SZ2eEEOps0NKmewGvAaiavm7+8yCdS/ZPS7ZD6590TanFWy3gJtugw/vPa2tpAkEAyxlj8u+EYKchPBYehuRjm4W5SlJNAGrABqrJjM50jQ4aRVr1LbS6R0S77kTaZLTV/w8eYk1LS9cTCaY+JB+HwwJBAIXrlmscmG4ZynbCGe4JCtLg0jwRsHhBJAI8hx2jxlbhtBieXbbeypm3YSM1FNi4FdpFGczN1HFcwowAsLsBNSkCQQC9YgywQKYI1m+ILvwCPr+fCt/PrNS+mcw7q0/Lq8xEp6zZlUpgd1DoGfC/6pZXJ8UQVFG5ymd27bOD4O+7EWevAkEAzYHfclV/kP3V1aCR0KoXBHA4WIHKa+JaVuFMIDZqd/SsfsoKDn+Stsajl/e8LAwt9XXctYWNvGsVfCSfZ5Y3tw==-----END RSA PRIVATE KEY-----",\n    "s_sdk_oppoqg_tiny_package_server": "https://gamesres.ultralisk.cn/h5_games_res/game70/oppoqg/v0",\n    "s_sdk_oppoqg_version_name": "1.0.6",\n    "s_sdk_oppoqg_version_code": "7",\n    "t_sdk_oppoqg_jump_games": [\n        {\n            "index": "56",\n            "id": "cn.ultralisk.game56.kyx.nearme.gamecenter",\n            "url": "https://gamesres.ultralisk.cn/h5_games_res/common/jump_games/56.png"\n        },\n        {\n            "index": "69",\n            "id": "com.ultralisk.game69.nearme.gamecenter",\n            "url": "https://gamesres.ultralisk.cn/h5_games_res/common/jump_games/69.png"\n        },\n        {\n            "index": "63",\n            "id": "cn.ultralisk.game63.nearme.gamecenter",\n            "url": "https://gamesres.ultralisk.cn/h5_games_res/common/jump_games/63.png"\n        },\n        {\n            "index": "61",\n            "id": "cn.ultralisk.game61.kyx.nearme.gamecenter",\n            "url": "https://gamesres.ultralisk.cn/h5_games_res/common/jump_games/61.png"\n        },\n        {\n            "index": "64",\n            "id": "com.ultralisk.game64.kyx.nearme.gamecenter",\n            "url": "https://gamesres.ultralisk.cn/h5_games_res/common/jump_games/64.png"\n        },\n        {\n            "index": "60",\n            "id": "cn.ultralisk.game60.nearme.gamecenter",\n            "url": "https://gamesres.ultralisk.cn/h5_games_res/common/jump_games/60.png"\n        },\n        {\n            "index": "49",\n            "id": "cn.ultralisk.gameapp.game49.kyx.nearme.gamecenter",\n            "url": "https://gamesres.ultralisk.cn/h5_games_res/common/jump_games/49.png"\n        }\n    ],\n    "t_sdk_oppoqg_pay_code": {\n        "1": {\n            "proName": "\u8d85\u503c\u94bb\u77f3\u5305",\n            "price": "600",\n            "payCode": 1\n        },\n        "2": {\n            "proName": "\u81fb\u9009\u94bb\u77f3\u5305",\n            "price": "1800",\n            "payCode": 2\n        }\n    },\n    "s_sdk_qihoo_banner_id": "",\n    "i_sdk_qihoo_banner_timeout": 15000,\n    "s_sdk_qihoo_video_id": "",\n    "s_sdk_qq_app_id": "1110042837",\n    "s_sdk_qq_banner_id": "d41a00fd3413bccda712ca33e36f194b",\n    "s_sdk_qq_video_id": "53b899a31b291edf1c5fd9c404d6197c",\n    "s_sdk_qq_remote_server_root": "https://gamesres.ultralisk.cn/h5_games_res/game72/qq/v1",\n    "s_sdk_qq_sub_context": "",\n    "t_sdk_qq_share_list": [\n        {\n            "title": "\u9ed1\u6697\u5165\u4fb5\uff0c\u5feb\u6765\u6307\u6325\u673a\u7532\u5b88\u62a4\u5bb6\u56ed",\n            "imageUrl": "https://gamesres.ultralisk.cn/h5_games_res/shareimage/game72/share1.jpg"\n        },\n        {\n            "title": "\u8ba9\u4f60\u4eec\u89c1\u8bc6\u4e00\u4e0b\u6211\u7684\u7206\u88c2\u98de\u8f66\u6709\u591a\u5389\u5bb3",\n            "imageUrl": "https://gamesres.ultralisk.cn/h5_games_res/shareimage/game72/share2.jpg"\n        },\n        {\n            "title": "\u8fd9\u4e2a\u673a\u7532\u70ab\u9177\u53c8\u597d\u73a9\uff0c\u6839\u672c\u505c\u4e0d\u4e0b\u6765",\n            "imageUrl": "https://gamesres.ultralisk.cn/h5_games_res/shareimage/game72/share3.jpg"\n        }\n    ],\n    "s_sdk_uc_gameres_url": "https://gamesres.ultralisk.cn/h5_games_res/game72/uc/v0",\n    "t_sdk_uc_share_list": [\n        {\n            "title": "\u9ed1\u6697\u5165\u4fb5\uff0c\u5feb\u6765\u6307\u6325\u673a\u7532\u5b88\u62a4\u5bb6\u56ed",\n            "imageUrl": "https://gamesres.ultralisk.cn/h5_games_res/shareimage/game72/share1.jpg"\n        },\n        {\n            "title": "\u8ba9\u4f60\u4eec\u89c1\u8bc6\u4e00\u4e0b\u6211\u7684\u7206\u88c2\u98de\u8f66\u6709\u591a\u5389\u5bb3",\n            "imageUrl": "https://gamesres.ultralisk.cn/h5_games_res/shareimage/game72/share2.jpg"\n        },\n        {\n            "title": "\u8fd9\u4e2a\u673a\u7532\u70ab\u9177\u53c8\u597d\u73a9\uff0c\u6839\u672c\u505c\u4e0d\u4e0b\u6765",\n            "imageUrl": "https://gamesres.ultralisk.cn/h5_games_res/shareimage/game72/share3.jpg"\n        }\n    ],\n    "b_sdk_vivo_debug": false,\n    "s_sdk_vivo_app_secret": "1ef551f1901d3f13029c0619448ec984",\n    "s_sdk_vivo_banner_id": "1ed24dc66ca6459fbdee2fe3558693c4",\n    "s_sdk_vivo_interstitial_id": "5e200c6a7c2949bfa5e8c33b6256dddf",\n    "s_sdk_vivo_video_id": "da771085e79646d09e6c0202f562bd16",\n    "s_sdk_vivo_native_ids": {\n        "1": "d900ba5c766049ff81c338ca4afa603d",\n        "2": "d900ba5c766049ff81c338ca4afa603d",\n        "3": "d900ba5c766049ff81c338ca4afa603d"\n    },\n    "s_sdk_vivo_package_name": "com.ultralisk.game72.vivominigame",\n    "s_sdk_vivo_qg_url": "https://pay.vivo.com.cn/vivopay/order/request",\n    "s_sdk_vivo_tiny_package_server": "https://gamesres.ultralisk.cn/h5_games_res/game72/vivo/v1",\n    "t_sdk_vivo_pay_code": {\n        "1": {\n            "proName": "\u5c11\u91cf\u94bb\u77f3",\n            "price": "600",\n            "payCode": 1\n        },\n        "2": {\n            "proName": "\u5927\u91cf\u94bb\u77f3",\n            "price": "1800",\n            "payCode": 2\n        }\n    },\n    "s_sdk_weixin_appid": "wx5f93128ca7cb00f7",\n    "s_sdk_weixin_appsecret": "",\n    "s_sdk_weixin_banner_adunit": "",\n    "s_sdk_weixin_interstitial_id": "",\n    "s_sdk_weixin_video_adunit": "",\n    "i_sdk_weixin_env": 0,\n    "s_sdk_weixin_login_url": "https://sdkserver.ultralisk.cn/wxuserlogin",\n    "s_sdk_weixin_mch_id": "",\n    "s_sdk_weixin_offer_id": "",\n    "s_sdk_weixin_remote_server_root": "https://gamesres.ultralisk.cn/h5_games_res/game72/weixin/v1",\n    "s_sdk_weixin_sub_context": "",\n    "t_sdk_weixin_share_list": [\n        {\n            "title": "\u9ed1\u6697\u5165\u4fb5\uff0c\u5feb\u6765\u6307\u6325\u673a\u7532\u5b88\u62a4\u5bb6\u56ed",\n            "imageUrl": "https://gamesres.ultralisk.cn/h5_games_res/shareimage/game72/share1.jpg"\n        },\n        {\n            "title": "\u8ba9\u4f60\u4eec\u89c1\u8bc6\u4e00\u4e0b\u6211\u7684\u7206\u88c2\u98de\u8f66\u6709\u591a\u5389\u5bb3",\n            "imageUrl": "https://gamesres.ultralisk.cn/h5_games_res/shareimage/game72/share2.jpg"\n        },\n        {\n            "title": "\u8fd9\u4e2a\u673a\u7532\u70ab\u9177\u53c8\u597d\u73a9\uff0c\u6839\u672c\u505c\u4e0d\u4e0b\u6765",\n            "imageUrl": "https://gamesres.ultralisk.cn/h5_games_res/shareimage/game72/share3.jpg"\n        }\n    ],\n    "t_sdk_weixin_jump_games": [\n        {\n            "index": "61",\n            "id": "wx4d0412357da5acad",\n            "path": "?sfrom=yllwawa",\n            "url": "https://gamesres.ultralisk.cn/h5_games_res/common/jump_games/61.png"\n        },\n        {\n            "index": "64",\n            "id": "wx9d2fbc1c3881c1df",\n            "path": "?sfrom=yllwawa",\n            "url": "https://gamesres.ultralisk.cn/h5_games_res/common/jump_games/64.png"\n        },\n        {\n            "index": "49",\n            "id": "wxcc8b86224e260cca",\n            "path": "?sfrom=yllwawa",\n            "url": "https://gamesres.ultralisk.cn/h5_games_res/common/jump_games/49.png"\n        },\n        {\n            "index": "60",\n            "id": "wx23c5e3025d12561d",\n            "path": "?sfrom=yllwawa",\n            "url": "https://gamesres.ultralisk.cn/h5_games_res/common/jump_games/60.png"\n        },\n        {\n            "index": "52v2",\n            "id": "wxfa34646ac45a12ff",\n            "path": "?sfrom=yllwawa",\n            "url": "https://gamesres.ultralisk.cn/h5_games_res/common/jump_games/52v2.png"\n        }\n    ],\n    "t_sdk_weixin_navigate_to_mini_game_app_id_list": [\n        "wx4d0412357da5acad",\n        "wx9d2fbc1c3881c1df",\n        "wxcc8b86224e260cca",\n        "wx23c5e3025d12561d",\n        "wxfa34646ac45a12ff"\n    ],\n    "t_sdk_weixin_pay_code": {\n        \n    },\n    "s_sdk_qianmo_gameid": "5917",\n    "s_sdk_qianmo_game_path": "yllwwdn",\n    "s_sdk_qianmo_open_status_msg": {\n        \n    },\n    "s_sdk_xiaomi_gameres_url": "https://gamesres.ultralisk.cn/h5_games_res/game70/xiaomi/v0",\n    "s_sdk_xiaomiqg_banner_id": "",\n    "i_sdk_xiaomiqg_banner_timeout": 8000,\n    "s_sdk_xiaomiqg_package_name": "com.ultralisk.game63.vivominigame",\n    "s_sdk_xiaomiqg_tiny_package_server": "https://gamesres.ultralisk.cn/h5gameres/game68/vivo/v3",\n    "s_sdk_xiaomiqg_version_name": "1.0.0",\n    "s_sdk_xiaomiqg_version_code": "3",\n    "s_sdk_xiaomiqg_video_id": "922522801",\n    "build_cc_web_mobile_module_config": {\n        "title": "\u7206\u88c2\u98de\u8f66II",\n        "bAutoUploadEnabled": false,\n        "gameresPath": "https://gamesres.ultralisk.cn/h5_games_res/game72/4399minigame/v0"\n    },\n    "prjVersion": "1ccf3a8",\n    "rootPath": "D:/ulwork/ulsdk/",\n    "rootSdkPath": "D:/ulwork/ulsdk/prj.sdk.html5_v6/",\n    "gitRepoPath": "D:/ulwork/ulsdk/h5_games_res/",\n    "taskDate": "2019_12_26",\n    "taskTick": "2019_12_26_16_44_54",\n    "taskName": "4399minigame",\n    "configName": "task_game72_blfc2_v1",\n    "targetPath": "D:/ulwork/ulsdk/h5_out/72_4399minigame_1226_164454/",\n    "packagePath": "D:/ulwork/ulsdk/prj.games.html5.channels.packages_v6/prj.game72/prj.game72_v1_h5_release_4399minigame_1226_164454/",\n    "buildDisabled": false,\n    "creatorExePath": "D:/CocosCreator/CocosCreator2.0.10/CocosCreator.exe",\n    "i_net_timeout": 5000,\n    "i_channel_info_timeout": 3000,\n    "tempProjPath": "D:/ulwork/ulsdk/h5_out/72_4399minigame_1226_164454/cc_proj/",\n    "srcRootPath": "assets/scripts/",\n    "moduleList": "common,build_cc_web_mobile,4399minigame"\n}'),
            cc._RF.pop()
        }, {}
    ],
    db: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "0b736ob4ZRDAqysi+/i4Hqd", "db"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("../extensions/utils/CfgLoader"),
            i = function () {
                function t() {}
                return t.get_card_level_db_map = function () {
                    return o.default.getDb("card_level_db")
                },
                t.get_card_level_db = function (t) {
                    var e = this.get_card_level_db_map()[t];
                    return null == e && cc.error("can't find data in card_level_db by level [" + t + "]"),
                    e
                },
                t.get_path_db_map = function () {
                    return o.default.getDb("path_db")
                },
                t.get_path_db = function (t) {
                    var e = this.get_path_db_map()[t];
                    return null == e && cc.error("can't find data in path_db by id [" + t + "]"),
                    e
                },
                t.get_name_db_arr = function () {
                    return o.default.getDb("name_db")
                },
                t.get_name_db = function (t) {
                    var e = this.get_name_db_arr()[t];
                    return null == e && cc.error("can't find data in name_db by name [" + t + "]"),
                    e
                },
                t.get_spine_db_map = function () {
                    return o.default.getDb("spine_db")
                },
                t.get_spine_db = function (t) {
                    var e = this.get_spine_db_map()[t];
                    return null == e && cc.error("can't find data in spine_db by id [" + t + "]"),
                    e
                },
                t.get_switch_db_map = function () {
                    return o.default.getDb("switch_db")
                },
                t.get_switch_db = function (t) {
                    var e = this.get_switch_db_map()[t];
                    return null == e && cc.error("can't find data in switch_db by id [" + t + "]"),
                    e
                },
                t.get_attr_up_db_map = function () {
                    return o.default.getDb("attr_up_db")
                },
                t.get_attr_up_db = function (t, e) {
                    var n = this.get_attr_up_db_map()[t][e];
                    return null == n && cc.error("can't find data in attr_up_db by level [" + e + "]"),
                    n
                },
                t.get_wave_db_map = function () {
                    return o.default.getDb("wave_db")
                },
                t.get_wave_db = function (t, e) {
                    var n = this.get_wave_db_map()[t][e];
                    return null == n && cc.error("can't find data in wave_db by wave [" + e + "]"),
                    n
                },
                t.get_item_db_map = function () {
                    return o.default.getDb("item_db")
                },
                t.get_item_db = function (t) {
                    var e = this.get_item_db_map()[t];
                    return null == e && cc.error("can't find data in item_db by id [" + t + "]"),
                    e
                },
                t.get_pay_db_map = function () {
                    return o.default.getDb("pay_db")
                },
                t.get_pay_db = function (t) {
                    var e = this.get_pay_db_map()[t];
                    return null == e && cc.error("can't find data in pay_db by id [" + t + "]"),
                    e
                },
                t.get_game_cnf_map = function () {
                    return o.default.getDb("game_cnf")
                },
                t.get_game_cnf = function (t) {
                    var e = this.get_game_cnf_map()[t];
                    return null == e && cc.error("can't find data in game_cnf by name [" + t + "]"),
                    e
                },
                t.get_quest_db_map = function () {
                    return o.default.getDb("quest_db")
                },
                t.get_quest_db = function (t) {
                    var e = this.get_quest_db_map()[t];
                    return null == e && cc.error("can't find data in quest_db by id [" + t + "]"),
                    e
                },
                t.get_boss_db_arr = function () {
                    return o.default.getDb("boss_db")
                },
                t.get_boss_db = function (t) {
                    var e = this.get_boss_db_arr()[t];
                    return null == e && cc.error("can't find data in boss_db by idx [" + t + "]"),
                    e
                },
                t.get_goal_db_map = function () {
                    return o.default.getDb("goal_db")
                },
                t.get_goal_db = function (t) {
                    var e = this.get_goal_db_map()[t];
                    return null == e && cc.error("can't find data in goal_db by id [" + t + "]"),
                    e
                },
                t.get_effect_db_map = function () {
                    return o.default.getDb("effect_db")
                },
                t.get_effect_db = function (t) {
                    var e = this.get_effect_db_map()[t];
                    return null == e && cc.error("can't find data in effect_db by id [" + t + "]"),
                    e
                },
                t.get_auto_increase_db_map = function () {
                    return o.default.getDb("auto_increase_db")
                },
                t.get_auto_increase_db = function (t) {
                    var e = this.get_auto_increase_db_map()[t];
                    return null == e && cc.error("can't find data in auto_increase_db by itemId [" + t + "]"),
                    e
                },
                t.get_role_up_db_map = function () {
                    return o.default.getDb("role_up_db")
                },
                t.get_role_up_db = function (t, e) {
                    var n = this.get_role_up_db_map()[t][e];
                    return null == n && cc.error("can't find data in role_up_db by level [" + e + "]"),
                    n
                },
                t.get_drop_db_map = function () {
                    return o.default.getDb("drop_db")
                },
                t.get_drop_db = function (t) {
                    var e = this.get_drop_db_map()[t];
                    return null == e && cc.error("can't find data in drop_db by id [" + t + "]"),
                    e
                },
                t.get_adv_db_map = function () {
                    return o.default.getDb("adv_db")
                },
                t.get_adv_db = function (t, e) {
                    var n = this.get_adv_db_map()[t][e];
                    return null == n && cc.error("can't find data in adv_db by advName [" + e + "]"),
                    n
                },
                t
            }
            ();
            n.default = i,
            cc._RF.pop()
        }, {
            "../extensions/utils/CfgLoader": "CfgLoader"
        }
    ],
    mAutoIncreaseItem: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "187cc8kqxtDSL8FziNTHrQU", "mAutoIncreaseItem");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("./_mBase"),
            r = t("../utils/FileRecord"),
            a = t("../../generate/db"),
            s = t("../utils/Tools"),
            c = t("../utils/Timer"),
            l = t("./BaseFacade"),
            u = t("../../common/Const"),
            d = !1,
            p = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_data = null,
                    e
                }
                return o(e, t),
                e.prototype.onload = function () {
                    this.loadData()
                },
                e.prototype.loadData = function () {
                    if (this.m_data = r.default.getData("aotu_increase_data"), !this.m_data) {
                        var t = a.default.get_auto_increase_db_map(),
                        e = Object.create(null);
                        s.default.forEachMap(t, function (t, n) {
                            e[t] = {
                                time: c.default.time,
                                added: 0
                            }
                        }),
                        this.m_data = e,
                        this.saveData()
                    }
                },
                e.prototype.saveData = function () {
                    r.default.setData("aotu_increase_data", this.m_data)
                },
                e.prototype.refresh = function (t) {
                    if (!d) {
                        d = !0;
                        var e,
                        n = this.m_data;
                        if (null == t)
                            for (var o in n)
                                (e = n[o]).time = this.refreshItemTime(o, e.time);
                        else (e = n[t]) && (e.time = this.refreshItemTime(t, e.time));
                        d = !1
                    }
                },
                e.prototype.refreshItemTime = function (t, e) {
                    if (e >= c.default.time)
                        return e;
                    var n = l.default.mItem.getItemCount(t),
                    o = this.getMaxCount(t);
                    if (n >= o)
                        return e = c.default.time;
                    var i = a.default.get_auto_increase_db(t);
                    if (e + i.increaseDelta > c.default.time)
                        return e;
                    var r = n,
                    s = i.increaseCount + this.m_data[t].added,
                    d = 0 | (c.default.time - e) / i.increaseDelta;
                    return n += d * s,
                    e += d * i.increaseDelta,
                    n > o && (n = o, e = c.default.time),
                    l.default.mItem.addItem(t, n - r, u.ITEM_CHANGE_REASON.AUTO_INCREASE, ""),
                    this.saveData(),
                    e
                },
                e.prototype.resetTime = function (t) {
                    var e = this.m_data[t];
                    e && (e.time = c.default.time)
                },
                e.prototype.getMaxCount = function (t) {
                    var e = a.default.get_auto_increase_db(t);
                    return e && e.maxCheckItemId ? l.default.mItem.getItemCount(e.maxCheckItemId) : Number.MAX_VALUE
                },
                e.prototype.getNextTime = function (t) {
                    if (this.m_data[t]) {
                        var e = a.default.get_auto_increase_db(t);
                        return this.m_data[t].time + e.increaseDelta
                    }
                    return 0
                },
                e.prototype.getIncreaseDelta = function (t) {
                    if (this.m_data && this.m_data[t])
                        return a.default.get_auto_increase_db(t).increaseDelta
                },
                e.prototype.isMax = function (t) {
                    var e = a.default.get_auto_increase_db(t);
                    return !(!e || !e.maxCheckItemId) && l.default.mItem.getItemCount(t) >= l.default.mItem.getItemCount(e.maxCheckItemId)
                },
                e.prototype.setIncreaseItemAddedPerSec = function (t, e) {
                    var n = this.m_data;
                    if (n && n[t]) {
                        var o = n[t],
                        i = a.default.get_auto_increase_db(t);
                        o.added = e * i.increaseDelta,
                        this.saveData()
                    }
                },
                e.prototype.getItemIncreasePerSec = function (t) {
                    var e = this.m_data;
                    if (e && e[t]) {
                        var n = a.default.get_auto_increase_db(t);
                        if (n.increaseDelta > 0)
                            return e[t].added / n.increaseDelta
                    }
                    return 0
                },
                e.prototype.getItemIncreaseCount = function (t) {
                    var e = this.m_data;
                    return e && e[t] ? e[t].added : 0
                },
                e.prototype.accItem = function (t, e, n, o) {
                    if (e <= 0)
                        return !1;
                    var i = this.getMaxCount(t),
                    r = l.default.mItem.getItemCount(t);
                    return r < i && (e = Math.min(i - r, e), l.default.mItem.addItem(t, e, n, o), !0)
                },
                e
            }
            (i.default);
            n.default = p,
            cc._RF.pop()
        }, {
            "../../common/Const": "Const",
            "../../generate/db": "db",
            "../utils/FileRecord": "FileRecord",
            "../utils/Timer": "Timer",
            "../utils/Tools": "Tools",
            "./BaseFacade": "BaseFacade",
            "./_mBase": "_mBase"
        }
    ],
    mDrop: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "1ede9LP9BVEyZavONdD46H6", "mDrop");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i,
            r,
            a,
            s = t("./_mBase"),
            c = t("../utils/FileRecord"),
            l = t("../../generate/db"),
            u = t("../utils/Mathf"),
            d = t("./BaseFacade");
            (function (t) {
                t[t.MULTI = 1] = "MULTI",
                t[t.ONE_OR_NONE = 2] = "ONE_OR_NONE",
                t[t.SEQUENCE = 3] = "SEQUENCE"
            })(i || (i = {})),
            function (t) {
                t[t.NONE = 0] = "NONE",
                t[t.LOOP_ALL = 1] = "LOOP_ALL",
                t[t.LOOP_LAST = 2] = "LOOP_LAST"
            }
            (r || (r = {})),
            function (t) {
                t[t.CAN_GET = 0] = "CAN_GET",
                t[t.GETTED = 1] = "GETTED",
                t[t.CANNOT_GET = 2] = "CANNOT_GET"
            }
            (a = n.LOTTERY_STATE || (n.LOTTERY_STATE = {}));
            var p = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_lotteryData = null,
                    e.m_dropData = null,
                    e
                }
                return o(e, t),
                e.prototype.onload = function () {
                    this.loadData()
                },
                e.prototype.loadData = function () {
                    this.m_lotteryData = c.default.getData("lotter_data") || {},
                    this.m_dropData = c.default.getData("drop_data") || {}
                },
                e.prototype.saveData = function () {
                    c.default.setData("drop_data", this.m_dropData)
                },
                e.prototype.getAllDropItems = function (t) {
                    var e = [];
                    if (!t)
                        return e;
                    var n = l.default.get_drop_db(t);
                    if (!n)
                        return e;
                    for (var o = 0; o < n.items.length; o++) {
                        var i = n.items[o];
                        e.push({
                            itemId: i.id,
                            count: i.max
                        })
                    }
                    return e
                },
                e.prototype.makeDrop = function (t, e) {
                    if (void 0 === e && (e = !1), !t)
                        return null;
                    var n = l.default.get_drop_db(t),
                    o = n.items;
                    switch (n.type) {
                    case i.MULTI:
                        return n.dis,
                        this.makeDrop_singleRate(o);
                    case i.ONE_OR_NONE:
                        return this.makeDrop_roundRate(o);
                    case i.SEQUENCE:
                        var r = this.makeLottery(t, e);
                        return r ? [r] : []
                    }
                    return null
                },
                e.prototype.makeDrop_singleRate = function (t) {
                    var e = [];
                    if (t)
                        for (var n = 0; n < t.length; n++) {
                            var o = t[n];
                            u.default.Random(1e4) <= o.rate && e.push({
                                itemId: o.id,
                                count: u.default.Random(o.min, o.max),
                                index: n
                            })
                        }
                    return e
                },
                e.prototype.makeDrop_roundRate = function (t) {
                    if (t)
                        for (var e = u.default.Random(1e4), n = 0; n < t.length; n++) {
                            var o = t[n];
                            if (e <= o.rate)
                                return [{
                                        itemId: o.id,
                                        count: u.default.Random(o.min, o.max),
                                        index: n
                                    }
                                ];
                            e -= o.rate
                        }
                    return []
                },
                e.prototype.saveLotteryRecord = function () {
                    c.default.setData("lotter_data", this.m_lotteryData)
                },
                e.prototype.getLotteryActive = function (t) {
                    if (!t)
                        return !1;
                    var e = l.default.get_drop_db(t);
                    return !(!e || e.type != i.SEQUENCE) && (!(e.loop == r.NONE && this.getCurLotteryIndex(t) >= e.items.length) && d.default.mSwitch.check(e.switchId))
                },
                e.prototype.getCurLotteryIndex = function (t) {
                    var e = this.m_lotteryData[t];
                    return void 0 == e ? 0 : e
                },
                e.prototype.getLotteryState = function (t, e) {
                    var n = this.getLotteryActive(t),
                    o = this.getCurLotteryIndex(t);
                    return e < o ? a.GETTED : e == o && n ? a.CAN_GET : a.CANNOT_GET
                },
                e.prototype.makeLottery = function (t, e) {
                    if (void 0 === e && (e = !1), !t)
                        return null;
                    var n = l.default.get_drop_db(t);
                    if (!n || n.type != i.SEQUENCE)
                        return null;
                    if (!d.default.mSwitch.check(n.switchId))
                        return null;
                    e || d.default.mSwitch.active(n.switchId);
                    var o = this.m_lotteryData[t];
                    if (void 0 == o && (o = 0), o < 0)
                        return null;
                    var a = o,
                    s = n.items[a];
                    if (!s)
                        return null;
                    if (!e) {
                        if (++o >= n.items.length)
                            switch (n.loop) {
                            case r.NONE:
                                o = n.items.length;
                                break;
                            case r.LOOP_ALL:
                                o = 0;
                                break;
                            case r.LOOP_LAST:
                                o = n.items.length - 1;
                                break;
                            default:
                                return cc.error("\u672a\u77e5\u5faa\u73af\u7c7b\u578b\uff0clotteryId:[" + t + "]"),
                                null
                            }
                        this.m_lotteryData[t] = o,
                        this.saveLotteryRecord()
                    }
                    return {
                        itemId: s.id,
                        count: u.default.Random(s.min, s.max),
                        index: a
                    }
                },
                e
            }
            (s.default);
            n.default = p,
            cc._RF.pop()
        }, {
            "../../generate/db": "db",
            "../utils/FileRecord": "FileRecord",
            "../utils/Mathf": "Mathf",
            "./BaseFacade": "BaseFacade",
            "./_mBase": "_mBase"
        }
    ],
    mGoal: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "33c86wVRPtDKopysnQH0ywy", "mGoal");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i,
            r = t("./_mBase"),
            a = t("../utils/FileRecord"),
            s = t("../../generate/db"),
            c = t("../utils/Tools"),
            l = t("../BaseConst");
            (function (t) {
                t[t.ADD = 0] = "ADD",
                t[t.RESET = 1] = "RESET",
                t[t.BIGGER = 2] = "BIGGER"
            })(i = n.GOAL_COMMIT_MODE || (n.GOAL_COMMIT_MODE = {}));
            var u = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_data = null,
                    e
                }
                return o(e, t),
                e.prototype.onload = function () {
                    this.loadData(),
                    this.m_data || (this.m_data = {
                            goalList: {}
                        })
                },
                e.prototype.loadData = function () {
                    this.m_data = a.default.getData("s_goal_data")
                },
                e.prototype.saveData = function () {
                    a.default.setData("s_goal_data", this.m_data)
                },
                e.prototype.getGoalList = function (t, e, n) {
                    var o = this.m_data[t];
                    if (!o) {
                        if (!n)
                            return null;
                        o = {},
                        this.m_data[t] = o,
                        this.saveData()
                    }
                    if (!o[e = e || "_default_"]) {
                        if (!n)
                            return null;
                        o[e] = {},
                        this.saveData()
                    }
                    return o[e]
                },
                e.prototype.register = function (t, e) {
                    var n = s.default.get_goal_db(t);
                    if (n) {
                        var o;
                        o = "" == n.targetId ? "_default_" : n.targetId;
                        var i = this.getGoalList(n.actionId, o, !0);
                        i[t],
                        i[t] = {
                            userData: e,
                            commits: 0
                        },
                        this.saveData()
                    }
                },
                e.prototype.unregister = function (t) {
                    var e = s.default.get_goal_db(t);
                    if (e) {
                        var n = this.getGoalList(e.actionId, e.targetId, !1);
                        n && n[t] && (delete n[t], this.saveData())
                    }
                },
                e.prototype.commit = function (t, e, n, o) {
                    var r = this;
                    void 0 === e && (e = 1),
                    void 0 === o && (o = i.ADD),
                    "_default_" != (n = "" === n || null == n ? "_default_" : n.toString()) && this.commit(t, e, "_default_", o);
                    var a,
                    u,
                    d = this.getGoalList(t, n, !1);
                    d && c.default.forEachMap(d, function (t, n) {
                        if (a = s.default.get_goal_db(t)) {
                            switch (u = r._isDone(n.commits, a.value, a.type), o) {
                            case i.ADD:
                                n.commits += e;
                                break;
                            case i.RESET:
                                n.commits = e;
                                break;
                            case i.BIGGER:
                                n.commits = Math.max(n.commits, e)
                            }
                            if (n.userData) {
                                var c = r._isDone(n.commits, a.value, a.type);
                                if (c != u) {
                                    var d = {
                                        userData: n.userData,
                                        goldId: t,
                                        isDone: c
                                    };
                                    r.sendMsg(l.BASE_MSG.GOAL_STATE_CHANGE, d)
                                }
                            }
                            r.saveData()
                        }
                    })
                },
                e.prototype._isDone = function (t, e, n) {
                    return "min" == n ? t >= e : "max" == n ? t <= e : (cc.error("can't find goal type " + n), !1)
                },
                e.prototype.isDone = function (t) {
                    var e = s.default.get_goal_db(t);
                    if (!e)
                        return !1;
                    var n = this.getCurValue(t);
                    return this._isDone(n, e.value, e.type)
                },
                e.prototype.getCurValue = function (t) {
                    var e = s.default.get_goal_db(t);
                    if (!e)
                        return 0;
                    var n = this.getGoalList(e.actionId, e.targetId, !1);
                    if (!n)
                        return cc.warn("can't find goal list by goalId " + t), 0;
                    var o = n[t];
                    return o ? o.commits : (cc.warn("can't find goal entry by entryId " + t), 0)
                },
                e.prototype.getDbValue = function (t) {
                    var e = s.default.get_goal_db(t);
                    return e ? e.value : 0
                },
                e.prototype.exists = function (t) {
                    var e = s.default.get_goal_db(t);
                    if (!e)
                        return !1;
                    var n = this.getGoalList(e.actionId, e.targetId, !1);
                    return !!n && null != n[t]
                },
                e
            }
            (r.default);
            n.default = u,
            cc._RF.pop()
        }, {
            "../../generate/db": "db",
            "../BaseConst": "BaseConst",
            "../utils/FileRecord": "FileRecord",
            "../utils/Tools": "Tools",
            "./_mBase": "_mBase"
        }
    ],
    mGuide: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "47831iimylCDYCuWVlCYMHL", "mGuide");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/mgr/_mgrBase"),
            r = t("../extensions/utils/FileRecord"),
            a = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.onload = function () {
                    this.m_data = r.default.getData("s_guide_data"),
                    this.m_data || (this.m_data = {})
                },
                e.saveData = function () {
                    r.default.setData("s_guide_data", this.m_data)
                },
                e.initUser = function (t) {
                    this.m_data[t] = {},
                    this.saveData()
                },
                e.checkActive = function (t, e, n) {
                    var o = this.m_data[t];
                    if (o) {
                        var i = o[e];
                        return null == i || i < n
                    }
                    return !0
                },
                e.m_data = null,
                e
            }
            (i.default);
            n.default = a,
            cc._RF.pop()
        }, {
            "../extensions/mgr/_mgrBase": "_mgrBase",
            "../extensions/utils/FileRecord": "FileRecord"
        }
    ],
    mItem: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "1fa4dB43S9N0KGS55qOOYwS", "mItem");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("./_mBase"),
            r = t("../utils/FileRecord"),
            a = t("../../generate/db"),
            s = t("../utils/Tools"),
            c = t("../../common/Const"),
            l = t("../sdk/GameStatistics"),
            u = t("./BaseFacade"),
            d = t("../BaseConst");
            n.sort_item_id_by_order = function (t, e) {
                return s.default.sort_db_by_order(a.default.get_item_db(t), a.default.get_item_db(e))
            };
            var p = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.uid = "",
                    e._bNeedInited = !1,
                    e
                }
                return o(e, t),
                e.prototype.onload = function () {
                    this.loadData(),
                    this.m_data || (this._bNeedInited = !0, this.m_data = {})
                },
                e.prototype.start = function () {
                    this._bNeedInited && this.resetItems()
                },
                e.prototype.resetItems = function () {
                    var t = this.m_data,
                    e = a.default.get_item_db_map();
                    s.default.forEachMap(e, function (e, n) {
                        t[e] = n.initCount
                    }),
                    this.m_data = t,
                    this.saveData()
                },
                e.prototype.loadData = function () {
                    this.m_data = r.default.getData("items_data")
                },
                e.prototype.saveData = function () {
                    r.default.setData("items_data", this.m_data)
                },
                e.prototype.getAllItemInBag = function () {
                    return this.m_data
                },
                e.prototype.getItemByType = function (t, e, n) {
                    var o,
                    i = [],
                    r = this.getAllItemInBag();
                    r && s.default.forEachMap(r, function (r, s) {
                        s > 0 && (o = a.default.get_item_db(r)).type == t && (null == e ? i.push(r) : e == o.subType && (null == n ? i.push(r) : n == o.gid && i.push(r)))
                    });
                    return i
                },
                e.prototype.getItemCountByType = function (t, e, n) {
                    var o,
                    i = 0,
                    r = this.getAllItemInBag();
                    r && s.default.forEachMap(r, function (r, s) {
                        s > 0 && (o = a.default.get_item_db(r)).type == t && (null == e ? i++ : e == o.subType && (null == n ? i++ : n == o.gid && i++))
                    });
                    return i
                },
                e.prototype.getItemCount = function (t) {
                    return u.default.mAutoIncreaseItem.refresh(t),
                    this.m_data[t] || 0
                },
                e.prototype.enoughItem = function (t, e) {
                    return e <= 0 || this.getItemCount(t) >= e
                },
                e.prototype.addItem = function (t, e, n, o) {
                    if (null == e)
                        return cc.error("add item null count"), !1;
                    if (e <= 0)
                        return !1;
                    var i = this.getItemCount(t),
                    r = i + e;
                    this.m_data[t] = r,
                    this.saveData();
                    var s = a.default.get_item_db(t),
                    c = {
                        uid: this.uid,
                        itemId: t,
                        count: r,
                        lastCount: i,
                        changeCount: e,
                        reason: n,
                        itemDb: s
                    };
                    return u.default.mGoal.commit(d.BASE_ACTION_ID.ITEM_GET, e, t),
                    n && null != o && l.default.onAddMoney(s.name, e, n + "_" + o),
                    this.sendMsg(d.BASE_MSG.ITEM_CHANGE, c),
                    !1
                },
                e.prototype.checkUpItem = function (t, e) {
                    var n = a.default.get_item_db(t);
                    return n.type == d.ITEM_TYPE.UP && (this.addItem(n.sellItemId, n.sellPrice * e, c.ITEM_CHANGE_REASON.AUTO_SELL, "transform"), !0)
                },
                e.prototype.tryActiveUp = function (t) {
                    return a.default.get_item_db(t).type == d.ITEM_TYPE.UP
                },
                e.prototype.subItem = function (t, e, n, o) {
                    if (e <= 0)
                        return !0;
                    if (!t)
                        return !1;
                    var i = this.getItemCount(t);
                    if (i < e)
                        return !1;
                    var r = i - e;
                    this.m_data[t] = r,
                    this.saveData();
                    var s = a.default.get_item_db(t),
                    c = {
                        uid: this.uid,
                        itemId: t,
                        count: r,
                        lastCount: i,
                        changeCount: -e,
                        reason: n,
                        itemDb: s
                    };
                    return u.default.mGoal.commit(d.BASE_ACTION_ID.ITEM_USE, e, t),
                    n && null != o && l.default.onMinusMoney(s.name, e, n + "_" + o),
                    this.sendMsg(d.BASE_MSG.ITEM_CHANGE, c),
                    !0
                },
                e.prototype.sellItem = function (t, e) {
                    if (null == e && (e = this.getItemCount(t)), this.subItem(t, e, c.ITEM_CHANGE_REASON.SELL, "")) {
                        var n = a.default.get_item_db(t);
                        n.sellItemId && this.addItem(n.sellItemId, n.sellPrice * e, c.ITEM_CHANGE_REASON.SELL, "")
                    }
                },
                e.prototype.useItem = function (t, e) {
                    if (this.enoughItem(t, e)) {
                        var n = {
                            uid: this.uid,
                            itemId: t,
                            count: e
                        };
                        this.sendMsg(d.BASE_MSG.ITEM_USE, n)
                    }
                },
                e.prototype.setItem = function (t, e, n) {
                    if (!(e < 0) && t) {
                        var o = this.getItemCount(t);
                        if (o != e) {
                            this.m_data[t] = e,
                            this.saveData();
                            var i = a.default.get_item_db(t),
                            r = {
                                uid: this.uid,
                                itemId: t,
                                count: e,
                                lastCount: o,
                                changeCount: e - o,
                                reason: n,
                                itemDb: i
                            };
                            this.sendMsg(d.BASE_MSG.ITEM_CHANGE, r)
                        }
                    }
                },
                e.prototype.addWrapItem = function (t, e, n) {
                    for (var o, i = this.unpackItemToMap(t, e), r = Object.keys(i), a = r.length, s = 0; s < a; s++)
                        (o = i[r[s]]) > 0 ? this.addItem(r[s], o, n, t) : delete i[r[s]];
                    return i
                },
                e.prototype.addWrapItemToList = function (t, e, n) {
                    for (var o = this.unpackItemToList(t, e), i = o.length, r = 0; r < i; r++)
                        this.addItem(o[r].itemId, o[r].count, n, t) && (o[r].bSell = !0);
                    return o
                },
                e.prototype.getWrapItem = function (t, e) {
                    return this.unpackItemToList(t, e, [], !1)
                },
                e.prototype.getWrapItemPreview = function (t, e) {
                    return this.unpackItemToList(t, e, [], !0)
                },
                e.prototype.unpackItemToList = function (t, e, n, o) {
                    void 0 === o && (o = !1),
                    e = e || 1,
                    n = n || [];
                    var i = a.default.get_item_db(t);
                    t: for (var r = 0; r < e; r++)
                        switch (i.type) {
                        case d.ITEM_TYPE.DROP:
                            var s = u.default.mDrop.makeDrop(i.wrapId, o);
                            if (s)
                                for (var c = 0; c < s.length; c++) {
                                    var l = s[c];
                                    this.unpackItemToList(l.itemId, l.count, n, o)
                                }
                            else
                                cc.error("mItem.unpackItemToList: can't drop by item:[" + t + "], dropId:[" + i.wrapId + "]");
                            break;
                        default:
                            n.push({
                                itemId: t,
                                count: e
                            });
                            break t
                        }
                    return n
                },
                e.prototype.unpackItemToMap = function (t, e, n) {
                    e = e || 1,
                    n = n || {};
                    var o = a.default.get_item_db(t);
                    t: for (var i = 0; i < e; i++)
                        switch (o.type) {
                        case d.ITEM_TYPE.DROP:
                            var r = u.default.mDrop.makeDrop(o.wrapId);
                            if (r)
                                for (var s = 0; s < r.length; s++) {
                                    var c = r[s];
                                    this.unpackItemToMap(c.itemId, c.count, n)
                                }
                            else
                                cc.error("mItem.unpackItemToMap: can't drop by item:[" + t + "], dropId:[" + o.wrapId + "]");
                            break;
                        default:
                            var l = n[t] || 0;
                            l += e,
                            n[t] = l;
                            break t
                        }
                    return n
                },
                e
            }
            (i.default);
            n.default = p,
            cc._RF.pop()
        }, {
            "../../common/Const": "Const",
            "../../generate/db": "db",
            "../BaseConst": "BaseConst",
            "../sdk/GameStatistics": "GameStatistics",
            "../utils/FileRecord": "FileRecord",
            "../utils/Tools": "Tools",
            "./BaseFacade": "BaseFacade",
            "./_mBase": "_mBase"
        }
    ],
    mPay: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "9f8f236Po9M97CRldlGyZdt", "mPay");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("./_mBase"),
            r = t("../sdk/GameStatistics"),
            a = t("../../common/Const"),
            s = t("./BaseFacade"),
            c = t("../../generate/db"),
            l = t("../utils/Tools"),
            u = t("../BaseConst"),
            d = t("../mgr/mgrSdk"),
            p = t("../_G"),
            h = function () {};
            n.sort_pay_db_by_switch = function (t, e) {
                var n = s.default.mSwitch.check(t.switchId);
                return n == s.default.mSwitch.check(e.switchId) ? l.default.sort_db_by_order(t, e) : n ? -1 : 1
            };
            var f = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.onload = function () {},
                e.prototype.loadData = function () {},
                e.prototype.saveData = function () {},
                e.prototype.getActive = function (t) {
                    var e = c.default.get_pay_db(t);
                    return !!e && s.default.mSwitch.check(e.switchId)
                },
                e.prototype.buyGoods = function (t, e, n) {
                    var o = this;
                    void 0 === n && (n = !1);
                    var i = c.default.get_pay_db(t);
                    if (e = e || h, i) {
                        var r = !1;
                        if (n)
                            r = !0;
                        else if (i.firstCostItemId && (r = s.default.mItem.subItem(i.firstCostItemId, i.firstCostCount, a.ITEM_CHANGE_REASON.PAY, t)), !r) {
                            if (i.costItemId == a.ITEM_ID.RMB)
                                return void d.default.openPay(i.payCode, t, function (n, i, r) {
                                    var a;
                                    n ? a = o._onGetGoods(t) : p.default.sendMsg(u.BASE_MSG.UI_SHOW_TIP, i),
                                    e(n, a)
                                });
                            r = s.default.mItem.subItem(i.costItemId, i.costCount, a.ITEM_CHANGE_REASON.PAY, t)
                        }
                        if (r) {
                            var l = this._onGetGoods(t);
                            e(!0, l)
                        } else
                            e(!1, null)
                    } else
                        e(!1, null)
                },
                e.prototype._onGetGoods = function (t, e) {
                    void 0 === e && (e = a.ITEM_CHANGE_REASON.PAY);
                    var n = c.default.get_pay_db(t);
                    if (s.default.mSwitch.active(n.switchId), n.getItemId) {
                        r.default.onPaySuccess(n.name);
                        var o = s.default.mItem.addWrapItemToList(n.getItemId, n.getCount, e);
                        return s.default.mGoal.commit(u.BASE_ACTION_ID.PAY_SUC, 1, t),
                        o
                    }
                    return null
                },
                e.prototype.isCostEnough = function (t) {
                    var e = c.default.get_pay_db(t);
                    return !!e && (e.costItemId == a.ITEM_ID.RMB || (e.firstCostItemId ? s.default.mItem.enoughItem(e.firstCostItemId, e.firstCostCount) : s.default.mItem.enoughItem(e.costItemId, e.costCount)))
                },
                e.prototype.getAllPays = function (t) {
                    var e = c.default.get_pay_db_map(),
                    n = [];
                    return l.default.forEachMap(e, function (e, o) {
                        o.gid == t && s.default.mSwitch.check(o.switchId) && n.push(o)
                    }),
                    n
                },
                e
            }
            (i.default);
            n.default = f,
            cc._RF.pop()
        }, {
            "../../common/Const": "Const",
            "../../generate/db": "db",
            "../BaseConst": "BaseConst",
            "../_G": "_G",
            "../mgr/mgrSdk": "mgrSdk",
            "../sdk/GameStatistics": "GameStatistics",
            "../utils/Tools": "Tools",
            "./BaseFacade": "BaseFacade",
            "./_mBase": "_mBase"
        }
    ],
    mQuest: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "c25782IJ9xG6aDWgrptasHp", "mQuest");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i,
            r = t("./_mBase"),
            a = t("../utils/FileRecord"),
            s = t("../../generate/db"),
            c = t("../utils/Tools"),
            l = t("../BaseConst"),
            u = t("./BaseFacade"),
            d = t("../../common/Const"),
            p = t("../utils/Timer"),
            h = t("../Queue"),
            f = t("../sdk/GameStatistics"),
            _ = t("../utils/Mathf");
            (function (t) {
                t[t.NONE = 0] = "NONE",
                t[t.UPDATEABLE = 1] = "UPDATEABLE",
                t[t.FAIL = 2] = "FAIL",
                t[t.COMMITABLE = 3] = "COMMITABLE",
                t[t.FINISHED = 4] = "FINISHED"
            })(i = n.QUEST_STATE || (n.QUEST_STATE = {})),
            n.sort_quest_id_by_order = function (t, e) {
                return c.default.sort_db_by_order(s.default.get_quest_db(t), s.default.get_quest_db(e))
            },
            n.sort_quest_db_by_state = function (t, e) {
                var n = u.default.mQuest.query(t.id).state,
                o = u.default.mQuest.query(e.id).state;
                if (n != o) {
                    if (n == i.COMMITABLE)
                        return -1;
                    if (o == i.COMMITABLE)
                        return 1;
                    if (n == i.UPDATEABLE)
                        return -1;
                    if (o == i.UPDATEABLE)
                        return 1;
                    if (n == i.FINISHED)
                        return 1;
                    if (o == i.FINISHED)
                        return -1
                }
                return c.default.sort_db_by_order(t, e)
            };
            var m = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_data = null,
                    e.m_allQuestWithType = [],
                    e.m_cdQuests = [],
                    e.m_dailyAch = [],
                    e.statisticsQueue = new h.default(256, !0),
                    e.statisticsTimer = null,
                    e
                }
                return o(e, t),
                e.prototype.onload = function () {
                    var t,
                    e = this;
                    if (this.prepareData(), this.loadData(), !this.m_data) {
                        this.m_data = {};
                        var n = s.default.get_quest_db_map();
                        c.default.forEachMap(n, function (t, n) {
                            n.type != l.QUEST_TYPE.MAIN && n.type != l.QUEST_TYPE.ACHIEVEMENT && n.type != l.QUEST_TYPE.CD_COMPLETION && n.type != l.QUEST_TYPE.ACH_COMPLETION || e.accept(t)
                        })
                    }
                    this.registerMsg(((t = {})[l.BASE_MSG.GOAL_STATE_CHANGE] = this.onMsgGoalStateChange.bind(this), t[l.BASE_MSG.DAILY_SWITCH_ACTIVE] = this.onMsgUserDailySwitchActive.bind(this), t[l.BASE_MSG.ITEM_CHANGE] = this.onMsgItemChantge.bind(this), t[l.BASE_MSG.ITEM_USE] = this.onMsgItemUse.bind(this), t))
                },
                e.prototype.loadData = function () {
                    this.m_data = a.default.getData("quest_data")
                },
                e.prototype.saveData = function () {
                    a.default.setData("quest_data", this.m_data)
                },
                e.prototype.prepareData = function () {
                    this.prepareAllQuest(),
                    this.prepareCdQuests(),
                    this.prepareDailyAch()
                },
                e.prototype.prepareAllQuest = function () {
                    for (var t = [], e = 0; e < l.QUEST_TYPE._COUNT; e++)
                        t.push([]);
                    var n = s.default.get_quest_db_map();
                    c.default.forEachMap(n, function (e, n) {
                        t[n.type].push(n)
                    });
                    for (e = 0; e < t.length; e++) {
                        t[e].sort(c.default.sort_db_by_order)
                    }
                    this.m_allQuestWithType = t
                },
                e.prototype.prepareCdQuests = function () {
                    for (var t = this.m_allQuestWithType[l.QUEST_TYPE.CD], e = [], n = 0; n < t.length; n++) {
                        var o = t[n];
                        (s = e[o.completionLimit]) || (s = {
                                list: [],
                                weight: []
                            }, e[o.completionLimit] = s),
                        s.list.push(o.id),
                        s.weight.push(o.weight)
                    }
                    var i = [];
                    for (var r in e) {
                        var a = parseInt(r),
                        s = e[r];
                        i.push({
                            limit: a,
                            list: s.list,
                            weight: s.weight
                        })
                    }
                    i.sort(function (t, e) {
                        return t.limit > e.limit ? 1 : t.limit < e.limit ? -1 : (cc.error("CD\u4efb\u52a1\u6709\u76f8\u540c\u7684limit!"), 0)
                    }),
                    this.m_cdQuests = i
                },
                e.prototype.prepareDailyAch = function () {
                    for (var t = this.m_allQuestWithType[l.QUEST_TYPE.DAILY_ACH], e = [], n = 0; n < t.length; n++) {
                        var o = t[n],
                        i = e[o.gid];
                        i || (i = [], e[o.gid] = i),
                        i.push(o)
                    }
                    for (n = 0; n < e.length; n++)
                        e[n].sort(c.default.sort_db_by_order);
                    this.m_dailyAch = e
                },
                e.prototype.onMsgGoalStateChange = function (t) {
                    if (t.userData.type == l.GOAL_TYPE.QUEST) {
                        var e = t.userData.data,
                        n = this.query(e);
                        if (n && n.state == i.UPDATEABLE) {
                            for (var o = s.default.get_quest_db(e), r = 0; r < o.goals.length; r++) {
                                var a = o.goals[r];
                                if (a != t.goldId && u.default.mGoal.isDone(a) != t.isDone)
                                    return
                            }
                            this.onQuestFinish(e, t.isDone)
                        }
                    }
                },
                e.prototype.onMsgUserDailySwitchActive = function () {
                    for (var t = this.m_allQuestWithType[l.QUEST_TYPE.DAILY], e = 0; e < t.length; e++)
                        this.accept(t[e].id);
                    var n = this.m_allQuestWithType[l.QUEST_TYPE.DAILY_COMPLETION];
                    for (e = 0; e < n.length; e++)
                        this.accept(n[e].id);
                    var o = this.m_allQuestWithType[l.QUEST_TYPE.ACH_COMPLETION];
                    for (e = 0; e < o.length; e++)
                        this.accept(o[e].id);
                    this.checkDailyAch()
                },
                e.prototype.onMsgItemChantge = function (t) {
                    if (t.changeCount > 0)
                        switch (t.itemId) {
                        case d.ITEM_ID.CD_QUEST_COUNT:
                            this.checkCdQuest()
                        }
                },
                e.prototype.onMsgItemUse = function (t) {
                    t.itemId,
                    d.ITEM_ID.CD_QUEST_ACC
                },
                e.prototype.query = function (t) {
                    return this.m_data[t]
                },
                e.prototype.isFinish = function (t) {
                    return this.query(t).state == i.FINISHED
                },
                e.prototype.isCommitable = function (t) {
                    return this.query(t).state == i.COMMITABLE
                },
                e.prototype.accept = function (t, e) {
                    void 0 === e && (e = !0);
                    var n = s.default.get_quest_db(t);
                    if (!n)
                        return !1;
                    if (!u.default.mSwitch.active(n.switchId))
                        return !1;
                    var o = !0,
                    r = this.query(t);
                    if (r) {
                        if (!e)
                            return !1;
                        for (var a = 0; a < n.goals.length; a++)
                            u.default.mGoal.unregister(n.goals[a]);
                        o = r.state != i.FINISHED && r.first
                    }
                    for (a = 0; a < n.goals.length; a++)
                        u.default.mGoal.register(n.goals[a], {
                            type: l.GOAL_TYPE.QUEST,
                            data: t
                        });
                    var c = 0 != n.goals.length ? i.UPDATEABLE : i.COMMITABLE;
                    return this.m_data[t] = {
                        state: c,
                        first: o
                    },
                    this.onQuestStateChange(c, n),
                    this.statisticsQueue.enqueue(t),
                    this.uploadStatisticsLater(),
                    this.saveData(),
                    !0
                },
                e.prototype.uploadStatisticsLater = function () {
                    var t = this;
                    this.statisticsTimer || (this.statisticsTimer = new p.default(.1, 1, function () {
                                t.statisticsTimer = null;
                                for (var e = 0; e < 50; e++) {
                                    var n = t.statisticsQueue.dequeue();
                                    if (!n)
                                        break;
                                    f.default.onQuestAccept(n)
                                }
                                t.statisticsQueue.size > 0 && t.uploadStatisticsLater()
                            }), this.statisticsTimer.start())
                },
                e.prototype.commit = function (t) {
                    var e = this.query(t);
                    if (!e)
                        return null;
                    var n = s.default.get_quest_db(t);
                    if (e.state == i.UPDATEABLE) {
                        for (var o = !0, r = 0; r < n.goals.length; r++)
                            if (!u.default.mGoal.isDone(n.goals[r])) {
                                o = !1;
                                break
                            }
                        this.onQuestFinish(t, o)
                    }
                    if (e.state != i.COMMITABLE)
                        return null;
                    e.first;
                    var a = u.default.mDrop.makeDrop(n.dropId);
                    for (r = 0; r < a.length; r++) {
                        var c = a[r];
                        u.default.mItem.addItem(c.itemId, c.count, d.ITEM_CHANGE_REASON.QUEST_COMMIT, n.type.toString())
                    }
                    return e.state = i.FINISHED,
                    this.onQuestStateChange(e.state, n),
                    this.saveData(),
                    u.default.mGoal.commit(l.BASE_ACTION_ID.QUEST_FINISH_COUNT, 1, n.type),
                    n.completion > 0 && u.default.mGoal.commit(l.BASE_ACTION_ID.QUEST_FINISH, n.completion, n.type),
                    n.type == l.QUEST_TYPE.CD ? (u.default.mItem.subItem(d.ITEM_ID.CD_QUEST_COUNT, 1, d.ITEM_CHANGE_REASON.SYS, null), this.checkCdQuest()) : n.type == l.QUEST_TYPE.CD_COMPLETION && this.accept(t, !0),
                    f.default.onQuestFinish(t),
                    a
                },
                e.prototype.cancel = function (t) {
                    if (this.query(t)) {
                        delete this.m_data[t];
                        for (var e = s.default.get_quest_db(t), n = 0; n < e.goals.length; n++)
                            u.default.mGoal.unregister(e.goals[n]);
                        this.onQuestStateChange(i.NONE, e),
                        this.saveData()
                    }
                },
                e.prototype.onQuestFinish = function (t, e) {
                    var n = this.query(t);
                    if (n && n.state == i.UPDATEABLE) {
                        e ? (n.state = i.COMMITABLE, f.default.onQuestCommitable(t)) : n.state = i.FAIL;
                        for (var o = s.default.get_quest_db(t), r = 0; r < o.goals.length; r++)
                            u.default.mGoal.unregister(o.goals[r]);
                        this.onQuestStateChange(n.state, o),
                        this.saveData()
                    }
                },
                e.prototype.onQuestStateChange = function (t, e) {
                    var n = {
                        state: t,
                        questDb: e
                    };
                    this.sendMsg(l.BASE_MSG.QUEST_STATE_CHANGE, n)
                },
                e.prototype.getQuestByType = function (t, e) {
                    var n,
                    o = [];
                    return c.default.forEachMap(this.m_data, function (i, r) {
                        (n = s.default.get_quest_db(i)).type != t || null != e && n.gid != e || o.push(i)
                    }),
                    o
                },
                e.prototype.getQuestDbByType = function (t, e) {
                    var n,
                    o = [];
                    return c.default.forEachMap(this.m_data, function (i, r) {
                        (n = s.default.get_quest_db(i)).type != t || null != e && e != n.gid || o.push(n)
                    }),
                    o
                },
                e.prototype.getLastQuestDbByGid = function (t, e, n) {
                    var o = [];
                    t: for (var i = e; i <= n; i++) {
                        var r = this.getQuestDbByType(t, i);
                        if (r.sort(c.default.sort_db_by_order), 0 == r.length)
                            r.push(null), cc.error("\u4efb\u52a1\u5206\u7ec4\u4e3a\u7a7a:", i);
                        else {
                            for (var a = 0; a < r.length; a++)
                                if (!this.isFinish(r[a].id)) {
                                    o.push(r[a]);
                                    continue t
                                }
                            o.push(r[r.length - 1])
                        }
                    }
                    return o
                },
                e.prototype.getCurValue = function (t, e) {
                    if (void 0 === e && (e = 0), this.query(t).state == i.UPDATEABLE) {
                        var n = s.default.get_quest_db(t).goals[e];
                        return u.default.mGoal.getCurValue(n)
                    }
                    return -1
                },
                e.prototype.getDbValue = function (t, e) {
                    void 0 === e && (e = 0);
                    var n = s.default.get_quest_db(t).goals[e];
                    return u.default.mGoal.getDbValue(n)
                },
                e.prototype.getAwardItems = function (t) {
                    var e = s.default.get_quest_db(t);
                    return e ? u.default.mDrop.getAllDropItems(e.dropId) : []
                },
                e.prototype.hasCommitQuest = function (t) {
                    for (var e = this.getQuestByType(t), n = e.length - 1; n >= 0; n--)
                        if (this.query(e[n]).state == i.COMMITABLE)
                            return !0;
                    return !1
                },
                e.prototype.acceptCdQuest = function (t) {
                    if (!(t <= 0)) {
                        for (var e = u.default.mGoal.getCurValue(d.GOAL_ID.CD_QUEST_FINISH), n = this.m_cdQuests[0], o = this.m_cdQuests.length, r = 1; r < o; r++) {
                            var a = this.m_cdQuests[r];
                            if (!(a.limit <= e))
                                break;
                            n = a
                        }
                        var p = n.list.slice(),
                        h = n.weight.slice();
                        c.default.forEachMap(this.m_data, function (t, e) {
                            if (s.default.get_quest_db(t).type == l.QUEST_TYPE.CD && e.state != i.FINISHED) {
                                var n = p.indexOf(t);
                                n >= 0 && (p.splice(n, 1), h.splice(n, 1))
                            }
                        });
                        var f = p.length;
                        if (!(t > f && (cc.error("\u8d85\u51faCD\u4efb\u52a1\u6700\u5927\u6570"), (t = f) <= 0)))
                            for (r = 0; r < t; r++) {
                                var m = _.default.arrCircleRandom(h);
                                if (!(m >= 0))
                                    break;
                                this.accept(p[m], !0),
                                p.splice(m, 1),
                                h.splice(m, 1)
                            }
                    }
                },
                e.prototype.resetCdQuestInParty = function () {
                    var t,
                    e = this;
                    c.default.forEachMap(this.m_data, function (n, o) {
                        (t = s.default.get_quest_db(n)).type == l.QUEST_TYPE.CD && t.resetInParty && o.state != i.FINISHED && e.accept(n, !0)
                    })
                },
                e.prototype.getCurCdQuestCount = function () {
                    var t = 0;
                    return c.default.forEachMap(this.m_data, function (e, n) {
                        s.default.get_quest_db(e).type == l.QUEST_TYPE.CD && n.state != i.FINISHED && t++
                    }),
                    t
                },
                e.prototype.checkCdQuest = function () {
                    var t = u.default.mItem.getItemCount(d.ITEM_ID.CD_QUEST_COUNT),
                    e = this.getCurCdQuestCount();
                    e < t && this.acceptCdQuest(t - e)
                },
                e.prototype.accCdQuest = function () {
                    return this.checkCdQuest(),
                    !!u.default.mAutoIncreaseItem.accItem(d.ITEM_ID.CD_QUEST_COUNT, 1, d.ITEM_CHANGE_REASON.SYS, null)
                },
                e.prototype.checkDailyAch = function () {
                    var t = this.getQuestDbByType(l.QUEST_TYPE.DAILY_ACH),
                    e = this.m_dailyAch;
                    if (0 == t.length)
                        for (var n = 0; n < e.length; n++) {
                            (i = e[n]) && i.length > 0 && this.accept(i[0].id)
                        }
                    else
                        for (n = t.length - 1; n >= 0; n--) {
                            var o = t[n];
                            if (this.isFinish(o.id)) {
                                var i,
                                r = this.getCurDailyAchIndex(o.id, o.gid) + 1;
                                if (r > 0)
                                    (i = e[o.gid]).length > r ? (this.cancel(o.id), this.accept(i[r].id)) : this.accept(o.id)
                            }
                        }
                },
                e.prototype.getCurDailyAchIndex = function (t, e) {
                    var n = this.m_dailyAch[e];
                    if (n)
                        for (var o = n.length - 1; o >= 0; o--)
                            if (n[o].id == t)
                                return o;
                    return -1
                },
                e
            }
            (r.default);
            n.default = m,
            cc._RF.pop()
        }, {
            "../../common/Const": "Const",
            "../../generate/db": "db",
            "../BaseConst": "BaseConst",
            "../Queue": "Queue",
            "../sdk/GameStatistics": "GameStatistics",
            "../utils/FileRecord": "FileRecord",
            "../utils/Mathf": "Mathf",
            "../utils/Timer": "Timer",
            "../utils/Tools": "Tools",
            "./BaseFacade": "BaseFacade",
            "./_mBase": "_mBase"
        }
    ],
    mSwitch: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "2c1a3+uRSxBGoRUgwSrQd3S", "mSwitch");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i,
            r = t("./_mBase"),
            a = t("../utils/FileRecord"),
            s = t("../../generate/db"),
            c = t("../utils/Timer"),
            l = t("../utils/Tools"),
            u = t("./BaseFacade"),
            d = t("../BaseConst");
            (function (t) {
                t[t.CYCLE = 0] = "CYCLE",
                t[t.CD = 1] = "CD",
                t[t.UNLOCK = 2] = "UNLOCK",
                t[t.PARALLEL = 3] = "PARALLEL",
                t[t.SERIES = 4] = "SERIES"
            })(i = n.SWITCH_TYPE || (n.SWITCH_TYPE = {}));
            var p = function (t) {
                function e() {
                    var e = null !== t && t.apply(this, arguments) || this;
                    return e.m_data = null,
                    e.dailyActive = !1,
                    e
                }
                return o(e, t),
                e.prototype.onload = function () {
                    var t;
                    if (this.loadData(), !this.m_data) {
                        this.m_data = {};
                        var e = s.default.get_switch_db_map();
                        for (var n in e) {
                            var o = e[n];
                            this.initSwitch(o)
                        }
                    }
                    this.registerMsg(((t = {})[d.BASE_MSG.GOAL_STATE_CHANGE] = this.onMsgGoalStateChange.bind(this), t))
                },
                e.prototype.start = function () {
                    this.active(d.BASE_SWITCH_ID.DAILY) && (this.dailyActive = !0, this.sendMsg(d.BASE_MSG.DAILY_SWITCH_ACTIVE), cc.log("---\x3e switch active true."))
                },
                e.prototype.loadData = function () {
                    this.m_data = a.default.getData("switch_data")
                },
                e.prototype.saveData = function () {
                    a.default.setData("switch_data", this.m_data)
                },
                e.prototype.onMsgGoalStateChange = function (t) {
                    if (t.userData.type == d.GOAL_TYPE.SWITCH && t.isDone) {
                        var e = t.userData.data,
                        n = this.m_data[t.uid][e];
                        if (n) {
                            var o = s.default.get_switch_db(e);
                            o && (this.updateUnlockSwitch(n, o), this.saveData())
                        }
                        return !1
                    }
                },
                e.prototype.initSwitch = function (t) {
                    var e = this.m_data;
                    if (!e[t.id]) {
                        var n = {
                            count: t.count,
                            startTime: 0,
                            endTime: 0
                        };
                        switch (t.type) {
                        case i.CYCLE:
                            this.updateCycleSwitch(n, t);
                            break;
                        case i.CD:
                            return void this.updateCdSwitch(n, t);
                        case i.UNLOCK:
                            this.updateUnlockSwitch(n, t);
                            break;
                        case i.PARALLEL:
                        case i.SERIES:
                            t.count = 1
                        }
                        e[t.id] = n,
                        this.saveData()
                    }
                },
                e.prototype.query = function (t) {
                    var e = this.m_data[t];
                    return e || (cc.error("mSwitch: can't find switch by switchId " + t), null)
                },
                e.prototype.check = function (t) {
                    if (!t)
                        return !0;
                    var e = this.query(t);
                    return !!e && (c.default.time >= e.startTime && (c.default.time <= e.endTime ? 0 != e.count : (this.updateCheck(t), this.check(t))))
                },
                e.prototype.active = function (t) {
                    if (!t)
                        return !0;
                    if (!this.check(t))
                        return !1;
                    var e = this.m_data[t];
                    if (e.count--, 0 == e.count) {
                        var n = s.default.get_switch_db(t);
                        n.type == i.CD && this.updateCdSwitch(e, n)
                    }
                    return this.pushChangeToSession(t, null, null, e.count),
                    this.saveData(),
                    !0
                },
                e.prototype.getCount = function (t) {
                    var e = this.query(t);
                    return e ? e.count : 0
                },
                e.prototype.getCycleStartTime = function (t) {
                    var e = this.query(t);
                    return e ? e.startTime : 0
                },
                e.prototype.getCycleEndTime = function (t) {
                    var e = this.query(t);
                    return e ? e.endTime : 0
                },
                e.prototype.updateCheck = function (t) {
                    var e = this.m_data[t],
                    n = s.default.get_switch_db(t);
                    switch (n.type) {
                    case i.CYCLE:
                        this.updateCycleSwitch(e, n);
                        break;
                    case i.CD:
                        this.updateCdSwitch(e, n);
                        break;
                    case i.UNLOCK:
                        e.endTime = 31536e6,
                        cc.error("\u89e3\u9501\u7c7b\u578b\u5f00\u5173\u65e0\u6cd5\u91cd\u590dcheck id: " + t);
                        break;
                    default:
                        cc.error("\u6682\u4e0d\u652f\u6301\u7c7b\u578b\u66f4\u65b0 " + n.type)
                    }
                },
                e.prototype.updateCycleSwitch = function (t, e) {
                    var n,
                    o = l.default.splitToNumber(e.params, ":");
                    5 == o.length ? n = new Date(o[2], o[3] - 1, o[4], o[0], o[1], 0, 0) : 2 == o.length ? (n = 0 == t.startTime ? new Date(Date.now()) : new Date(1e3 * t.startTime)).setHours(o[0], o[1], 0, 0) : cc.error("\u5f00\u5173[" + e.id + "]\u8d77\u59cb\u65f6\u95f4[" + e.params + "]\u9519\u8bef.");
                    var i = n.getTime() / 1e3,
                    r = 0;
                    r = e.duration <= 0 ? 31536e6 : i + 3600 * e.duration;
                    var a = 3600 * e.delta;
                    (a = Math.ceil((c.default.time - r) / a) * a) > 0 && (i += a, r += a),
                    t.startTime = i,
                    t.endTime = r,
                    t.count = e.count
                },
                e.prototype.updateCdSwitch = function (t, e) {
                    0 == t.endTime ? (t.startTime = c.default.time, t.endTime = 31536e6) : t.startTime = c.default.time + e.delta,
                    t.count = e.count
                },
                e.prototype.updateUnlockSwitch = function (t, e) {
                    0 == t.endTime ? (u.default.mGoal.register(e.params, {
                            type: d.GOAL_TYPE.SWITCH,
                            data: e.id
                        }), t.startTime = 31536e6, t.endTime = t.startTime) : (u.default.mGoal.unregister(e.params), t.startTime = c.default.time, e.duration <= 0 ? t.endTime = 31536e6 : t.endTime = c.default.time + 3600 * e.duration, t.count = e.count)
                },
                e.prototype.pushChangeToSession = function (t, e, n, o) {},
                e
            }
            (r.default);
            n.default = p,
            cc._RF.pop()
        }, {
            "../../generate/db": "db",
            "../BaseConst": "BaseConst",
            "../utils/FileRecord": "FileRecord",
            "../utils/Timer": "Timer",
            "../utils/Tools": "Tools",
            "./BaseFacade": "BaseFacade",
            "./_mBase": "_mBase"
        }
    ],
    mUp: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "f475evqWMZPqa6D+veDswdS", "mUp");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("./_mBase"),
            r = t("../../generate/db"),
            a = t("../../common/Const"),
            s = t("../sdk/GameStatistics"),
            c = t("../utils/FileRecord"),
            l = t("../BaseConst"),
            u = t("./BaseFacade"),
            d = t("./mGoal"),
            p = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.prototype.onload = function () {
                    var t;
                    this.loadData(),
                    this.m_data || (this.m_data = {
                            levels: {},
                            exps: {},
                            autoUp: {
                                byItem: {},
                                byGoal: {}
                            }
                        }, this.saveData()),
                    this.registerMsg(((t = {})[l.BASE_MSG.ITEM_CHANGE] = this.onMsgItemChange.bind(this), t[l.BASE_MSG.GOAL_STATE_CHANGE] = this.onMsgGoalStateChange.bind(this), t))
                },
                e.prototype.loadData = function () {
                    this.m_data = c.default.getData("up_data")
                },
                e.prototype.saveData = function () {
                    c.default.setData("up_data", this.m_data)
                },
                e.prototype.onMsgItemChange = function (t) {
                    if (t.changeCount > 0) {
                        var e = this.m_data.autoUp.byItem[t.itemId];
                        e && e.costCount <= t.count && this.tryAutoLvupAttrByItem(t.itemId)
                    }
                },
                e.prototype.onMsgGoalStateChange = function (t) {
                    t.isDone && (this.m_data.autoUp.byGoal[t.goldId] && this.tryAutoLvupAttrByGoal(t.goldId))
                },
                e.prototype.getUpKey = function (t, e) {
                    return t + "_" + e
                },
                e.prototype.initDbGetter = function (t) {
                    this._upGetter = t
                },
                e.prototype.getAllUp = function (t, e) {
                    var n = r.default.get_item_db(t);
                    return n.type != l.ITEM_TYPE.UP ? null : n[e] ? this._upGetter ? this._upGetter(n, e) : void cc.error("mUp: initDbGetter first!") : null
                },
                e.prototype.getMaxLevel = function (t, e) {
                    return this.getAllUp(t, e).length - 1
                },
                e.prototype.getUpDb = function (t, e, n) {
                    null == n && (n = this.getLevel(t, e));
                    var o = this.getAllUp(t, e);
                    return o ? o[n] : null
                },
                e.prototype.getLevel = function (t, e) {
                    var n = this.getUpKey(t, e);
                    return this.m_data.levels[n] || 0
                },
                e.prototype.isUnlock = function (t, e) {
                    return this.getLevel(t, e) > 0
                },
                e.prototype.isMax = function (t, e) {
                    return this.getLevel(t, e) >= this.getMaxLevel(t, e)
                },
                e.prototype.isUpable = function (t, e, n) {
                    void 0 === n && (n = !1);
                    var o = r.default.get_item_db(t);
                    if (!o || o.type != l.ITEM_TYPE.UP)
                        return !1;
                    if (!o[e])
                        return !1;
                    if (this.isMax(t, e))
                        return !1;
                    if (n)
                        return !0;
                    var i = this.getUpDb(t, e);
                    if (i.goalId && u.default.mGoal.exists(i.goalId) && !u.default.mGoal.isDone(i.goalId))
                        return !1;
                    var a = this.getUpKey(t, e),
                    s = this.m_data.exps[a];
                    if (null == s) {
                        if (this.getLackItemId(i))
                            return !1
                    } else if (s < i.reqCnt1)
                        return !1;
                    return !0
                },
                e.prototype.tryActive = function (t, e) {
                    var n = this.getUpKey(t, e);
                    if (null == this.m_data.levels[n]) {
                        var o = this.getAllUp(t, e);
                        if (o) {
                            var i = 0;
                            "" !== o[0].reqId1 || 0 !== o[0].reqCnt1 || o[0].goalId || (this.lvupAttr(t, e), i = 1),
                            0 == i && this.registerAutoUp(t, e, o[i]);
                            for (var r = 0; r < o.length; r++)
                                o[r].goalId && u.default.mGoal.register(o[r].goalId, {
                                    type: "",
                                    data: ""
                                })
                        }
                    }
                },
                e.prototype.registerAutoUp = function (t, e, n) {
                    var o = this.m_data.autoUp;
                    if (n.reqId1)
                        if (null == o.byItem[n.reqId1]) {
                            if (n.goalId)
                                return void cc.error("registerAutoUp only accept either item or goal.");
                            o.byItem[n.reqId1] = {
                                itemId: t,
                                attrName: e,
                                costCount: n.reqCnt1
                            }
                        } else
                            cc.error("registerAutoUp reqId:[" + n.reqId1 + "] is exists. itemId:[" + t + "] attrName:[" + e + "]");
                    else if (n.goalId)
                        if (null == o.byGoal[n.goalId]) {
                            if (n.reqId1)
                                return void cc.error("registerAutoUp only accept either item or goal.");
                            o.byGoal[n.goalId] = {
                                itemId: t,
                                attrName: e
                            }
                        } else
                            cc.error("registerAutoUp goalId:[" + n.goalId + "] is exists. itemId:[" + t + "] attrName:[" + e + "]")
                },
                e.prototype.addExp = function (t, e, n) {
                    var o = this.getUpKey(t, e),
                    i = this.m_data.exps,
                    r = i[o] || 0;
                    r += n,
                    i[o] = r,
                    this.saveData(),
                    this.onUpStateChange(o, null, r)
                },
                e.prototype.getExp = function (t, e) {
                    var n = this.getUpKey(t, e);
                    return this.m_data.exps[n] || 0
                },
                e.prototype.lvupAttr = function (t, e, n) {
                    return void 0 === n && (n = !1),
                    !!this.isUpable(t, e, n) && this._produce(t, e, n)
                },
                e.prototype.tryAutoLvupAttrByItem = function (t) {
                    var e = this.m_data.autoUp.byItem,
                    n = e[t];
                    if (this.lvupAttr(n.itemId, n.attrName)) {
                        var o = this.getLevel(n.itemId, n.attrName),
                        i = this.getUpDb(n.itemId, n.attrName, o);
                        delete e[t],
                        this.saveData(),
                        i.autoUp && o !== this.getMaxLevel(n.itemId, n.attrName) && this.registerAutoUp(n.itemId, n.attrName, i)
                    } else
                        cc.error("\u81ea\u52a8\u5347\u7ea7\u7684\u4e00\u5b9a\u662f\u4e0d\u9700\u8981\u7269\u54c1\u7684\uff0c\u56e0\u4e3a\u76ee\u524d\u4e0d\u652f\u6301\u540c\u65f6\u76ee\u6807\u548c\u7269\u54c1\u7684\u517b\u6210\u76d1\u63a7")
                },
                e.prototype.tryAutoLvupAttrByGoal = function (t) {
                    var e = this.m_data.autoUp.byGoal,
                    n = e[t];
                    if (this.lvupAttr(n.itemId, n.attrName)) {
                        var o = this.getLevel(n.itemId, n.attrName),
                        i = this.getUpDb(n.itemId, n.attrName, o);
                        delete e[t],
                        this.saveData(),
                        i.autoUp && o !== this.getMaxLevel(n.itemId, n.attrName) && this.registerAutoUp(n.itemId, n.attrName, i)
                    } else
                        cc.error("\u81ea\u52a8\u5347\u7ea7\u7684\u4e00\u5b9a\u662f\u4e0d\u9700\u8981\u7269\u54c1\u7684\uff0c\u56e0\u4e3a\u76ee\u524d\u4e0d\u652f\u6301\u540c\u65f6\u76ee\u6807\u548c\u7269\u54c1\u7684\u517b\u6210\u76d1\u63a7")
                },
                e.prototype._produce = function (t, e, n) {
                    var o = this.getUpDb(t, e);
                    o.goalId && u.default.mGoal.exists(o.goalId) && u.default.mGoal.unregister(o.goalId);
                    var i = this.getUpKey(t, e),
                    r = this.m_data.exps[i],
                    c = this.m_data.levels,
                    p = null;
                    if (n || (null == r ? o.reqId1 && u.default.mItem.subItem(o.reqId1, o.reqCnt1, a.ITEM_CHANGE_REASON.LEVEL_UP, i) : (this.m_data.exps[i] = 0, p = 0), o.reqId2 && u.default.mItem.subItem(o.reqId2, o.reqCnt2, a.ITEM_CHANGE_REASON.LEVEL_UP, i)), c[i] ? c[i]++ : c[i] = 1, this.saveData(), this.onUpStateChange(i, c[i], p), u.default.mGoal.commit(l.BASE_ACTION_ID.LEVEL_UP, c[i], i, d.GOAL_COMMIT_MODE.BIGGER), o.commitKey && (u.default.mGoal.commit(l.BASE_ACTION_ID.LEVEL_UP_KEY, 1, o.commitKey), u.default.mGoal.commit(l.BASE_ACTION_ID.LEVEL_UP_KEY_MAX, c[i], o.commitKey, d.GOAL_COMMIT_MODE.BIGGER)), o.dropId)
                        for (var h = u.default.mDrop.makeDrop(o.dropId), f = 0; f < h.length; f++) {
                            var _ = h[f];
                            u.default.mItem.addItem(_.itemId, _.count, a.ITEM_CHANGE_REASON.LEVEL_UP, i)
                        }
                    return s.default.onCommonEventTwo("Upgrade", i),
                    !0
                },
                e.prototype.getLackItemId = function (t) {
                    return u.default.mItem.enoughItem(t.reqId1, t.reqCnt1) ? t.reqId2 ? u.default.mItem.enoughItem(t.reqId2, t.reqCnt2) ? null : t.reqId2 : null : t.reqId1
                },
                e.prototype.onUpStateChange = function (t, e, n) {
                    var o = {
                        upKey: t,
                        level: e,
                        exp: n
                    };
                    this.sendMsg(l.BASE_MSG.UP_STATE_CHANGE, o)
                },
                e.prototype.getGoalId = function (t, e, n) {
                    return null == n ? this.getNextGoalLevel(t, e, n) >= 0 ? this.getUpDb(t, e, n).goalId : null : this.getUpDb(t, e, n).goalId
                },
                e.prototype.checkGoal = function (t, e, n) {
                    var o = this.getUpDb(t, e, n);
                    return !o.goalId || !u.default.mGoal.exists(o.goalId) || u.default.mGoal.isDone(o.goalId)
                },
                e.prototype.getNextGoalLevel = function (t, e, n) {
                    null == n && (n = this.getLevel(t, e));
                    for (var o = this.getMaxLevel(t, e) - 1, i = n; i <= o; i++)
                        if (!this.checkGoal(t, e, i))
                            return i;
                    return -1
                },
                e
            }
            (i.default);
            n.default = p,
            cc._RF.pop()
        }, {
            "../../common/Const": "Const",
            "../../generate/db": "db",
            "../BaseConst": "BaseConst",
            "../sdk/GameStatistics": "GameStatistics",
            "../utils/FileRecord": "FileRecord",
            "./BaseFacade": "BaseFacade",
            "./_mBase": "_mBase",
            "./mGoal": "mGoal"
        }
    ],
    md5: [function (t, e, n) {
            "use strict";
            function o(t, e) {
                var n = (65535 & t) + (65535 & e);
                return (t >> 16) + (e >> 16) + (n >> 16) << 16 | 65535 & n
            }
            function i(t, e) {
                return t << e | t >>> 32 - e
            }
            function r(t, e, n, r, a, s) {
                return o(i(o(o(e, t), o(r, s)), a), n)
            }
            function a(t, e, n, o, i, a, s) {
                return r(e & n | ~e & o, t, e, i, a, s)
            }
            function s(t, e, n, o, i, a, s) {
                return r(e & o | n & ~o, t, e, i, a, s)
            }
            function c(t, e, n, o, i, a, s) {
                return r(e ^ n ^ o, t, e, i, a, s)
            }
            function l(t, e, n, o, i, a, s) {
                return r(n ^ (e | ~o), t, e, i, a, s)
            }
            function u(t, e) {
                var n,
                i,
                r,
                u,
                d;
                t[e >> 5] |= 128 << e % 32,
                t[14 + (e + 64 >>> 9 << 4)] = e;
                var p = 1732584193,
                h = -271733879,
                f = -1732584194,
                _ = 271733878;
                for (n = 0; n < t.length; n += 16)
                    i = p, r = h, u = f, d = _, h = l(h = l(h = l(h = l(h = c(h = c(h = c(h = c(h = s(h = s(h = s(h = s(h = a(h = a(h = a(h = a(h, f = a(f, _ = a(_, p = a(p, h, f, _, t[n], 7, -680876936), h, f, t[n + 1], 12, -389564586), p, h, t[n + 2], 17, 606105819), _, p, t[n + 3], 22, -1044525330), f = a(f, _ = a(_, p = a(p, h, f, _, t[n + 4], 7, -176418897), h, f, t[n + 5], 12, 1200080426), p, h, t[n + 6], 17, -1473231341), _, p, t[n + 7], 22, -45705983), f = a(f, _ = a(_, p = a(p, h, f, _, t[n + 8], 7, 1770035416), h, f, t[n + 9], 12, -1958414417), p, h, t[n + 10], 17, -42063), _, p, t[n + 11], 22, -1990404162), f = a(f, _ = a(_, p = a(p, h, f, _, t[n + 12], 7, 1804603682), h, f, t[n + 13], 12, -40341101), p, h, t[n + 14], 17, -1502002290), _, p, t[n + 15], 22, 1236535329), f = s(f, _ = s(_, p = s(p, h, f, _, t[n + 1], 5, -165796510), h, f, t[n + 6], 9, -1069501632), p, h, t[n + 11], 14, 643717713), _, p, t[n], 20, -373897302), f = s(f, _ = s(_, p = s(p, h, f, _, t[n + 5], 5, -701558691), h, f, t[n + 10], 9, 38016083), p, h, t[n + 15], 14, -660478335), _, p, t[n + 4], 20, -405537848), f = s(f, _ = s(_, p = s(p, h, f, _, t[n + 9], 5, 568446438), h, f, t[n + 14], 9, -1019803690), p, h, t[n + 3], 14, -187363961), _, p, t[n + 8], 20, 1163531501), f = s(f, _ = s(_, p = s(p, h, f, _, t[n + 13], 5, -1444681467), h, f, t[n + 2], 9, -51403784), p, h, t[n + 7], 14, 1735328473), _, p, t[n + 12], 20, -1926607734), f = c(f, _ = c(_, p = c(p, h, f, _, t[n + 5], 4, -378558), h, f, t[n + 8], 11, -2022574463), p, h, t[n + 11], 16, 1839030562), _, p, t[n + 14], 23, -35309556), f = c(f, _ = c(_, p = c(p, h, f, _, t[n + 1], 4, -1530992060), h, f, t[n + 4], 11, 1272893353), p, h, t[n + 7], 16, -155497632), _, p, t[n + 10], 23, -1094730640), f = c(f, _ = c(_, p = c(p, h, f, _, t[n + 13], 4, 681279174), h, f, t[n], 11, -358537222), p, h, t[n + 3], 16, -722521979), _, p, t[n + 6], 23, 76029189), f = c(f, _ = c(_, p = c(p, h, f, _, t[n + 9], 4, -640364487), h, f, t[n + 12], 11, -421815835), p, h, t[n + 15], 16, 530742520), _, p, t[n + 2], 23, -995338651), f = l(f, _ = l(_, p = l(p, h, f, _, t[n], 6, -198630844), h, f, t[n + 7], 10, 1126891415), p, h, t[n + 14], 15, -1416354905), _, p, t[n + 5], 21, -57434055), f = l(f, _ = l(_, p = l(p, h, f, _, t[n + 12], 6, 1700485571), h, f, t[n + 3], 10, -1894986606), p, h, t[n + 10], 15, -1051523), _, p, t[n + 1], 21, -2054922799), f = l(f, _ = l(_, p = l(p, h, f, _, t[n + 8], 6, 1873313359), h, f, t[n + 15], 10, -30611744), p, h, t[n + 6], 15, -1560198380), _, p, t[n + 13], 21, 1309151649), f = l(f, _ = l(_, p = l(p, h, f, _, t[n + 4], 6, -145523070), h, f, t[n + 11], 10, -1120210379), p, h, t[n + 2], 15, 718787259), _, p, t[n + 9], 21, -343485551), p = o(p, i), h = o(h, r), f = o(f, u), _ = o(_, d);
                return [p, h, f, _]
            }
            function d(t) {
                var e,
                n = "",
                o = 32 * t.length;
                for (e = 0; e < o; e += 8)
                    n += String.fromCharCode(t[e >> 5] >>> e % 32 & 255);
                return n
            }
            function p(t) {
                var e,
                n = [];
                for (n[(t.length >> 2) - 1] = void 0, e = 0; e < n.length; e += 1)
                    n[e] = 0;
                var o = 8 * t.length;
                for (e = 0; e < o; e += 8)
                    n[e >> 5] |= (255 & t.charCodeAt(e / 8)) << e % 32;
                return n
            }
            function h(t) {
                return d(u(p(t), 8 * t.length))
            }
            function f(t, e) {
                var n,
                o,
                i = p(t),
                r = [],
                a = [];
                for (r[15] = a[15] = void 0, i.length > 16 && (i = u(i, 8 * t.length)), n = 0; n < 16; n += 1)
                    r[n] = 909522486 ^ i[n], a[n] = 1549556828 ^ i[n];
                return o = u(r.concat(p(e)), 512 + 8 * e.length),
                d(u(a.concat(o), 640))
            }
            function _(t) {
                var e,
                n,
                o = "";
                for (n = 0; n < t.length; n += 1)
                    e = t.charCodeAt(n), o += "0123456789abcdef".charAt(e >>> 4 & 15) + "0123456789abcdef".charAt(15 & e);
                return o
            }
            function m(t) {
                return unescape(encodeURIComponent(t))
            }
            function g(t) {
                return h(m(t))
            }
            function y(t) {
                return _(g(t))
            }
            function v(t, e) {
                return f(m(t), m(e))
            }
            function b(t, e) {
                return _(v(t, e))
            }
            cc._RF.push(e, "d36f9e/eVZDt43WYxD7FTlO", "md5"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            }),
            n.default = function (t, e, n) {
                return e ? n ? v(e, t) : b(e, t) : n ? g(t) : y(t)
            },
            cc._RF.pop()
        }, {}
    ],
    mgrAdv: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "9d3ddfqiHRO3I9F2PQyXAFH", "mgrAdv");
            var o,
            i = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r,
            a,
            s = t("./_mgrBase"),
            c = t("../_G"),
            l = t("../utils/Tools"),
            u = t("../../generate/db"),
            d = t("./mgrAudio"),
            p = t("../utils/Mathf"),
            h = t("../sdk/SDKBridge"),
            f = t("../utils/Timer"),
            _ = t("./mgrRes"),
            m = t("./mgrPanel"),
            g = t("../module/BaseFacade"),
            y = t("../BaseConst"),
            v = t("../utils/FileRecord");
            (function (t) {
                t.INST = "1",
                t.BANNER = "2",
                t.EMBEDDED = "3",
                t.VIDEO = "4",
                t.URL = "5"
            })(r || (r = {})),
            function (t) {
                t.INST = "interstitial",
                t.VIDEO = "video",
                t.BANNER = "banner",
                t.URL = "url",
                t.EMBEDDED = "embedded"
            }
            (a || (a = {})),
            function (t) {
                t[t.ONLY_BUTTON = 0] = "ONLY_BUTTON",
                t[t.ALL_CONTEXT = 1] = "ALL_CONTEXT",
                t[t.FULL_PANEL = 2] = "FULL_PANEL",
                t[t.FULL_SCREEN = 3] = "FULL_SCREEN"
            }
            (n.ADV_CLICK_TYPE || (n.ADV_CLICK_TYPE = {}));
            var b = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return i(e, t),
                e.onload = function () {
                    switch (c.default.SDK_VERSION) {
                    case c.SDK_VERSIONS_VALUE.V6:
                        h.default.registerCmd("/c/openAdvResult", this.onAdvShowResult_V6.bind(this)),
                        h.default.registerCmd("/c/openNativeAdvResult", this.openNativeAdvResult.bind(this)),
                        h.default.registerCmd("/c/clickNativeAdvResult", this.clickNativeAdvResult_V6.bind(this)),
                        h.default.registerCmd("/c/clickAdvResult", this.clickAdvResult_V6.bind(this)),
                        h.default.registerCmd("/c/advValidCountResult", this.onAdvVoidCount_V6.bind(this));
                        break;
                    case c.SDK_VERSIONS_VALUE.V5:
                        h.default.registerCmd("/adv/advShowResult", this.onAdvShowResult_V5.bind(this))
                    }
                },
                e.setChannel = function (t) {
                    this.game_channel = t
                },
                e.setNativeUi = function (t, e, n) {
                    this.panelNativeAdv = t,
                    this.panelAdvLoading = e,
                    this.panelNativeBanner = n
                },
                e.getAdvDb = function (t) {
                    return u.default.get_adv_db(this.game_channel, t)
                },
                e.hasAdv = function (t) {
                    return !!this.getAdvDb(t)
                },
                e.setNoAds = function () {
                    v.default.setData("KEY_NO_ADS", !0)
                },
                Object.defineProperty(e, "isNoAds", {
                    get: function () {
                        return !!v.default.getData("KEY_NO_ADS")
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                e.hotfixCop = function (t) {
                    var e = u.default.get_adv_db_map()[this.game_channel],
                    n = {};
                    for (var o in e) {
                        var i = e[o];
                        "" != i.copKey && (n[i.copKey] = !0)
                    }
                    for (var r in n)
                        this.COP[r] = l.default.splitToNumber(t[r], ";");
                    this.adv_click_type = l.default.safeParseInt(t.adv_click_type, 0),
                    this.adv_click_tip_enable = l.default.safeParseInt(t.ad_click_tip, 1) > 0;
                    var s = l.default.splitToNumber(t.av_show_delta_time, ";");
                    this.advCnf[a.VIDEO].deltaTime = s[0] || .5,
                    this.advCnf[a.INST].deltaTime = s[1] || .5,
                    this.advCnf[a.BANNER].deltaTime = s[2] || .5;
                    var c = l.default.splitToNumber(t.video_mode, ";");
                    this.video_mode.bVideo = !c[0],
                    this.video_mode.bWatch = !c[1]
                },
                e.getActive = function (t) {
                    return true;
                    // ghb:
                    // var e = this.getAdvDb(t);
                    // return e ? this.checkTypeActive(e.advType) ? g.default.mSwitch.check(e.switchId) ? 0 !== this.getCopRatByKey(e.copKey, e.copIndex, e.defaultRate) || (console.log("ghb: Ineffective probability!"), !1) : (console.log("\u5f00\u5173\u65e0\u6548"), !1) : (console.log("\u6b21\u6570\u6216CD\u65e0\u6548"), !1) : (console.log("\u5e7f\u544adb\u65e0\u6548"), !1)
                },
                e.checkActive = function (t, e) {
                    return true;
                    // ghb:
                    // if (void 0 === e && (e = !1), e && c.default.isGuiding)
                    //     return !1;
                    // var n = this.getAdvDb(t);
                    // return n ? this.checkTypeActive(n.advType) ? g.default.mSwitch.check(n.switchId) ? !!p.default.randomEnable(this.getCopRatByKey(n.copKey, n.copIndex, n.defaultRate)) || (console.log("ghb: Ineffective probability"), !1) : (console.log("\u5f00\u5173\u65e0\u6548"), !1) : (console.log("\u6b21\u6570\u6216CD\u65e0\u6548"), !1) : (console.log("\u5e7f\u544adb\u65e0\u6548"), !1)
                },
                e.checkTypeActive = function (t) {
                    return true;
                    // ghb:
                    // var e = this.advCnf[t];
                    // return !!e && (e.enable && e.lastTime <= f.default.time)
                },
                e.getCopRatByKey = function (t, e, n) {
                    return this.COP[t] && e >= 0 && e < this.COP[t].length ? this.COP[t][e] || 0 : n
                },
                e.dispatchAdv = function (t, e, n, o) {
                    // ghb: 这个函数负责分发广告视频事件
                    if (void 0 === e && (e = null), void 0 === n && (n = !1), void 0 === o && (o = !1), !this.hasAdv(t))
                        return !1;
                    if (window.tsLog("call ad"), !n && !this.checkActive(t))
                        return !1;
                    o && (this.panelAdvLoading ? m.default.openPanel(this.panelAdvLoading, {
                            advName: t,
                            params: e
                        }) : cc.error("mgrAdv.dispatchAdv \u627e\u4e0d\u5230panelAdvLoading.")),
                    c.default.sendMsg(y.BASE_MSG.SDK_ADV_VISIBLE, !0);
                    var i = this.getAdvDb(t);
                    i.pauseSound && d.default.pause();
                    var r = this.advCnf[i.advType];
                    switch (r && (r.lastTime = f.default.time + r.deltaTime), window.tsLog("dispatch ad "), c.default.SDK_VERSION) {
                    case c.SDK_VERSIONS_VALUE.V6:
                        this.dispatchToSdk_V6(t, e);
                        break;
                    case c.SDK_VERSIONS_VALUE.V5:
                        this.dispatchToSdk_V5(t, e)
                    }
                    return !0
                },
                e.closeAdv = function (t) {
                    switch (c.default.SDK_VERSION) {
                    case c.SDK_VERSIONS_VALUE.V6:
                        this.closeAdv_V6(t);
                        break;
                    case c.SDK_VERSIONS_VALUE.V5:
                        cc.error("\u5173\u95ed\u5e7f\u544a\u672a\u63a5\u5165..")
                    }
                },
                e.getSwitchCount = function (t) {
                    var e = this.getAdvDb(t);
                    return g.default.mSwitch.getCount(e.switchId)
                },
                e.activeSwitch = function (t) {
                    var e = this.getAdvDb(t);
                    e && g.default.mSwitch.active(e.switchId)
                },
                e.dispatchToSdk_V5 = function (t, e) {
                    var n = this,
                    o = this.getAdvDb(t),
                    i = JSON.stringify({
                            advName: t,
                            params: e
                        }),
                    r = o.advId;
                    this.isNoAds ? f.default.callLater(.1, function () {
                        n.onAdvShowResult_V5({
                            code: 1,
                            userData: i,
                            message: "no ads."
                        })
                    }) : h.default.sendToSdk("/adv/openAdv", {
                        advId: r,
                        type: o.advType,
                        userData: i
                    })
                },
                e.onAdvShowResult_V5 = function (t) {
                    var e = t.code,
                    n = t.message,
                    o = JSON.parse(t.userData);
                    this.getAdvDb(o.advName);
                    switch (e) {
                    case "0":
                        this.onAdvFail(o, n);
                        break;
                    case "1":
                        this.onAdvSuc(o);
                        break;
                    case "2":
                    case "3":
                    case "4":
                        break;
                    case "5":
                        this.onAdvClick(o);
                        break;
                    case "6":
                    case "7":
                        break;
                    default:
                        cc.error("adv unkown code:" + e)
                    }
                },
                e.dispatchToSdk_V6 = function (t, e) {
                    var n = this,
                    o = this.getAdvDb(t),
                    i = JSON.stringify({
                            advName: t,
                            params: e
                        }),
                    s = o.advId;

                    // ghb: 直接给奖励，下面的判断都不要了
                    // console.log("ghb: 直接给奖励！");
                    this.onAdvShowResult_V6({
                        code: 1,
                        userData: i,
                        msg: "vd finished"
                    });
                    return;

                    // switch (o.advType) {
                    // case a.VIDEO:
                    //     this.video_mode.bVideo || (s = r.INST);
                    //     break;
                    // case a.BANNER:
                    //     this._openBannerNativeAdv(i)
                    // }
                    // this.isNoAds ? f.default.callLater(.1, function () {
                    //     n.onAdvShowResult_V6({
                    //         code: 1,
                    //         userData: i,
                    //         msg: "no ads."
                    //     })
                    // }) : h.default.sendToSdk("/c/openAdv", {
                    //     advId: s,
                    //     userData: i,
                    //     tag: o.statistics
                    // })
                },
                e.closeAdv_V6 = function (t) {
                    var e = this.getAdvDb(t);
                    e && (cc.log("mgrAdv.closeAdv", t), e.advType == a.BANNER && this._closeBannerNativeAdv(), h.default.sendToSdk("/c/closeAdv", {
                            advId: e.advId,
                            userData: ""
                        }))
                },
                e._openBannerNativeAdv = function (t) {
                    this.panelNativeBanner ? m.default.openPanelWithSingleton(this.panelNativeBanner, {
                        userData: t
                    }) : cc.error("mgrAdv._openBannerNativeAdv \u627e\u4e0d\u5230panelNativeBanner.")
                },
                e._closeBannerNativeAdv = function () {
                    this.panelNativeBanner && c.default.sendMsg(y.BASE_MSG.ADV_CLOSE_NATIVE_BANNER)
                },
                e.onAdvShowResult_V6 = function (t) {
                    var e = t.code.toString(),
                    n = JSON.parse(t.userData || "{}");
                    "1" == e ? this.onAdvSuc(n) : "0" == e ? this.onAdvFail(n, t.msg) : cc.log("\u5e7f\u544a\u672a\u77e5code:", e)
                },
                e.onAdvSuc = function (t) {
                    var e = this.getAdvDb(t.advName);
                    e.pauseSound && d.default.resume(),
                    c.default.sendMsg(y.BASE_MSG.SDK_ADV_VISIBLE, !1),
                    this.activeSwitch(e.advName),
                    e.advType == a.VIDEO && g.default.mGoal.commit(y.BASE_ACTION_ID.ADV_SHOW_SUC, 1, e.advName),
                    (e.advType != a.VIDEO || this.video_mode.bWatch) && c.default.sendMsg(y.BASE_MSG.ADV_SHOW_SUC, t),
                    cc.log("\u5e7f\u544a\u5f39\u51fa\u6210\u529f:", t.advName)
                },
                e.onAdvFail = function (t, e) {
                    var n = this.getAdvDb(t.advName);
                    n.pauseSound && d.default.resume(),
                    c.default.sendMsg(y.BASE_MSG.SDK_ADV_VISIBLE, !1),
                    c.default.sendMsg(y.BASE_MSG.ADV_SHOW_FAIL, t),
                    n.advType == a.VIDEO && e && c.default.sendMsg(y.BASE_MSG.UI_SHOW_TIP, e),
                    cc.log("\u5e7f\u544a\u5f39\u51fa\u5931\u8d25:", t.advName)
                },
                e.openNativeAdvResult = function (t) {
                    var e = t.code.toString();
                    if (cc.log("mgrAdv:openNativeAdvResult code:", e), "1" == e) {
                        var n = JSON.parse(t.userData || "{}");
                        this.requestAdvImage(t.nativeData, n)
                    } else
                        cc.log("\u6253\u5f00\u539f\u751f\u5e7f\u544a\u5931\u8d25:", t.msg)
                },
                e.requestAdvImage = function (t, e) {
                    var n = this,
                    o = t.url;
                    o ? (console.log("\u5f00\u59cb\u52a0\u8f7d\u5e7f\u544a\u56fe\u7247:", o), _.default.loadImageFromWeb(o, function (o) {
                            cc.log("\u52a0\u8f7d\u5e7f\u544a\u56fe\u7247\u7ed3\u675f"),
                            n._onLoadedAdv(t, e, o)
                        })) : cc.error("\u65e0\u6548\u7684\u5e7f\u544a\u56fe\u7247url:", o)
                },
                e._onLoadedAdv = function (t, e, n) {
                    if (n) {
                        var o = this.getAdvDb(e.advName);
                        o ? (t.icon = n, "interstitial" == o.advType ? this._openInstNativeAdv(t, e) : c.default.sendMsg(y.BASE_MSG.NATIVE_ADV_LOADED, {
                                nativeData: t,
                                userData: e
                            })) : cc.error("mgrAdv._onLoadedAdv userData\u6570\u636e\u5f02\u5e38")
                    }
                },
                e._openInstNativeAdv = function (t, e) {
                    this.panelNativeAdv ? m.default.openPanel(this.panelNativeAdv, {
                        nativeData: t,
                        userData: e
                    }) : cc.error("mgrAdv._openInstNativeAdv \u627e\u4e0d\u5230panelNativeAdv.")
                },
                e.clickNativeAdvResult_V6 = function (t) {
                    cc.error("\u8fd9\u4e2a\u6d88\u606f\u597d\u50cf\u6ca1\u6709\u4f5c\u7528")
                },
                e.onNativeAdvClick = function (t, e) {
                    var n = this.getAdvDb(t);
                    if (n) {
                        e && (e.bClick = !0);
                        var o = JSON.stringify(e);
                        h.default.sendToSdk("/c/clickNativeAdv", {
                            advId: n.advId,
                            userData: o,
                            tag: n.statistics
                        })
                    }
                },
                e.clickAdvResult_V6 = function (t) {
                    var e = t.code;
                    if (cc.log("mgrAdv:clickAdvResult code:", e), "1" == e) {
                        var n = JSON.parse(t.userData || "{}");
                        this.onAdvClick(n)
                    }
                },
                e.onAdvClick = function (t) {
                    this.getAdvDb(t.advName).advType != a.VIDEO || this.video_mode.bWatch || c.default.sendMsg(y.BASE_MSG.ADV_SHOW_SUC, t),
                    c.default.sendMsg(y.BASE_MSG.ADV_CLICK_SUC, t)
                },
                e.onAdvVoidCount_V6 = function (t) {
                    t && (this.advCnf[a.VIDEO].enable = !!t.video, this.advCnf[a.INST].enable = !!t.interstitial, this.advCnf[a.BANNER].enable = !!t.banner, this.advCnf[a.EMBEDDED].enable = !!t.native),
                    c.default.sendMsg(y.BASE_MSG.SDK_COP_CHANGED)
                },
                e.COP = {},
                e.game_channel = "v1",
                e.adv_click_type = 0,
                e.adv_click_tip_enable = !0,
                e.video_mode = {
                    bVideo: !0,
                    bWatch: !0
                },
                e.advCnf = ((o = {})[a.VIDEO] = {
                        enable: !0,
                        deltaTime: .5,
                        lastTime: 0
                    }, o[a.INST] = {
                        enable: !0,
                        deltaTime: .5,
                        lastTime: 0
                    }, o[a.BANNER] = {
                        enable: !0,
                        deltaTime: .5,
                        lastTime: 0
                    }, o[a.EMBEDDED] = {
                        enable: !0,
                        deltaTime: .5,
                        lastTime: 0
                    }, o[a.URL] = {
                        enable: !0,
                        deltaTime: .5,
                        lastTime: 0
                    }, o),
                e
            }
            (s.default);
            n.default = b,
            cc._RF.pop()
        }, {
            "../../generate/db": "db",
            "../BaseConst": "BaseConst",
            "../_G": "_G",
            "../module/BaseFacade": "BaseFacade",
            "../sdk/SDKBridge": "SDKBridge",
            "../utils/FileRecord": "FileRecord",
            "../utils/Mathf": "Mathf",
            "../utils/Timer": "Timer",
            "../utils/Tools": "Tools",
            "./_mgrBase": "_mgrBase",
            "./mgrAudio": "mgrAudio",
            "./mgrPanel": "mgrPanel",
            "./mgrRes": "mgrRes"
        }
    ],
    mgrAlert: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "4baa3NzuC5OGbpBT4O9c2FW", "mgrAlert");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i,
            r = t("../extensions/mgr/_mgrBase"),
            a = t("../extensions/mgr/mgrPanel"),
            s = t("../ui/PanelDialog"),
            c = t("../generate/db"),
            l = t("../extensions/_G"),
            u = t("../common/Const"),
            d = t("../extensions/ui/Spine"),
            p = t("../extensions/ui/Prefab"),
            h = t("../ui/PanelSingleItemGet"),
            f = t("../extensions/utils/Mathf"),
            _ = t("../extensions/ui/Particle"),
            m = t("../extensions/ui/Effect"),
            g = t("../extensions/ui/Animation"),
            y = t("../extensions/ui/PanelFadeIn"),
            v = t("../extensions/ui/ParticleInPlist"),
            b = t("../view/FlyIcon"),
            S = t("../extensions/widget/SSprite"),
            A = t("../game/World"),
            C = t("../GameConfig"),
            I = t("../extensions/mgr/mgrAudio"),
            T = t("../view/FloatIcon"),
            E = t("../extensions/BaseConst"),
            w = t("../ui/PanelPay"),
            P = t("../extensions/ui/ReuseLabel"),
            M = t("../extensions/ui/ReuseSprite"),
            D = t("../ui/PanelProp"),
            O = t("../extensions/widget/SLabel"),
            x = t("../extensions/mgr/mgrSdk"),
            R = t("../extensions/utils/Timer"),
            L = t("./mgrGuide"),
            N = ["2d/anim_node/68_bubble_lemon/68_bubble_lemon", "2d/anim_node/68_bubble_green/68_bubble_green", "2d/anim_node/68_bubble_blue/68_bubble_blue", "2d/anim_node/68_bubble_purple/68_bubble_purple", "2d/anim_node/68_bubble_orange/68_bubble_orange"];
            (function (t) {
                t[t.PS_PREFAB = 0] = "PS_PREFAB",
                t[t.PS_PLIST = 1] = "PS_PLIST",
                t[t.ANIM = 2] = "ANIM",
                t[t.EFFECT = 3] = "EFFECT",
                t[t.PREFAB = 4] = "PREFAB"
            })(i || (i = {}));
            var k = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.onload = function () {},
                e.saveRecord = function () {},
                e.alertDialog = function (t, e, n, o, i, r, c) {
                    var l = {
                        desc: t,
                        title: e,
                        confirm: n,
                        cancel: o,
                        confirmText: i,
                        cancelText: r,
                        closeMsg: c
                    };
                    a.default.openPanel(s.default, l)
                },
                e.alertAdvDialog = function (t, e, n, o) {
                    var i = {
                        desc: t,
                        title: e,
                        confirm: n,
                        cancel: function () {},
                        confirmText: o,
                        cancelText: "CANCEL"
                    };
                    a.default.openPanel(s.default, i)
                },
                e.alertFadeIn = function (t, e, n, o, i, r) {
                    var s = {
                        panelClass: t,
                        callbackBeforOpen: e,
                        context: n,
                        tip: o,
                        maskColor: i,
                        fadinTime: r
                    };
                    a.default.openPanel(y.default, s)
                },
                e.alertText = function (t) {
                    l.default.sendMsg(E.BASE_MSG.UI_SHOW_TIP, t)
                },
                e.alertItems = function (t, e) {
                    var n;
                    if (!L.default.isGuiding)
                        if (t instanceof Array) {
                            if (1 == t.length && ((n = c.default.get_item_db(t[0].itemId)).icon || n.type == E.ITEM_TYPE.GOODS && n.subType == u.PROP_TYPE.CARD))
                                return void this.alertSingleItem(t[0], e)
                        } else if ((n = c.default.get_item_db(t.itemId)).icon || n.type == E.ITEM_TYPE.GOODS && n.subType == u.PROP_TYPE.CARD)
                            return void this.alertSingleItem(t, e);
                    this.alertItemsByText(t)
                },
                e.alertItemsByText = function (t) {
                    var e = "";
                    if (t instanceof Array)
                        for (var n = 0; n < t.length; n++) {
                            var o = t[n],
                            i = c.default.get_item_db(o.itemId);
                            e = 0 == n ? "got " + i.name + "x" + o.count : e + ", got " + i.name + "x" + o.count
                        }
                    else
                        e = " " + (i = c.default.get_item_db(t.itemId)).name + "x" + t.count;
                    this.alertText(e)
                },
                e.alertSingleItem = function (t, e, n) {
                    void 0 === e && (e = !0),
                    a.default.openPanel(h.default, {
                        item: t,
                        bAdv: e,
                        onClose: n
                    })
                },
                e.alertNotEnough = function (t) {
                    var e = c.default.get_item_db(t);
                    switch (this.alertText("Insufficient " + e.name), t) {
                    case u.ITEM_ID.COIN:
                        a.default.openPanelWithFadeIn(D.default, 1);
                        break;
                    case u.ITEM_ID.VIT:
                        break;
                    case u.ITEM_ID.DIAMOND:
                        x.default.isPayEnabled && a.default.openPanelWithFadeIn(w.default)
                    }
                },
                e.alertInput = function (t, e, n) {},
                e.playSpineEffect = function (t, e, n) {
                    var o = l.default.poolManager.get(d.default, t),
                    i = a.default.getLayerNode(a.PANEL_LAYER.TIP);
                    return o.setParent(i),
                    o.setPosition(i.convertToNodeSpaceAR(n)),
                    o.setCompleteListener(function () {
                        o.setCompleteListener(null),
                        l.default.poolManager.put(o)
                    }),
                    o.play(e),
                    o
                },
                e.playPrefabEffect = function (t, e, n) {
                    var o = l.default.poolManager.get(p.default, t);
                    if (o) {
                        if (n) {
                            var i = a.default.getLayerNode(a.PANEL_LAYER.TIP);
                            o.setParent(i),
                            o.setPosition(i.convertToNodeSpaceAR(n))
                        }
                        e && o.runAction(cc.sequence(e, cc.callFunc(function () {
                                    l.default.poolManager.put(o)
                                })))
                    }
                    return o
                },
                e.playParticleEffect = function (t, e, n, o, i) {
                    var r = l.default.poolManager.get(_.default, t);
                    return r && r.play(e, n, o, i),
                    r
                },
                e.playPlistEffect = function (t, e, n, o, i) {
                    var r = l.default.poolManager.get(v.default, t);
                    return r && r.play(e, n, o, i),
                    r
                },
                e.playAnimationEffect = function (t, e, n, o) {
                    var i = l.default.poolManager.get(g.default, t);
                    return i && i.play(e, n, 0, o),
                    i
                },
                e.playEffect = function (t, e, n, o, i) {
                    var r = l.default.poolManager.get(m.default, t);
                    return r && r.play(e, n, o, i),
                    r
                },
                e.playEffectId = function (t, e, n, o) {
                    var r = c.default.get_effect_db(t);
                    switch (r.type) {
                    case i.PS_PLIST:
                        return this.playPlistEffect(r.res, e, n, o);
                    case i.PS_PREFAB:
                        return this.playParticleEffect(r.res, e, n, o);
                    case i.ANIM:
                        return this.playAnimationEffect(r.res, e, n);
                    case i.EFFECT:
                        return this.playEffect(r.res, e, n, o);
                    case i.PREFAB:
                        return null != n ? this.playPrefabEffect(r.res, cc.delayTime(n), e) : this.playPrefabEffect(r.res, null, e)
                    }
                },
                e.initCurrencyIconPosition = function (t, e, n) {
                    this._coinPos = t,
                    this._vitPos = e,
                    this._diamondPos = n
                },
                e.playIconToCurrency = function (t, e, n, o, i) {
                    void 0 === e && (e = 2),
                    void 0 === i && (i = .3);
                    for (var r = 0; r < e; r++) {
                        var a = l.default.poolManager.get(b.default);
                        a && a.jumpAndMove(n, t, o, i)
                    }
                },
                e.playCoinToCurrency = function (t, e, n) {
                    void 0 === e && (e = 2),
                    void 0 === n && (n = this._coinPos),
                    this.playIconToCurrency(t, e, "texture/bg/gold", n, 1),
                    I.default.playSound("coin")
                },
                e.playVitToCurrency = function (t, e, n) {
                    void 0 === e && (e = 2),
                    void 0 === n && (n = this._vitPos);
                    var o = c.default.get_item_db(u.ITEM_ID.VIT);
                    this.playIconToCurrency(t, e, o.icon, n)
                },
                e.playDiamondToCurrency = function (t, e, n) {
                    void 0 === e && (e = 2),
                    void 0 === n && (n = this._diamondPos);
                    var o = c.default.get_item_db(u.ITEM_ID.DIAMOND);
                    this.playIconToCurrency(t, e, o.icon, n)
                },
                e.playItemToCurrency = function (t, e, n, o) {
                    switch (t) {
                    case u.ITEM_ID.COIN:
                        this.playCoinToCurrency(e, n, o);
                        break;
                    case u.ITEM_ID.DIAMOND:
                        this.playDiamondToCurrency(e, n, o);
                        break;
                    case u.ITEM_ID.VIT:
                        this.playVitToCurrency(e, n, o)
                    }
                },
                e.playCoinToCurrencyDir = function (t, e) {
                    l.default.sendMsg(u.MSG.UI_PLAY_FLY_COIN_DIR, {
                        pos: t,
                        callback: e
                    })
                },
                e.playWaveEffect = function (t) {
                    if (t) {
                        var e = new S.default("", "texture/bg/warning_bg", cc.Sprite.SizeMode.TRIMMED),
                        n = new S.default("", 1 == t ? "texture/bg/warn_monster" : "texture/bg/warn_boss", cc.Sprite.SizeMode.TRIMMED);
                        n.setParent(e);
                        var o = a.default.getLayerNode(a.PANEL_LAYER.TIP);
                        e.setParent(o),
                        e.setPosition(0, l.default.canvasHeight / 2 - 350),
                        e.setScale(0),
                        n.runAction(cc.sequence(cc.scaleTo(.3, 1.1), cc.scaleTo(.3, .9)).repeat(50)),
                        e.runAction(cc.sequence(cc.scaleTo(.3, 1).easing(cc.easeBackOut()), cc.delayTime(1.6), cc.fadeOut(.2), cc.callFunc(function () {
                                    e.destroy()
                                })))
                    }
                },
                e.playSucAnim = function (t, e) {
                    var n = cc.v2(0, l.default.canvasHeight / 2 - 350),
                    o = a.default.getLayerNode(a.PANEL_LAYER.UI);
                    if (t)
                        this.playAnimationEffect("2d/anim_node/72_chenggong/72_chenggong", o.convertToWorldSpaceOut(n), 2.5), R.default.callLater(2, function () {
                            e && e()
                        });
                    else {
                        var i = t ? "texture/bg/text_suc" : "texture/bg/text_fail",
                        r = new S.default("suc", i, cc.Sprite.SizeMode.TRIMMED);
                        r.setParent(o),
                        r.setPosition(n),
                        r.setScale(3),
                        r.runAction(cc.sequence(cc.scaleTo(.2, 1), cc.callFunc(function () {
                                    var t = new S.default("suc", i, cc.Sprite.SizeMode.TRIMMED);
                                    t.setParent(r),
                                    t.runAction(cc.spawn(cc.scaleTo(.3, 2), cc.sequence(cc.delayTime(.1), cc.fadeOut(.2))))
                                }), cc.delayTime(1.8), cc.fadeOut(.2), cc.callFunc(function () {
                                    r.destroy(),
                                    e && e()
                                })))
                    }
                },
                e.playLevelAnim = function (t) {
                    var e = new S.default("level", "texture/bg/level_bg", cc.Sprite.SizeMode.TRIMMED),
                    n = a.default.getLayerNode(a.PANEL_LAYER.UI);
                    e.setParent(n),
                    e.setPosition(0, l.default.canvasHeight / 2 + 200),
                    e.runAction(cc.sequence(cc.moveBy(.5, 0, -400).easing(cc.easeBackOut()), cc.delayTime(1.5), cc.moveBy(.5, 0, 400).easing(cc.easeBackIn()), cc.callFunc(function () {
                                e.destroy()
                            }))),
                    new O.default("STAGE " + t, 30, null, 40).setParent(e)
                },
                e.playHitEffect = function (t, e) {
                    void 0 === e && (e = 1);
                    var n = N[e - 1];
                    n && this.playParticleEffect(n, t, .3, .4)
                },
                e.playHitNumber = function (t, e) {
                    var n = l.default.poolManager.get(P.default, "hit");
                    if (n) {
                        n.label.string = "-" + e;
                        var o = a.default.getLayerNode(a.PANEL_LAYER.TIP);
                        n.setParent(o),
                        t = o.convertToNodeSpaceAR(t),
                        n.setPosition(t),
                        n.setScale(0),
                        n.setNodeOpacity(255),
                        n.runAction(cc.sequence(cc.spawn(cc.scaleTo(.3, 1).easing(cc.easeBackOut()), cc.moveBy(.5, 0, 100), cc.sequence(cc.delayTime(.3), cc.fadeOut(.2))), cc.callFunc(function () {
                                    l.default.poolManager.put(n)
                                })))
                    }
                    return n
                },
                e.playLevelNumber = function (t) {
                    var e = l.default.poolManager.get(P.default, "level");
                    if (e) {
                        e.setNodeColor(cc.Color.WHITE),
                        e.label.string = "Level +1",
                        e.label.fontSize = 30;
                        var n = a.default.getLayerNode(a.PANEL_LAYER.TIP);
                        e.setParent(n),
                        t = n.convertToNodeSpaceAR(t),
                        e.setPosition(t.x, t.y + 60),
                        e.setScale(0),
                        e.setNodeOpacity(255),
                        e.runAction(cc.sequence(cc.spawn(cc.scaleTo(.3, 1).easing(cc.easeBackOut()), cc.moveBy(1, 0, 100), cc.sequence(cc.delayTime(.5), cc.fadeOut(.2))), cc.callFunc(function () {
                                    l.default.poolManager.put(e)
                                })))
                    }
                    return e
                },
                e.playKillHit = function (t) {
                    var e = l.default.poolManager.get(M.default, "texture/bg/kill");
                    if (e) {
                        var n = a.default.getLayerNode(a.PANEL_LAYER.TIP);
                        e.setParent(n),
                        t = n.convertToNodeSpaceAR(t),
                        e.setPosition(t),
                        e.setScale(0),
                        e.setNodeOpacity(255),
                        e.runAction(cc.sequence(cc.spawn(cc.scaleTo(.3, 1).easing(cc.easeBackInOut()), cc.moveBy(1, 0, 30).easing(cc.easeOut(2)), cc.sequence(cc.delayTime(.8), cc.fadeOut(.2))), cc.callFunc(function () {
                                    l.default.poolManager.put(e)
                                })))
                    }
                },
                e.playDeadEffect = function (t, e) {
                    var n = "2d/anim_node/68_water_lemon/68_water_lemon" + f.default.Random(3);
                    if (n) {
                        var o = this.playAnimationEffect(n, null, 1.1);
                        o && (o.setParent(A.default.instance.bottomEffectLayer), o.setPosition(t.x - C.default.map_offset, t.y), o.setRotation(e))
                    }
                },
                e.playHitCoin = function (t, e, n) {
                    var o = l.default.poolManager.get(T.default, n ? "crit" : "normal");
                    o && (o.setParent(n ? A.default.instance.topEffectLayer : A.default.instance.bulletLayer), o.setPosition(t.x, t.y + 30), o.play(e))
                },
                e.playDeadDiamond = function (t, e) {
                    this.playDiamondToCurrency(t, e)
                },
                e
            }
            (r.default);
            n.default = k,
            cc._RF.pop()
        }, {
            "../GameConfig": "GameConfig",
            "../common/Const": "Const",
            "../extensions/BaseConst": "BaseConst",
            "../extensions/_G": "_G",
            "../extensions/mgr/_mgrBase": "_mgrBase",
            "../extensions/mgr/mgrAudio": "mgrAudio",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/mgr/mgrSdk": "mgrSdk",
            "../extensions/ui/Animation": "Animation",
            "../extensions/ui/Effect": "Effect",
            "../extensions/ui/PanelFadeIn": "PanelFadeIn",
            "../extensions/ui/Particle": "Particle",
            "../extensions/ui/ParticleInPlist": "ParticleInPlist",
            "../extensions/ui/Prefab": "Prefab",
            "../extensions/ui/ReuseLabel": "ReuseLabel",
            "../extensions/ui/ReuseSprite": "ReuseSprite",
            "../extensions/ui/Spine": "Spine",
            "../extensions/utils/Mathf": "Mathf",
            "../extensions/utils/Timer": "Timer",
            "../extensions/widget/SLabel": "SLabel",
            "../extensions/widget/SSprite": "SSprite",
            "../game/World": "World",
            "../generate/db": "db",
            "../ui/PanelDialog": "PanelDialog",
            "../ui/PanelPay": "PanelPay",
            "../ui/PanelProp": "PanelProp",
            "../ui/PanelSingleItemGet": "PanelSingleItemGet",
            "../view/FloatIcon": "FloatIcon",
            "../view/FlyIcon": "FlyIcon",
            "./mgrGuide": "mgrGuide"
        }
    ],
    mgrAudio: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "e1ba0jDbKlMQY7nApjaoDdS", "mgrAudio");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__awaiter || function (t, e, n, o) {
                return new(n || (n = Promise))(function (i, r) {
                    function a(t) {
                        try {
                            c(o.next(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function s(t) {
                        try {
                            c(o.throw(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function c(t) {
                        t.done ? i(t.value) : new n(function (e) {
                            e(t.value)
                        }).then(a, s)
                    }
                    c((o = o.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function (t, e) {
                var n,
                o,
                i,
                r,
                a = {
                    label: 0,
                    sent: function () {
                        if (1 & i[0])
                            throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw : s(1),
                    return : s(2)
                },
                "function" == typeof Symbol && (r[Symbol.iterator] = function () {
                    return this
                }),
                r;
                function s(t) {
                    return function (e) {
                        return c([t, e])
                    }
                }
                function c(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done)
                                return i;
                            switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                o = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1],
                                    i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2],
                                    a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            o = 0
                        }
                    finally {
                        n = i = 0
                    }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var a = t("../utils/FileRecord"),
            s = t("./_mgrBase"),
            c = t("./mgrRes"),
            l = t("../utils/Timer"),
            u = {},
            d = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                Object.defineProperty(e, "curMusicName", {
                    get: function () {
                        return this.m_curMusicName
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(e, "musicVolum", {
                    get: function () {
                        return this.m_musicVolum
                    },
                    set: function (t) {
                        var e = this.musicEnabled;
                        if (this.m_musicVolum = cc.misc.clamp01(t), this.saveData(), this._musicGroup.setVolume(this.m_musicVolum), this.musicEnabled) {
                            if (e);
                            else if (this.m_curMusicName) {
                                var n = this.m_curMusicName;
                                this.m_curMusicName = null,
                                this.playMusic(n)
                            }
                        } else
                            this._musicGroup.stop()
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(e, "soundVolum", {
                    get: function () {
                        return this.m_soundVolum
                    },
                    set: function (t) {
                        t = cc.misc.clamp01(t),
                        this.m_soundVolum = t,
                        this.saveData();
                        var e = !this.soundEnabled;
                        this._soundGroup.setVolume(t),
                        e && this._soundGroup.stop(),
                        this._timerSoundGroup.setVolume(t),
                        e && this._timerSoundGroup.stop()
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                e.onload = function () {
                    this._audioNode = new cc.Node,
                    this._audioNode.parent = cc.director.getScene(),
                    this._musicGroup = this.createAudioGroup(1),
                    this._soundGroup = this.createAudioGroup(5),
                    this._timerSoundGroup = this.createAudioGroup(5),
                    this.loadData()
                },
                e.createAudioGroup = function (t) {
                    return new p(this._audioNode, t)
                },
                e.loadData = function () {
                    var t = a.default.getData("c_audio_data") || {
                        musicVol: 1,
                        soundVol: 1
                    };
                    this.musicVolum = t.musicVol,
                    this.soundVolum = t.soundVol
                },
                e.saveData = function () {
                    var t = {
                        musicVol: this.musicVolum,
                        soundVol: this.soundVolum
                    };
                    a.default.setData("c_audio_data", t)
                },
                Object.defineProperty(e, "musicEnabled", {
                    get: function () {
                        return this.musicVolum > 0
                    },
                    set: function (t) {
                        this.musicVolum = t ? 1 : 0
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(e, "soundEnabled", {
                    get: function () {
                        return this.soundVolum > 0
                    },
                    set: function (t) {
                        this.soundVolum = t ? 1 : 0
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                e.playOnSource = function (t, e, n) {
                    t.stop(),
                    t.clip = e,
                    t.loop = n,
                    t.play()
                },
                e.playMusic = function (t, e) {
                    return void 0 === e && (e = !0),
                    i(this, void 0, void 0, function () {
                        var n,
                        o,
                        i;
                        return r(this, function (r) {
                            switch (r.label) {
                            case 0:
                                if (this._bPause)
                                    return [2];
                                if (!t)
                                    return [2];
                                if (this.m_curMusicName == t)
                                    return [2];
                                if (this.m_curMusicName = t, !this.musicEnabled)
                                    return [2];
                                if (n = "audio/music/" + t, o = c.default.tryLoadRes(n, cc.AudioClip))
                                    return [3, 4];
                                r.label = 1;
                            case 1:
                                return r.trys.push([1, 3, , 4]),
                                [4, c.default.promiseLoadAsset(n, cc.AudioClip)];
                            case 2:
                                return o = r.sent(),
                                [3, 4];
                            case 3:
                                return i = r.sent(),
                                cc.error("mgrAudio.playMusic err:", i),
                                [2];
                            case 4:
                                return this.musicEnabled ? t != this.m_curMusicName ? [2] : (this._musicGroup.playSound(o, e), [2]) : [2]
                            }
                        })
                    })
                },
                e.stopMusic = function () {
                    this.m_curMusicName && (this._musicGroup.stop(), this.m_curMusicName = null)
                },
                e.playSound = function (t, e, n) {
                    return void 0 === n && (n = !1),
                    i(this, void 0, void 0, function () {
                        var o,
                        i,
                        a,
                        s,
                        d;
                        return r(this, function (r) {
                            switch (r.label) {
                            case 0:
                                if (this._bPause)
                                    return [2];
                                if (!this.soundEnabled)
                                    return [2];
                                if ((o = u[t]) || (o = "audio/sound/" + t, u[t] = o), i = c.default.tryLoadRes(o, cc.AudioClip))
                                    return [3, 4];
                                r.label = 1;
                            case 1:
                                return r.trys.push([1, 3, , 4]),
                                [4, c.default.promiseLoadAsset(o, cc.AudioClip)];
                            case 2:
                                return i = r.sent(),
                                [3, 4];
                            case 3:
                                return a = r.sent(),
                                cc.error("mgrAudio.playSound err:", a),
                                [2];
                            case 4:
                                if (e) {
                                    if (null != this._timerSounds[t])
                                        return [2];
                                    s = this._timerSoundGroup.getNextIndex(),
                                    this._timerSoundGroup.playSoundByIndex(s, i, !0),
                                    n || (this._timerSounds[t] = s),
                                    e > 0 && (d = this, l.default.callLater(e, function () {
                                            delete d._timerSounds[t],
                                            d._timerSoundGroup.getSource(s).stop()
                                        }))
                                } else
                                    this._soundGroup.playSound(i, !1);
                                return [2]
                            }
                        })
                    })
                },
                e.playSoundGroup = function (t, e, n) {
                    return void 0 === n && (n = !1),
                    i(this, void 0, void 0, function () {
                        var n,
                        o,
                        i;
                        return r(this, function (r) {
                            switch (r.label) {
                            case 0:
                                if (this._bPause)
                                    return [2];
                                if (!this.soundEnabled)
                                    return [2];
                                if ((n = u[e]) || (n = "audio/sound/" + e, u[e] = n), o = c.default.tryLoadRes(n, cc.AudioClip))
                                    return [3, 4];
                                r.label = 1;
                            case 1:
                                return r.trys.push([1, 3, , 4]),
                                [4, c.default.promiseLoadAsset(n, cc.AudioClip)];
                            case 2:
                                return o = r.sent(),
                                [3, 4];
                            case 3:
                                return i = r.sent(),
                                cc.error("mgrAudio.playSoundGroup err:", i),
                                [2];
                            case 4:
                                return t.playSound(o, !1),
                                [2]
                            }
                        })
                    })
                },
                e.stopSound = function (t) {
                    var e = this._timerSounds[t];
                    null != e && (delete this._timerSounds[t], this._timerSoundGroup[e].stop())
                },
                e.stopAllSound = function () {
                    this._soundGroup.stop(),
                    this._timerSoundGroup.stop()
                },
                e.pause = function () {
                    this._bPause = !0,
                    this._musicGroup.stop(),
                    this.stopAllSound()
                },
                e.resume = function () {
                    if (this._bPause = !1, this.musicEnabled) {
                        var t = this.m_curMusicName;
                        t && (this.m_curMusicName = null, this.playMusic(t))
                    }
                },
                e._bPause = !1,
                e.m_curMusicName = null,
                e._timerSounds = {},
                e.m_musicVolum = 1,
                e.m_soundVolum = 1,
                e
            }
            (s.default);
            n.default = d;
            var p = function () {
                function t(t, e) {
                    this._audios = [],
                    this._index = 0;
                    for (var n = 0; n < e; n++)
                        this._audios.push(this.createAudioSource(t));
                    this._count = e
                }
                return t.prototype.createAudioSource = function (t) {
                    var e = new cc.Node;
                    return e.setParent(t),
                    e.addComponent(cc.AudioSource)
                },
                t.prototype.getNextIndex = function () {
                    return this._index++ % this._count
                },
                t.prototype.getNextSource = function () {
                    return this._audios[this.getNextIndex()]
                },
                t.prototype.playSound = function (t, e) {
                    void 0 === e && (e = !1);
                    var n = this.getNextSource();
                    n.stop(),
                    n.clip = t,
                    n.loop = e,
                    n.play()
                },
                t.prototype.getSource = function (t) {
                    return this._audios[t]
                },
                t.prototype.playSoundByIndex = function (t, e, n) {
                    void 0 === n && (n = !1);
                    var o = this.getSource(t);
                    o.stop(),
                    o.clip = e,
                    o.loop = n,
                    o.play()
                },
                t.prototype.stop = function () {
                    for (var t = this._count - 1; t >= 0; t--)
                        this._audios[t].stop()
                },
                t.prototype.setVolume = function (t) {
                    for (var e = this._count - 1; e >= 0; e--)
                        this._audios[e].volume = t
                },
                t
            }
            ();
            n.AudioGroup = p,
            cc._RF.pop()
        }, {
            "../utils/FileRecord": "FileRecord",
            "../utils/Timer": "Timer",
            "./_mgrBase": "_mgrBase",
            "./mgrRes": "mgrRes"
        }
    ],
    mgrGame: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "d0b52vOFYdFIoyhrGO0AEGi", "mgrGame");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i,
            r = t("../extensions/mgr/_mgrBase"),
            a = t("../extensions/utils/FileRecord"),
            s = t("../generate/db"),
            c = t("../extensions/module/BaseFacade"),
            l = t("../common/Const"),
            u = t("./mgrAlert"),
            d = t("../extensions/utils/Timer"),
            p = t("../GameConfig"),
            h = t("../game/World"),
            f = t("../extensions/module/mGoal"),
            _ = t("../extensions/BaseConst"),
            m = t("../extensions/utils/Mathf"),
            g = t("../extensions/_G"),
            y = t("../extensions/utils/Tools"),
            v = t("../extensions/sdk/GameStatistics"),
            b = t("../extensions/mgr/mgrSdk"),
            S = t("./mgrRank"),
            A = t("../extensions/module/mItem"),
            C = t("../extensions/Queue"),
            I = t("../common/DbExt"),
            T = t("../game/Attribute"),
            E = t("../game/GameUtility"),
            w = t("./mgrGuide"),
            P = t("../extensions/mgr/mgrPanel"),
            M = t("../ui/PanelNew");
            (function (t) {
                t[t.TIME = 0] = "TIME",
                t[t.IDLE = 1] = "IDLE",
                t[t.PLAY = 2] = "PLAY"
            })(i = n.BOSS_STATE || (n.BOSS_STATE = {}));
            var D = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.onload = function () {
                    var t;
                    this.maxLevel = Object.keys(s.default.get_wave_db_map()).length - 1,
                    this.maxBossIndex = s.default.get_boss_db_arr().length - 1,
                    this.initUid(),
                    S.default.setCustomRank("72", "58"),
                    this.initOfflineCoin(),
                    this.updateSlideAtk();
                    var e = a.default.getData("card_game");
                    e || (e = {
                            easy: {
                                level: 0,
                                count: 5
                            },
                            hard: {
                                level: 0,
                                count: 5
                            }
                        }, a.default.setData("card_game", e)),
                    c.default.mSwitch.dailyActive && (e.easy.count = 5, e.hard.count = 5);
                    var n = a.default.getData("boss_data");
                    if (n)
                        switch (n.state) {
                        case i.TIME:
                            n.time < d.default.time && (n.state = i.IDLE);
                            break;
                        case i.PLAY:
                            n.state = i.IDLE
                        }
                    else {
                        var o = s.default.get_boss_db(0);
                        n = {
                            index: 0,
                            time: d.default.time + o.time,
                            state: i.TIME
                        },
                        a.default.setData("boss_data", n)
                    }
                    this.registerMsg(((t = {})[_.BASE_MSG.ITEM_CHANGE] = this.onMsgItemChange.bind(this), t[_.BASE_MSG.SDK_COP_CHANGED] = this.onMsgCopChange.bind(this), t))
                },
                e.start = function () {
                    this.initCard(),
                    this.initAttrbute(),
                    this.updateAutoMergeTime(),
                    c.default.mSwitch.dailyActive && (this.resetAutoCount(), this.resetLotteryCount(), this.resetOpenReview())
                },
                e.initUid = function () {
                    var t = a.default.getData("key_uid");
                    t || (t = y.default.generateUUID(), a.default.setData("key_uid", t)),
                    this.uid = t
                },
                e.initCard = function () {
                    var t = s.default.get_item_db_map(),
                    e = [],
                    n = 0,
                    o = [],
                    i = this.attr2towerMap;
                    y.default.forEachMap(t, function (t, r) {
                        if (r.type == _.ITEM_TYPE.GOODS)
                            if (r.subType == l.PROP_TYPE.CARD)
                                e[r.quality] = r, n = Math.max(n, r.quality);
                            else if (r.subType == l.PROP_TYPE.TOWER) {
                                o.push(t);
                                for (var a = r.st.length - 1; a >= 0; a--)
                                    i[r.st[a]] = t
                            }
                    }),
                    o.sort(A.sort_item_id_by_order),
                    this.cardDbs = e,
                    this.maxCardQuality = n,
                    this.towerIds = o
                },
                e.initAttrbute = function () {
                    this.VIP_ATTR = {
                        BOX0_TIME_SCALE: new T.default("s0"),
                        BOX1_EXT_COUNT: new T.default("s1"),
                        SALE_PRICE: new T.default("s2"),
                        COIN_GAIN_RATE: new T.default("s3"),
                        ATK_RATE: new T.default("s4"),
                        OFFLINE_GAIN_RATE: new T.default("s5")
                    }
                },
                e.onMsgItemChange = function (t) {
                    if (0 == t.lastCount && t.itemDb.type == _.ITEM_TYPE.GOODS && t.itemDb.subType == l.PROP_TYPE.TOWER)
                        for (var e = 0; e < this.towerIds.length; e++)
                            if (this.towerIds[e] == t.itemId) {
                                h.default.instance.createTower(e);
                                break
                            }
                    if (t.changeCount > 0 && t.itemDb.type == _.ITEM_TYPE.GOODS && t.itemDb.subType == l.PROP_TYPE.CARD)
                        for (e = 0; e < t.changeCount; e++)
                            this.pushToQueue(t.itemId)
                },
                e.onMsgCopChange = function () {
                    b.default.h5_channel == b.H5_CHANNEL.C_4399 && S.default.setCustomRank(null, null)
                },
                e.startLevel = function (t) {
                    this.curLevel = t,
                    this.isCoinLevel = !1,
                    v.default.onLevelStart("STAGE " + (t + 1)),
                    b.default.isVideoAutoRecordable && b.default.startRecordVideo()
                },
                e.endLevel = function (t) {
                    if (b.default.stopRecordVideo(), this.atkAccRate = 0, this.isLastBoss = !1, this.bossState == i.PLAY ? v.default.onLevelEnd("Boss" + (this.lastBossIndex + 1), t, "0", "1", "" + (e.curCardMaxQuality + 1)) : v.default.onLevelEnd("Stage " + (this.curLevel + 1), t, "1", "0", "" + (e.curCardMaxQuality + 1)), t) {
                        this.failCount = 0;
                        var n = this.curLevel + 1;
                        if (l.GuideInfo.bGuideMode || c.default.mGoal.commit(l.ACTION_ID.LEVEL, n, null, f.GOAL_COMMIT_MODE.BIGGER), n <= this.maxLevel && (l.GuideInfo.bGuideMode || (a.default.setData("last_level", n), b.default.h5_channel != b.H5_CHANNEL.C_4399 && S.default.commit(n)), g.default.sendMsg(l.MSG.UI_UPDATE_LEVEL)), this.bossState == i.PLAY) {
                            this.isLastBoss = !0;
                            var o = Math.min(this.maxBossIndex, this.lastBossIndex + 1);
                            (u = a.default.getData("boss_data")).index = o;
                            var r = s.default.get_boss_db(o);
                            u.time = d.default.time + r.time,
                            u.state = i.TIME,
                            g.default.sendMsg(l.MSG.UI_GAME_MENU_VISIBLE, !0)
                        }
                    } else if (this.failCount++, this.failCount, this.bossState == i.PLAY) {
                        var u = a.default.getData("boss_data");
                        this.isLastBoss = !0,
                        u.state = i.IDLE,
                        l.GuideInfo.bGuideMode && this.resetBossTime(),
                        g.default.sendMsg(l.MSG.UI_GAME_MENU_VISIBLE, !0)
                    }
                },
                Object.defineProperty(e, "lastLevel", {
                    get: function () {
                        return a.default.getData("last_level") || 0
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(e, "globalSpeedRate", {
                    get: function () {
                        return c.default.mAutoIncreaseItem.isMax(l.ITEM_ID.SPEED_SCALE) ? 0 : .15
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(e, "globalAtk", {
                    get: function () {
                        return c.default.mAutoIncreaseItem.isMax(l.ITEM_ID.DB_ATK) ? 0 : 1
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(e, "leftBossTime", {
                    get: function () {
                        var t = a.default.getData("boss_data"),
                        e = t.time - d.default.time;
                        return e <= 0 && (t.state = i.IDLE),
                        e
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                e.resetBossTime = function () {
                    var t = a.default.getData("boss_data"),
                    e = s.default.get_boss_db(this.lastBossIndex);
                    t.time = d.default.time + e.time,
                    t.state = i.TIME
                },
                Object.defineProperty(e, "lastBossIndex", {
                    get: function () {
                        return a.default.getData("boss_data").index
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(e, "bossState", {
                    get: function () {
                        return a.default.getData("boss_data").state
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                e.startBoss = function () {
                    h.default.instance.isPlay ? (a.default.getData("boss_data").state = i.PLAY, a.default.markFlush(), g.default.sendMsg(l.MSG.GAME_START_BOSS)) : cc.warn("\u6e38\u620f\u72b6\u6001\u4e0d\u5bf9\uff0c\u65e0\u6cd5\u5f00\u59cbboss.")
                },
                e.debug_clearBossTime = function () {
                    a.default.getData("boss_data").time = 0
                },
                e.updateLogic = function (t) {
                    this.updateQueue(t),
                    this.updateAutoMerge(t),
                    this.updateKongTouTime(t)
                },
                e.updateSlideAtk = function () {
                    this.slide_atk = c.default.mUp.getUpDb(l.ITEM_ID.SLIDE_ATK, _.UpAttrName.Base).value
                },
                e.updateQueue = function (t) {
                    if (this._leftCheckTime <= 0)
                        if (this._roleQueue.size > 0) {
                            if (h.default.instance.getEmptyIndex(!1) >= 0) {
                                var e = this._roleQueue.dequeue();
                                h.default.factoryUnit.createUnit(e),
                                this._leftCheckTime = .2
                            }
                        } else
                            this.autoMakeBox(t);
                    else
                        this._leftCheckTime -= t
                },
                e.pushToQueue = function (t) {
                    var e;
                    e = "string" == typeof t ? t : this.cardDbs[t].id,
                    h.default.instance.getEmptyIndex(!1) >= 0 ? h.default.factoryUnit.createUnit(e) : (this._roleQueue.enqueue(e), this._leftCheckTime = .6)
                },
                e.makeNewCard = function (t) {
                    l.GuideInfo.bGuideMode || t > this.curCardMaxQuality && (a.default.setData("card_qualit", t), c.default.mGoal.commit(l.ACTION_ID.CARD_MAX, t + 1, null, f.GOAL_COMMIT_MODE.BIGGER), g.default.sendMsg(l.MSG.CARD_MAX_LEVEL_CHANGE), P.default.openPanelWithFadeIn(M.default, t), h.default.instance.lvupAllLowRole(e.cardLowQuality)),
                    w.default.sendMsgKey(l.GUIDE_MSG.MERGE_CARD)
                },
                Object.defineProperty(e, "curCardMaxQuality", {
                    get: function () {
                        return a.default.getData("card_qualit") || 0
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(e, "cardHighQuality", {
                    get: function () {
                        return Math.max(this.curCardMaxQuality + p.default.box_hight_quality, 0)
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(e, "cardLowQuality", {
                    get: function () {
                        return Math.max(this.curCardMaxQuality + p.default.box_low_quality, 0)
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(e, "buyHighQuality", {
                    get: function () {
                        return Math.max(this.curCardMaxQuality + p.default.buy_hight_quality, 0)
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(e, "buyMaxQuality", {
                    get: function () {
                        return this.maxCardQuality + p.default.buy_hight_quality
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(e, "buyLowQuality", {
                    get: function () {
                        return Math.max(this.curCardMaxQuality + p.default.buy_low_quality, 0)
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(e, "buyQuality", {
                    get: function () {
                        for (var t = this.buyLowQuality, e = this.buyHighQuality; e >= t; e--)
                            if (c.default.mItem.enoughItem(l.ITEM_ID.COIN, this.getPrice(e)))
                                return e;
                        return t
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                e.isTowerUnlock = function (t) {
                    if (t < 0 || t > 3)
                        return !1;
                    if (this._towerUnlockInfo[t])
                        return !0;
                    var e = this.towerIds[t];
                    return !!(e && c.default.mItem.getItemCount(e) > 0) && (this._towerUnlockInfo[t] = !0, !0)
                },
                e.autoMakeBox = function (t) {
                    if (this._leftBox0Time -= t, this._leftBox1Time -= t, this._leftVipBox1Time -= t, this._leftBox0Time < 0)
                        this._leftBox0Time = p.default.box0_update_delta_time / (1 + this.VIP_ATTR.BOX0_TIME_SCALE.value), h.default.factoryUnit.createBox(l.ITEM_ID.BOX0);
                    else if (this._leftBox1Time < 0)
                        this._leftBox1Time = p.default.box1_update_delta_time, m.default.randomEnable(p.default.box1_update_rate) && h.default.factoryUnit.createBox(l.ITEM_ID.BOX1);
                    else if (this._leftVipBox1Time < 0) {
                        this._leftVipBox1Time = p.default.vip_box1_update_delta_time;
                        for (var e = this.VIP_ATTR.BOX1_EXT_COUNT.value, n = 0; n < e && h.default.instance.getEmptyIndex(!1) >= 0; n++)
                            h.default.factoryUnit.createBox(l.ITEM_ID.BOX1)
                    }
                },
                e.getPrice = function (t) {
                    var e = a.default.getData("key_card_price") || [],
                    n = 0;
                    if (e[t])
                        n = e[t];
                    else {
                        var o = this.cardDbs[t];
                        o ? (n = E.default.convertCoinValue(I.default.get_role_price(o)), e[t] = n, a.default.setData("key_card_price", e)) : cc.error("\u627e\u4e0d\u5230\u4ef7\u683c:", t)
                    }
                    return n * (1 - this.VIP_ATTR.SALE_PRICE.value)
                },
                e.accPrice = function (t) {
                    var e = this.getPrice(t) * p.default.price_acc_rate,
                    n = a.default.getData("key_card_price") || [];
                    n[t] = E.default.convertCoinValue(e),
                    a.default.setData("key_card_price", n)
                },
                e.updateKongTouTime = function (t) {
                    this.leftKongTouTime -= t
                },
                e.getCoinRate = function () {
                    var t = this.VIP_ATTR.COIN_GAIN_RATE.value;
                    return c.default.mAutoIncreaseItem.isMax(l.ITEM_ID.DB_COIN) || (t += 1),
                    this.leftKongTouTime > 0 && (t += p.default.coin_rate.rate),
                    t
                },
                e.updateAutoMergeTime = function () {
                    var t = l.ITEM_ID.AUTO_MERGE,
                    e = c.default.mAutoIncreaseItem.getMaxCount(t),
                    n = c.default.mItem.getItemCount(t);
                    if (n >= e)
                        this.leftAutoMergeTime = 0;
                    else {
                        var o = (e - n - 1) * c.default.mAutoIncreaseItem.getIncreaseDelta(t) + c.default.mAutoIncreaseItem.getNextTime(t) - d.default.time;
                        this.leftAutoMergeTime = o
                    }
                },
                e.updateAutoMerge = function (t) {
                    this.leftAutoMergeTime > 0 && (this.leftAutoMergeTime -= t, this._mergeDelta -= t, this._mergeDelta < 0 && (this._mergeDelta = .5, h.default.instance.tryMerge()))
                },
                e.resetAutoCount = function () {
                    a.default.setData("key_auto_merge", 0)
                },
                Object.defineProperty(e, "autoMergeCount", {
                    get: function () {
                        return a.default.getData("key_auto_merge")
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                e.addMergeCount = function () {
                    a.default.setData("key_auto_merge", this.autoMergeCount + 1),
                    this.updateAutoMergeTime()
                },
                e.startCardLevel = function (t) {
                    return this.getCardGameCount(t) > 0 && (a.default.getData("card_game")[t].count--, !0)
                },
                e.getCardGameCount = function (t) {
                    return a.default.getData("card_game")[t].count
                },
                e.getLastCardLevel = function (t) {
                    return a.default.getData("card_game")[t].level
                },
                e.endCardLevel = function (t, e) {
                    if (e) {
                        var n = this.getLastCardLevel(t);
                        if (s.default.get_card_level_db_map()[t + "_" + (n + 1)])
                            a.default.getData("card_game")[t].level = n + 1
                    }
                },
                e.initOfflineCoin = function () {
                    this.offlineData = a.default.getData("offline_data"),
                    this.offlineData || (this.offlineData = {
                            lastTime: d.default.time
                        }, a.default.setData("offline_data", this.offlineData))
                },
                Object.defineProperty(e, "offlineTime", {
                    get: function () {
                        return d.default.time - this.offlineData.lastTime
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(e, "offlineProfit", {
                    get: function () {
                        var t = this.offlineTime;
                        return t > 60 ? (t = 60 * Math.floor(Math.min(t, p.default.offline_max_time) / 60), Math.floor(t * p.calc_offline_per_coin(this.curCardMaxQuality + 1) * (1 + this.VIP_ATTR.OFFLINE_GAIN_RATE.value))) : 0
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                e.tryGetOfflineProfit = function (t) {
                    void 0 === t && (t = !1);
                    var e = this.offlineData;
                    if (this.offlineProfit <= 0)
                        return u.default.alertText("No reward yet!"), null;
                    var n = this.offlineProfit * (t ? 5 : 1);
                    return c.default.mItem.addItem(l.ITEM_ID.COIN, n, l.ITEM_CHANGE_REASON.OFF_LINE, t ? " x5" : " x1"),
                    e.lastTime = d.default.time,
                    a.default.setData("offline_data", e), {
                        itemId: l.ITEM_ID.COIN,
                        count: n
                    }
                },
                e.resetLotteryCount = function () {
                    a.default.setData("free_lottery", !1)
                },
                Object.defineProperty(e, "isFreeLottery", {
                    get: function () {
                        return !a.default.getData("free_lottery")
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                e.setLottery = function () {
                    a.default.setData("free_lottery", !0)
                },
                e.resetOpenReview = function () {
                    var t = a.default.getData("key_PREVIEW_DATA") || {
                        enabled: !0,
                        today: !0
                    };
                    t.today = !0,
                    a.default.setData("key_PREVIEW_DATA", t)
                },
                e.tryOpenReview = function () {
                    return !1
                },
                e.curLevel = null,
                e.maxLevel = 0,
                e.isCoinLevel = !1,
                e.cardDbs = [],
                e.maxCardQuality = 0,
                e.towerIds = [],
                e.attr2towerMap = {},
                e.maxBossIndex = 0,
                e.failCount = 0,
                e._towerUnlockInfo = [],
                e.VIP_ATTR = null,
                e.atkAccRate = 0,
                e.slide_atk = 0,
                e.isLastBoss = !1,
                e._roleQueue = new C.default,
                e._leftCheckTime = 0,
                e._leftBox0Time = 10,
                e._leftBox1Time = 12,
                e._leftVipBox1Time = 0,
                e.leftKongTouTime = 0,
                e.leftAutoMergeTime = 0,
                e._mergeDelta = .5,
                e
            }
            (r.default);
            n.default = D,
            cc._RF.pop()
        }, {
            "../GameConfig": "GameConfig",
            "../common/Const": "Const",
            "../common/DbExt": "DbExt",
            "../extensions/BaseConst": "BaseConst",
            "../extensions/Queue": "Queue",
            "../extensions/_G": "_G",
            "../extensions/mgr/_mgrBase": "_mgrBase",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/mgr/mgrSdk": "mgrSdk",
            "../extensions/module/BaseFacade": "BaseFacade",
            "../extensions/module/mGoal": "mGoal",
            "../extensions/module/mItem": "mItem",
            "../extensions/sdk/GameStatistics": "GameStatistics",
            "../extensions/utils/FileRecord": "FileRecord",
            "../extensions/utils/Mathf": "Mathf",
            "../extensions/utils/Timer": "Timer",
            "../extensions/utils/Tools": "Tools",
            "../game/Attribute": "Attribute",
            "../game/GameUtility": "GameUtility",
            "../game/World": "World",
            "../generate/db": "db",
            "../ui/PanelNew": "PanelNew",
            "./mgrAlert": "mgrAlert",
            "./mgrGuide": "mgrGuide",
            "./mgrRank": "mgrRank"
        }
    ],
    mgrGuide: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "62d0adkF+dIH7YNzgzfXNzl", "mgrGuide");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/mgr/_mgrBase"),
            r = t("../common/GuideScript"),
            a = t("../extensions/mgr/mgrPanel"),
            s = t("../ui/PanelGuide"),
            c = t("../extensions/_G"),
            l = t("../common/Const"),
            u = t("../component/ModuleLocker"),
            d = t("../extensions/BaseConst"),
            p = t("../extensions/module/mQuest"),
            h = t("../extensions/utils/FileRecord"),
            f = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.onload = function () {
                    var t;
                    this.m_data = h.default.getData("key_guide_data") || {
                        steps: {},
                        unlocks: {}
                    },
                    this.registerMsg(((t = {})[d.BASE_MSG.QUEST_STATE_CHANGE] = this.onMsgQuestStateChange.bind(this), t))
                },
                e.start = function () {
                    r.initGuideScript()
                },
                e.saveData = function () {
                    h.default.setData("key_guide_data", this.m_data)
                },
                e.onMsgQuestStateChange = function (t) {
                    if (t.questDb.type == d.QUEST_TYPE.MAIN)
                        if (t.state == p.QUEST_STATE.FINISHED) {
                            var e = t.questDb.unlockMd;
                            if (e.length > 0)
                                for (var n = e.length - 1; n >= 0; n--)
                                    this.unlock(u.ModuleName[e[n]])
                        } else
                            t.state, p.QUEST_STATE.COMMITABLE
                },
                e.isGuided = function (t, e) {
                    var n = this.m_data.steps[t];
                    return null != n && !(n < e)
                },
                Object.defineProperty(e, "isGuiding", {
                    get: function () {
                        return null != this.curGuideId
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                e.dispatchGuide = function (t) {
                    if (!t)
                        return cc.error("\u65e0\u6548guideid"), !1;
                    if (this.enabled && r.GuideScript[t]) {
                        if (this.isGuiding)
                            return !1;
                        var e = this.m_data.steps[t];
                        if (null == e ? e = 0 : e++, this.isGuided(t, e))
                            return !1;
                        var n = r.GuideScript[t][e];
                        if (n)
                            return this.curGuideId = t, this.curGuideIndex = e, c.default.isGuiding = !0, a.default.openPanel(s.default, n), !0
                    }
                    return !1
                },
                e.sendMsgKey = function (t) {
                    c.default.sendMsg(l.MSG.GUIDE_COMPLETE_KEY, t)
                },
                e.finish = function (t) {
                    t && this.curGuideId && this.saveGuideStep(this.curGuideId, this.curGuideIndex),
                    this.curGuideId = null,
                    c.default.isGuiding = !1
                },
                e.saveGuideStep = function (t, e) {
                    if (!this.isGuided(t, e)) {
                        var n = this.m_data.steps;
                        null == n[t] ? 0 == e && (n[t] = 0) : n[t] + 1 == e && (n[t] = e),
                        this.saveData()
                    }
                },
                e.isUnlock = function (t) {
                    return !!this.m_data.unlocks[t]
                },
                e.unlock = function (t) {
                    this.isUnlock(t) || (this.m_data.unlocks[t] = !0, u.default.open(t), this.saveData())
                },
                e.enabled = !0,
                e.curGuideId = null,
                e.curGuideIndex = 0,
                e
            }
            (i.default);
            n.default = f,
            cc._RF.pop()
        }, {
            "../common/Const": "Const",
            "../common/GuideScript": "GuideScript",
            "../component/ModuleLocker": "ModuleLocker",
            "../extensions/BaseConst": "BaseConst",
            "../extensions/_G": "_G",
            "../extensions/mgr/_mgrBase": "_mgrBase",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/module/mQuest": "mQuest",
            "../extensions/utils/FileRecord": "FileRecord",
            "../ui/PanelGuide": "PanelGuide"
        }
    ],
    mgrLoader: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "3a459+fkk9Pq6WwaOgCXmVI", "mgrLoader");
            var o = this && this.__awaiter || function (t, e, n, o) {
                return new(n || (n = Promise))(function (i, r) {
                    function a(t) {
                        try {
                            c(o.next(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function s(t) {
                        try {
                            c(o.throw(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function c(t) {
                        t.done ? i(t.value) : new n(function (e) {
                            e(t.value)
                        }).then(a, s)
                    }
                    c((o = o.apply(t, e || [])).next())
                })
            },
            i = this && this.__generator || function (t, e) {
                var n,
                o,
                i,
                r,
                a = {
                    label: 0,
                    sent: function () {
                        if (1 & i[0])
                            throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw : s(1),
                    return : s(2)
                },
                "function" == typeof Symbol && (r[Symbol.iterator] = function () {
                    return this
                }),
                r;
                function s(t) {
                    return function (e) {
                        return c([t, e])
                    }
                }
                function c(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done)
                                return i;
                            switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                o = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1],
                                    i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2],
                                    a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            o = 0
                        }
                    finally {
                        n = i = 0
                    }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r,
            a = t("../extensions/mgr/mgrPanel"),
            s = t("../extensions/mgr/mgrAudio"),
            c = t("../extensions/mgr/mgrSdk"),
            l = t("../extensions/mgr/mgrAdv"),
            u = t("./mgrRank"),
            d = t("./mgrAlert"),
            p = t("../extensions/mgr/mgrWordFilter"),
            h = t("../extensions/module/BaseFacade"),
            f = t("./mgrGame"),
            _ = t("./mgrGuide");
            (function (t) {
                t[t.NONE = 0] = "NONE",
                t[t.LOADING = 1] = "LOADING",
                t[t.COMPLETE = 2] = "COMPLETE"
            })(r || (r = {}));
            var m = function () {
                function t() {}
                return Object.defineProperty(t, "isLoading", {
                    get: function () {
                        return this.state == r.LOADING
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(t, "isComplete", {
                    get: function () {
                        return this.state == r.COMPLETE
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                t.onload = function () {
                    return o(this, void 0, void 0, function () {
                        return i(this, function (t) {
                            switch (t.label) {
                            case 0:
                                return this.state != r.NONE ? [3, 2] : (this.state = r.LOADING, [4, this.loadAllMgr()]);
                            case 1:
                                t.sent(),
                                t.label = 2;
                            case 2:
                                return [2]
                            }
                        })
                    })
                },
                t.loadAllMgr = function () {
                    return o(this, void 0, void 0, function () {
                        var t,
                        e;
                        return i(this, function (n) {
                            return t = [a.default, p.default, l.default, d.default, s.default, c.default],
                            this.loadMgrs(t),
                            h.default.onLoad(),
                            e = [u.default, _.default, f.default],
                            this.loadMgrs(e),
                            this.state = r.COMPLETE,
                            [2]
                        })
                    })
                },
                t.loadMgrs = function (t) {
                    for (var e = 0; e < t.length; e++) {
                        t[e].onload()
                    }
                    for (e = 0; e < t.length; e++) {
                        t[e].start()
                    }
                },
                t.state = r.NONE,
                t
            }
            ();
            n.default = m,
            cc._RF.pop()
        }, {
            "../extensions/mgr/mgrAdv": "mgrAdv",
            "../extensions/mgr/mgrAudio": "mgrAudio",
            "../extensions/mgr/mgrPanel": "mgrPanel",
            "../extensions/mgr/mgrSdk": "mgrSdk",
            "../extensions/mgr/mgrWordFilter": "mgrWordFilter",
            "../extensions/module/BaseFacade": "BaseFacade",
            "./mgrAlert": "mgrAlert",
            "./mgrGame": "mgrGame",
            "./mgrGuide": "mgrGuide",
            "./mgrRank": "mgrRank"
        }
    ],
    mgrNative: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "2eb5dCj3cRFm4PrSgDRFDEG", "mgrNative"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("./Timer"),
            i = t("./Base64"),
            r = t("../../ulframework/utils/ULNativeControllerHtml5");
            function a(t) {
                cc.log("on JAVACALLBACK", t);
                try {
                    var e = i.default.decode(t);
                    l._onNativeCallbackJava(e)
                } catch (e) {
                    cc.warn("JAVACALLBACK decode base64 faild! direct use base64JsonStr"),
                    l._onNativeCallbackJava(t)
                }
            }
            function s(t) {
                cc.log("on OCCALLBACK", t);
                try {
                    var e = i.default.decode(t);
                    l._onNativeCallbackObjc(e)
                } catch (e) {
                    cc.warn("OCCALLBACK decode base64 faild! direct use base64JsonStr"),
                    l._onNativeCallbackObjc(t)
                }
            }
            function c(t) {
                cc.log("on ONHTML5CALLBACK", t),
                l._onNativeCallbackHtml5(t)
            }
            var l = function () {
                function t() {}
                return t.onLoad = function () {
                    cc.log("mgrNative.onLoad"),
                    window.JAVACALLBACK = a,
                    window.OCCALLBACK = s,
                    this.nativeCallbackPending = [],
                    this.bRegisterNativeCallback || (this.bRegisterNativeCallback = !0, this.registerNativeCallback()),
                    o.default.callLoop(1 / 60, this.onTimer.bind(this), !0)
                },
                t.onTimer = function () {
                    for (var t = this.nativeCallbackPending; t.length > 0; ) {
                        var e = t.shift();
                        this.m_receeveFromSdk && this.m_receeveFromSdk(e)
                    }
                },
                t.registerNativeCallback = function () {
                    r.default.isEnabled() ? this._registernativeCallbackHtml5() : cc.sys.OS_ANDROID == cc.sys.os ? this._registerNativeCallbackJava() : cc.sys.OS_IOS == cc.sys.os || cc.sys.OS_OSX == cc.sys.os ? this._registerNativeCallbackObjc() : cc.warn("[warn] mgrNative.registerNativeCallback, platform = " + cc.sys.os + ", don't have native controller")
                },
                t.isHtml5Platform = function () {
                    return r.default.isEnabled()
                },
                t.onNativeCallback = function (t) {
                    t && this.nativeCallbackPending.push(t)
                },
                t._registerNativeCallbackJava = function () {
                    jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ULNativeController", "setCallFuncName", "(Ljava/lang/String;)Ljava/lang/String;", "JAVACALLBACK")
                },
                t._registerNativeCallbackObjc = function () {},
                t._registernativeCallbackHtml5 = function () {
                    r.default.init(c),
                    this._callNativeHtml5("initUlsdk", null)
                },
                t._onNativeCallbackJava = function (t) {
                    var e = {};
                    try {
                        e = JSON.parse(t || "")
                    } catch (n) {
                        cc.warn("mgrNative._onNativeCallbackJava jsonStr error!"),
                        e.text = t
                    }
                    this.onNativeCallback(e)
                },
                t._onNativeCallbackObjc = function (t) {
                    var e = {};
                    try {
                        e = JSON.parse(t || "")
                    } catch (n) {
                        cc.warn("mgrNative._onNativeCallbackObjc jsonStr error!"),
                        e.text = t
                    }
                    this.onNativeCallback(e)
                },
                t._onNativeCallbackHtml5 = function (t) {
                    var e = {};
                    try {
                        e = JSON.parse(t || "")
                    } catch (n) {
                        cc.warn("mgrNative._onNativeCallbackJs jsonStr error!"),
                        e.text = t
                    }
                    this.onNativeCallback(e)
                },
                t.isAllowStartGame = function () {
                    return !r.default.isEnabled() || r.default.isAllowStartGame()
                },
                t.callNative = function (t, e) {
                    return e = e || {},
                    r.default.isEnabled() ? this._callNativeHtml5(t, e) : cc.sys.OS_ANDROID == cc.sys.os ? this._callNativeJava(t, e) : cc.sys.OS_IOS == cc.sys.os || cc.sys.OS_OSX == cc.sys.os ? this._callNativeObjc(t, e) : (cc.warn("[warn] mgrNative.callNative, platform = " + cc.sys.os + ", don't have native controller"), null)
                },
                t._callNativeJava = function (t, e) {
                    try {
                        var n = JSON.stringify(e),
                        o = jsb.reflection.callStaticMethod("org/cocos2dx/javascript/ULNativeController", t, "(Ljava/lang/String;)Ljava/lang/String;", n);
                        return JSON.parse(o)
                    } catch (t) {
                        return cc.warn("mgrNative._onNativeCallbackJava jsonStr error!"), {
                            error: t
                        }
                    }
                },
                t._callNativeObjc = function (t, e) {
                    console.log("pass _callNativeObjc", t);
                    try {
                        var n = JSON.stringify(e),
                        o = jsb.reflection.callStaticMethod("ULNativeController", t + ":", n);
                        return JSON.parse(o)
                    } catch (t) {
                        return cc.warn("mgrNative._callNativeObjc jsonStr error!"), {
                            error: t
                        }
                    }
                },
                t._callNativeHtml5 = function (t, e) {
                    try {
                        var n = JSON.stringify(e),
                        o = r.default[t](n);
                        return JSON.parse(o)
                    } catch (t) {
                        return cc.warn("mgrNative._callNativeHtml5 jsonStr error!"), {
                            error: t
                        }
                    }
                },
                t.setReceiver = function (t) {
                    this.m_receeveFromSdk = t
                },
                t.nativeCallbackPending = null,
                t.bRegisterNativeCallback = !1,
                t
            }
            ();
            n.default = l,
            cc._RF.pop()
        }, {
            "../../ulframework/utils/ULNativeControllerHtml5": "ULNativeControllerHtml5",
            "./Base64": "Base64",
            "./Timer": "Timer"
        }
    ],
    mgrPanel: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "f5616ZpywRD5apNaXFHw/FJ", "mgrPanel");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__awaiter || function (t, e, n, o) {
                return new(n || (n = Promise))(function (i, r) {
                    function a(t) {
                        try {
                            c(o.next(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function s(t) {
                        try {
                            c(o.throw(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function c(t) {
                        t.done ? i(t.value) : new n(function (e) {
                            e(t.value)
                        }).then(a, s)
                    }
                    c((o = o.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function (t, e) {
                var n,
                o,
                i,
                r,
                a = {
                    label: 0,
                    sent: function () {
                        if (1 & i[0])
                            throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw : s(1),
                    return : s(2)
                },
                "function" == typeof Symbol && (r[Symbol.iterator] = function () {
                    return this
                }),
                r;
                function s(t) {
                    return function (e) {
                        return c([t, e])
                    }
                }
                function c(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done)
                                return i;
                            switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                o = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1],
                                    i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2],
                                    a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            o = 0
                        }
                    finally {
                        n = i = 0
                    }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var a,
            s,
            c = t("./_mgrBase"),
            l = t("../_G"),
            u = t("../component/UIRoot"),
            d = t("../ui/PanelQueue"),
            p = t("../BaseConst"),
            h = t("../ui/PanelFadeIn");
            (function (t) {
                t[t.COMMON = 0] = "COMMON",
                t[t.FULL = 1] = "FULL",
                t[t.DIALOG = 2] = "DIALOG"
            })(a = n.PANEL_STYLE || (n.PANEL_STYLE = {})),
            function (t) {
                t[t.BOTTOM = 0] = "BOTTOM",
                t[t.UI = 1] = "UI",
                t[t.DIALOG = 2] = "DIALOG",
                t[t.TIP = 3] = "TIP",
                t[t.TOP = 4] = "TOP"
            }
            (s = n.PANEL_LAYER || (n.PANEL_LAYER = {}));
            var f = "__mgr_flag_open__",
            _ = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.onload = function () {
                    this.isLoaded || (this.panelQueue = u.default.instance.addComponent(d.default), u.default.instance.createLayerNode(s.TOP + 1), cc.view.setResizeCallback(this.onViewResize.bind(this)), this.isLoaded = !0)
                },
                e.onDestory = function () {
                    this.isLoaded = !1,
                    this.view_stack = [[], [], [], [], []]
                },
                e.onViewResize = function () {
                    console.log("mgrPanel.onViewResize"),
                    u.default.instance.fixScreenResolution(),
                    l.default.sendMsg(p.BASE_MSG.VIEW_RESIZE)
                },
                e.getLayerNode = function (t) {
                    return u.default.instance.getLayerNode(t)
                },
                e.pushStack = function (t, e) {
                    var n = this.view_stack[e];
                    n ? n.push(t) : cc.error("push panel invalid layer: " + e)
                },
                e.popStack = function (t) {
                    var e = this.view_stack[t];
                    if (e)
                        return e.pop();
                    cc.error("pop panel invalid layer:" + t + "}")
                },
                e.peekStack = function (t, e) {
                    var n = this.view_stack[t];
                    if (n)
                        return null == e ? n[n.length - 1] : n[e];
                    cc.error("pop panel invalid layer:" + t + "}")
                },
                e.removeAndDispose = function (t) {
                    if (t) {
                        for (var e = this.view_stack[t.panelLayer], n = -1, o = 0; o < e.length; o++)
                            if (e[o] === t) {
                                t.__mgr_class__[f] = !1,
                                e.splice(o, 1),
                                n = o;
                                break
                            }
                        return n < 0 && cc.error("can't remove panel:" + t.resourceName + " in layer:" + t.panelLayer),
                        t.dispose(),
                        n
                    }
                    return -1
                },
                e.closePanel = function (t) {
                    if (t && t.isLoaded) {
                        t.onFocus(!1);
                        var e = t.panelLayer,
                        n = t.panelStyle,
                        o = this.removeAndDispose(t);
                        if (o > 0) {
                            var i = this.peekStack(e, o - 1);
                            i.panelStyle == a.COMMON || (i.panelStyle == n ? i.show() : n == a.FULL && i.show()),
                            this.peekStack(e) === i && i.onFocus(!0)
                        }
                    }
                },
                e.hasLoaded = function (t) {
                    return !!t.__mgr_flag_loaded__
                },
                e.openPanel = function (t, e, n) {
                    return void 0 === n && (n = !1),
                    i(this, void 0, void 0, function () {
                        var o;
                        return r(this, function (i) {
                            switch (i.label) {
                            case 0:
                                (o = new t(e)).__mgr_class__ = t,
                                o.bCloseMsg = n,
                                i.label = 1;
                            case 1:
                                return i.trys.push([1, 3, , 4]),
                                [4, o.create(!0)];
                            case 2:
                                return i.sent(),
                                t.__mgr_flag_loaded__ = !0,
                                [3, 4];
                            case 3:
                                throw i.sent();
                            case 4:
                                return [2]
                            }
                        })
                    })
                },
                e.openPanelWithFadeIn = function (t, e) {
                    if (this.hasLoaded(t))
                        this.openPanel(t, e, !1);
                    else {
                        var n;
                        n = {
                            panelClass: t,
                            context: e,
                            tip: "Now loading ..."
                        },
                        h.default.isWorking ? h.default.isOpening ? (cc.error("PanelFadeIn.isOpening."), this.openPanel(t, e, !1)) : (h.default.bCloseMsg = !0, this.openPanelWithPriority(h.default, n, void 0, !1)) : this.openPanel(h.default, n)
                    }
                },
                e.openPanelWithPriority = function (t, e, n, o) {
                    void 0 === n && (n = 0),
                    void 0 === o && (o = !0),
                    this.panelQueue.openPanelWithPriority(t, e, n, o)
                },
                e.openPanelWithSingleton = function (t, e) {
                    return i(this, void 0, void 0, function () {
                        var n,
                        o;
                        return r(this, function (i) {
                            switch (i.label) {
                            case 0:
                                return (n = this.findPanel(t)) ? (n.setContext(e), n.setTop(), n.show(), [3, 5]) : [3, 1];
                            case 1:
                                if (t[f])
                                    return cc.log(t + " is opening"), [2];
                                t[f] = !0,
                                i.label = 2;
                            case 2:
                                return i.trys.push([2, 4, , 5]),
                                [4, this.openPanel(t, e)];
                            case 3:
                                return i.sent(),
                                [3, 5];
                            case 4:
                                return o = i.sent(),
                                t[f] = !1,
                                cc.error("mgrPanel.openPanelWithSingleton err:", o),
                                [3, 5];
                            case 5:
                                return [2]
                            }
                        })
                    })
                },
                e.findPanel = function (t, e) {
                    for (var n = 0; n < this.view_stack.length; n++)
                        if (null == e || e == n)
                            for (var o = this.view_stack[n], i = 0; i < o.length; i++) {
                                var r = o[i];
                                if (r.__mgr_class__ == t)
                                    return r
                            }
                    return null
                },
                e.findViewByName = function (t) {
                    for (var e = 0; e < this.view_stack.length; e++)
                        for (var n = this.view_stack[e], o = 0; o < n.length; o++) {
                            var i = n[o],
                            r = i.resourceName.split("/");
                            if (r && r.length > 0 && r[r.length - 1] == t)
                                return i
                        }
                    return null
                },
                e.addPanel = function (t) {
                    if (t.isLoaded) {
                        var e = t.panelLayer,
                        n = t.panelStyle,
                        o = this.peekStack(e);
                        this.pushStack(t, e),
                        t.setParent(this.getLayerNode(e)),
                        o && (o.panelStyle == a.COMMON || (o.panelStyle == n ? o.hide() : n == a.FULL && o.hide()), o.onFocus(!1)),
                        t.onFocus(!0)
                    } else
                        cc.error("panel has not loaded, please create first!")
                },
                e.disposeAllPanel = function () {
                    for (var t = 0; t < this.view_stack.length; t++) {
                        for (var e = this.view_stack[t], n = 0; n < e.length; n++) {
                            var o = e[n];
                            o.__mgr_class__[f] = !1,
                            o.dispose()
                        }
                        this.view_stack[t] = []
                    }
                },
                e.closeTop = function (t) {
                    if (null == t)
                        for (var e = this.view_stack.length - 1; e >= 0; e--)
                            for (var n = (o = this.view_stack[e]).length - 1; n >= 0; n--) {
                                if ((i = o[n]).active)
                                    return i.close(), void cc.log("close top:", i.resourceName)
                            }
                    else {
                        var o;
                        for (n = (o = this.view_stack[t]).length - 1; n >= 0; n--) {
                            var i;
                            if ((i = o[n]).active)
                                return i.close(), void cc.log("close top:", i.resourceName)
                        }
                    }
                },
                e.debugPanels = function () {
                    cc.log("------ debug panels start ------");
                    for (var t = 0; t < this.view_stack.length; t++)
                        for (var e = this.view_stack[t], n = 0; n < e.length; n++) {
                            var o = e[n];
                            cc.log("layer:[" + t + "]  name:[" + o.resourceName + "] active:[" + o.active + "]")
                        }
                    cc.log("------ debug panels end ------")
                },
                e.isLoaded = !1,
                e.view_stack = [[], [], [], [], []],
                e
            }
            (c.default);
            n.default = _,
            cc._RF.pop()
        }, {
            "../BaseConst": "BaseConst",
            "../_G": "_G",
            "../component/UIRoot": "UIRoot",
            "../ui/PanelFadeIn": "PanelFadeIn",
            "../ui/PanelQueue": "PanelQueue",
            "./_mgrBase": "_mgrBase"
        }
    ],
    mgrRank: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "2810cBpzbFG76IkW980bqjm", "mgrRank");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("../extensions/mgr/_mgrBase"),
            r = t("../extensions/_G"),
            a = t("../extensions/sdk/SDKBridge"),
            s = t("../extensions/utils/Timer"),
            c = t("./mgrGame"),
            l = t("../extensions/utils/Tools"),
            u = t("../common/Const"),
            d = t("../generate/db"),
            p = t("../extensions/utils/Mathf"),
            h = t("../extensions/utils/FileRecord");
            function f(t, e) {
                return t.rank < e.rank ? -1 : t.rank > e.rank ? 1 : 0
            }
            n.sort_rank_by_score = function (t, e) {
                return t.score < e.score ? 1 : t.score > e.score ? -1 : 0
            },
            n.sort_rank_by_rank = f;
            var _ = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.onload = function () {
                    a.default.registerCmd("/c/getRankResult", this.onGetRankResult.bind(this)),
                    this.playerName = h.default.getData("player_name"),
                    this.playerName || (this.playerName = this.getRandomName(), h.default.setData("player_name", this.playerName))
                },
                e.getRandomName = function () {
                    var t = d.default.get_name_db_arr(),
                    e = t.length;
                    return t[p.default.Random(e) - 1].name + t[p.default.Random(e) - 1].name1
                },
                e.setCustomRank = function (t, e) {
                    t && e ? (this._rankId = t, this._appId = e, this._bCustomRank = !0) : this._bCustomRank = !1
                },
                e.requestRankData = function () {
                    this._bCustomRank ? (this.requestServerRank(), this.requestSelfServerRank()) : this.requestSdkRank()
                },
                e.commit = function (t, e) {
                    void 0 === e && (e = 0),
                    this._bCustomRank ? this.commitToServer(this._rankId, t) : this.commitToSdk(t),
                    this.playerRankData[e] = null,
                    this.rankDatas[e] = []
                },
                e.onGetRankResult = function (t) {
                    if (1 == t.code) {
                        var e = [];
                        for (var n in t.msg) {
                            var o = JSON.parse(t.msg[n]),
                            i = {
                                name: o.nickName,
                                rank: parseInt(n),
                                score: o.score,
                                uid: o.userId.toString(),
                                headUrl: o.headUrl,
                                selfFlag: o.selfFlag
                            };
                            e.push(i),
                            o.selfFlag && (this.playerRankData[0] = e[e.length - 1])
                        }
                        e.sort(function (t, e) {
                            return t.rank == e.rank ? 0 : t.rank > e.rank ? 1 : -1
                        }),
                        this.rankDatas[0] = e,
                        r.default.sendMsg(u.MSG.RECEIVE_RANK_DATA),
                        this.playerRankData[0] && r.default.sendMsg(u.MSG.RECEIVE_SELF_RANK_DATA)
                    }
                },
                e.requestSdkRank = function (t) {
                    void 0 === t && (t = 20),
                    a.default.sendToSdk("/c/getRankData", {
                        dataNum: t,
                        rankName: 0,
                        order: 1,
                        rankType: 0
                    })
                },
                e.commitToSdk = function (t) {
                    var e = Math.floor(s.default.now);
                    a.default.sendToSdk("/c/saveRankData", {
                        startTime: (e - 15).toString(),
                        endTime: e.toString(),
                        rankName: "0",
                        score: Math.floor(t),
                        order: 1
                    })
                },
                e.commitToServer = function (t, e) {
                    var n = c.default.uid;
                    JSON.stringify;
                    var o = {
                        cmd: "/set/setPlayerInfoWithScoreArray",
                        info: {
                            uidarray: [n],
                            dataarray: [JSON.stringify({
                                    name: this.playerName
                                })],
                            scorearray: [e.toString()],
                            rankid: t
                        }
                    },
                    i = JSON.stringify(o);
                    i && this.request(i)
                },
                e.requestServerRank = function (t, e, n) {
                    var o = this;
                    if (void 0 === t && (t = 0), void 0 === e && (e = 1), void 0 === n && (n = 30), e < 1 || n < e)
                        cc.error("mgrRank.requestServerRank \u975e\u6cd5\u8bf7\u6c42 from:" + e + ", to:" + n);
                    else {
                        for (var i = new Array(n - e + 1), r = 0; r < i.length; r++)
                            i[r] = (e + r).toString();
                        var a = {
                            cmd: "/get/getPlayerInoByRankid",
                            info: {
                                rankarry: i,
                                rankid: this._rankId,
                                sorttype: "REVRANGE"
                            }
                        },
                        s = JSON.stringify(a);
                        s && this.request(s, function (e) {
                            o.refreshRankData(e, t)
                        })
                    }
                },
                e.refreshRankData = function (t, e) {
                    if (void 0 === e && (e = 0), t && 1 == parseInt(t.code)) {
                        var n = t.msg;
                        if (n) {
                            var o = [];
                            l.default.forEachMap(n, function (t, e) {
                                var n = JSON.parse(e);
                                if (n && n.data)
                                    try {
                                        var i = JSON.parse(n.data);
                                        o.push({
                                            name: i.name,
                                            score: parseInt(n.score),
                                            rank: parseInt(t),
                                            uid: n.uid,
                                            headUrl: ""
                                        })
                                    } catch (t) {}
                            }),
                            o.sort(f),
                            this.rankDatas[e] = o,
                            r.default.sendMsg(u.MSG.RECEIVE_RANK_DATA)
                        }
                    }
                },
                e.requestSelfServerRank = function (t) {
                    var e = this;
                    void 0 === t && (t = 0);
                    var n = {
                        cmd: "/get/getPlayerInfoByUid",
                        info: {
                            uidarry: [c.default.uid],
                            rankid: this._rankId,
                            sorttype: "REVRANGE"
                        }
                    },
                    o = JSON.stringify(n);
                    o && this.request(o, function (n) {
                        e.refreshSelfRankData(n, t)
                    })
                },
                e.refreshSelfRankData = function (t, e) {
                    void 0 === e && (e = 0);
                    var n = c.default.uid,
                    o = t.msg[n];
                    if (o) {
                        var i = JSON.parse(o);
                        if (i && i.data) {
                            var a = JSON.parse(i.data);
                            this.playerRankData[e] = {
                                name: a.name,
                                score: parseInt(i.score),
                                rank: i.rank,
                                uid: n,
                                headUrl: ""
                            },
                            r.default.sendMsg(u.MSG.RECEIVE_SELF_RANK_DATA)
                        }
                    }
                },
                e.request = function (t, e) {
                    var n = l.default.formatString("signkey=%s&platform=%s&appid=%s&channel=%s&data=%s", "ultralisk", "pc", this._appId, "ultralisk", t),
                    o = cc.loader.getXMLHttpRequest();
                    o.onreadystatechange = function () {
                        if (4 == o.readyState)
                            if (o.status >= 200 && o.status < 207) {
                                if (e) {
                                    var t = void 0;
                                    try {
                                        0,
                                        t = JSON.parse(o.response)
                                    } catch (e) {
                                        t = null
                                    }
                                    e(t)
                                }
                            } else
                                e && e(null)
                    },
                    o.open("POST", "https://rank.ultralisk.cn/ultralisk/"),
                    o.setRequestHeader("Content-Type", "application/x-www-form-urlencoded;charset=utf-8"),
                    o.timeout = 1e4,
                    o.send(n)
                },
                e.rankDatas = [[], [], []],
                e.playerRankData = [],
                e._bCustomRank = !1,
                e
            }
            (i.default);
            n.default = _,
            cc._RF.pop()
        }, {
            "../common/Const": "Const",
            "../extensions/_G": "_G",
            "../extensions/mgr/_mgrBase": "_mgrBase",
            "../extensions/sdk/SDKBridge": "SDKBridge",
            "../extensions/utils/FileRecord": "FileRecord",
            "../extensions/utils/Mathf": "Mathf",
            "../extensions/utils/Timer": "Timer",
            "../extensions/utils/Tools": "Tools",
            "../generate/db": "db",
            "./mgrGame": "mgrGame"
        }
    ],
    mgrRes: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "b0a6fnx3uVIvrgvb6aMiATQ", "mgrRes"),
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var o = t("../utils/Tools"),
            i = function () {
                function t() {}
                return t.preloadArr = function (t, e, n) {
                    for (var o = Object.create(null), i = 0; i < t.length; i++)
                        t[i] && (o[t[i]] = !0);
                    var r = [];
                    for (var a in o)
                        r.push(a);
                    n ? cc.loader.loadResArray(r, e, n) : cc.loader.loadResArray(r, e)
                },
                t.tryLoadRes = function (t, e) {
                    return cc.loader.getRes(t, e)
                },
                t.loadRes = function (t, e, n) {
                    var i,
                    r = this,
                    a = cc.loader.getRes(t, e);
                    null == a ? this.loadingCallback[t] ? this.loadingCallback[t].calls.push(n) : (this.loadingCallback[t] = {
                            calls: [n],
                            loadCount: 1
                        }, i = function (n, a) {
                        var s = r.loadingCallback[t];
                        if (s)
                            if (n)
                                if (cc.error("mgrRes.loadRes load [" + t + "] err:", o.default.formatError(n)), s.loadCount <= 10)
                                    s.loadCount++, r._loadRes(t, e, i);
                                else {
                                    var c = s.calls;
                                    delete r.loadingCallback[t];
                                    for (var l = 0; l < c.length; l++)
                                        c[l](n)
                                }
                            else {
                                c = s.calls;
                                delete r.loadingCallback[t];
                                for (l = 0; l < c.length; l++)
                                    c[l](null, a)
                            }
                        else
                            cc.warn("mgrRes loadCallback: No Loaded Callback Exists! ", t)
                    }, this._loadRes(t, e, i)) : n && n(null, a)
                },
                t._loadRes = function (t, e, n) {
                    cc.loader.loadRes(t, e, n)
                },
                t.promiseLoadAsset = function (t, e) {
                    var n = this;
                    return new Promise(function (o, i) {
                        n.loadRes(t, e, function (t, e) {
                            t ? i(t) : o(e)
                        })
                    })
                },
                t.loadImageFromWeb = function (t, e) {
                    var n = this;
                    t ? this.webResCache[t] ? e(this.webResCache[t]) : cc.loader.load({
                        url: t,
                        type: "png"
                    }, function (i, r) {
                        i ? (e(null), console.log("mgrRes.loadFromWeb [" + t + "] error:", o.default.formatError(i))) : (n.webResCache[t] = r, e(r))
                    }) : e(null)
                },
                t.loadingCallback = {},
                t.webResCache = {},
                t
            }
            ();
            n.default = i,
            cc._RF.pop()
        }, {
            "../utils/Tools": "Tools"
        }
    ],
    mgrScene: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "e284eYh0ttGJLy/zVND17ov", "mgrScene");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            (),
            i = this && this.__awaiter || function (t, e, n, o) {
                return new(n || (n = Promise))(function (i, r) {
                    function a(t) {
                        try {
                            c(o.next(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function s(t) {
                        try {
                            c(o.throw(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function c(t) {
                        t.done ? i(t.value) : new n(function (e) {
                            e(t.value)
                        }).then(a, s)
                    }
                    c((o = o.apply(t, e || [])).next())
                })
            },
            r = this && this.__generator || function (t, e) {
                var n,
                o,
                i,
                r,
                a = {
                    label: 0,
                    sent: function () {
                        if (1 & i[0])
                            throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw : s(1),
                    return : s(2)
                },
                "function" == typeof Symbol && (r[Symbol.iterator] = function () {
                    return this
                }),
                r;
                function s(t) {
                    return function (e) {
                        return c([t, e])
                    }
                }
                function c(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done)
                                return i;
                            switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                o = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1],
                                    i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2],
                                    a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            o = 0
                        }
                    finally {
                        n = i = 0
                    }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var a = t("./_mgrBase"),
            s = t("../_G"),
            c = t("./mgrPanel"),
            l = t("../BaseConst"),
            u = function (e) {
                function n() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return o(n, e),
                n.onLoad = function () {},
                Object.defineProperty(n, "isBusy", {
                    get: function () {
                        return this._isBusy
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                n.runScene = function (e, n, o) {
                    return i(this, void 0, void 0, function () {
                        var i,
                        a,
                        u,
                        d;
                        return r(this, function (r) {
                            switch (r.label) {
                            case 0:
                                if (cc.log("mgrScene startRun."), this._isBusy)
                                    return cc.error("mgr scene is busy"), [2];
                                if (this._isBusy = !0, !n)
                                    return [3, 4];
                                c.default.isLoaded || c.default.onload(),
                                r.label = 1;
                            case 1:
                                return r.trys.push([1, 3, , 4]),
                                [4, c.default.openPanelWithSingleton(n)];
                            case 2:
                                return r.sent(),
                                [3, 4];
                            case 3:
                                return i = r.sent(),
                                cc.error("open loading panel error:", i),
                                [3, 4];
                            case 4:
                                s.default.sendMsg(l.BASE_MSG.RES_LOAD_START, "collect energy"),
                                this.runningScene && (this.runningScene.onExit(), this.runningScene = null);
                                try {
                                    "string" == typeof e ? (u = t(e).default, a = new u) : a = new e
                                } catch (t) {
                                    return cc.error("mgrScene.runScene:", t),
                                    [2]
                                }
                                return this.nextScene = a,
                                this.nextSceneparams = o,
                                null == (d = a.getResLoader()) ? this.onResComplete(!0) : (d.setLoadingCallback(this.onResProgress.bind(this), this.onResComplete.bind(this)), d.loadAll(), cc.log("mgrScene \u5f00\u59cb\u52a0\u8f7d.")),
                                [2]
                            }
                        })
                    })
                },
                n.onResProgress = function (t, e) {
                    var n = 0;
                    0 != e && (n = t / e),
                    s.default.sendMsg(l.BASE_MSG.RES_LOAD_PROGRESS, n)
                },
                n.onResComplete = function (t) {
                    if (cc.log("mgrScene \u52a0\u8f7d\u5b8c\u6210.", t), t) {
                        this.runningScene = this.nextScene,
                        this.nextScene = null;
                        var e = this.nextSceneparams;
                        this.nextSceneparams = null,
                        this._isBusy = !1,
                        s.default.sendMsg(l.BASE_MSG.RES_LOAD_END),
                        this.runningScene.onEnter(e)
                    } else
                        cc.error("mgrSceen.onResComplete error.")
                },
                n._isBusy = !1,
                n.runningScene = null,
                n.nextScene = null,
                n.nextSceneparams = null,
                n
            }
            (a.default);
            n.default = u,
            cc._RF.pop()
        }, {
            "../BaseConst": "BaseConst",
            "../_G": "_G",
            "./_mgrBase": "_mgrBase",
            "./mgrPanel": "mgrPanel"
        }
    ],
    mgrSdk: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "956ccbXc9JKh69rrd2DlzZU", "mgrSdk");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i,
            r = t("./_mgrBase"),
            a = t("./mgrAdv"),
            s = t("../_G"),
            c = t("../../common/Const"),
            l = t("../sdk/SDKBridge"),
            u = t("../utils/FileRecord"),
            d = t("../utils/Timer"),
            p = t("../utils/Tools"),
            h = t("../module/BaseFacade"),
            f = t("../BaseConst");
            function _(t) {
                var e = parseInt(t);
                return !!e && e > 0
            }
            (function (t) {
                t.WEIXIN = "weixin",
                t.TOUTIAO = "toutiao",
                t.DOUYIN = "douyin",
                t.BAIDU = "baidu",
                t.C_4399 = "4399minigame",
                t.VIVO = "vivo",
                t.OPPO = "oppoqg"
            })(i = n.H5_CHANNEL || (n.H5_CHANNEL = {}));
            var m = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.onload = function () {
                    var t,
                    e = this;
                    switch (cc.log("---\x3e _G.SDK_VERSION: [" + s.default.SDK_VERSION + "]"), s.default.SDK_VERSION) {
                    case s.SDK_VERSIONS_VALUE.V6:
                        l.default.registerCmd("/c/channelInfoResult", this.onChannelInfoResult_V6.bind(this)),
                        l.default.registerCmd("/c/copInfoResult", this.onCopInfoResult.bind(this)),
                        l.default.registerCmd("/c/payResult", this.onPayResult.bind(this)),
                        l.default.registerCmd("/c/prePayResult", this.onBeforePayResult.bind(this)),
                        l.default.registerCmd("/c/shareResult", this.onShareResult.bind(this)),
                        l.default.registerCmd("/c/appShareResult", this.onAppShareResult.bind(this)),
                        l.default.registerCmd("/c/exitGame", this.onExitGame.bind(this)),
                        l.default.registerCmd("/c/useCdkey", this.onUseCDKResult.bind(this)),
                        l.default.registerCmd("/c/lifeCycle", this.onLifeCycle.bind(this)),
                        l.default.registerCmd("/c/getClipboardDataResult", this.onGetClipboardDataResult.bind(this)),
                        l.default.registerCmd("/c/extraBonus", this.onExtraBonus.bind(this)),
                        l.default.registerCmd("/c/jumpOtherGameResult", this.onJumpOtherGameResult.bind(this)),
                        l.default.registerCmd("/c/addGameToMyFavoriteResult", this.onAddGameToMyFavoriteResult.bind(this)),
                        l.default.registerCmd("/c/installShortcutResult", this.onInstallShortcutResult.bind(this)),
                        l.default.registerCmd("/c/getUserDataResult", this.onGetUserDataResult.bind(this)),
                        l.default.registerCmd("/c/recorderGameVideoResult", this.onRecorderGameVideoResult.bind(this)),
                        l.default.registerCmd("/c/shareGameVideoResult", this.onShareGameVideoResult.bind(this)),
                        l.default.registerCmd("/c/userIsLoginResult", this.onUserIsLoginResult.bind(this)),
                        l.default.registerCmd("/c/userLoginResult", this.onUserLoginResult.bind(this)),
                        this.isAutoRecordVideo = u.default.getData("RecordVideioEnabled"),
                        null == this.isAutoRecordVideo && (this.isAutoRecordVideo = !0);
                        break;
                    case s.SDK_VERSIONS_VALUE.V5:
                        l.default.registerCmd("/c/channelInfoResult", this.onChannelInfoResult_V5.bind(this)),
                        l.default.registerCmd("/c/payResult", this.onPayResult.bind(this)),
                        l.default.registerCmd("/c/exitGame", this.onExitGame.bind(this)),
                        l.default.registerCmd("/cdk/useCdkey", this.onUseCDKResult.bind(this))
                    }
                    this.registerMsg(((t = {})[f.BASE_MSG.SYS_KEY_DOWN] = function (t) {
                            t != cc.macro.KEY.back && t != cc.macro.KEY.escape || e.exitGame()
                        }, t))
                },
                e.start = function () {},
                e.setVersion = function (t) {
                    switch (s.default.SDK_VERSION) {
                    case s.SDK_VERSIONS_VALUE.V5:
                        l.default.sendToSdk("setVersion", "");
                        break;
                    case s.SDK_VERSIONS_VALUE.V6:
                        l.default.sendToSdk("/c/setVersion", "")
                    }
                },
                e.onChannelInfoResult_V6 = function (t) {
                    if (console.log("-- > onChannelInfoResult_V6"), t) {
                        t.payInfo,
                        parseInt(t.cardType);
                        this.isThirdExit = !!t.isThirdExit,
                        this.isAbout = !!t.isAbout,
                        this.isULMoreGame = !!t.isULMoreGame,
                        this.isWebView = !!t.isWebView,
                        this.ulsdkVersion = t.ulsdkVersion,
                        this.isMusicEnable = !!t.isMusicEnable,
                        this.isShowUrlAdIcon = !!t.isShowUrlAdIcon,
                        this.isPayEnabled = !!t.isPayEnabled,
                        this.isShareEnabled = !!t.isShareEnabled,
                        this.isUseSdkRank = !!t.isUseSdkRank,
                        this.isSupportRecordShare = !!t.isSupportRecordShare,
                        this.isSupportInstallShortcut = !!t.isSupportInstallShortcut,
                        this.isSupportFindMinigames = !!t.isSupportFindMinigames,
                        this.isSupportRecommendationBtn = !!t.isSupportRecommendationBtn,
                        this.is4399Watermark = !!t.is4399Watermark,
                        this.jumpInfo = t.jumpInfo,
                        t.appName && (this.h5_channel = t.appName.toString().toLowerCase()),
                        this.h5_channel == i.VIVO && (cc.error = cc.warn),
                        this.packageVersion = t.packageVersion,
                        this.uuid = t.uuid,
                        this.hotfixCop_V6(t.copInfo)
                    }
                },
                e.onCopInfoResult = function (t) {
                    this.hotfixCop_V6(t.copInfo)
                },
                e.hotfixCop_V6 = function (t) {
                    var e;
                    this.COP_INFO = t;
                    try {
                        e = JSON.parse(t)
                    } catch (e) {
                        return void cc.error("hot fix cop [" + t + "] error:", e)
                    }
                    var n = p.default.splitToNumber(e.some_function, ";");
                    this.cdkeyEnabled = _(n[4]),
                    this.COP.more_game = _(n[6]),
                    this.COP.more_game_banner = _(n[7]),
                    this.COP.share_rate = p.default.safeParseInt(e.share_rate, 0),
                    a.default.hotfixCop(e),
                    s.default.sendMsg(f.BASE_MSG.SDK_COP_CHANGED, e),
                    console.log("mgrSdk.hotfixCop_V6")
                },
                e.openPay = function (t, e, n, o) {
                    var i = {
                        payId: e,
                        reason: o
                    };
                    switch (this.payCallback = n, s.default.SDK_VERSION) {
                    case s.SDK_VERSIONS_VALUE.V6:
                        l.default.sendToSdk("/c/openPay", {
                            payId: t,
                            userData: JSON.stringify(i)
                        });
                        break;
                    case s.SDK_VERSIONS_VALUE.V5:
                        var r = {
                            payId: t
                        };
                        l.default.sendToSdk("/c/openPay", {
                            payInfo: r,
                            userInfo: JSON.stringify(i)
                        })
                    }
                },
                e.onPayResult = function (t) {
                    cc.log("onPayResult", t.code),
                    this.payCallback && this.payCallback(1 == t.code, t.msg, 2 == t.code)
                },
                e.onBeforePayResult = function (t) {
                    if (1 == t.code) {
                        var e = JSON.parse(t.userData).payId;
                        console.log("onBeforePayResult payId: ", e),
                        e && (h.default.mPay._onGetGoods(e, c.ITEM_CHANGE_REASON.BEFORE_PAY), cc.log("\u5df2\u6062\u590d\u8d2d\u4e70payId:", e))
                    }
                },
                e.share = function (t) {
                    l.default.sendToSdk("/c/openShare", {
                        title: "",
                        content: "",
                        imagePath: "",
                        url: "",
                        userData: t
                    })
                },
                e.onShareResult = function (t) {
                    1 == t.code ? s.default.sendMsg(f.BASE_MSG.SDK_SHARE_SUC, t.userData) : s.default.sendMsg(f.BASE_MSG.SDK_SHARE_FAIL, t.userData)
                },
                e.onAppShareResult = function (t) {},
                e.exitGame = function () {
                    this.isThirdExit ? this.thirdExitGame() : this._exitGame()
                },
                e.thirdExitGame = function () {
                    l.default.sendToSdk("/c/exitGame", {})
                },
                e._exitGame = function () {
                    s.default.sendMsg(f.BASE_MSG.SDK_EXIT_GAME)
                },
                e.onExitGame = function (t) {
                    this._exitGame()
                },
                e.sendCDK = function (t) {
                    if (cc.log("\u8bf7\u6c42\u9a8c\u8bc1\u7801:", t), t) {
                        var e = {
                            userId: this.uuid,
                            cdkStr: t,
                            channelId: "0"
                        };
                        l.default.sendToSdk("/c/useCdkey", e)
                    } else
                        s.default.sendMsg(f.BASE_MSG.UI_SHOW_TIP, "please input exchange code!")
                },
                e.onUseCDKResult = function (t) {
                    if ("1" == t.code)
                        for (var e in s.default.sendMsg(f.BASE_MSG.UI_SHOW_TIP, "exchange by code success"), t.data) {
                            var n = t.data[e],
                            o = n.goodsid.toString(),
                            i = n.count,
                            r = h.default.mItem.addWrapItemToList(o, i, c.ITEM_CHANGE_REASON.CDKEY);
                            s.default.sendMsg(f.BASE_MSG.UI_SHOW_ITEMS, r)
                        }
                    else if ("-1" == t.code) {
                        var a = t.data;
                        "\u5151\u6362\u7801\u4e0d\u5728\u6709\u6548\u4f7f\u7528\u671f" == a && (a = "\u5151\u6362\u7801\u5151\u6362\u5931\u8d25"),
                        s.default.sendMsg(f.BASE_MSG.UI_SHOW_TIP, "exchange failed")
                    }
                },
                e.onLifeCycle = function (t) {
                    switch (t.lifeCycle || "") {
                    case "onBackPressed":
                        this.exitGame()
                    }
                },
                e.setClipboardData = function (t, e) {
                    void 0 === e && (e = ""),
                    l.default.sendToSdk("/c/setClipboardData", {
                        clipboardData: t,
                        userData: e
                    })
                },
                e.getClipboardData = function (t) {
                    void 0 === t && (t = ""),
                    l.default.sendToSdk("/c/getClipboardData", {
                        userData: t
                    })
                },
                e.onGetClipboardDataResult = function (t) {
                    if (1 == t.code)
                        t.clipboardData, t.userData, t.msg
                },
                e.openMoreGame = function () {
                    l.default.sendToSdk("/c/openMoreGame", {})
                },
                e.openUlMoreGame = function () {
                    console.log("openUlMoreGame"),
                    l.default.sendToSdk("/c/openUlMoreGame", {})
                },
                e.openJf = function () {
                    l.default.sendToSdk("/c/openJf", {})
                },
                e.callPhone = function (t) {
                    l.default.sendToSdk("/c/callPhon", {
                        phoneNum: t
                    })
                },
                e.openWebView = function (t) {
                    l.default.sendToSdk("/c/ulWebView", {
                        url: t
                    })
                },
                e.openReview = function () {
                    l.default.sendToSdk("/d/openReview", {})
                },
                e.onExtraBonus = function (t) {
                    if (t && 1 == t.code && !u.default.getData("extraBonusReward")) {
                        console.log("msg:" + t.msg + "  isInitGame:" + t.isInitGame);
                        var e = {
                            itemId: c.ITEM_ID.DIAMOND,
                            count: 40
                        };
                        s.default.sendMsg(f.BASE_MSG.UI_SHOW_ITEMS, e),
                        h.default.mItem.addItem(e.itemId, e.count, c.ITEM_CHANGE_REASON.GM, ""),
                        u.default.setData("extraBonusReward", !0)
                    }
                },
                e.jumpOtherGame = function (t, e) {
                    void 0 === e && (e = ""),
                    cc.log("jumpOtherGame:", t),
                    l.default.sendToSdk("/c/jumpOtherGame", {
                        gameIndex: t,
                        type: "list",
                        userData: e
                    })
                },
                e.onJumpOtherGameResult = function (t) {
                    if (1 == t.code)
                        t.userData;
                    else
                        cc.log(t.msg)
                },
                e.addGameToMyFavorite = function (t, e, n) {
                    void 0 === t && (t = 0),
                    void 0 === e && (e = "add to my mini app"),
                    void 0 === n && (n = ""),
                    console.log("mgrSdk addGameToMyFavorite."),
                    l.default.sendToSdk("/c/addGameToMyFavorite", {
                        typeId: t,
                        content: e,
                        userData: n
                    })
                },
                e.hasAddGameToMyFavorite = function () {
                    return !!u.default.getData("RecordAddGame")
                },
                e.onAddGameToMyFavoriteResult = function (t) {
                    u.default.setData("RecordAddGame", !0),
                    t && t.code
                },
                e.installShortcut = function (t) {
                    void 0 === t && (t = ""),
                    console.log("mgrSdk installShortcut."),
                    l.default.sendToSdk("/c/installShortcut", {
                        userData: t
                    })
                },
                e.onInstallShortcutResult = function (t) {
                    var e = t.userData,
                    n = t.msg;
                    1 == t.code ? (u.default.setData("RecordShortcut", !0), s.default.sendMsg(f.BASE_MSG.SDK_INSTALL_SHORTCUT_SUC, e)) : cc.warn(n)
                },
                Object.defineProperty(e, "isInstallShortcut", {
                    get: function () {
                        return !!u.default.getData("RecordShortcut")
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                e.saveUserData = function (t) {
                    l.default.sendToSdk("/c/saveUserData", {
                        userData: t
                    })
                },
                e.getUserData = function () {
                    l.default.sendToSdk("/c/getUserData", {})
                },
                e.onGetUserDataResult = function (t) {
                    if (1 == t.code)
                        t.userData
                },
                e.startRecordVideo = function () {
                    this.isSupportRecordShare && (this._isVideoRecording || (this._isVideoRecording = !0, this._videoRecordTime = d.default.time, l.default.sendToSdk("/c/recorderGameVideo", {
                                action: "start",
                                durationTime: 120
                            })))
                },
                e.pauseRecordVideo = function () {
                    l.default.sendToSdk("/c/recorderGameVideo", {
                        action: "pause",
                        durationTime: 120
                    })
                },
                e.resumeRecordVideo = function () {
                    l.default.sendToSdk("/c/recorderGameVideo", {
                        action: "resume",
                        durationTime: 120
                    })
                },
                e.stopRecordVideo = function () {
                    this.isSupportRecordShare && this._isVideoRecording && (this._isVideoRecording = !1, this._videoRecordTime = d.default.time - this._videoRecordTime, l.default.sendToSdk("/c/recorderGameVideo", {
                            action: "stop",
                            durationTime: 120
                        }))
                },
                e.setAutoRecordVideo = function (t) {
                    u.default.setData("RecordVideioEnabled", t),
                    t || this.stopRecordVideo(),
                    this.isAutoRecordVideo = t
                },
                e.onRecorderGameVideoResult = function (t) {
                    if (t)
                        switch (t.code) {
                        case 0:
                        case 1:
                        case 2:
                        case 3:
                        case 4:
                            break;
                        default:
                            return
                        }
                },
                Object.defineProperty(e, "isVideoAutoRecordable", {
                    get: function () {
                        return this.isSupportRecordShare && this.isAutoRecordVideo && !this._isVideoRecording
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                Object.defineProperty(e, "isVideoShareable", {
                    get: function () {
                        return this.isSupportRecordShare && !this._isVideoRecording && this._videoRecordTime > 10
                    },
                    enumerable: !0,
                    configurable: !0
                }),
                e.shareVideo = function (t) {
                    void 0 === t && (t = ""),
                    this._isVideoRecording || this._videoRecordTime > 10 && l.default.sendToSdk("/c/shareGameVideo", {
                        userData: t
                    })
                },
                e.clearShareVideo = function () {
                    this._videoRecordTime = 0
                },
                e.onShareGameVideoResult = function (t) {
                    t && (1 == t.code ? (console.log("\u5206\u4eab\u89c6\u9891\u6210\u529f"), s.default.sendMsg(f.BASE_MSG.SDK_VIDEO_SHARE_SUC)) : console.log("\u5206\u4eab\u89c6\u9891\u5931\u8d25"))
                },
                e.checkLoginState = function () {
                    l.default.sendToSdk("/c/userIsLogin", {})
                },
                e.onUserIsLoginResult = function (t) {
                    this.isUserLogin = 1 == t.code,
                    s.default.sendMsg(f.BASE_MSG.SDK_LOGIN_STATE, this.isUserLogin)
                },
                e.login = function (t) {
                    void 0 === t && (t = ""),
                    l.default.sendToSdk("/c/userLogin", {
                        userData: t
                    })
                },
                e.onUserLoginResult = function (t) {
                    this.isUserLogin = 1 == t.code,
                    s.default.sendMsg(f.BASE_MSG.SDK_LOGIN_RESULT, this.isUserLogin)
                },
                e.openCrossRecommend = function (t, e, n) {
                    void 0 === n && (n = 0),
                    console.log("mgrSdk openCrossRecommend"),
                    l.default.sendToSdk("/c/openRecommendation", {
                        typeId: n,
                        style: {
                            left: t,
                            top: e
                        }
                    })
                },
                e.closeCrossRecommend = function () {
                    console.log("mgrSdk closeCrossRecommend"),
                    l.default.sendToSdk("/c/closeRecommendation", {})
                },
                e.onChannelInfoResult_V5 = function (t) {
                    if (console.log("-- > onChannelInfoResult_V5"), t) {
                        t.payInfo,
                        parseInt(t.cardType);
                        this.isULMoreGame = !!t.isULMoreGame,
                        this.isShowUrlAdIcon = _(t.ad_h5),
                        this.hotfixCop_V6(t.copInfo)
                    }
                },
                e.COP = {
                    more_game: !1,
                    more_game_banner: !1,
                    feedback: !1,
                    share_rate: 20
                },
                e.COP_INFO = "",
                e.isShareEnabled = !1,
                e.isPayEnabled = !0,
                e.isUseSdkRank = !1,
                e.cdkeyEnabled = !1,
                e.isSupportRecordShare = !1,
                e.isAutoRecordVideo = !0,
                e.isSupportInstallShortcut = !1,
                e.isSupportFindMinigames = !1,
                e.isSupportRecommendationBtn = !1,
                e.is4399Watermark = !1,
                e.isUserLogin = !1,
                e.h5_channel = "",
                e.isThirdExit = !1,
                e.isAbout = !1,
                e.isULMoreGame = !1,
                e.isWebView = !1,
                e.packageVersion = "0",
                e.ulsdkVersion = "0",
                e.isMusicEnable = !1,
                e.isShowUrlAdIcon = !1,
                e.uuid = "0",
                e.jumpInfo = [],
                e._isVideoRecording = !1,
                e._videoRecordTime = 0,
                e
            }
            (r.default);
            n.default = m,
            cc._RF.pop()
        }, {
            "../../common/Const": "Const",
            "../BaseConst": "BaseConst",
            "../_G": "_G",
            "../module/BaseFacade": "BaseFacade",
            "../sdk/SDKBridge": "SDKBridge",
            "../utils/FileRecord": "FileRecord",
            "../utils/Timer": "Timer",
            "../utils/Tools": "Tools",
            "./_mgrBase": "_mgrBase",
            "./mgrAdv": "mgrAdv"
        }
    ],
    mgrShader: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "fee04Rfkl1NMY2LH54eEmyo", "mgrShader");
            var o = this && this.__awaiter || function (t, e, n, o) {
                return new(n || (n = Promise))(function (i, r) {
                    function a(t) {
                        try {
                            c(o.next(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function s(t) {
                        try {
                            c(o.throw(t))
                        } catch (t) {
                            r(t)
                        }
                    }
                    function c(t) {
                        t.done ? i(t.value) : new n(function (e) {
                            e(t.value)
                        }).then(a, s)
                    }
                    c((o = o.apply(t, e || [])).next())
                })
            },
            i = this && this.__generator || function (t, e) {
                var n,
                o,
                i,
                r,
                a = {
                    label: 0,
                    sent: function () {
                        if (1 & i[0])
                            throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return r = {
                    next: s(0),
                    throw : s(1),
                    return : s(2)
                },
                "function" == typeof Symbol && (r[Symbol.iterator] = function () {
                    return this
                }),
                r;
                function s(t) {
                    return function (e) {
                        return c([t, e])
                    }
                }
                function c(r) {
                    if (n)
                        throw new TypeError("Generator is already executing.");
                    for (; a; )
                        try {
                            if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done)
                                return i;
                            switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
                            case 0:
                            case 1:
                                i = r;
                                break;
                            case 4:
                                return a.label++, {
                                    value: r[1],
                                    done: !1
                                };
                            case 5:
                                a.label++,
                                o = r[1],
                                r = [0];
                                continue;
                            case 7:
                                r = a.ops.pop(),
                                a.trys.pop();
                                continue;
                            default:
                                if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
                                    a = 0;
                                    continue
                                }
                                if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
                                    a.label = r[1];
                                    break
                                }
                                if (6 === r[0] && a.label < i[1]) {
                                    a.label = i[1],
                                    i = r;
                                    break
                                }
                                if (i && a.label < i[2]) {
                                    a.label = i[2],
                                    a.ops.push(r);
                                    break
                                }
                                i[2] && a.ops.pop(),
                                a.trys.pop();
                                continue
                            }
                            r = e.call(t, a)
                        } catch (t) {
                            r = [6, t],
                            o = 0
                        }
                    finally {
                        n = i = 0
                    }
                    if (5 & r[0])
                        throw r[1];
                    return {
                        value: r[0] ? r[1] : void 0,
                        done: !0
                    }
                }
            };
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var r = function () {
                function t() {}
                return t.setShader = function (e, n) {
                    return o(this, void 0, void 0, function () {
                        var o,
                        r,
                        a;
                        return i(this, function (i) {
                            return null == (o = t.shaderPrograms[n]) && (o = new cc.GLProgram, r = "attribute vec4 a_position;\n            attribute vec2 a_texCoord;\n            attribute vec4 a_color;\n            varying vec4 v_fragmentColor; \n            varying vec2 v_texCoord; \n            void main() \n            { \n                gl_Position = CC_PMatrix * a_position;\n                v_fragmentColor = a_color; \n                v_texCoord = a_texCoord; \n            }", cc.log("vertSourceCode:\n" + r), a = "#ifdef GL_ES\n            precision lowp float;\n            #endif\n            \n            varying vec4 v_fragmentColor;\n            varying vec2 v_texCoord;\n            void main()\n            {\n                vec4 c = v_fragmentColor * texture2D(CC_Texture0, v_texCoord);\n                gl_FragColor.xyz = vec3(1, 0, 1);\n                gl_FragColor.w = c.w;\n            }", cc.log("fragSourceCode:\n" + a), cc.sys.isNative ? (cc.log("AAAAAAAAA"), o.initWithString(r, a)) : (cc.log("BBBBBBBB"), o.initWithString(r, a)), o.link(), o.updateUniforms(), this.shaderPrograms[n] = o),
                            e._sgNode.setShaderProgram(o),
                            [2]
                        })
                    })
                },
                t._promiseLoadFile = function (t) {
                    return new Promise(function (e, n) {
                        t = cc.url.raw(t),
                        cc.loader.load(t, function (t, o) {
                            t ? n(null) : e(o)
                        })
                    })
                },
                t.setGray = function (e) {
                    if (e instanceof cc.Label) {
                        var n = e.node.getComponent(cc.LabelOutline);
                        if (!this.textColorCache[e.node.uuid]) {
                            var o = null;
                            n && (o = n.color);
                            var i = {
                                color: e.node.color,
                                outlineColor: o
                            };
                            this.textColorCache[e.node.uuid] = i
                        }
                        var r = this.textColorCache[e.node.uuid].color,
                        a = this.textColorCache[e.node.uuid].outlineColor,
                        s = .2126 * r.getR() + .7152 * r.getG() + .0722 * r.getB();
                        return e.node.color = cc.color(s, s, s),
                        void(n && (s = .2126 * a.getR() + .7152 * a.getG() + .0722 * a.getB(), n.color = cc.color(s, s, s)))
                    }
                    t.setShader(e, "gray")
                },
                t.setNormal = function (e) {
                    if (e instanceof cc.Label) {
                        var n = this.textColorCache[e.node.uuid] || {};
                        e.node.color = n.color || e.node.color;
                        var o = e.node.getComponent(cc.LabelOutline);
                        o && (o.color = n.outlineColor || o.color)
                    } else
                        t.setShader(e, "normal")
                },
                t.shaderPrograms = [],
                t.textColorCache = {},
                t
            }
            ();
            n.default = r,
            cc._RF.pop()
        }, {}
    ],
    mgrWordFilter: [function (t, e, n) {
            "use strict";
            cc._RF.push(e, "cd21e2cR09Pd5KOvGl3x3vA", "mgrWordFilter");
            var o = this && this.__extends || function () {
                var t = Object.setPrototypeOf || {
                    __proto__: []
                }
                instanceof Array && function (t, e) {
                    t.__proto__ = e
                }
                 || function (t, e) {
                    for (var n in e)
                        e.hasOwnProperty(n) && (t[n] = e[n])
                };
                return function (e, n) {
                    function o() {
                        this.constructor = e
                    }
                    t(e, n),
                    e.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
                }
            }
            ();
            Object.defineProperty(n, "__esModule", {
                value: !0
            });
            var i = t("./_mgrBase"),
            r = t("../../generate/db"),
            a = function (t) {
                function e() {
                    return null !== t && t.apply(this, arguments) || this
                }
                return o(e, t),
                e.onload = function () {
                    this._loadWords()
                },
                e._loadWords = function () {
                    if (!this.badwords)
                        if (r.default.get_badword_db_arr) {
                            for (var t = r.default.get_badword_db_arr(), e = 0; e < t.length; e++)
                                t[e] = t[e].word;
                            this.badwords = t
                        } else
                            this.badwords = []
                },
                e.checkStr = function (t) {
                    if (!t)
                        return !0;
                    for (var e = this.badwords, n = 0; n < e.length; n++)
                        if (t.indexOf(e[n]) >= 0)
                            return !1;
                    return !0
                },
                e.filterStr = function (t, e) {
                    e = e || this.REP_STR;
                    for (var n = this.badwords, o = 0; o < n.length; o++)
                        t = t.replace(n[o], e);
                    return t
                },
                e.hasSymbol = function (t) {
                    return !!t.match(this.REP_NO_SYMBOL)
                },
                e.filterSymbol = function (t) {
                    return t ? t = t.replace(this.REP_NO_SYMBOL, "") : ""
                },
                e.REP_STR = "**",
                e.REP_NO_SYMBOL = /[\!\@\#\$\%\^\&\*\(\)\`\~\<\>\,\.\/\?\;\:\'\"\[\]\{\}\\\|\-\=\_\+\n\r\t\b ]/g,
                e
            }
            (i.default);
            n.default = a,
            cc._RF.pop()
        }, {
            "../../generate/db": "db",
            "./_mgrBase": "_mgrBase"
        }
    ],
    pako: [function (t, e, n) {
            (function (o) {
                "use strict";
                cc._RF.push(e, "05f6bedEY1Labkf7pHv16WE", "pako");
                var i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
                    return typeof t
                }
                 : function (t) {
                    return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
                };
                (function (t) {
                    if ("object" === (void 0 === n ? "undefined" : i(n)) && void 0 !== e)
                        e.exports = t();
                    else if ("function" == typeof define && define.amd)
                        define([], t);
                    else {
                        ("undefined" != typeof window ? window : void 0 !== o ? o : "undefined" != typeof self ? self : this).pako = t()
                    }
                })(function () {
                    return function () {
                        return function e(n, o, i) {
                            function r(s, c) {
                                if (!o[s]) {
                                    if (!n[s]) {
                                        var l = "function" == typeof t && t;
                                        if (!c && l)
                                            return l(s, !0);
                                        if (a)
                                            return a(s, !0);
                                        var u = new Error("Cannot find module '" + s + "'");
                                        throw u.code = "MODULE_NOT_FOUND",
                                        u
                                    }
                                    var d = o[s] = {
                                        exports: {}
                                    };
                                    n[s][0].call(d.exports, function (t) {
                                        return r(n[s][1][t] || t)
                                    }, d, d.exports, e, n, o, i)
                                }
                                return o[s].exports
                            }
                            for (var a = "function" == typeof t && t, s = 0; s < i.length; s++)
                                r(i[s]);
                            return r
                        }
                    }
                    ()({
                        1: [function (t, e, n) {
                                var o = t("./zlib/deflate"),
                                i = t("./utils/common"),
                                r = t("./utils/strings"),
                                a = t("./zlib/messages"),
                                s = t("./zlib/zstream"),
                                c = Object.prototype.toString,
                                l = 0,
                                u = -1,
                                d = 0,
                                p = 8;
                                function h(t) {
                                    if (!(this instanceof h))
                                        return new h(t);
                                    this.options = i.assign({
                                            level: u,
                                            method: p,
                                            chunkSize: 16384,
                                            windowBits: 15,
                                            memLevel: 8,
                                            strategy: d,
                                            to: ""
                                        }, t || {});
                                    var e = this.options;
                                    e.raw && e.windowBits > 0 ? e.windowBits = -e.windowBits : e.gzip && e.windowBits > 0 && e.windowBits < 16 && (e.windowBits += 16),
                                    this.err = 0,
                                    this.msg = "",
                                    this.ended = !1,
                                    this.chunks = [],
                                    this.strm = new s,
                                    this.strm.avail_out = 0;
                                    var n = o.deflateInit2(this.strm, e.level, e.method, e.windowBits, e.memLevel, e.strategy);
                                    if (n !== l)
                                        throw new Error(a[n]);
                                    if (e.header && o.deflateSetHeader(this.strm, e.header), e.dictionary) {
                                        var f;
                                        if (f = "string" == typeof e.dictionary ? r.string2buf(e.dictionary) : "[object ArrayBuffer]" === c.call(e.dictionary) ? new Uint8Array(e.dictionary) : e.dictionary, (n = o.deflateSetDictionary(this.strm, f)) !== l)
                                            throw new Error(a[n]);
                                        this._dict_set = !0
                                    }
                                }
                                function f(t, e) {
                                    var n = new h(e);
                                    if (n.push(t, !0), n.err)
                                        throw n.msg || a[n.err];
                                    return n.result
                                }
                                h.prototype.push = function (t, e) {
                                    var n,
                                    a,
                                    s = this.strm,
                                    u = this.options.chunkSize;
                                    if (this.ended)
                                        return !1;
                                    a = e === ~~e ? e : !0 === e ? 4 : 0,
                                    "string" == typeof t ? s.input = r.string2buf(t) : "[object ArrayBuffer]" === c.call(t) ? s.input = new Uint8Array(t) : s.input = t,
                                    s.next_in = 0,
                                    s.avail_in = s.input.length;
                                    do {
                                        if (0 === s.avail_out && (s.output = new i.Buf8(u), s.next_out = 0, s.avail_out = u), 1 !== (n = o.deflate(s, a)) && n !== l)
                                            return this.onEnd(n), this.ended = !0, !1;
                                        0 !== s.avail_out && (0 !== s.avail_in || 4 !== a && 2 !== a) || ("string" === this.options.to ? this.onData(r.buf2binstring(i.shrinkBuf(s.output, s.next_out))) : this.onData(i.shrinkBuf(s.output, s.next_out)))
                                    } while ((s.avail_in > 0 || 0 === s.avail_out) && 1 !== n);
                                    return 4 === a ? (n = o.deflateEnd(this.strm), this.onEnd(n), this.ended = !0, n === l) : 2 !== a || (this.onEnd(l), s.avail_out = 0, !0)
                                },
                                h.prototype.onData = function (t) {
                                    this.chunks.push(t)
                                },
                                h.prototype.onEnd = function (t) {
                                    t === l && ("string" === this.options.to ? this.result = this.chunks.join("") : this.result = i.flattenChunks(this.chunks)),
                                    this.chunks = [],
                                    this.err = t,
                                    this.msg = this.strm.msg
                                },
                                n.Deflate = h,
                                n.deflate = f,
                                n.deflateRaw = function (t, e) {
                                    return (e = e || {}).raw = !0,
                                    f(t, e)
                                },
                                n.gzip = function (t, e) {
                                    return (e = e || {}).gzip = !0,
                                    f(t, e)
                                }
                            }, {
                                "./utils/common": 3,
                                "./utils/strings": 4,
                                "./zlib/deflate": 8,
                                "./zlib/messages": 13,
                                "./zlib/zstream": 15
                            }
                        ],
                        2: [function (t, e, n) {
                                var o = t("./zlib/inflate"),
                                i = t("./utils/common"),
                                r = t("./utils/strings"),
                                a = t("./zlib/constants"),
                                s = t("./zlib/messages"),
                                c = t("./zlib/zstream"),
                                l = t("./zlib/gzheader"),
                                u = Object.prototype.toString;
                                function d(t) {
                                    if (!(this instanceof d))
                                        return new d(t);
                                    this.options = i.assign({
                                            chunkSize: 16384,
                                            windowBits: 0,
                                            to: ""
                                        }, t || {});
                                    var e = this.options;
                                    e.raw && e.windowBits >= 0 && e.windowBits < 16 && (e.windowBits = -e.windowBits, 0 === e.windowBits && (e.windowBits = -15)),
                                    !(e.windowBits >= 0 && e.windowBits < 16) || t && t.windowBits || (e.windowBits += 32),
                                    e.windowBits > 15 && e.windowBits < 48 && 0 == (15 & e.windowBits) && (e.windowBits |= 15),
                                    this.err = 0,
                                    this.msg = "",
                                    this.ended = !1,
                                    this.chunks = [],
                                    this.strm = new c,
                                    this.strm.avail_out = 0;
                                    var n = o.inflateInit2(this.strm, e.windowBits);
                                    if (n !== a.Z_OK)
                                        throw new Error(s[n]);
                                    if (this.header = new l, o.inflateGetHeader(this.strm, this.header), e.dictionary && ("string" == typeof e.dictionary ? e.dictionary = r.string2buf(e.dictionary) : "[object ArrayBuffer]" === u.call(e.dictionary) && (e.dictionary = new Uint8Array(e.dictionary)), e.raw && (n = o.inflateSetDictionary(this.strm, e.dictionary)) !== a.Z_OK))
                                        throw new Error(s[n])
                                }
                                function p(t, e) {
                                    var n = new d(e);
                                    if (n.push(t, !0), n.err)
                                        throw n.msg || s[n.err];
                                    return n.result
                                }
                                d.prototype.push = function (t, e) {
                                    var n,
                                    s,
                                    c,
                                    l,
                                    d,
                                    p = this.strm,
                                    h = this.options.chunkSize,
                                    f = this.options.dictionary,
                                    _ = !1;
                                    if (this.ended)
                                        return !1;
                                    s = e === ~~e ? e : !0 === e ? a.Z_FINISH : a.Z_NO_FLUSH,
                                    "string" == typeof t ? p.input = r.binstring2buf(t) : "[object ArrayBuffer]" === u.call(t) ? p.input = new Uint8Array(t) : p.input = t,
                                    p.next_in = 0,
                                    p.avail_in = p.input.length;
                                    do {
                                        if (0 === p.avail_out && (p.output = new i.Buf8(h), p.next_out = 0, p.avail_out = h), (n = o.inflate(p, a.Z_NO_FLUSH)) === a.Z_NEED_DICT && f && (n = o.inflateSetDictionary(this.strm, f)), n === a.Z_BUF_ERROR && !0 === _ && (n = a.Z_OK, _ = !1), n !== a.Z_STREAM_END && n !== a.Z_OK)
                                            return this.onEnd(n), this.ended = !0, !1;
                                        p.next_out && (0 !== p.avail_out && n !== a.Z_STREAM_END && (0 !== p.avail_in || s !== a.Z_FINISH && s !== a.Z_SYNC_FLUSH) || ("string" === this.options.to ? (c = r.utf8border(p.output, p.next_out), l = p.next_out - c, d = r.buf2string(p.output, c), p.next_out = l, p.avail_out = h - l, l && i.arraySet(p.output, p.output, c, l, 0), this.onData(d)) : this.onData(i.shrinkBuf(p.output, p.next_out)))),
                                        0 === p.avail_in && 0 === p.avail_out && (_ = !0)
                                    } while ((p.avail_in > 0 || 0 === p.avail_out) && n !== a.Z_STREAM_END);
                                    return n === a.Z_STREAM_END && (s = a.Z_FINISH),
                                    s === a.Z_FINISH ? (n = o.inflateEnd(this.strm), this.onEnd(n), this.ended = !0, n === a.Z_OK) : s !== a.Z_SYNC_FLUSH || (this.onEnd(a.Z_OK), p.avail_out = 0, !0)
                                },
                                d.prototype.onData = function (t) {
                                    this.chunks.push(t)
                                },
                                d.prototype.onEnd = function (t) {
                                    t === a.Z_OK && ("string" === this.options.to ? this.result = this.chunks.join("") : this.result = i.flattenChunks(this.chunks)),
                                    this.chunks = [],
                                    this.err = t,
                                    this.msg = this.strm.msg
                                },
                                n.Inflate = d,
                                n.inflate = p,
                                n.inflateRaw = function (t, e) {
                                    return (e = e || {}).raw = !0,
                                    p(t, e)
                                },
                                n.ungzip = p
                            }, {
                                "./utils/common": 3,
                                "./utils/strings": 4,
                                "./zlib/constants": 6,
                                "./zlib/gzheader": 9,
                                "./zlib/inflate": 11,
                                "./zlib/messages": 13,
                                "./zlib/zstream": 15
                            }
                        ],
                        3: [function (t, e, n) {
                                var o = "undefined" != typeof Uint8Array && "undefined" != typeof Uint16Array && "undefined" != typeof Int32Array;
                                function r(t, e) {
                                    return Object.prototype.hasOwnProperty.call(t, e)
                                }
                                n.assign = function (t) {
                                    for (var e = Array.prototype.slice.call(arguments, 1); e.length; ) {
                                        var n = e.shift();
                                        if (n) {
                                            if ("object" !== (void 0 === n ? "undefined" : i(n)))
                                                throw new TypeError(n + "must be non-object");
                                            for (var o in n)
                                                r(n, o) && (t[o] = n[o])
                                        }
                                    }
                                    return t
                                },
                                n.shrinkBuf = function (t, e) {
                                    return t.length === e ? t : t.subarray ? t.subarray(0, e) : (t.length = e, t)
                                };
                                var a = {
                                    arraySet: function (t, e, n, o, i) {
                                        if (e.subarray && t.subarray)
                                            t.set(e.subarray(n, n + o), i);
                                        else
                                            for (var r = 0; r < o; r++)
                                                t[i + r] = e[n + r]
                                    },
                                    flattenChunks: function (t) {
                                        var e,
                                        n,
                                        o,
                                        i,
                                        r,
                                        a;
                                        for (o = 0, e = 0, n = t.length; e < n; e++)
                                            o += t[e].length;
                                        for (a = new Uint8Array(o), i = 0, e = 0, n = t.length; e < n; e++)
                                            r = t[e], a.set(r, i), i += r.length;
                                        return a
                                    }
                                },
                                s = {
                                    arraySet: function (t, e, n, o, i) {
                                        for (var r = 0; r < o; r++)
                                            t[i + r] = e[n + r]
                                    },
                                    flattenChunks: function (t) {
                                        return [].concat.apply([], t)
                                    }
                                };
                                n.setTyped = function (t) {
                                    t ? (n.Buf8 = Uint8Array, n.Buf16 = Uint16Array, n.Buf32 = Int32Array, n.assign(n, a)) : (n.Buf8 = Array, n.Buf16 = Array, n.Buf32 = Array, n.assign(n, s))
                                },
                                n.setTyped(o)
                            }, {}
                        ],
                        4: [function (t, e, n) {
                                var o = t("./common"),
                                i = !0,
                                r = !0;
                                try {
                                    String.fromCharCode.apply(null, [0])
                                } catch (t) {
                                    i = !1
                                }
                                try {
                                    String.fromCharCode.apply(null, new Uint8Array(1))
                                } catch (t) {
                                    r = !1
                                }
                                for (var a = new o.Buf8(256), s = 0; s < 256; s++)
                                    a[s] = s >= 252 ? 6 : s >= 248 ? 5 : s >= 240 ? 4 : s >= 224 ? 3 : s >= 192 ? 2 : 1;
                                function c(t, e) {
                                    if (e < 65534 && (t.subarray && r || !t.subarray && i))
                                        return String.fromCharCode.apply(null, o.shrinkBuf(t, e));
                                    for (var n = "", a = 0; a < e; a++)
                                        n += String.fromCharCode(t[a]);
                                    return n
                                }
                                a[254] = a[254] = 1,
                                n.string2buf = function (t) {
                                    var e,
                                    n,
                                    i,
                                    r,
                                    a,
                                    s = t.length,
                                    c = 0;
                                    for (r = 0; r < s; r++)
                                        55296 == (64512 & (n = t.charCodeAt(r))) && r + 1 < s && 56320 == (64512 & (i = t.charCodeAt(r + 1))) && (n = 65536 + (n - 55296 << 10) + (i - 56320), r++), c += n < 128 ? 1 : n < 2048 ? 2 : n < 65536 ? 3 : 4;
                                    for (e = new o.Buf8(c), a = 0, r = 0; a < c; r++)
                                        55296 == (64512 & (n = t.charCodeAt(r))) && r + 1 < s && 56320 == (64512 & (i = t.charCodeAt(r + 1))) && (n = 65536 + (n - 55296 << 10) + (i - 56320), r++), n < 128 ? e[a++] = n : n < 2048 ? (e[a++] = 192 | n >>> 6, e[a++] = 128 | 63 & n) : n < 65536 ? (e[a++] = 224 | n >>> 12, e[a++] = 128 | n >>> 6 & 63, e[a++] = 128 | 63 & n) : (e[a++] = 240 | n >>> 18, e[a++] = 128 | n >>> 12 & 63, e[a++] = 128 | n >>> 6 & 63, e[a++] = 128 | 63 & n);
                                    return e
                                },
                                n.buf2binstring = function (t) {
                                    return c(t, t.length)
                                },
                                n.binstring2buf = function (t) {
                                    for (var e = new o.Buf8(t.length), n = 0, i = e.length; n < i; n++)
                                        e[n] = t.charCodeAt(n);
                                    return e
                                },
                                n.buf2string = function (t, e) {
                                    var n,
                                    o,
                                    i,
                                    r,
                                    s = e || t.length,
                                    l = new Array(2 * s);
                                    for (o = 0, n = 0; n < s; )
                                        if ((i = t[n++]) < 128)
                                            l[o++] = i;
                                        else if ((r = a[i]) > 4)
                                            l[o++] = 65533, n += r - 1;
                                        else {
                                            for (i &= 2 === r ? 31 : 3 === r ? 15 : 7; r > 1 && n < s; )
                                                i = i << 6 | 63 & t[n++], r--;
                                            r > 1 ? l[o++] = 65533 : i < 65536 ? l[o++] = i : (i -= 65536, l[o++] = 55296 | i >> 10 & 1023, l[o++] = 56320 | 1023 & i)
                                        }
                                    return c(l, o)
                                },
                                n.utf8border = function (t, e) {
                                    var n;
                                    for ((e = e || t.length) > t.length && (e = t.length), n = e - 1; n >= 0 && 128 == (192 & t[n]); )
                                        n--;
                                    return n < 0 ? e : 0 === n ? e : n + a[t[n]] > e ? n : e
                                }
                            }, {
                                "./common": 3
                            }
                        ],
                        5: [function (t, e, n) {
                                e.exports = function (t, e, n, o) {
                                    for (var i = 65535 & t | 0, r = t >>> 16 & 65535 | 0, a = 0; 0 !== n; ) {
                                        n -= a = n > 2e3 ? 2e3 : n;
                                        do {
                                            r = r + (i = i + e[o++] | 0) | 0
                                        } while (--a);
                                        i %= 65521,
                                        r %= 65521
                                    }
                                    return i | r << 16 | 0
                                }
                            }, {}
                        ],
                        6: [function (t, e, n) {
                                e.exports = {
                                    Z_NO_FLUSH: 0,
                                    Z_PARTIAL_FLUSH: 1,
                                    Z_SYNC_FLUSH: 2,
                                    Z_FULL_FLUSH: 3,
                                    Z_FINISH: 4,
                                    Z_BLOCK: 5,
                                    Z_TREES: 6,
                                    Z_OK: 0,
                                    Z_STREAM_END: 1,
                                    Z_NEED_DICT: 2,
                                    Z_ERRNO: -1,
                                    Z_STREAM_ERROR: -2,
                                    Z_DATA_ERROR: -3,
                                    Z_BUF_ERROR: -5,
                                    Z_NO_COMPRESSION: 0,
                                    Z_BEST_SPEED: 1,
                                    Z_BEST_COMPRESSION: 9,
                                    Z_DEFAULT_COMPRESSION: -1,
                                    Z_FILTERED: 1,
                                    Z_HUFFMAN_ONLY: 2,
                                    Z_RLE: 3,
                                    Z_FIXED: 4,
                                    Z_DEFAULT_STRATEGY: 0,
                                    Z_BINARY: 0,
                                    Z_TEXT: 1,
                                    Z_UNKNOWN: 2,
                                    Z_DEFLATED: 8
                                }
                            }, {}
                        ],
                        7: [function (t, e, n) {
                                var o = function () {
                                    for (var t, e = [], n = 0; n < 256; n++) {
                                        t = n;
                                        for (var o = 0; o < 8; o++)
                                            t = 1 & t ? 3988292384 ^ t >>> 1 : t >>> 1;
                                        e[n] = t
                                    }
                                    return e
                                }
                                ();
                                e.exports = function (t, e, n, i) {
                                    var r = o,
                                    a = i + n;
                                    t ^= -1;
                                    for (var s = i; s < a; s++)
                                        t = t >>> 8 ^ r[255 & (t ^ e[s])];
                                    return -1 ^ t
                                }
                            }, {}
                        ],
                        8: [function (t, e, n) {
                                var o,
                                i = t("../utils/common"),
                                r = t("./trees"),
                                a = t("./adler32"),
                                s = t("./crc32"),
                                c = t("./messages"),
                                l = 0,
                                u = 1,
                                d = 3,
                                p = 4,
                                h = 5,
                                f = 0,
                                _ = 1,
                                m = -2,
                                g = -3,
                                y = -5,
                                v = -1,
                                b = 1,
                                S = 2,
                                A = 3,
                                C = 4,
                                I = 0,
                                T = 2,
                                E = 8,
                                w = 9,
                                P = 15,
                                M = 8,
                                D = 286,
                                O = 30,
                                x = 19,
                                R = 2 * D + 1,
                                L = 15,
                                N = 3,
                                k = 258,
                                B = k + N + 1,
                                U = 32,
                                G = 42,
                                F = 69,
                                j = 73,
                                H = 91,
                                V = 103,
                                W = 113,
                                Y = 666,
                                K = 1,
                                z = 2,
                                q = 3,
                                Q = 4,
                                Z = 3;
                                function J(t, e) {
                                    return t.msg = c[e],
                                    e
                                }
                                function X(t) {
                                    return (t << 1) - (t > 4 ? 9 : 0)
                                }
                                function $(t) {
                                    for (var e = t.length; --e >= 0; )
                                        t[e] = 0
                                }
                                function tt(t) {
                                    var e = t.state,
                                    n = e.pending;
                                    n > t.avail_out && (n = t.avail_out),
                                    0 !== n && (i.arraySet(t.output, e.pending_buf, e.pending_out, n, t.next_out), t.next_out += n, e.pending_out += n, t.total_out += n, t.avail_out -= n, e.pending -= n, 0 === e.pending && (e.pending_out = 0))
                                }
                                function et(t, e) {
                                    r._tr_flush_block(t, t.block_start >= 0 ? t.block_start : -1, t.strstart - t.block_start, e),
                                    t.block_start = t.strstart,
                                    tt(t.strm)
                                }
                                function nt(t, e) {
                                    t.pending_buf[t.pending++] = e
                                }
                                function ot(t, e) {
                                    t.pending_buf[t.pending++] = e >>> 8 & 255,
                                    t.pending_buf[t.pending++] = 255 & e
                                }
                                function it(t, e, n, o) {
                                    var r = t.avail_in;
                                    return r > o && (r = o),
                                    0 === r ? 0 : (t.avail_in -= r, i.arraySet(e, t.input, t.next_in, r, n), 1 === t.state.wrap ? t.adler = a(t.adler, e, r, n) : 2 === t.state.wrap && (t.adler = s(t.adler, e, r, n)), t.next_in += r, t.total_in += r, r)
                                }
                                function rt(t, e) {
                                    var n,
                                    o,
                                    i = t.max_chain_length,
                                    r = t.strstart,
                                    a = t.prev_length,
                                    s = t.nice_match,
                                    c = t.strstart > t.w_size - B ? t.strstart - (t.w_size - B) : 0,
                                    l = t.window,
                                    u = t.w_mask,
                                    d = t.prev,
                                    p = t.strstart + k,
                                    h = l[r + a - 1],
                                    f = l[r + a];
                                    t.prev_length >= t.good_match && (i >>= 2),
                                    s > t.lookahead && (s = t.lookahead);
                                    do {
                                        if (l[(n = e) + a] === f && l[n + a - 1] === h && l[n] === l[r] && l[++n] === l[r + 1]) {
                                            r += 2,
                                            n++;
                                            do {}
                                            while (l[++r] === l[++n] && l[++r] === l[++n] && l[++r] === l[++n] && l[++r] === l[++n] && l[++r] === l[++n] && l[++r] === l[++n] && l[++r] === l[++n] && l[++r] === l[++n] && r < p);
                                            if (o = k - (p - r), r = p - k, o > a) {
                                                if (t.match_start = e, a = o, o >= s)
                                                    break;
                                                h = l[r + a - 1],
                                                f = l[r + a]
                                            }
                                        }
                                    } while ((e = d[e & u]) > c && 0 != --i);
                                    return a <= t.lookahead ? a : t.lookahead
                                }
                                function at(t) {
                                    var e,
                                    n,
                                    o,
                                    r,
                                    a,
                                    s = t.w_size;
                                    do {
                                        if (r = t.window_size - t.lookahead - t.strstart, t.strstart >= s + (s - B)) {
                                            i.arraySet(t.window, t.window, s, s, 0),
                                            t.match_start -= s,
                                            t.strstart -= s,
                                            t.block_start -= s,
                                            e = n = t.hash_size;
                                            do {
                                                o = t.head[--e],
                                                t.head[e] = o >= s ? o - s : 0
                                            } while (--n);
                                            e = n = s;
                                            do {
                                                o = t.prev[--e],
                                                t.prev[e] = o >= s ? o - s : 0
                                            } while (--n);
                                            r += s
                                        }
                                        if (0 === t.strm.avail_in)
                                            break;
                                        if (n = it(t.strm, t.window, t.strstart + t.lookahead, r), t.lookahead += n, t.lookahead + t.insert >= N)
                                            for (a = t.strstart - t.insert, t.ins_h = t.window[a], t.ins_h = (t.ins_h << t.hash_shift ^ t.window[a + 1]) & t.hash_mask; t.insert && (t.ins_h = (t.ins_h << t.hash_shift ^ t.window[a + N - 1]) & t.hash_mask, t.prev[a & t.w_mask] = t.head[t.ins_h], t.head[t.ins_h] = a, a++, t.insert--, !(t.lookahead + t.insert < N)); );
                                    } while (t.lookahead < B && 0 !== t.strm.avail_in)
                                }
                                function st(t, e) {
                                    for (var n, o; ; ) {
                                        if (t.lookahead < B) {
                                            if (at(t), t.lookahead < B && e === l)
                                                return K;
                                            if (0 === t.lookahead)
                                                break
                                        }
                                        if (n = 0, t.lookahead >= N && (t.ins_h = (t.ins_h << t.hash_shift ^ t.window[t.strstart + N - 1]) & t.hash_mask, n = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h], t.head[t.ins_h] = t.strstart), 0 !== n && t.strstart - n <= t.w_size - B && (t.match_length = rt(t, n)), t.match_length >= N)
                                            if (o = r._tr_tally(t, t.strstart - t.match_start, t.match_length - N), t.lookahead -= t.match_length, t.match_length <= t.max_lazy_match && t.lookahead >= N) {
                                                t.match_length--;
                                                do {
                                                    t.strstart++,
                                                    t.ins_h = (t.ins_h << t.hash_shift ^ t.window[t.strstart + N - 1]) & t.hash_mask,
                                                    n = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h],
                                                    t.head[t.ins_h] = t.strstart
                                                } while (0 != --t.match_length);
                                                t.strstart++
                                            } else
                                                t.strstart += t.match_length, t.match_length = 0, t.ins_h = t.window[t.strstart], t.ins_h = (t.ins_h << t.hash_shift ^ t.window[t.strstart + 1]) & t.hash_mask;
                                        else
                                            o = r._tr_tally(t, 0, t.window[t.strstart]), t.lookahead--, t.strstart++;
                                        if (o && (et(t, !1), 0 === t.strm.avail_out))
                                            return K
                                    }
                                    return t.insert = t.strstart < N - 1 ? t.strstart : N - 1,
                                    e === p ? (et(t, !0), 0 === t.strm.avail_out ? q : Q) : t.last_lit && (et(t, !1), 0 === t.strm.avail_out) ? K : z
                                }
                                function ct(t, e) {
                                    for (var n, o, i; ; ) {
                                        if (t.lookahead < B) {
                                            if (at(t), t.lookahead < B && e === l)
                                                return K;
                                            if (0 === t.lookahead)
                                                break
                                        }
                                        if (n = 0, t.lookahead >= N && (t.ins_h = (t.ins_h << t.hash_shift ^ t.window[t.strstart + N - 1]) & t.hash_mask, n = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h], t.head[t.ins_h] = t.strstart), t.prev_length = t.match_length, t.prev_match = t.match_start, t.match_length = N - 1, 0 !== n && t.prev_length < t.max_lazy_match && t.strstart - n <= t.w_size - B && (t.match_length = rt(t, n), t.match_length <= 5 && (t.strategy === b || t.match_length === N && t.strstart - t.match_start > 4096) && (t.match_length = N - 1)), t.prev_length >= N && t.match_length <= t.prev_length) {
                                            i = t.strstart + t.lookahead - N,
                                            o = r._tr_tally(t, t.strstart - 1 - t.prev_match, t.prev_length - N),
                                            t.lookahead -= t.prev_length - 1,
                                            t.prev_length -= 2;
                                            do {
                                                ++t.strstart <= i && (t.ins_h = (t.ins_h << t.hash_shift ^ t.window[t.strstart + N - 1]) & t.hash_mask, n = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h], t.head[t.ins_h] = t.strstart)
                                            } while (0 != --t.prev_length);
                                            if (t.match_available = 0, t.match_length = N - 1, t.strstart++, o && (et(t, !1), 0 === t.strm.avail_out))
                                                return K
                                        } else if (t.match_available) {
                                            if ((o = r._tr_tally(t, 0, t.window[t.strstart - 1])) && et(t, !1), t.strstart++, t.lookahead--, 0 === t.strm.avail_out)
                                                return K
                                        } else
                                            t.match_available = 1, t.strstart++, t.lookahead--
                                    }
                                    return t.match_available && (o = r._tr_tally(t, 0, t.window[t.strstart - 1]), t.match_available = 0),
                                    t.insert = t.strstart < N - 1 ? t.strstart : N - 1,
                                    e === p ? (et(t, !0), 0 === t.strm.avail_out ? q : Q) : t.last_lit && (et(t, !1), 0 === t.strm.avail_out) ? K : z
                                }
                                function lt(t, e) {
                                    for (var n, o, i, a, s = t.window; ; ) {
                                        if (t.lookahead <= k) {
                                            if (at(t), t.lookahead <= k && e === l)
                                                return K;
                                            if (0 === t.lookahead)
                                                break
                                        }
                                        if (t.match_length = 0, t.lookahead >= N && t.strstart > 0 && (o = s[i = t.strstart - 1]) === s[++i] && o === s[++i] && o === s[++i]) {
                                            a = t.strstart + k;
                                            do {}
                                            while (o === s[++i] && o === s[++i] && o === s[++i] && o === s[++i] && o === s[++i] && o === s[++i] && o === s[++i] && o === s[++i] && i < a);
                                            t.match_length = k - (a - i),
                                            t.match_length > t.lookahead && (t.match_length = t.lookahead)
                                        }
                                        if (t.match_length >= N ? (n = r._tr_tally(t, 1, t.match_length - N), t.lookahead -= t.match_length, t.strstart += t.match_length, t.match_length = 0) : (n = r._tr_tally(t, 0, t.window[t.strstart]), t.lookahead--, t.strstart++), n && (et(t, !1), 0 === t.strm.avail_out))
                                            return K
                                    }
                                    return t.insert = 0,
                                    e === p ? (et(t, !0), 0 === t.strm.avail_out ? q : Q) : t.last_lit && (et(t, !1), 0 === t.strm.avail_out) ? K : z
                                }
                                function ut(t, e) {
                                    for (var n; ; ) {
                                        if (0 === t.lookahead && (at(t), 0 === t.lookahead)) {
                                            if (e === l)
                                                return K;
                                            break
                                        }
                                        if (t.match_length = 0, n = r._tr_tally(t, 0, t.window[t.strstart]), t.lookahead--, t.strstart++, n && (et(t, !1), 0 === t.strm.avail_out))
                                            return K
                                    }
                                    return t.insert = 0,
                                    e === p ? (et(t, !0), 0 === t.strm.avail_out ? q : Q) : t.last_lit && (et(t, !1), 0 === t.strm.avail_out) ? K : z
                                }
                                function dt(t, e, n, o, i) {
                                    this.good_length = t,
                                    this.max_lazy = e,
                                    this.nice_length = n,
                                    this.max_chain = o,
                                    this.func = i
                                }
                                function pt(t) {
                                    t.window_size = 2 * t.w_size,
                                    $(t.head),
                                    t.max_lazy_match = o[t.level].max_lazy,
                                    t.good_match = o[t.level].good_length,
                                    t.nice_match = o[t.level].nice_length,
                                    t.max_chain_length = o[t.level].max_chain,
                                    t.strstart = 0,
                                    t.block_start = 0,
                                    t.lookahead = 0,
                                    t.insert = 0,
                                    t.match_length = t.prev_length = N - 1,
                                    t.match_available = 0,
                                    t.ins_h = 0
                                }
                                function ht() {
                                    this.strm = null,
                                    this.status = 0,
                                    this.pending_buf = null,
                                    this.pending_buf_size = 0,
                                    this.pending_out = 0,
                                    this.pending = 0,
                                    this.wrap = 0,
                                    this.gzhead = null,
                                    this.gzindex = 0,
                                    this.method = E,
                                    this.last_flush = -1,
                                    this.w_size = 0,
                                    this.w_bits = 0,
                                    this.w_mask = 0,
                                    this.window = null,
                                    this.window_size = 0,
                                    this.prev = null,
                                    this.head = null,
                                    this.ins_h = 0,
                                    this.hash_size = 0,
                                    this.hash_bits = 0,
                                    this.hash_mask = 0,
                                    this.hash_shift = 0,
                                    this.block_start = 0,
                                    this.match_length = 0,
                                    this.prev_match = 0,
                                    this.match_available = 0,
                                    this.strstart = 0,
                                    this.match_start = 0,
                                    this.lookahead = 0,
                                    this.prev_length = 0,
                                    this.max_chain_length = 0,
                                    this.max_lazy_match = 0,
                                    this.level = 0,
                                    this.strategy = 0,
                                    this.good_match = 0,
                                    this.nice_match = 0,
                                    this.dyn_ltree = new i.Buf16(2 * R),
                                    this.dyn_dtree = new i.Buf16(2 * (2 * O + 1)),
                                    this.bl_tree = new i.Buf16(2 * (2 * x + 1)),
                                    $(this.dyn_ltree),
                                    $(this.dyn_dtree),
                                    $(this.bl_tree),
                                    this.l_desc = null,
                                    this.d_desc = null,
                                    this.bl_desc = null,
                                    this.bl_count = new i.Buf16(L + 1),
                                    this.heap = new i.Buf16(2 * D + 1),
                                    $(this.heap),
                                    this.heap_len = 0,
                                    this.heap_max = 0,
                                    this.depth = new i.Buf16(2 * D + 1),
                                    $(this.depth),
                                    this.l_buf = 0,
                                    this.lit_bufsize = 0,
                                    this.last_lit = 0,
                                    this.d_buf = 0,
                                    this.opt_len = 0,
                                    this.static_len = 0,
                                    this.matches = 0,
                                    this.insert = 0,
                                    this.bi_buf = 0,
                                    this.bi_valid = 0
                                }
                                function ft(t) {
                                    var e;
                                    return t && t.state ? (t.total_in = t.total_out = 0, t.data_type = T, (e = t.state).pending = 0, e.pending_out = 0, e.wrap < 0 && (e.wrap = -e.wrap), e.status = e.wrap ? G : W, t.adler = 2 === e.wrap ? 0 : 1, e.last_flush = l, r._tr_init(e), f) : J(t, m)
                                }
                                function _t(t) {
                                    var e = ft(t);
                                    return e === f && pt(t.state),
                                    e
                                }
                                function mt(t, e, n, o, r, a) {
                                    if (!t)
                                        return m;
                                    var s = 1;
                                    if (e === v && (e = 6), o < 0 ? (s = 0, o = -o) : o > 15 && (s = 2, o -= 16), r < 1 || r > w || n !== E || o < 8 || o > 15 || e < 0 || e > 9 || a < 0 || a > C)
                                        return J(t, m);
                                    8 === o && (o = 9);
                                    var c = new ht;
                                    return t.state = c,
                                    c.strm = t,
                                    c.wrap = s,
                                    c.gzhead = null,
                                    c.w_bits = o,
                                    c.w_size = 1 << c.w_bits,
                                    c.w_mask = c.w_size - 1,
                                    c.hash_bits = r + 7,
                                    c.hash_size = 1 << c.hash_bits,
                                    c.hash_mask = c.hash_size - 1,
                                    c.hash_shift = ~~((c.hash_bits + N - 1) / N),
                                    c.window = new i.Buf8(2 * c.w_size),
                                    c.head = new i.Buf16(c.hash_size),
                                    c.prev = new i.Buf16(c.w_size),
                                    c.lit_bufsize = 1 << r + 6,
                                    c.pending_buf_size = 4 * c.lit_bufsize,
                                    c.pending_buf = new i.Buf8(c.pending_buf_size),
                                    c.d_buf = 1 * c.lit_bufsize,
                                    c.l_buf = 3 * c.lit_bufsize,
                                    c.level = e,
                                    c.strategy = a,
                                    c.method = n,
                                    _t(t)
                                }
                                o = [new dt(0, 0, 0, 0, function (t, e) {
                                        var n = 65535;
                                        for (n > t.pending_buf_size - 5 && (n = t.pending_buf_size - 5); ; ) {
                                            if (t.lookahead <= 1) {
                                                if (at(t), 0 === t.lookahead && e === l)
                                                    return K;
                                                if (0 === t.lookahead)
                                                    break
                                            }
                                            t.strstart += t.lookahead,
                                            t.lookahead = 0;
                                            var o = t.block_start + n;
                                            if ((0 === t.strstart || t.strstart >= o) && (t.lookahead = t.strstart - o, t.strstart = o, et(t, !1), 0 === t.strm.avail_out))
                                                return K;
                                            if (t.strstart - t.block_start >= t.w_size - B && (et(t, !1), 0 === t.strm.avail_out))
                                                return K
                                        }
                                        return t.insert = 0,
                                        e === p ? (et(t, !0), 0 === t.strm.avail_out ? q : Q) : (t.strstart > t.block_start && (et(t, !1), t.strm.avail_out), K)
                                    }), new dt(4, 4, 8, 4, st), new dt(4, 5, 16, 8, st), new dt(4, 6, 32, 32, st), new dt(4, 4, 16, 16, ct), new dt(8, 16, 32, 32, ct), new dt(8, 16, 128, 128, ct), new dt(8, 32, 128, 256, ct), new dt(32, 128, 258, 1024, ct), new dt(32, 258, 258, 4096, ct)],
                                n.deflateInit = function (t, e) {
                                    return mt(t, e, E, P, M, I)
                                },
                                n.deflateInit2 = mt,
                                n.deflateReset = _t,
                                n.deflateResetKeep = ft,
                                n.deflateSetHeader = function (t, e) {
                                    return t && t.state ? 2 !== t.state.wrap ? m : (t.state.gzhead = e, f) : m
                                },
                                n.deflate = function (t, e) {
                                    var n,
                                    i,
                                    a,
                                    c;
                                    if (!t || !t.state || e > h || e < 0)
                                        return t ? J(t, m) : m;
                                    if (i = t.state, !t.output || !t.input && 0 !== t.avail_in || i.status === Y && e !== p)
                                        return J(t, 0 === t.avail_out ? y : m);
                                    if (i.strm = t, n = i.last_flush, i.last_flush = e, i.status === G)
                                        if (2 === i.wrap)
                                            t.adler = 0, nt(i, 31), nt(i, 139), nt(i, 8), i.gzhead ? (nt(i, (i.gzhead.text ? 1 : 0) + (i.gzhead.hcrc ? 2 : 0) + (i.gzhead.extra ? 4 : 0) + (i.gzhead.name ? 8 : 0) + (i.gzhead.comment ? 16 : 0)), nt(i, 255 & i.gzhead.time), nt(i, i.gzhead.time >> 8 & 255), nt(i, i.gzhead.time >> 16 & 255), nt(i, i.gzhead.time >> 24 & 255), nt(i, 9 === i.level ? 2 : i.strategy >= S || i.level < 2 ? 4 : 0), nt(i, 255 & i.gzhead.os), i.gzhead.extra && i.gzhead.extra.length && (nt(i, 255 & i.gzhead.extra.length), nt(i, i.gzhead.extra.length >> 8 & 255)), i.gzhead.hcrc && (t.adler = s(t.adler, i.pending_buf, i.pending, 0)), i.gzindex = 0, i.status = F) : (nt(i, 0), nt(i, 0), nt(i, 0), nt(i, 0), nt(i, 0), nt(i, 9 === i.level ? 2 : i.strategy >= S || i.level < 2 ? 4 : 0), nt(i, Z), i.status = W);
                                        else {
                                            var g = E + (i.w_bits - 8 << 4) << 8;
                                            g |= (i.strategy >= S || i.level < 2 ? 0 : i.level < 6 ? 1 : 6 === i.level ? 2 : 3) << 6,
                                            0 !== i.strstart && (g |= U),
                                            g += 31 - g % 31,
                                            i.status = W,
                                            ot(i, g),
                                            0 !== i.strstart && (ot(i, t.adler >>> 16), ot(i, 65535 & t.adler)),
                                            t.adler = 1
                                        }
                                    if (i.status === F)
                                        if (i.gzhead.extra) {
                                            for (a = i.pending; i.gzindex < (65535 & i.gzhead.extra.length) && (i.pending !== i.pending_buf_size || (i.gzhead.hcrc && i.pending > a && (t.adler = s(t.adler, i.pending_buf, i.pending - a, a)), tt(t), a = i.pending, i.pending !== i.pending_buf_size)); )
                                                nt(i, 255 & i.gzhead.extra[i.gzindex]), i.gzindex++;
                                            i.gzhead.hcrc && i.pending > a && (t.adler = s(t.adler, i.pending_buf, i.pending - a, a)),
                                            i.gzindex === i.gzhead.extra.length && (i.gzindex = 0, i.status = j)
                                        } else
                                            i.status = j;
                                    if (i.status === j)
                                        if (i.gzhead.name) {
                                            a = i.pending;
                                            do {
                                                if (i.pending === i.pending_buf_size && (i.gzhead.hcrc && i.pending > a && (t.adler = s(t.adler, i.pending_buf, i.pending - a, a)), tt(t), a = i.pending, i.pending === i.pending_buf_size)) {
                                                    c = 1;
                                                    break
                                                }
                                                c = i.gzindex < i.gzhead.name.length ? 255 & i.gzhead.name.charCodeAt(i.gzindex++) : 0,
                                                nt(i, c)
                                            } while (0 !== c);
                                            i.gzhead.hcrc && i.pending > a && (t.adler = s(t.adler, i.pending_buf, i.pending - a, a)),
                                            0 === c && (i.gzindex = 0, i.status = H)
                                        } else
                                            i.status = H;
                                    if (i.status === H)
                                        if (i.gzhead.comment) {
                                            a = i.pending;
                                            do {
                                                if (i.pending === i.pending_buf_size && (i.gzhead.hcrc && i.pending > a && (t.adler = s(t.adler, i.pending_buf, i.pending - a, a)), tt(t), a = i.pending, i.pending === i.pending_buf_size)) {
                                                    c = 1;
                                                    break
                                                }
                                                c = i.gzindex < i.gzhead.comment.length ? 255 & i.gzhead.comment.charCodeAt(i.gzindex++) : 0,
                                                nt(i, c)
                                            } while (0 !== c);
                                            i.gzhead.hcrc && i.pending > a && (t.adler = s(t.adler, i.pending_buf, i.pending - a, a)),
                                            0 === c && (i.status = V)
                                        } else
                                            i.status = V;
                                    if (i.status === V && (i.gzhead.hcrc ? (i.pending + 2 > i.pending_buf_size && tt(t), i.pending + 2 <= i.pending_buf_size && (nt(i, 255 & t.adler), nt(i, t.adler >> 8 & 255), t.adler = 0, i.status = W)) : i.status = W), 0 !== i.pending) {
                                        if (tt(t), 0 === t.avail_out)
                                            return i.last_flush = -1, f
                                    } else if (0 === t.avail_in && X(e) <= X(n) && e !== p)
                                        return J(t, y);
                                    if (i.status === Y && 0 !== t.avail_in)
                                        return J(t, y);
                                    if (0 !== t.avail_in || 0 !== i.lookahead || e !== l && i.status !== Y) {
                                        var v = i.strategy === S ? ut(i, e) : i.strategy === A ? lt(i, e) : o[i.level].func(i, e);
                                        if (v !== q && v !== Q || (i.status = Y), v === K || v === q)
                                            return 0 === t.avail_out && (i.last_flush = -1), f;
                                        if (v === z && (e === u ? r._tr_align(i) : e !== h && (r._tr_stored_block(i, 0, 0, !1), e === d && ($(i.head), 0 === i.lookahead && (i.strstart = 0, i.block_start = 0, i.insert = 0))), tt(t), 0 === t.avail_out))
                                            return i.last_flush = -1, f
                                    }
                                    return e !== p ? f : i.wrap <= 0 ? _ : (2 === i.wrap ? (nt(i, 255 & t.adler), nt(i, t.adler >> 8 & 255), nt(i, t.adler >> 16 & 255), nt(i, t.adler >> 24 & 255), nt(i, 255 & t.total_in), nt(i, t.total_in >> 8 & 255), nt(i, t.total_in >> 16 & 255), nt(i, t.total_in >> 24 & 255)) : (ot(i, t.adler >>> 16), ot(i, 65535 & t.adler)), tt(t), i.wrap > 0 && (i.wrap = -i.wrap), 0 !== i.pending ? f : _)
                                },
                                n.deflateEnd = function (t) {
                                    var e;
                                    return t && t.state ? (e = t.state.status) !== G && e !== F && e !== j && e !== H && e !== V && e !== W && e !== Y ? J(t, m) : (t.state = null, e === W ? J(t, g) : f) : m
                                },
                                n.deflateSetDictionary = function (t, e) {
                                    var n,
                                    o,
                                    r,
                                    s,
                                    c,
                                    l,
                                    u,
                                    d,
                                    p = e.length;
                                    if (!t || !t.state)
                                        return m;
                                    if (2 === (s = (n = t.state).wrap) || 1 === s && n.status !== G || n.lookahead)
                                        return m;
                                    for (1 === s && (t.adler = a(t.adler, e, p, 0)), n.wrap = 0, p >= n.w_size && (0 === s && ($(n.head), n.strstart = 0, n.block_start = 0, n.insert = 0), d = new i.Buf8(n.w_size), i.arraySet(d, e, p - n.w_size, n.w_size, 0), e = d, p = n.w_size), c = t.avail_in, l = t.next_in, u = t.input, t.avail_in = p, t.next_in = 0, t.input = e, at(n); n.lookahead >= N; ) {
                                        o = n.strstart,
                                        r = n.lookahead - (N - 1);
                                        do {
                                            n.ins_h = (n.ins_h << n.hash_shift ^ n.window[o + N - 1]) & n.hash_mask,
                                            n.prev[o & n.w_mask] = n.head[n.ins_h],
                                            n.head[n.ins_h] = o,
                                            o++
                                        } while (--r);
                                        n.strstart = o,
                                        n.lookahead = N - 1,
                                        at(n)
                                    }
                                    return n.strstart += n.lookahead,
                                    n.block_start = n.strstart,
                                    n.insert = n.lookahead,
                                    n.lookahead = 0,
                                    n.match_length = n.prev_length = N - 1,
                                    n.match_available = 0,
                                    t.next_in = l,
                                    t.input = u,
                                    t.avail_in = c,
                                    n.wrap = s,
                                    f
                                },
                                n.deflateInfo = "pako deflate (from Nodeca project)"
                            }, {
                                "../utils/common": 3,
                                "./adler32": 5,
                                "./crc32": 7,
                                "./messages": 13,
                                "./trees": 14
                            }
                        ],
                        9: [function (t, e, n) {
                                e.exports = function () {
                                    this.text = 0,
                                    this.time = 0,
                                    this.xflags = 0,
                                    this.os = 0,
                                    this.extra = null,
                                    this.extra_len = 0,
                                    this.name = "",
                                    this.comment = "",
                                    this.hcrc = 0,
                                    this.done = !1
                                }
                            }, {}
                        ],
                        10: [function (t, e, n) {
                                e.exports = function (t, e) {
                                    var n,
                                    o,
                                    i,
                                    r,
                                    a,
                                    s,
                                    c,
                                    l,
                                    u,
                                    d,
                                    p,
                                    h,
                                    f,
                                    _,
                                    m,
                                    g,
                                    y,
                                    v,
                                    b,
                                    S,
                                    A,
                                    C,
                                    I,
                                    T,
                                    E;
                                    n = t.state,
                                    o = t.next_in,
                                    T = t.input,
                                    i = o + (t.avail_in - 5),
                                    r = t.next_out,
                                    E = t.output,
                                    a = r - (e - t.avail_out),
                                    s = r + (t.avail_out - 257),
                                    c = n.dmax,
                                    l = n.wsize,
                                    u = n.whave,
                                    d = n.wnext,
                                    p = n.window,
                                    h = n.hold,
                                    f = n.bits,
                                    _ = n.lencode,
                                    m = n.distcode,
                                    g = (1 << n.lenbits) - 1,
                                    y = (1 << n.distbits) - 1;
                                    t: do {
                                        f < 15 && (h += T[o++] << f, f += 8, h += T[o++] << f, f += 8),
                                        v = _[h & g];
                                        e: for (; ; ) {
                                            if (h >>>= b = v >>> 24, f -= b, 0 === (b = v >>> 16 & 255))
                                                E[r++] = 65535 & v;
                                            else {
                                                if (!(16 & b)) {
                                                    if (0 == (64 & b)) {
                                                        v = _[(65535 & v) + (h & (1 << b) - 1)];
                                                        continue e
                                                    }
                                                    if (32 & b) {
                                                        n.mode = 12;
                                                        break t
                                                    }
                                                    t.msg = "invalid literal/length code",
                                                    n.mode = 30;
                                                    break t
                                                }
                                                S = 65535 & v,
                                                (b &= 15) && (f < b && (h += T[o++] << f, f += 8), S += h & (1 << b) - 1, h >>>= b, f -= b),
                                                f < 15 && (h += T[o++] << f, f += 8, h += T[o++] << f, f += 8),
                                                v = m[h & y];
                                                n: for (; ; ) {
                                                    if (h >>>= b = v >>> 24, f -= b, !(16 & (b = v >>> 16 & 255))) {
                                                        if (0 == (64 & b)) {
                                                            v = m[(65535 & v) + (h & (1 << b) - 1)];
                                                            continue n
                                                        }
                                                        t.msg = "invalid distance code",
                                                        n.mode = 30;
                                                        break t
                                                    }
                                                    if (A = 65535 & v, f < (b &= 15) && (h += T[o++] << f, (f += 8) < b && (h += T[o++] << f, f += 8)), (A += h & (1 << b) - 1) > c) {
                                                        t.msg = "invalid distance too far back",
                                                        n.mode = 30;
                                                        break t
                                                    }
                                                    if (h >>>= b, f -= b, A > (b = r - a)) {
                                                        if ((b = A - b) > u && n.sane) {
                                                            t.msg = "invalid distance too far back",
                                                            n.mode = 30;
                                                            break t
                                                        }
                                                        if (C = 0, I = p, 0 === d) {
                                                            if (C += l - b, b < S) {
                                                                S -= b;
                                                                do {
                                                                    E[r++] = p[C++]
                                                                } while (--b);
                                                                C = r - A,
                                                                I = E
                                                            }
                                                        } else if (d < b) {
                                                            if (C += l + d - b, (b -= d) < S) {
                                                                S -= b;
                                                                do {
                                                                    E[r++] = p[C++]
                                                                } while (--b);
                                                                if (C = 0, d < S) {
                                                                    S -= b = d;
                                                                    do {
                                                                        E[r++] = p[C++]
                                                                    } while (--b);
                                                                    C = r - A,
                                                                    I = E
                                                                }
                                                            }
                                                        } else if (C += d - b, b < S) {
                                                            S -= b;
                                                            do {
                                                                E[r++] = p[C++]
                                                            } while (--b);
                                                            C = r - A,
                                                            I = E
                                                        }
                                                        for (; S > 2; )
                                                            E[r++] = I[C++], E[r++] = I[C++], E[r++] = I[C++], S -= 3;
                                                        S && (E[r++] = I[C++], S > 1 && (E[r++] = I[C++]))
                                                    } else {
                                                        C = r - A;
                                                        do {
                                                            E[r++] = E[C++],
                                                            E[r++] = E[C++],
                                                            E[r++] = E[C++],
                                                            S -= 3
                                                        } while (S > 2);
                                                        S && (E[r++] = E[C++], S > 1 && (E[r++] = E[C++]))
                                                    }
                                                    break
                                                }
                                            }
                                            break
                                        }
                                    } while (o < i && r < s);
                                    o -= S = f >> 3,
                                    h &= (1 << (f -= S << 3)) - 1,
                                    t.next_in = o,
                                    t.next_out = r,
                                    t.avail_in = o < i ? i - o + 5 : 5 - (o - i),
                                    t.avail_out = r < s ? s - r + 257 : 257 - (r - s),
                                    n.hold = h,
                                    n.bits = f
                                }
                            }, {}
                        ],
                        11: [function (t, e, n) {
                                var o = t("../utils/common"),
                                i = t("./adler32"),
                                r = t("./crc32"),
                                a = t("./inffast"),
                                s = t("./inftrees"),
                                c = 0,
                                l = 1,
                                u = 2,
                                d = 4,
                                p = 5,
                                h = 6,
                                f = 0,
                                _ = 1,
                                m = 2,
                                g = -2,
                                y = -3,
                                v = -4,
                                b = -5,
                                S = 8,
                                A = 1,
                                C = 2,
                                I = 3,
                                T = 4,
                                E = 5,
                                w = 6,
                                P = 7,
                                M = 8,
                                D = 9,
                                O = 10,
                                x = 11,
                                R = 12,
                                L = 13,
                                N = 14,
                                k = 15,
                                B = 16,
                                U = 17,
                                G = 18,
                                F = 19,
                                j = 20,
                                H = 21,
                                V = 22,
                                W = 23,
                                Y = 24,
                                K = 25,
                                z = 26,
                                q = 27,
                                Q = 28,
                                Z = 29,
                                J = 30,
                                X = 31,
                                $ = 32,
                                tt = 852,
                                et = 592,
                                nt = 15;
                                function ot(t) {
                                    return (t >>> 24 & 255) + (t >>> 8 & 65280) + ((65280 & t) << 8) + ((255 & t) << 24)
                                }
                                function it() {
                                    this.mode = 0,
                                    this.last = !1,
                                    this.wrap = 0,
                                    this.havedict = !1,
                                    this.flags = 0,
                                    this.dmax = 0,
                                    this.check = 0,
                                    this.total = 0,
                                    this.head = null,
                                    this.wbits = 0,
                                    this.wsize = 0,
                                    this.whave = 0,
                                    this.wnext = 0,
                                    this.window = null,
                                    this.hold = 0,
                                    this.bits = 0,
                                    this.length = 0,
                                    this.offset = 0,
                                    this.extra = 0,
                                    this.lencode = null,
                                    this.distcode = null,
                                    this.lenbits = 0,
                                    this.distbits = 0,
                                    this.ncode = 0,
                                    this.nlen = 0,
                                    this.ndist = 0,
                                    this.have = 0,
                                    this.next = null,
                                    this.lens = new o.Buf16(320),
                                    this.work = new o.Buf16(288),
                                    this.lendyn = null,
                                    this.distdyn = null,
                                    this.sane = 0,
                                    this.back = 0,
                                    this.was = 0
                                }
                                function rt(t) {
                                    var e;
                                    return t && t.state ? (e = t.state, t.total_in = t.total_out = e.total = 0, t.msg = "", e.wrap && (t.adler = 1 & e.wrap), e.mode = A, e.last = 0, e.havedict = 0, e.dmax = 32768, e.head = null, e.hold = 0, e.bits = 0, e.lencode = e.lendyn = new o.Buf32(tt), e.distcode = e.distdyn = new o.Buf32(et), e.sane = 1, e.back = -1, f) : g
                                }
                                function at(t) {
                                    var e;
                                    return t && t.state ? ((e = t.state).wsize = 0, e.whave = 0, e.wnext = 0, rt(t)) : g
                                }
                                function st(t, e) {
                                    var n,
                                    o;
                                    return t && t.state ? (o = t.state, e < 0 ? (n = 0, e = -e) : (n = 1 + (e >> 4), e < 48 && (e &= 15)), e && (e < 8 || e > 15) ? g : (null !== o.window && o.wbits !== e && (o.window = null), o.wrap = n, o.wbits = e, at(t))) : g
                                }
                                function ct(t, e) {
                                    var n,
                                    o;
                                    return t ? (o = new it, t.state = o, o.window = null, (n = st(t, e)) !== f && (t.state = null), n) : g
                                }
                                var lt,
                                ut,
                                dt = !0;
                                function pt(t) {
                                    if (dt) {
                                        var e;
                                        for (lt = new o.Buf32(512), ut = new o.Buf32(32), e = 0; e < 144; )
                                            t.lens[e++] = 8;
                                        for (; e < 256; )
                                            t.lens[e++] = 9;
                                        for (; e < 280; )
                                            t.lens[e++] = 7;
                                        for (; e < 288; )
                                            t.lens[e++] = 8;
                                        for (s(l, t.lens, 0, 288, lt, 0, t.work, {
                                                bits: 9
                                            }), e = 0; e < 32; )
                                            t.lens[e++] = 5;
                                        s(u, t.lens, 0, 32, ut, 0, t.work, {
                                            bits: 5
                                        }),
                                        dt = !1
                                    }
                                    t.lencode = lt,
                                    t.lenbits = 9,
                                    t.distcode = ut,
                                    t.distbits = 5
                                }
                                function ht(t, e, n, i) {
                                    var r,
                                    a = t.state;
                                    return null === a.window && (a.wsize = 1 << a.wbits, a.wnext = 0, a.whave = 0, a.window = new o.Buf8(a.wsize)),
                                    i >= a.wsize ? (o.arraySet(a.window, e, n - a.wsize, a.wsize, 0), a.wnext = 0, a.whave = a.wsize) : ((r = a.wsize - a.wnext) > i && (r = i), o.arraySet(a.window, e, n - i, r, a.wnext), (i -= r) ? (o.arraySet(a.window, e, n - i, i, 0), a.wnext = i, a.whave = a.wsize) : (a.wnext += r, a.wnext === a.wsize && (a.wnext = 0), a.whave < a.wsize && (a.whave += r))),
                                    0
                                }
                                n.inflateReset = at,
                                n.inflateReset2 = st,
                                n.inflateResetKeep = rt,
                                n.inflateInit = function (t) {
                                    return ct(t, nt)
                                },
                                n.inflateInit2 = ct,
                                n.inflate = function (t, e) {
                                    var n,
                                    tt,
                                    et,
                                    nt,
                                    it,
                                    rt,
                                    at,
                                    st,
                                    ct,
                                    lt,
                                    ut,
                                    dt,
                                    ft,
                                    _t,
                                    mt,
                                    gt,
                                    yt,
                                    vt,
                                    bt,
                                    St,
                                    At,
                                    Ct,
                                    It,
                                    Tt,
                                    Et = 0,
                                    wt = new o.Buf8(4),
                                    Pt = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];
                                    if (!t || !t.state || !t.output || !t.input && 0 !== t.avail_in)
                                        return g;
                                    (n = t.state).mode === R && (n.mode = L),
                                    it = t.next_out,
                                    et = t.output,
                                    at = t.avail_out,
                                    nt = t.next_in,
                                    tt = t.input,
                                    rt = t.avail_in,
                                    st = n.hold,
                                    ct = n.bits,
                                    lt = rt,
                                    ut = at,
                                    Ct = f;
                                    t: for (; ; )
                                        switch (n.mode) {
                                        case A:
                                            if (0 === n.wrap) {
                                                n.mode = L;
                                                break
                                            }
                                            for (; ct < 16; ) {
                                                if (0 === rt)
                                                    break t;
                                                rt--,
                                                st += tt[nt++] << ct,
                                                ct += 8
                                            }
                                            if (2 & n.wrap && 35615 === st) {
                                                n.check = 0,
                                                wt[0] = 255 & st,
                                                wt[1] = st >>> 8 & 255,
                                                n.check = r(n.check, wt, 2, 0),
                                                st = 0,
                                                ct = 0,
                                                n.mode = C;
                                                break
                                            }
                                            if (n.flags = 0, n.head && (n.head.done = !1), !(1 & n.wrap) || (((255 & st) << 8) + (st >> 8)) % 31) {
                                                t.msg = "incorrect header check",
                                                n.mode = J;
                                                break
                                            }
                                            if ((15 & st) !== S) {
                                                t.msg = "unknown compression method",
                                                n.mode = J;
                                                break
                                            }
                                            if (ct -= 4, At = 8 + (15 & (st >>>= 4)), 0 === n.wbits)
                                                n.wbits = At;
                                            else if (At > n.wbits) {
                                                t.msg = "invalid window size",
                                                n.mode = J;
                                                break
                                            }
                                            n.dmax = 1 << At,
                                            t.adler = n.check = 1,
                                            n.mode = 512 & st ? O : R,
                                            st = 0,
                                            ct = 0;
                                            break;
                                        case C:
                                            for (; ct < 16; ) {
                                                if (0 === rt)
                                                    break t;
                                                rt--,
                                                st += tt[nt++] << ct,
                                                ct += 8
                                            }
                                            if (n.flags = st, (255 & n.flags) !== S) {
                                                t.msg = "unknown compression method",
                                                n.mode = J;
                                                break
                                            }
                                            if (57344 & n.flags) {
                                                t.msg = "unknown header flags set",
                                                n.mode = J;
                                                break
                                            }
                                            n.head && (n.head.text = st >> 8 & 1),
                                            512 & n.flags && (wt[0] = 255 & st, wt[1] = st >>> 8 & 255, n.check = r(n.check, wt, 2, 0)),
                                            st = 0,
                                            ct = 0,
                                            n.mode = I;
                                        case I:
                                            for (; ct < 32; ) {
                                                if (0 === rt)
                                                    break t;
                                                rt--,
                                                st += tt[nt++] << ct,
                                                ct += 8
                                            }
                                            n.head && (n.head.time = st),
                                            512 & n.flags && (wt[0] = 255 & st, wt[1] = st >>> 8 & 255, wt[2] = st >>> 16 & 255, wt[3] = st >>> 24 & 255, n.check = r(n.check, wt, 4, 0)),
                                            st = 0,
                                            ct = 0,
                                            n.mode = T;
                                        case T:
                                            for (; ct < 16; ) {
                                                if (0 === rt)
                                                    break t;
                                                rt--,
                                                st += tt[nt++] << ct,
                                                ct += 8
                                            }
                                            n.head && (n.head.xflags = 255 & st, n.head.os = st >> 8),
                                            512 & n.flags && (wt[0] = 255 & st, wt[1] = st >>> 8 & 255, n.check = r(n.check, wt, 2, 0)),
                                            st = 0,
                                            ct = 0,
                                            n.mode = E;
                                        case E:
                                            if (1024 & n.flags) {
                                                for (; ct < 16; ) {
                                                    if (0 === rt)
                                                        break t;
                                                    rt--,
                                                    st += tt[nt++] << ct,
                                                    ct += 8
                                                }
                                                n.length = st,
                                                n.head && (n.head.extra_len = st),
                                                512 & n.flags && (wt[0] = 255 & st, wt[1] = st >>> 8 & 255, n.check = r(n.check, wt, 2, 0)),
                                                st = 0,
                                                ct = 0
                                            } else
                                                n.head && (n.head.extra = null);
                                            n.mode = w;
                                        case w:
                                            if (1024 & n.flags && ((dt = n.length) > rt && (dt = rt), dt && (n.head && (At = n.head.extra_len - n.length, n.head.extra || (n.head.extra = new Array(n.head.extra_len)), o.arraySet(n.head.extra, tt, nt, dt, At)), 512 & n.flags && (n.check = r(n.check, tt, dt, nt)), rt -= dt, nt += dt, n.length -= dt), n.length))
                                                break t;
                                            n.length = 0,
                                            n.mode = P;
                                        case P:
                                            if (2048 & n.flags) {
                                                if (0 === rt)
                                                    break t;
                                                dt = 0;
                                                do {
                                                    At = tt[nt + dt++],
                                                    n.head && At && n.length < 65536 && (n.head.name += String.fromCharCode(At))
                                                } while (At && dt < rt);
                                                if (512 & n.flags && (n.check = r(n.check, tt, dt, nt)), rt -= dt, nt += dt, At)
                                                    break t
                                            } else
                                                n.head && (n.head.name = null);
                                            n.length = 0,
                                            n.mode = M;
                                        case M:
                                            if (4096 & n.flags) {
                                                if (0 === rt)
                                                    break t;
                                                dt = 0;
                                                do {
                                                    At = tt[nt + dt++],
                                                    n.head && At && n.length < 65536 && (n.head.comment += String.fromCharCode(At))
                                                } while (At && dt < rt);
                                                if (512 & n.flags && (n.check = r(n.check, tt, dt, nt)), rt -= dt, nt += dt, At)
                                                    break t
                                            } else
                                                n.head && (n.head.comment = null);
                                            n.mode = D;
                                        case D:
                                            if (512 & n.flags) {
                                                for (; ct < 16; ) {
                                                    if (0 === rt)
                                                        break t;
                                                    rt--,
                                                    st += tt[nt++] << ct,
                                                    ct += 8
                                                }
                                                if (st !== (65535 & n.check)) {
                                                    t.msg = "header crc mismatch",
                                                    n.mode = J;
                                                    break
                                                }
                                                st = 0,
                                                ct = 0
                                            }
                                            n.head && (n.head.hcrc = n.flags >> 9 & 1, n.head.done = !0),
                                            t.adler = n.check = 0,
                                            n.mode = R;
                                            break;
                                        case O:
                                            for (; ct < 32; ) {
                                                if (0 === rt)
                                                    break t;
                                                rt--,
                                                st += tt[nt++] << ct,
                                                ct += 8
                                            }
                                            t.adler = n.check = ot(st),
                                            st = 0,
                                            ct = 0,
                                            n.mode = x;
                                        case x:
                                            if (0 === n.havedict)
                                                return t.next_out = it, t.avail_out = at, t.next_in = nt, t.avail_in = rt, n.hold = st, n.bits = ct, m;
                                            t.adler = n.check = 1,
                                            n.mode = R;
                                        case R:
                                            if (e === p || e === h)
                                                break t;
                                        case L:
                                            if (n.last) {
                                                st >>>= 7 & ct,
                                                ct -= 7 & ct,
                                                n.mode = q;
                                                break
                                            }
                                            for (; ct < 3; ) {
                                                if (0 === rt)
                                                    break t;
                                                rt--,
                                                st += tt[nt++] << ct,
                                                ct += 8
                                            }
                                            switch (n.last = 1 & st, ct -= 1, 3 & (st >>>= 1)) {
                                            case 0:
                                                n.mode = N;
                                                break;
                                            case 1:
                                                if (pt(n), n.mode = j, e === h) {
                                                    st >>>= 2,
                                                    ct -= 2;
                                                    break t
                                                }
                                                break;
                                            case 2:
                                                n.mode = U;
                                                break;
                                            case 3:
                                                t.msg = "invalid block type",
                                                n.mode = J
                                            }
                                            st >>>= 2,
                                            ct -= 2;
                                            break;
                                        case N:
                                            for (st >>>= 7 & ct, ct -= 7 & ct; ct < 32; ) {
                                                if (0 === rt)
                                                    break t;
                                                rt--,
                                                st += tt[nt++] << ct,
                                                ct += 8
                                            }
                                            if ((65535 & st) != (st >>> 16 ^ 65535)) {
                                                t.msg = "invalid stored block lengths",
                                                n.mode = J;
                                                break
                                            }
                                            if (n.length = 65535 & st, st = 0, ct = 0, n.mode = k, e === h)
                                                break t;
                                        case k:
                                            n.mode = B;
                                        case B:
                                            if (dt = n.length) {
                                                if (dt > rt && (dt = rt), dt > at && (dt = at), 0 === dt)
                                                    break t;
                                                o.arraySet(et, tt, nt, dt, it),
                                                rt -= dt,
                                                nt += dt,
                                                at -= dt,
                                                it += dt,
                                                n.length -= dt;
                                                break
                                            }
                                            n.mode = R;
                                            break;
                                        case U:
                                            for (; ct < 14; ) {
                                                if (0 === rt)
                                                    break t;
                                                rt--,
                                                st += tt[nt++] << ct,
                                                ct += 8
                                            }
                                            if (n.nlen = 257 + (31 & st), st >>>= 5, ct -= 5, n.ndist = 1 + (31 & st), st >>>= 5, ct -= 5, n.ncode = 4 + (15 & st), st >>>= 4, ct -= 4, n.nlen > 286 || n.ndist > 30) {
                                                t.msg = "too many length or distance symbols",
                                                n.mode = J;
                                                break
                                            }
                                            n.have = 0,
                                            n.mode = G;
                                        case G:
                                            for (; n.have < n.ncode; ) {
                                                for (; ct < 3; ) {
                                                    if (0 === rt)
                                                        break t;
                                                    rt--,
                                                    st += tt[nt++] << ct,
                                                    ct += 8
                                                }
                                                n.lens[Pt[n.have++]] = 7 & st,
                                                st >>>= 3,
                                                ct -= 3
                                            }
                                            for (; n.have < 19; )
                                                n.lens[Pt[n.have++]] = 0;
                                            if (n.lencode = n.lendyn, n.lenbits = 7, It = {
                                                    bits: n.lenbits
                                                }, Ct = s(c, n.lens, 0, 19, n.lencode, 0, n.work, It), n.lenbits = It.bits, Ct) {
                                                t.msg = "invalid code lengths set",
                                                n.mode = J;
                                                break
                                            }
                                            n.have = 0,
                                            n.mode = F;
                                        case F:
                                            for (; n.have < n.nlen + n.ndist; ) {
                                                for (; gt = (Et = n.lencode[st & (1 << n.lenbits) - 1]) >>> 16 & 255, yt = 65535 & Et, !((mt = Et >>> 24) <= ct); ) {
                                                    if (0 === rt)
                                                        break t;
                                                    rt--,
                                                    st += tt[nt++] << ct,
                                                    ct += 8
                                                }
                                                if (yt < 16)
                                                    st >>>= mt, ct -= mt, n.lens[n.have++] = yt;
                                                else {
                                                    if (16 === yt) {
                                                        for (Tt = mt + 2; ct < Tt; ) {
                                                            if (0 === rt)
                                                                break t;
                                                            rt--,
                                                            st += tt[nt++] << ct,
                                                            ct += 8
                                                        }
                                                        if (st >>>= mt, ct -= mt, 0 === n.have) {
                                                            t.msg = "invalid bit length repeat",
                                                            n.mode = J;
                                                            break
                                                        }
                                                        At = n.lens[n.have - 1],
                                                        dt = 3 + (3 & st),
                                                        st >>>= 2,
                                                        ct -= 2
                                                    } else if (17 === yt) {
                                                        for (Tt = mt + 3; ct < Tt; ) {
                                                            if (0 === rt)
                                                                break t;
                                                            rt--,
                                                            st += tt[nt++] << ct,
                                                            ct += 8
                                                        }
                                                        ct -= mt,
                                                        At = 0,
                                                        dt = 3 + (7 & (st >>>= mt)),
                                                        st >>>= 3,
                                                        ct -= 3
                                                    } else {
                                                        for (Tt = mt + 7; ct < Tt; ) {
                                                            if (0 === rt)
                                                                break t;
                                                            rt--,
                                                            st += tt[nt++] << ct,
                                                            ct += 8
                                                        }
                                                        ct -= mt,
                                                        At = 0,
                                                        dt = 11 + (127 & (st >>>= mt)),
                                                        st >>>= 7,
                                                        ct -= 7
                                                    }
                                                    if (n.have + dt > n.nlen + n.ndist) {
                                                        t.msg = "invalid bit length repeat",
                                                        n.mode = J;
                                                        break
                                                    }
                                                    for (; dt--; )
                                                        n.lens[n.have++] = At
                                                }
                                            }
                                            if (n.mode === J)
                                                break;
                                            if (0 === n.lens[256]) {
                                                t.msg = "invalid code -- missing end-of-block",
                                                n.mode = J;
                                                break
                                            }
                                            if (n.lenbits = 9, It = {
                                                    bits: n.lenbits
                                                }, Ct = s(l, n.lens, 0, n.nlen, n.lencode, 0, n.work, It), n.lenbits = It.bits, Ct) {
                                                t.msg = "invalid literal/lengths set",
                                                n.mode = J;
                                                break
                                            }
                                            if (n.distbits = 6, n.distcode = n.distdyn, It = {
                                                    bits: n.distbits
                                                }, Ct = s(u, n.lens, n.nlen, n.ndist, n.distcode, 0, n.work, It), n.distbits = It.bits, Ct) {
                                                t.msg = "invalid distances set",
                                                n.mode = J;
                                                break
                                            }
                                            if (n.mode = j, e === h)
                                                break t;
                                        case j:
                                            n.mode = H;
                                        case H:
                                            if (rt >= 6 && at >= 258) {
                                                t.next_out = it,
                                                t.avail_out = at,
                                                t.next_in = nt,
                                                t.avail_in = rt,
                                                n.hold = st,
                                                n.bits = ct,
                                                a(t, ut),
                                                it = t.next_out,
                                                et = t.output,
                                                at = t.avail_out,
                                                nt = t.next_in,
                                                tt = t.input,
                                                rt = t.avail_in,
                                                st = n.hold,
                                                ct = n.bits,
                                                n.mode === R && (n.back = -1);
                                                break
                                            }
                                            for (n.back = 0; gt = (Et = n.lencode[st & (1 << n.lenbits) - 1]) >>> 16 & 255, yt = 65535 & Et, !((mt = Et >>> 24) <= ct); ) {
                                                if (0 === rt)
                                                    break t;
                                                rt--,
                                                st += tt[nt++] << ct,
                                                ct += 8
                                            }
                                            if (gt && 0 == (240 & gt)) {
                                                for (vt = mt, bt = gt, St = yt; gt = (Et = n.lencode[St + ((st & (1 << vt + bt) - 1) >> vt)]) >>> 16 & 255, yt = 65535 & Et, !(vt + (mt = Et >>> 24) <= ct); ) {
                                                    if (0 === rt)
                                                        break t;
                                                    rt--,
                                                    st += tt[nt++] << ct,
                                                    ct += 8
                                                }
                                                st >>>= vt,
                                                ct -= vt,
                                                n.back += vt
                                            }
                                            if (st >>>= mt, ct -= mt, n.back += mt, n.length = yt, 0 === gt) {
                                                n.mode = z;
                                                break
                                            }
                                            if (32 & gt) {
                                                n.back = -1,
                                                n.mode = R;
                                                break
                                            }
                                            if (64 & gt) {
                                                t.msg = "invalid literal/length code",
                                                n.mode = J;
                                                break
                                            }
                                            n.extra = 15 & gt,
                                            n.mode = V;
                                        case V:
                                            if (n.extra) {
                                                for (Tt = n.extra; ct < Tt; ) {
                                                    if (0 === rt)
                                                        break t;
                                                    rt--,
                                                    st += tt[nt++] << ct,
                                                    ct += 8
                                                }
                                                n.length += st & (1 << n.extra) - 1,
                                                st >>>= n.extra,
                                                ct -= n.extra,
                                                n.back += n.extra
                                            }
                                            n.was = n.length,
                                            n.mode = W;
                                        case W:
                                            for (; gt = (Et = n.distcode[st & (1 << n.distbits) - 1]) >>> 16 & 255, yt = 65535 & Et, !((mt = Et >>> 24) <= ct); ) {
                                                if (0 === rt)
                                                    break t;
                                                rt--,
                                                st += tt[nt++] << ct,
                                                ct += 8
                                            }
                                            if (0 == (240 & gt)) {
                                                for (vt = mt, bt = gt, St = yt; gt = (Et = n.distcode[St + ((st & (1 << vt + bt) - 1) >> vt)]) >>> 16 & 255, yt = 65535 & Et, !(vt + (mt = Et >>> 24) <= ct); ) {
                                                    if (0 === rt)
                                                        break t;
                                                    rt--,
                                                    st += tt[nt++] << ct,
                                                    ct += 8
                                                }
                                                st >>>= vt,
                                                ct -= vt,
                                                n.back += vt
                                            }
                                            if (st >>>= mt, ct -= mt, n.back += mt, 64 & gt) {
                                                t.msg = "invalid distance code",
                                                n.mode = J;
                                                break
                                            }
                                            n.offset = yt,
                                            n.extra = 15 & gt,
                                            n.mode = Y;
                                        case Y:
                                            if (n.extra) {
                                                for (Tt = n.extra; ct < Tt; ) {
                                                    if (0 === rt)
                                                        break t;
                                                    rt--,
                                                    st += tt[nt++] << ct,
                                                    ct += 8
                                                }
                                                n.offset += st & (1 << n.extra) - 1,
                                                st >>>= n.extra,
                                                ct -= n.extra,
                                                n.back += n.extra
                                            }
                                            if (n.offset > n.dmax) {
                                                t.msg = "invalid distance too far back",
                                                n.mode = J;
                                                break
                                            }
                                            n.mode = K;
                                        case K:
                                            if (0 === at)
                                                break t;
                                            if (dt = ut - at, n.offset > dt) {
                                                if ((dt = n.offset - dt) > n.whave && n.sane) {
                                                    t.msg = "invalid distance too far back",
                                                    n.mode = J;
                                                    break
                                                }
                                                dt > n.wnext ? (dt -= n.wnext, ft = n.wsize - dt) : ft = n.wnext - dt,
                                                dt > n.length && (dt = n.length),
                                                _t = n.window
                                            } else
                                                _t = et, ft = it - n.offset, dt = n.length;
                                            dt > at && (dt = at),
                                            at -= dt,
                                            n.length -= dt;
                                            do {
                                                et[it++] = _t[ft++]
                                            } while (--dt);
                                            0 === n.length && (n.mode = H);
                                            break;
                                        case z:
                                            if (0 === at)
                                                break t;
                                            et[it++] = n.length,
                                            at--,
                                            n.mode = H;
                                            break;
                                        case q:
                                            if (n.wrap) {
                                                for (; ct < 32; ) {
                                                    if (0 === rt)
                                                        break t;
                                                    rt--,
                                                    st |= tt[nt++] << ct,
                                                    ct += 8
                                                }
                                                if (ut -= at, t.total_out += ut, n.total += ut, ut && (t.adler = n.check = n.flags ? r(n.check, et, ut, it - ut) : i(n.check, et, ut, it - ut)), ut = at, (n.flags ? st : ot(st)) !== n.check) {
                                                    t.msg = "incorrect data check",
                                                    n.mode = J;
                                                    break
                                                }
                                                st = 0,
                                                ct = 0
                                            }
                                            n.mode = Q;
                                        case Q:
                                            if (n.wrap && n.flags) {
                                                for (; ct < 32; ) {
                                                    if (0 === rt)
                                                        break t;
                                                    rt--,
                                                    st += tt[nt++] << ct,
                                                    ct += 8
                                                }
                                                if (st !== (4294967295 & n.total)) {
                                                    t.msg = "incorrect length check",
                                                    n.mode = J;
                                                    break
                                                }
                                                st = 0,
                                                ct = 0
                                            }
                                            n.mode = Z;
                                        case Z:
                                            Ct = _;
                                            break t;
                                        case J:
                                            Ct = y;
                                            break t;
                                        case X:
                                            return v;
                                        case $:
                                        default:
                                            return g
                                        }
                                    return t.next_out = it,
                                    t.avail_out = at,
                                    t.next_in = nt,
                                    t.avail_in = rt,
                                    n.hold = st,
                                    n.bits = ct,
                                    (n.wsize || ut !== t.avail_out && n.mode < J && (n.mode < q || e !== d)) && ht(t, t.output, t.next_out, ut - t.avail_out) ? (n.mode = X, v) : (lt -= t.avail_in, ut -= t.avail_out, t.total_in += lt, t.total_out += ut, n.total += ut, n.wrap && ut && (t.adler = n.check = n.flags ? r(n.check, et, ut, t.next_out - ut) : i(n.check, et, ut, t.next_out - ut)), t.data_type = n.bits + (n.last ? 64 : 0) + (n.mode === R ? 128 : 0) + (n.mode === j || n.mode === k ? 256 : 0), (0 === lt && 0 === ut || e === d) && Ct === f && (Ct = b), Ct)
                                },
                                n.inflateEnd = function (t) {
                                    if (!t || !t.state)
                                        return g;
                                    var e = t.state;
                                    return e.window && (e.window = null),
                                    t.state = null,
                                    f
                                },
                                n.inflateGetHeader = function (t, e) {
                                    var n;
                                    return t && t.state ? 0 == (2 & (n = t.state).wrap) ? g : (n.head = e, e.done = !1, f) : g
                                },
                                n.inflateSetDictionary = function (t, e) {
                                    var n,
                                    o = e.length;
                                    return t && t.state ? 0 !== (n = t.state).wrap && n.mode !== x ? g : n.mode === x && i(1, e, o, 0) !== n.check ? y : ht(t, e, o, o) ? (n.mode = X, v) : (n.havedict = 1, f) : g
                                },
                                n.inflateInfo = "pako inflate (from Nodeca project)"
                            }, {
                                "../utils/common": 3,
                                "./adler32": 5,
                                "./crc32": 7,
                                "./inffast": 10,
                                "./inftrees": 12
                            }
                        ],
                        12: [function (t, e, n) {
                                var o = t("../utils/common"),
                                i = [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0],
                                r = [16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18, 19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78],
                                a = [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577, 0, 0],
                                s = [16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22, 23, 23, 24, 24, 25, 25, 26, 26, 27, 27, 28, 28, 29, 29, 64, 64];
                                e.exports = function (t, e, n, c, l, u, d, p) {
                                    var h,
                                    f,
                                    _,
                                    m,
                                    g,
                                    y,
                                    v,
                                    b,
                                    S,
                                    A = p.bits,
                                    C = 0,
                                    I = 0,
                                    T = 0,
                                    E = 0,
                                    w = 0,
                                    P = 0,
                                    M = 0,
                                    D = 0,
                                    O = 0,
                                    x = 0,
                                    R = null,
                                    L = 0,
                                    N = new o.Buf16(16),
                                    k = new o.Buf16(16),
                                    B = null,
                                    U = 0;
                                    for (C = 0; C <= 15; C++)
                                        N[C] = 0;
                                    for (I = 0; I < c; I++)
                                        N[e[n + I]]++;
                                    for (w = A, E = 15; E >= 1 && 0 === N[E]; E--);
                                    if (w > E && (w = E), 0 === E)
                                        return l[u++] = 20971520, l[u++] = 20971520, p.bits = 1, 0;
                                    for (T = 1; T < E && 0 === N[T]; T++);
                                    for (w < T && (w = T), D = 1, C = 1; C <= 15; C++)
                                        if (D <<= 1, (D -= N[C]) < 0)
                                            return -1;
                                    if (D > 0 && (0 === t || 1 !== E))
                                        return -1;
                                    for (k[1] = 0, C = 1; C < 15; C++)
                                        k[C + 1] = k[C] + N[C];
                                    for (I = 0; I < c; I++)
                                        0 !== e[n + I] && (d[k[e[n + I]]++] = I);
                                    if (0 === t ? (R = B = d, y = 19) : 1 === t ? (R = i, L -= 257, B = r, U -= 257, y = 256) : (R = a, B = s, y = -1), x = 0, I = 0, C = T, g = u, P = w, M = 0, _ = -1, m = (O = 1 << w) - 1, 1 === t && O > 852 || 2 === t && O > 592)
                                        return 1;
                                    for (; ; ) {
                                        v = C - M,
                                        d[I] < y ? (b = 0, S = d[I]) : d[I] > y ? (b = B[U + d[I]], S = R[L + d[I]]) : (b = 96, S = 0),
                                        h = 1 << C - M,
                                        T = f = 1 << P;
                                        do {
                                            l[g + (x >> M) + (f -= h)] = v << 24 | b << 16 | S | 0
                                        } while (0 !== f);
                                        for (h = 1 << C - 1; x & h; )
                                            h >>= 1;
                                        if (0 !== h ? (x &= h - 1, x += h) : x = 0, I++, 0 == --N[C]) {
                                            if (C === E)
                                                break;
                                            C = e[n + d[I]]
                                        }
                                        if (C > w && (x & m) !== _) {
                                            for (0 === M && (M = w), g += T, D = 1 << (P = C - M); P + M < E && !((D -= N[P + M]) <= 0); )
                                                P++, D <<= 1;
                                            if (O += 1 << P, 1 === t && O > 852 || 2 === t && O > 592)
                                                return 1;
                                            l[_ = x & m] = w << 24 | P << 16 | g - u | 0
                                        }
                                    }
                                    return 0 !== x && (l[g + x] = C - M << 24 | 64 << 16 | 0),
                                    p.bits = w,
                                    0
                                }
                            }, {
                                "../utils/common": 3
                            }
                        ],
                        13: [function (t, e, n) {
                                e.exports = {
                                    2: "need dictionary",
                                    1: "stream end",
                                    0: "",
                                    "-1": "file error",
                                    "-2": "stream error",
                                    "-3": "data error",
                                    "-4": "insufficient memory",
                                    "-5": "buffer error",
                                    "-6": "incompatible version"
                                }
                            }, {}
                        ],
                        14: [function (t, e, n) {
                                var o = t("../utils/common"),
                                i = 4,
                                r = 0,
                                a = 1,
                                s = 2;
                                function c(t) {
                                    for (var e = t.length; --e >= 0; )
                                        t[e] = 0
                                }
                                var l = 0,
                                u = 1,
                                d = 2,
                                p = 29,
                                h = 256,
                                f = h + 1 + p,
                                _ = 30,
                                m = 19,
                                g = 2 * f + 1,
                                y = 15,
                                v = 16,
                                b = 7,
                                S = 256,
                                A = 16,
                                C = 17,
                                I = 18,
                                T = [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0],
                                E = [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13],
                                w = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7],
                                P = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15],
                                M = new Array(2 * (f + 2));
                                c(M);
                                var D = new Array(2 * _);
                                c(D);
                                var O = new Array(512);
                                c(O);
                                var x = new Array(256);
                                c(x);
                                var R = new Array(p);
                                c(R);
                                var L,
                                N,
                                k,
                                B = new Array(_);
                                function U(t, e, n, o, i) {
                                    this.static_tree = t,
                                    this.extra_bits = e,
                                    this.extra_base = n,
                                    this.elems = o,
                                    this.max_length = i,
                                    this.has_stree = t && t.length
                                }
                                function G(t, e) {
                                    this.dyn_tree = t,
                                    this.max_code = 0,
                                    this.stat_desc = e
                                }
                                function F(t) {
                                    return t < 256 ? O[t] : O[256 + (t >>> 7)]
                                }
                                function j(t, e) {
                                    t.pending_buf[t.pending++] = 255 & e,
                                    t.pending_buf[t.pending++] = e >>> 8 & 255
                                }
                                function H(t, e, n) {
                                    t.bi_valid > v - n ? (t.bi_buf |= e << t.bi_valid & 65535, j(t, t.bi_buf), t.bi_buf = e >> v - t.bi_valid, t.bi_valid += n - v) : (t.bi_buf |= e << t.bi_valid & 65535, t.bi_valid += n)
                                }
                                function V(t, e, n) {
                                    H(t, n[2 * e], n[2 * e + 1])
                                }
                                function W(t, e) {
                                    var n = 0;
                                    do {
                                        n |= 1 & t,
                                        t >>>= 1,
                                        n <<= 1
                                    } while (--e > 0);
                                    return n >>> 1
                                }
                                function Y(t) {
                                    16 === t.bi_valid ? (j(t, t.bi_buf), t.bi_buf = 0, t.bi_valid = 0) : t.bi_valid >= 8 && (t.pending_buf[t.pending++] = 255 & t.bi_buf, t.bi_buf >>= 8, t.bi_valid -= 8)
                                }
                                function K(t, e) {
                                    var n,
                                    o,
                                    i,
                                    r,
                                    a,
                                    s,
                                    c = e.dyn_tree,
                                    l = e.max_code,
                                    u = e.stat_desc.static_tree,
                                    d = e.stat_desc.has_stree,
                                    p = e.stat_desc.extra_bits,
                                    h = e.stat_desc.extra_base,
                                    f = e.stat_desc.max_length,
                                    _ = 0;
                                    for (r = 0; r <= y; r++)
                                        t.bl_count[r] = 0;
                                    for (c[2 * t.heap[t.heap_max] + 1] = 0, n = t.heap_max + 1; n < g; n++)
                                        (r = c[2 * c[2 * (o = t.heap[n]) + 1] + 1] + 1) > f && (r = f, _++), c[2 * o + 1] = r, o > l || (t.bl_count[r]++, a = 0, o >= h && (a = p[o - h]), s = c[2 * o], t.opt_len += s * (r + a), d && (t.static_len += s * (u[2 * o + 1] + a)));
                                    if (0 !== _) {
                                        do {
                                            for (r = f - 1; 0 === t.bl_count[r]; )
                                                r--;
                                            t.bl_count[r]--,
                                            t.bl_count[r + 1] += 2,
                                            t.bl_count[f]--,
                                            _ -= 2
                                        } while (_ > 0);
                                        for (r = f; 0 !== r; r--)
                                            for (o = t.bl_count[r]; 0 !== o; )
                                                (i = t.heap[--n]) > l || (c[2 * i + 1] !== r && (t.opt_len += (r - c[2 * i + 1]) * c[2 * i], c[2 * i + 1] = r), o--)
                                    }
                                }
                                function z(t, e, n) {
                                    var o,
                                    i,
                                    r = new Array(y + 1),
                                    a = 0;
                                    for (o = 1; o <= y; o++)
                                        r[o] = a = a + n[o - 1] << 1;
                                    for (i = 0; i <= e; i++) {
                                        var s = t[2 * i + 1];
                                        0 !== s && (t[2 * i] = W(r[s]++, s))
                                    }
                                }
                                function q() {
                                    var t,
                                    e,
                                    n,
                                    o,
                                    i,
                                    r = new Array(y + 1);
                                    for (n = 0, o = 0; o < p - 1; o++)
                                        for (R[o] = n, t = 0; t < 1 << T[o]; t++)
                                            x[n++] = o;
                                    for (x[n - 1] = o, i = 0, o = 0; o < 16; o++)
                                        for (B[o] = i, t = 0; t < 1 << E[o]; t++)
                                            O[i++] = o;
                                    for (i >>= 7; o < _; o++)
                                        for (B[o] = i << 7, t = 0; t < 1 << E[o] - 7; t++)
                                            O[256 + i++] = o;
                                    for (e = 0; e <= y; e++)
                                        r[e] = 0;
                                    for (t = 0; t <= 143; )
                                        M[2 * t + 1] = 8, t++, r[8]++;
                                    for (; t <= 255; )
                                        M[2 * t + 1] = 9, t++, r[9]++;
                                    for (; t <= 279; )
                                        M[2 * t + 1] = 7, t++, r[7]++;
                                    for (; t <= 287; )
                                        M[2 * t + 1] = 8, t++, r[8]++;
                                    for (z(M, f + 1, r), t = 0; t < _; t++)
                                        D[2 * t + 1] = 5, D[2 * t] = W(t, 5);
                                    L = new U(M, T, h + 1, f, y),
                                    N = new U(D, E, 0, _, y),
                                    k = new U(new Array(0), w, 0, m, b)
                                }
                                function Q(t) {
                                    var e;
                                    for (e = 0; e < f; e++)
                                        t.dyn_ltree[2 * e] = 0;
                                    for (e = 0; e < _; e++)
                                        t.dyn_dtree[2 * e] = 0;
                                    for (e = 0; e < m; e++)
                                        t.bl_tree[2 * e] = 0;
                                    t.dyn_ltree[2 * S] = 1,
                                    t.opt_len = t.static_len = 0,
                                    t.last_lit = t.matches = 0
                                }
                                function Z(t) {
                                    t.bi_valid > 8 ? j(t, t.bi_buf) : t.bi_valid > 0 && (t.pending_buf[t.pending++] = t.bi_buf),
                                    t.bi_buf = 0,
                                    t.bi_valid = 0
                                }
                                function J(t, e, n, i) {
                                    Z(t),
                                    i && (j(t, n), j(t, ~n)),
                                    o.arraySet(t.pending_buf, t.window, e, n, t.pending),
                                    t.pending += n
                                }
                                function X(t, e, n, o) {
                                    var i = 2 * e,
                                    r = 2 * n;
                                    return t[i] < t[r] || t[i] === t[r] && o[e] <= o[n]
                                }
                                function $(t, e, n) {
                                    for (var o = t.heap[n], i = n << 1; i <= t.heap_len && (i < t.heap_len && X(e, t.heap[i + 1], t.heap[i], t.depth) && i++, !X(e, o, t.heap[i], t.depth)); )
                                        t.heap[n] = t.heap[i], n = i, i <<= 1;
                                    t.heap[n] = o
                                }
                                function tt(t, e, n) {
                                    var o,
                                    i,
                                    r,
                                    a,
                                    s = 0;
                                    if (0 !== t.last_lit)
                                        do {
                                            o = t.pending_buf[t.d_buf + 2 * s] << 8 | t.pending_buf[t.d_buf + 2 * s + 1],
                                            i = t.pending_buf[t.l_buf + s],
                                            s++,
                                            0 === o ? V(t, i, e) : (V(t, (r = x[i]) + h + 1, e), 0 !== (a = T[r]) && H(t, i -= R[r], a), V(t, r = F(--o), n), 0 !== (a = E[r]) && H(t, o -= B[r], a))
                                        } while (s < t.last_lit);
                                    V(t, S, e)
                                }
                                function et(t, e) {
                                    var n,
                                    o,
                                    i,
                                    r = e.dyn_tree,
                                    a = e.stat_desc.static_tree,
                                    s = e.stat_desc.has_stree,
                                    c = e.stat_desc.elems,
                                    l = -1;
                                    for (t.heap_len = 0, t.heap_max = g, n = 0; n < c; n++)
                                        0 !== r[2 * n] ? (t.heap[++t.heap_len] = l = n, t.depth[n] = 0) : r[2 * n + 1] = 0;
                                    for (; t.heap_len < 2; )
                                        r[2 * (i = t.heap[++t.heap_len] = l < 2 ? ++l : 0)] = 1, t.depth[i] = 0, t.opt_len--, s && (t.static_len -= a[2 * i + 1]);
                                    for (e.max_code = l, n = t.heap_len >> 1; n >= 1; n--)
                                        $(t, r, n);
                                    i = c;
                                    do {
                                        n = t.heap[1],
                                        t.heap[1] = t.heap[t.heap_len--],
                                        $(t, r, 1),
                                        o = t.heap[1],
                                        t.heap[--t.heap_max] = n,
                                        t.heap[--t.heap_max] = o,
                                        r[2 * i] = r[2 * n] + r[2 * o],
                                        t.depth[i] = (t.depth[n] >= t.depth[o] ? t.depth[n] : t.depth[o]) + 1,
                                        r[2 * n + 1] = r[2 * o + 1] = i,
                                        t.heap[1] = i++,
                                        $(t, r, 1)
                                    } while (t.heap_len >= 2);
                                    t.heap[--t.heap_max] = t.heap[1],
                                    K(t, e),
                                    z(r, l, t.bl_count)
                                }
                                function nt(t, e, n) {
                                    var o,
                                    i,
                                    r = -1,
                                    a = e[1],
                                    s = 0,
                                    c = 7,
                                    l = 4;
                                    for (0 === a && (c = 138, l = 3), e[2 * (n + 1) + 1] = 65535, o = 0; o <= n; o++)
                                        i = a, a = e[2 * (o + 1) + 1], ++s < c && i === a || (s < l ? t.bl_tree[2 * i] += s : 0 !== i ? (i !== r && t.bl_tree[2 * i]++, t.bl_tree[2 * A]++) : s <= 10 ? t.bl_tree[2 * C]++ : t.bl_tree[2 * I]++, s = 0, r = i, 0 === a ? (c = 138, l = 3) : i === a ? (c = 6, l = 3) : (c = 7, l = 4))
                                }
                                function ot(t, e, n) {
                                    var o,
                                    i,
                                    r = -1,
                                    a = e[1],
                                    s = 0,
                                    c = 7,
                                    l = 4;
                                    for (0 === a && (c = 138, l = 3), o = 0; o <= n; o++)
                                        if (i = a, a = e[2 * (o + 1) + 1], !(++s < c && i === a)) {
                                            if (s < l)
                                                do {
                                                    V(t, i, t.bl_tree)
                                                } while (0 != --s);
                                            else
                                                0 !== i ? (i !== r && (V(t, i, t.bl_tree), s--), V(t, A, t.bl_tree), H(t, s - 3, 2)) : s <= 10 ? (V(t, C, t.bl_tree), H(t, s - 3, 3)) : (V(t, I, t.bl_tree), H(t, s - 11, 7));
                                            s = 0,
                                            r = i,
                                            0 === a ? (c = 138, l = 3) : i === a ? (c = 6, l = 3) : (c = 7, l = 4)
                                        }
                                }
                                function it(t) {
                                    var e;
                                    for (nt(t, t.dyn_ltree, t.l_desc.max_code), nt(t, t.dyn_dtree, t.d_desc.max_code), et(t, t.bl_desc), e = m - 1; e >= 3 && 0 === t.bl_tree[2 * P[e] + 1]; e--);
                                    return t.opt_len += 3 * (e + 1) + 5 + 5 + 4,
                                    e
                                }
                                function rt(t, e, n, o) {
                                    var i;
                                    for (H(t, e - 257, 5), H(t, n - 1, 5), H(t, o - 4, 4), i = 0; i < o; i++)
                                        H(t, t.bl_tree[2 * P[i] + 1], 3);
                                    ot(t, t.dyn_ltree, e - 1),
                                    ot(t, t.dyn_dtree, n - 1)
                                }
                                function at(t) {
                                    var e,
                                    n = 4093624447;
                                    for (e = 0; e <= 31; e++, n >>>= 1)
                                        if (1 & n && 0 !== t.dyn_ltree[2 * e])
                                            return r;
                                    if (0 !== t.dyn_ltree[18] || 0 !== t.dyn_ltree[20] || 0 !== t.dyn_ltree[26])
                                        return a;
                                    for (e = 32; e < h; e++)
                                        if (0 !== t.dyn_ltree[2 * e])
                                            return a;
                                    return r
                                }
                                c(B);
                                var st = !1;
                                function ct(t, e, n, o) {
                                    H(t, (l << 1) + (o ? 1 : 0), 3),
                                    J(t, e, n, !0)
                                }
                                n._tr_init = function (t) {
                                    st || (q(), st = !0),
                                    t.l_desc = new G(t.dyn_ltree, L),
                                    t.d_desc = new G(t.dyn_dtree, N),
                                    t.bl_desc = new G(t.bl_tree, k),
                                    t.bi_buf = 0,
                                    t.bi_valid = 0,
                                    Q(t)
                                },
                                n._tr_stored_block = ct,
                                n._tr_flush_block = function (t, e, n, o) {
                                    var r,
                                    a,
                                    c = 0;
                                    t.level > 0 ? (t.strm.data_type === s && (t.strm.data_type = at(t)), et(t, t.l_desc), et(t, t.d_desc), c = it(t), r = t.opt_len + 3 + 7 >>> 3, (a = t.static_len + 3 + 7 >>> 3) <= r && (r = a)) : r = a = n + 5,
                                    n + 4 <= r && -1 !== e ? ct(t, e, n, o) : t.strategy === i || a === r ? (H(t, (u << 1) + (o ? 1 : 0), 3), tt(t, M, D)) : (H(t, (d << 1) + (o ? 1 : 0), 3), rt(t, t.l_desc.max_code + 1, t.d_desc.max_code + 1, c + 1), tt(t, t.dyn_ltree, t.dyn_dtree)),
                                    Q(t),
                                    o && Z(t)
                                },
                                n._tr_tally = function (t, e, n) {
                                    return t.pending_buf[t.d_buf + 2 * t.last_lit] = e >>> 8 & 255,
                                    t.pending_buf[t.d_buf + 2 * t.last_lit + 1] = 255 & e,
                                    t.pending_buf[t.l_buf + t.last_lit] = 255 & n,
                                    t.last_lit++,
                                    0 === e ? t.dyn_ltree[2 * n]++ : (t.matches++, e--, t.dyn_ltree[2 * (x[n] + h + 1)]++, t.dyn_dtree[2 * F(e)]++),
                                    t.last_lit === t.lit_bufsize - 1
                                },
                                n._tr_align = function (t) {
                                    H(t, u << 1, 3),
                                    V(t, S, M),
                                    Y(t)
                                }
                            }, {
                                "../utils/common": 3
                            }
                        ],
                        15: [function (t, e, n) {
                                e.exports = function () {
                                    this.input = null,
                                    this.next_in = 0,
                                    this.avail_in = 0,
                                    this.total_in = 0,
                                    this.output = null,
                                    this.next_out = 0,
                                    this.avail_out = 0,
                                    this.total_out = 0,
                                    this.msg = "",
                                    this.state = null,
                                    this.data_type = 2,
                                    this.adler = 0
                                }
                            }, {}
                        ],
                        "/": [function (t, e, n) {
                                var o = {};
                                (0, t("./lib/utils/common").assign)(o, t("./lib/deflate"), t("./lib/inflate"), t("./lib/zlib/constants")),
                                e.exports = o
                            }, {
                                "./lib/deflate": 1,
                                "./lib/inflate": 2,
                                "./lib/utils/common": 3,
                                "./lib/zlib/constants": 6
                            }
                        ]
                    }, {}, [])("/")
                }),
                cc._RF.pop()
            }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }, {
            "../utils/common": void 0,
            "./adler32": void 0,
            "./common": void 0,
            "./crc32": void 0,
            "./inffast": void 0,
            "./inftrees": void 0,
            "./lib/deflate": void 0,
            "./lib/inflate": void 0,
            "./lib/utils/common": void 0,
            "./lib/zlib/constants": void 0,
            "./messages": void 0,
            "./trees": void 0,
            "./utils/common": void 0,
            "./utils/strings": void 0,
            "./zlib/constants": void 0,
            "./zlib/deflate": void 0,
            "./zlib/gzheader": void 0,
            "./zlib/inflate": void 0,
            "./zlib/messages": void 0,
            "./zlib/zstream": void 0
        }
    ]
}, {}, ["GameConfig", "Main", "Const", "DbExt", "GuideScript", "ModuleLocker", "UITip", "DebugCocos", "DebugDistribution", "DebugEffect", "DebugGM", "DebugGame", "DebugGuide", "DebugKeyDown", "DebugLevel", "DebugMain", "DebugPanelBase", "DebugQuest", "DebugUp", "ActionExt", "AsyncObject", "BaseConst", "Decorator", "EventDispatcher", "MsgHandler", "MultSoundPlayer", "PoolManager", "Queue", "ResLoader", "_G", "AStar", "AStarGrid", "AStarNode", "CameraEffect", "CocosEx", "DialogOpenAndCloseAnim", "FixedGrid", "GridLayout", "ReuseScrollList", "SimpleToggle", "SpriteSheet", "SpriteSwitcher", "UIButton", "UIClickAnim", "UIDrag", "UIFullBg", "UINumberTo", "UIRoot", "UpdateCom", "FSM", "FSMCenter", "FSMState", "SimpleFSM", "SimpleFSMCenter", "_mgrBase", "mgrAdv", "mgrAudio", "mgrPanel", "mgrRes", "mgrScene", "mgrSdk", "mgrWordFilter", "BaseFacade", "_mBase", "mAutoIncreaseItem", "mDrop", "mGoal", "mItem", "mPay", "mQuest", "mSwitch", "mUp", "GameStatistics", "JsBridge", "SDKBridge", "ShaderComponent", "ShaderLab", "ShaderManager", "ShaderMaterial", "TweenActive", "TweenAlpha", "TweenCallbackDelay", "TweenColor", "TweenGroup", "TweenPosition", "TweenRotation", "TweenScale", "TweenSize", "UITweener", "Animation", "CloneList", "Effect", "IEffect", "INode", "PanelBase", "PanelFadeIn", "PanelQueue", "Particle", "ParticleInPlist", "Prefab", "ReuseLabel", "ReuseSprite", "SceneBase", "Spine", "ViewBase", "Base64", "CfgLoader", "CrashReporter", "FileRecord", "FixedRandom", "Mathf", "Timer", "Tools", "UUID", "UiHelper", "md5", "mgrNative", "pako", "DebugRect", "SButton", "SEditBox", "SLabel", "SSprite", "SToggle", "Attribute", "FactoryUnit", "GameMap", "GameUtility", "GuideFinger", "HpBar", "JumpCoin", "MakerTest", "MakerWave", "NumberEffect", "Shadow", "World", "BuffElc", "BuffFire", "BuffIce", "IBuff", "ISkill", "IUnitMaker", "Skill01", "Skill02", "Skill03", "Skill04", "SkillCdBase", "SkillCycleBase", "SkillTowerBase", "SBullet", "SMonsterState", "SRoleState", "STowerState", "SWorldState", "Boss", "Box", "Bullet", "BulletRay", "Monster", "MonsterPath", "Role", "Tower", "Unit", "db", "mGuide", "mgrAlert", "mgrGame", "mgrGuide", "mgrLoader", "mgrRank", "mgrShader", "MenuUserInfo", "PanelAdvLoading", "PanelAuto", "PanelBossUp", "PanelBox", "PanelCallback", "PanelCard", "PanelCardHelp", "PanelCardOver", "PanelDialog", "PanelExchange", "PanelFeedback", "PanelFindMe", "PanelFreeLvup", "PanelFreeRole", "PanelGame", "PanelGuide", "PanelGzg", "PanelLevel", "PanelLoading", "PanelLottery", "PanelMoreGame", "PanelNativeAdv", "PanelNativeBanner", "PanelNew", "PanelOffline", "PanelOver", "PanelPay", "PanelProp", "PanelQuest", "PanelRank", "PanelRankAnim", "PanelSetting", "PanelShare", "PanelShop", "PanelSign", "PanelSingleItemGet", "PanelTime", "PanelTip", "PanelTower", "PanelTowerUp", "SceneMain", "SceneUpdater", "WidgetNativeAdv", "ULNativeControllerHtml5", "ULConsts", "cConfig", "ULAdvBase", "ULAdvItem", "ULAdvManager", "ULChannelInfo", "ULChannelModuleBase", "ULChannelModuleWebmobileBase", "ULClipboardManager", "ULConfig", "ULCopManager", "ULModuleBase", "ULModuleCheckerManager", "ULSdkManager", "ULSdkModuleLoader", "ULStatisManager", "ULStorageManager", "ULEvent", "ULEventDispatcher", "ULEventListener", "ULSdkMiddleware", "IMCPanel", "MCConsts", "MCItem", "MCPanelCreator", "MCPanelLaya", "ULAdv4399MiniGame", "ULAdv4399MiniGameShare", "ULModule4399MiniGame", "ULModuleCdk", "ULModuleClipboard", "ULModuleMegadata", "ULModuleUserData", "ULMd5", "ULRsaSign", "ULTimer", "ULTools", "AdvInstOrBanner", "AdvMode", "AdvOrShare", "GameCross", "MoreGameBanner", "VerifyCfg", "FloatIcon", "FlyIcon", "FlyLabel"]);
